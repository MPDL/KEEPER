(this["webpackJsonpseahub-frontend"]=this["webpackJsonpseahub-frontend"]||[]).push([[17],{111:function(e,t,n){var a=n(358),r="object"==typeof self&&self&&self.Object===Object&&self,i=a||r||Function("return this")();e.exports=i},112:function(e,t){var n=Array.isArray;e.exports=n},136:function(e,t,n){var a=n(616),r=n(621);e.exports=function(e,t){var n=r(e,t);return a(n)?n:void 0}},172:function(e,t,n){var a=n(198),r=n(617),i=n(618),o=a?a.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?r(e):i(e)}},173:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},1784:function(e,t,n){n(71),e.exports=n(1803)},1785:function(e,t,n){},180:function(e,t,n){},1803:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(5),i=n(7),o=n(6),s=n(2),c=n.n(s),l=n(28),d=n.n(l),u=n(21),h=n(1),p=n(118),b=n(0),g=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).getActiveClass=function(t){return e.props.currentTab==t?"active":""},e.tabItemClick=function(t){e.props.tabItemClick(t)},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{className:"side-panel ".concat(this.props.isSidePanelClosed?"":"left-zero"),children:[Object(b.jsx)("div",{className:"side-panel-north",children:Object(b.jsx)(p.a,{onCloseSidePanel:this.props.onCloseSidePanel})}),Object(b.jsx)("div",{className:"side-panel-center",children:Object(b.jsx)("div",{className:"side-nav",children:Object(b.jsxs)("div",{className:"side-nav-con",children:[Object(b.jsx)("h3",{className:"sf-heading",style:{color:"#f7941d"},children:Object(h.pb)("Admin")}),Object(b.jsxs)("ul",{className:"nav nav-pills flex-column nav-container",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(u.a,{className:"nav-link ellipsis ".concat(this.getActiveClass("info")),to:h.qc+"org/info/",onClick:function(){return e.tabItemClick("info")},children:[Object(b.jsx)("span",{className:"sf2-icon-info"}),Object(b.jsx)("span",{className:"nav-text",children:Object(h.pb)("Info")})]})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(u.a,{className:"nav-link ellipsis ".concat(this.getActiveClass("statistics-admin")),to:h.qc+"org/statistics-admin/file/",onClick:function(){return e.tabItemClick("statistics-admin")},children:[Object(b.jsx)("span",{className:"sf2-icon-histogram"}),Object(b.jsx)("span",{className:"nav-text",children:Object(h.pb)("Statistic")})]})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(u.a,{className:"nav-link ellipsis ".concat(this.getActiveClass("deviceadmin")),to:h.qc+"org/deviceadmin/desktop-devices/",onClick:function(){return e.tabItemClick("deviceadmin")},children:[Object(b.jsx)("span",{className:"sf2-icon-monitor"}),Object(b.jsx)("span",{className:"nav-text",children:Object(h.pb)("Devices")})]})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(u.a,{className:"nav-link ellipsis ".concat(this.getActiveClass("web-settings")),to:h.qc+"org/web-settings/",onClick:function(){return e.tabItemClick("web-settings")},children:[Object(b.jsx)("span",{className:"sf2-icon-cog2"}),Object(b.jsx)("span",{className:"nav-text",children:Object(h.pb)("Settings")})]})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(u.a,{className:"nav-link ellipsis ".concat(this.getActiveClass("repoadmin")),to:h.qc+"org/repoadmin/",onClick:function(){return e.tabItemClick("repoadmin")},children:[Object(b.jsx)("span",{className:"sf2-icon-library"}),Object(b.jsx)("span",{className:"nav-text",children:Object(h.pb)("Libraries")})]})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(u.a,{className:"nav-link ellipsis ".concat(this.getActiveClass("users")||this.getActiveClass("admins")),to:h.qc+"org/useradmin/",onClick:function(){return e.tabItemClick("users")},children:[Object(b.jsx)("span",{className:"sf2-icon-user"}),Object(b.jsx)("span",{className:"nav-text",children:Object(h.pb)("Users")})]})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(u.a,{className:"nav-link ellipsis ".concat(this.getActiveClass("groupadmin")),to:h.qc+"org/groupadmin/",onClick:function(){return e.tabItemClick("groupadmin")},children:[Object(b.jsx)("span",{className:"sf2-icon-group"}),Object(b.jsx)("span",{className:"nav-text",children:Object(h.pb)("Groups")})]})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(u.a,{className:"nav-link ellipsis ".concat(this.getActiveClass("departmentadmin")),to:h.qc+"org/departmentadmin/",onClick:function(){return e.tabItemClick("departmentadmin")},children:[Object(b.jsx)("span",{className:"sf2-icon-organization"}),Object(b.jsx)("span",{className:"nav-text",children:Object(h.pb)("Departments")})]})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(u.a,{className:"nav-link ellipsis ".concat(this.getActiveClass("publinkadmin")),to:h.qc+"org/publinkadmin/",onClick:function(){return e.tabItemClick("publinkadmin")},children:[Object(b.jsx)("span",{className:"sf2-icon-link"}),Object(b.jsx)("span",{className:"nav-text",children:Object(h.pb)("Links")})]})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(u.a,{className:"nav-link ellipsis ".concat(this.getActiveClass("logadmin")||this.getActiveClass("file-update")||this.getActiveClass("perm-audit")),to:h.qc+"org/logadmin/",onClick:function(){return e.tabItemClick("logadmin")},children:[Object(b.jsx)("span",{className:"sf2-icon-clock"}),Object(b.jsx)("span",{className:"nav-text",children:Object(h.pb)("Logs")})]})}),h.S&&Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(u.a,{className:"nav-link ellipsis ".concat(this.getActiveClass("SAML config")),to:h.qc+"org/samlconfig/",onClick:function(){return e.tabItemClick("SAML config")},children:[Object(b.jsx)("span",{className:"sf2-icon-cog2"}),Object(b.jsx)("span",{className:"nav-text",children:Object(h.pb)("SAML config")})]})})]})]})})})]})}}]),n}(c.a.Component),f=g,m=n(12),j=n.n(m),v=n(101),O=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"main-panel-north ".concat(this.props.children?"border-left-show":""),children:[Object(b.jsxs)("div",{className:"cur-view-toolbar",children:[Object(b.jsx)("span",{className:"sf2-icon-menu side-nav-toggle hidden-md-up d-md-none",title:"Side Nav Menu"}),Object(b.jsx)("div",{className:"operation",children:this.props.children})]}),Object(b.jsxs)("div",{className:"common-toolbar",children:[this.props.search&&this.props.search,Object(b.jsx)(v.a,{isAdminPanel:!0})]})]})}}]),n}(s.Component),x=O,y=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).navItems=[{name:"fileStatistic",urlPart:"statistics-admin/file",text:Object(h.pb)("File")},{name:"storageStatistic",urlPart:"statistics-admin/total-storage",text:Object(h.pb)("Storage")},{name:"usersStatistic",urlPart:"statistics-admin/active-users",text:Object(h.pb)("Users")},{name:"trafficStatistic",urlPart:"statistics-admin/traffic",text:Object(h.pb)("Traffic")},{name:"reportsStatistic",urlPart:"statistics-admin/reports",text:Object(h.pb)("Reports")}],r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.currentItem;return Object(b.jsx)("div",{className:"cur-view-path tab-nav-container",children:Object(b.jsx)("ul",{className:"nav",children:this.navItems.map((function(t,n){return Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(u.a,{to:"".concat(h.qc,"org/").concat(t.urlPart,"/"),className:"nav-link".concat(e==t.name?" active":""),children:t.text})},n)}))})})}}]),n}(c.a.Component),S=n(50),w=n(83),D=n(9),k=n.n(D),C=n(301),M=n(290),I=n.n(M),N=n(292),_=(n(542),{disabledDate:k.a.func.isRequired,value:k.a.object,onChange:k.a.func.isRequired}),A="YYYY-MM-DD",P=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).defaultCalendarValue=null,r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=window.app.config.lang;this.defaultCalendarValue=j()().locale(e).clone()}},{key:"render",value:function(){var e=this.props,t=Object(b.jsx)(C.a,{defaultValue:this.defaultCalendarValue,disabledDate:e.disabledDate,format:A,locale:Object(N.a)()});return Object(b.jsx)(I.a,{calendar:t,value:e.value,onChange:e.onChange,children:function(e){var t=e.value;return Object(b.jsx)("span",{children:Object(b.jsx)("input",{placeholder:"yyyy-mm-dd",tabIndex:"-1",readOnly:!0,value:t&&t.format(A)||"",className:"form-control system-statistic-input"})})}})}}]),n}(c.a.Component);P.propsTypes=_;var F=P,T=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).changeActive=function(e){if(r.state.statisticType!==e){var t,n=j()().format("YYYY-MM-DD 00:00:00");switch(e){case"oneWeek":t=j()().subtract(6,"d").format("YYYY-MM-DD 00:00:00");break;case"oneMonth":t=j()().subtract(29,"d").format("YYYY-MM-DD 00:00:00");break;case"oneYear":t=j()().subtract(364,"d").format("YYYY-MM-DD 00:00:00")}r.setState({statisticType:e});r.props.getActiviesFiles(t,n,"day")}},r.disabledStartDate=function(e){if(!e)return!1;var t=j()().format(),n=r.state.endValue;return n?n.isBefore(e)||j()(e).format()>t:t<j()(e).format()},r.disabledEndDate=function(e){if(!e)return!1;var t=j()().format(),n=r.state.startValue;return n?e.isBefore(n)||j()(e).format()>t:t<j()(e).format()},r.onChange=function(e,t){r.setState(Object(S.a)({},e,t))},r.onSubmit=function(){var e=r.state,t=e.startValue,n=e.endValue;if(t&&n){r.setState({statisticType:"itemButton"});var a=j()(t).format("YYYY-MM-DD 00:00:00"),i=j()(n).format("YYYY-MM-DD 00:00:00");r.props.getActiviesFiles(a,i,"day")}},r.state={statisticType:"oneWeek",startValue:null,endValue:null},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=j()().format("YYYY-MM-DD 00:00:00"),t=j()().subtract(6,"d").format("YYYY-MM-DD 00:00:00");this.props.getActiviesFiles(t,e,"day")}},{key:"render",value:function(){var e=this.state,t=e.statisticType,n=e.endValue,a=e.startValue;return Object(b.jsxs)(s.Fragment,{children:[this.props.children,Object(b.jsxs)("div",{className:"system-statistic-time-range",children:[Object(b.jsxs)("div",{className:"sys-stat-tool",children:[Object(b.jsx)("div",{className:"system-statistic-item border-right-0 rounded-left ".concat("oneWeek"===t?"item-active":""),onClick:this.changeActive.bind(this,"oneWeek"),children:Object(h.pb)("7 Days")}),Object(b.jsx)("div",{className:"system-statistic-item border-right-0 ".concat("oneMonth"===t?"item-active":""),onClick:this.changeActive.bind(this,"oneMonth"),children:Object(h.pb)("30 Days")}),Object(b.jsx)("div",{className:"system-statistic-item rounded-right ".concat("oneYear"===t?"item-active":""),onClick:this.changeActive.bind(this,"oneYear"),children:Object(h.pb)("1 Year")})]}),Object(b.jsxs)("div",{className:"system-statistic-input-container",children:[Object(b.jsx)(F,{disabledDate:this.disabledStartDate,value:a,onChange:this.onChange.bind(this,"startValue")}),Object(b.jsx)("span",{className:"system-statistic-connect",children:"-"}),Object(b.jsx)(F,{disabledDate:this.disabledEndDate,value:n,onChange:this.onChange.bind(this,"endValue")}),Object(b.jsx)(w.a,{className:"operation-item system-statistic-button",onClick:this.onSubmit,children:Object(h.pb)("Submit")})]})]})]})}}]),n}(c.a.Component),L=n(8),R=n(380),z=n(4),U=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).titleCallback=function(e,t){return t.datasets[e.datasetIndex].label+": "+z.a.bytesToSize(e.yLabel)},r.ticksCallback=function(e,t,n){return z.a.bytesToSize(e)},r.state={data:{},opations:{}},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.labels,n=e.filesData,a=e.isTitleCallback,r=e.isTicksCallback,i=e.suggestedMaxNumbers,o=e.isLegendStatus,s=e.chartTitle,c=this,l={labels:t,datasets:n},d={title:{display:!0,fontSize:14,text:s},elements:{line:{fill:!1,tension:0,borderWidth:2}},legend:{display:o,labels:{usePointStyle:!0}},tooltips:{callbacks:{label:function(e,t){return a?c.titleCallback(e,t):t.datasets[e.datasetIndex].label+": "+e.yLabel}}},layout:{padding:{right:100}},scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMax:i,callback:function(e,t,n){return r?c.ticksCallback(e,t,n):e}}}],xAxes:[{ticks:{maxTicksLimit:20}}]}};this.setState({data:l,options:d})}},{key:"componentWillReceiveProps",value:function(e){var t={labels:e.labels,datasets:e.filesData};this.setState({data:t})}},{key:"render",value:function(){var e=this.state,t=e.data,n=e.options;return Object(b.jsx)(R.Line,{data:t,options:n})}}]),n}(c.a.Component),E=n(19),V=n(10),B=(n(696),function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).getActiviesFiles=function(e,t,n){var a=r.state.filesData;L.b.orgAdminStatisticFiles(h.Vb,e,t,n).then((function(e){var t=[],n=[],i=[],o=[],s=[],c=e.data;if(Array.isArray(c)){c.forEach((function(e){t.push(j()(e.datetime).format("YYYY-MM-DD")),n.push(e.added),i.push(e.deleted),s.push(e.modified),o.push(e.visited)}));var l={label:Object(h.pb)("Added"),data:n,borderColor:"#57cd6b",backgroundColor:"#57cd6b"},d={label:Object(h.pb)("Visited"),data:o,borderColor:"#fd913a",backgroundColor:"#fd913a"},u={label:Object(h.pb)("Modified"),data:s,borderColor:"#72c3fc",backgroundColor:"#72c3fc"},p={label:Object(h.pb)("Deleted"),data:i,borderColor:"#f75356",backgroundColor:"#f75356"};a=[d,l,u,p]}r.setState({filesData:a,labels:t,isLoading:!1})})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.state={filesData:[],labels:[],isLoading:!0},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.state,t=e.labels,n=e.filesData,a=e.isLoading;return Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(x,{}),Object(b.jsxs)("div",{className:"cur-view-container",children:[Object(b.jsx)(y,{currentItem:"fileStatistic"}),Object(b.jsxs)("div",{className:"cur-view-content",children:[Object(b.jsx)(T,{getActiviesFiles:this.getActiviesFiles}),a&&Object(b.jsx)(E.a,{}),!a&&t.length>0&&Object(b.jsx)(U,{labels:t,filesData:n,suggestedMaxNumbers:10,isLegendStatus:!0,chartTitle:Object(h.pb)("File Operations")})]})]})]})}}]),n}(c.a.Component)),W=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).getActiviesFiles=function(e,t,n){var a=r.state.filesData;L.b.orgAdminStatisticStorages(h.Vb,e,t,n).then((function(e){var t=[],n=[],i=e.data;if(Array.isArray(i)){i.forEach((function(e){t.push(j()(e.datetime).format("YYYY-MM-DD")),n.push(e.total_storage)}));var o={label:Object(h.pb)("Total Storage"),data:n,borderColor:"#fd913a",backgroundColor:"#fd913a"};a=[o]}r.setState({filesData:a,labels:t,isLoading:!1})})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.state={filesData:[],labels:[],isLoading:!0},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.state,t=e.labels,n=e.filesData,a=e.isLoading;return Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(x,{}),Object(b.jsxs)("div",{className:"cur-view-container",children:[Object(b.jsx)(y,{currentItem:"storageStatistic"}),Object(b.jsxs)("div",{className:"cur-view-content",children:[Object(b.jsx)(T,{getActiviesFiles:this.getActiviesFiles}),a&&Object(b.jsx)(E.a,{}),!a&&t.length>0&&Object(b.jsx)(U,{labels:t,filesData:n,suggestedMaxNumbers:1e7,isTitleCallback:!0,isTicksCallback:!0,isLegendStatus:!1,chartTitle:Object(h.pb)("Total Storage")})]})]})]})}}]),n}(c.a.Component),q=n(29),H=n(450),Y=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.sortBy,a="asc"==e.sortOrder?Object(b.jsx)("span",{className:"fas fa-caret-up"}):Object(b.jsx)("span",{className:"fas fa-caret-down"});return Object(b.jsxs)("table",{className:"table-hover",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{width:"16%",children:"user"==t?Object(h.pb)("User"):Object(h.pb)("Organization")}),Object(b.jsx)("th",{width:"11%",children:Object(b.jsxs)("div",{className:"d-block table-sort-op cursor-pointer",onClick:this.props.sortItems.bind(this,"sync_file_upload"),children:[Object(h.pb)("Sync Upload")," ","sync_file_upload"===n&&a]})}),Object(b.jsx)("th",{width:"14%",children:Object(b.jsxs)("div",{className:"d-block table-sort-op cursor-pointer",onClick:this.props.sortItems.bind(this,"sync_file_download"),children:[Object(h.pb)("Sync Download")," ","sync_file_download"===n&&a]})}),Object(b.jsx)("th",{width:"11%",children:Object(b.jsxs)("div",{className:"d-block table-sort-op cursor-pointer",onClick:this.props.sortItems.bind(this,"web_file_upload"),children:[Object(h.pb)("Web Upload")," ","web_file_upload"===n&&a]})}),Object(b.jsx)("th",{width:"14%",children:Object(b.jsxs)("div",{className:"d-block table-sort-op cursor-pointer",onClick:this.props.sortItems.bind(this,"web_file_download"),children:[Object(h.pb)("Web Download")," ","web_file_download"===n&&a]})}),Object(b.jsx)("th",{width:"17%",children:Object(b.jsxs)("div",{className:"d-block table-sort-op cursor-pointer",onClick:this.props.sortItems.bind(this,"link_file_upload"),children:[Object(h.pb)("Share link upload")," ","link_file_upload"===n&&a]})}),Object(b.jsx)("th",{width:"17%",children:Object(b.jsxs)("div",{className:"d-block table-sort-op cursor-pointer",onClick:this.props.sortItems.bind(this,"link_file_download"),children:[Object(h.pb)("Share link download")," ","link_file_download"===n&&a]})})]})}),Object(b.jsx)("tbody",{children:this.props.children})]})}}]),n}(c.a.Component),G=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).trafficName=function(){var t=e.props,n=t.userTrafficItem;switch(t.type){case"user":return n.name?Object(b.jsx)("a",{href:h.qc+"useradmin/info/"+n.email+"/",children:n.name}):Object(b.jsx)("span",{children:"--"});case"org":return Object(b.jsx)("span",{children:n.org_name})}},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.userTrafficItem,t=z.a.bytesToSize(e.sync_file_upload),n=z.a.bytesToSize(e.sync_file_download),a=z.a.bytesToSize(e.web_file_upload),r=z.a.bytesToSize(e.web_file_download),i=z.a.bytesToSize(e.link_file_upload),o=z.a.bytesToSize(e.link_file_download);return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:this.trafficName()}),Object(b.jsx)("td",{children:t}),Object(b.jsx)("td",{children:n}),Object(b.jsx)("td",{children:a}),Object(b.jsx)("td",{children:r}),Object(b.jsx)("td",{children:i}),Object(b.jsx)("td",{children:o})]})}}]),n}(c.a.Component),K=G,Q=n(49),X=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).getPreviousPage=function(){r.getTrafficList(r.state.month,r.state.currentPage-1)},r.getNextPage=function(){r.getTrafficList(r.state.month,r.state.currentPage+1)},r.handleChange=function(e){var t=e.target.value;r.setState({month:t})},r.handleKeyPress=function(e){var t=r.state.month;if("Enter"===e.key){if(!/^([012]\d{3})(0[1-9]|1[012])$/.test(t)){var n=Object(h.pb)("Invalid month, should be yyyymm.");return void r.setState({errorMessage:n})}r.getTrafficList(t,r.initPage),e.target.blur(),e.preventDefault()}},r.getTrafficList=function(e,t){var n=r.state,a=n.perPage,i=n.sortBy,o=n.sortOrder,s="asc"==o?i:"".concat(i,"_").concat(o);r.setState({isLoading:!0,errorMessage:""}),L.b.orgAdminListUserTraffic(h.Vb,e,t,a,s).then((function(n){var a=n.data.user_monthly_traffic_list.slice(0);r.setState({month:e,currentPage:t,userTrafficList:a,hasNextPage:n.data.has_next_page,isLoading:!1})})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.sortItems=function(e){r.setState({sortBy:e,sortOrder:"asc"==r.state.sortOrder?"desc":"asc"},(function(){var e=r.state,t=e.month,n=e.currentPage;r.getTrafficList(t,n)}))},r.resetPerPage=function(e){r.setState({perPage:e},(function(){return r.getTrafficList(r.initMonth,r.initPage)}))},r.state={userTrafficList:[],hasNextPage:!1,perPage:25,currentPage:1,month:j()().format("YYYYMM"),isLoading:!1,errorMessage:"",sortBy:"link_file_download",sortOrder:"desc"},r.initPage=1,r.initMonth=j()().format("YYYYMM"),r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=new URL(window.location).searchParams,n=this.state,a=n.currentPage,r=n.perPage;this.setState({perPage:parseInt(t.get("per_page")||r),currentPage:parseInt(t.get("page")||a)},(function(){e.getTrafficList(e.initMonth,e.state.currentPage)}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.errorMessage,a=e.userTrafficList,r=e.currentPage,i=e.hasNextPage,o=e.perPage,c=e.sortBy,l=e.sortOrder;return Object(b.jsxs)(s.Fragment,{children:[Object(b.jsxs)("div",{className:"d-flex align-items-center mt-4",children:[Object(b.jsx)("span",{className:"statistic-reports-tip",children:Object(h.pb)("Month:")}),Object(b.jsx)(H.a,{className:"statistic-reports-input",defaultValue:j()().format("YYYYMM"),onChange:this.handleChange,onKeyPress:this.handleKeyPress}),n&&Object(b.jsx)("div",{className:"error",children:n})]}),t&&Object(b.jsx)(E.a,{}),!t&&Object(b.jsx)(Y,{type:"user",sortItems:this.sortItems,sortBy:c,sortOrder:l,children:a.length>0&&a.map((function(e,t){return Object(b.jsx)(K,{userTrafficItem:e,type:"user"},t)}))}),Object(b.jsx)(Q.a,{gotoPreviousPage:this.getPreviousPage,gotoNextPage:this.getNextPage,currentPage:r,hasNextPage:i,curPerPage:o,resetPerPage:this.resetPerPage})]})}}]),n}(c.a.Component),J=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).changeTabActive=function(e){r.setState({tabActive:e})},r.getActiviesFiles=function(e,t,n){L.b.orgAdminStatisticSystemTraffic(h.Vb,e,t,n).then((function(e){var t=[],n=[],a=[],i=[],o=[],s=[],c=[],l=[],d=[],u=e.data;if(Array.isArray(u)){u.forEach((function(e){t.push(j()(e.datetime).format("YYYY-MM-DD")),i.push(e["link-file-upload"]),o.push(e["link-file-download"]),s.push(e["sync-file-upload"]),c.push(e["sync-file-download"]),l.push(e["web-file-upload"]),d.push(e["web-file-download"]),n.push(e["link-file-upload"]+e["sync-file-upload"]+e["web-file-upload"]),a.push(e["link-file-download"]+e["sync-file-download"]+e["web-file-download"])}));var p=[{label:Object(h.pb)("Upload"),data:i,borderColor:"#fd913a",backgroundColor:"#fd913a"},{label:Object(h.pb)("Download"),data:o,borderColor:"#57cd6b",backgroundColor:"#57cd6b"}],b=[{label:Object(h.pb)("Upload"),data:s,borderColor:"#fd913a",backgroundColor:"#fd913a"},{label:Object(h.pb)("Download"),data:c,borderColor:"#57cd6b",backgroundColor:"#57cd6b"}],g=[{label:Object(h.pb)("Upload"),data:l,borderColor:"#fd913a",backgroundColor:"#fd913a"},{label:Object(h.pb)("Download"),data:d,borderColor:"#57cd6b",backgroundColor:"#57cd6b"}],f=[{label:Object(h.pb)("Upload"),data:n,borderColor:"#fd913a",backgroundColor:"#fd913a"},{label:Object(h.pb)("Download"),data:a,borderColor:"#57cd6b",backgroundColor:"#57cd6b"}];r.setState({linkData:p,syncData:b,webData:g,filesData:f,labels:t,isLoading:!1})}})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.renderCommonTool=function(){var e=r.state.tabActive;return"system"===e?Object(b.jsx)(T,{getActiviesFiles:r.getActiviesFiles,children:Object(b.jsxs)("div",{className:"statistic-traffic-tab",children:[Object(b.jsx)("div",{className:"statistic-traffic-tab-item ".concat("system"===e?"active":""),onClick:r.changeTabActive.bind(Object(q.a)(r),"system"),children:Object(h.pb)("System")}),Object(b.jsx)("div",{className:"statistic-traffic-tab-item ".concat("user"===e?"active":""),onClick:r.changeTabActive.bind(Object(q.a)(r),"user"),children:Object(h.pb)("Users")})]})}):Object(b.jsxs)("div",{className:"statistic-traffic-tab",children:[Object(b.jsx)("div",{className:"statistic-traffic-tab-item ".concat("system"===e?"active":""),onClick:r.changeTabActive.bind(Object(q.a)(r),"system"),children:Object(h.pb)("System")}),Object(b.jsx)("div",{className:"statistic-traffic-tab-item ".concat("user"===e?"active":""),onClick:r.changeTabActive.bind(Object(q.a)(r),"user"),children:Object(h.pb)("Users")})]})},r.state={filesData:[],linkData:[],syncData:[],webData:[],labels:[],isLoading:!0,tabActive:"system"},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.state,t=e.labels,n=e.filesData,a=e.linkData,r=e.syncData,i=e.webData,o=e.isLoading,c=e.tabActive;return Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(x,{}),Object(b.jsxs)("div",{className:"cur-view-container",children:[Object(b.jsx)(y,{currentItem:"trafficStatistic"}),Object(b.jsxs)("div",{className:"cur-view-content",children:[this.renderCommonTool(),o&&Object(b.jsx)(E.a,{}),!o&&"system"===c&&Object(b.jsxs)("div",{className:"statistic-traffic-chart-container",children:[Object(b.jsx)("div",{className:"mb-4",children:t.length>0&&Object(b.jsx)(U,{labels:t,filesData:n,chartTitle:Object(h.pb)("Total Traffic"),suggestedMaxNumbers:1e7,isTitleCallback:!0,isTicksCallback:!0,isLegendStatus:!0})}),Object(b.jsx)("div",{className:"mb-4",children:t.length>0&&Object(b.jsx)(U,{labels:t,filesData:i,chartTitle:Object(h.pb)("Web Traffic"),suggestedMaxNumbers:1e7,isTitleCallback:!0,isTicksCallback:!0,isLegendStatus:!0})}),Object(b.jsx)("div",{className:"mb-4",children:t.length>0&&Object(b.jsx)(U,{labels:t,filesData:a,chartTitle:Object(h.pb)("Share Link Traffic"),suggestedMaxNumbers:1e7,isTitleCallback:!0,isTicksCallback:!0,isLegendStatus:!0})}),Object(b.jsx)("div",{className:"mb-4",children:t.length>0&&Object(b.jsx)(U,{labels:t,filesData:r,chartTitle:Object(h.pb)("Sync Traffic"),suggestedMaxNumbers:1e7,isTitleCallback:!0,isTicksCallback:!0,isLegendStatus:!0})})]}),!o&&"user"===c&&Object(b.jsx)(X,{})]})]})]})}}]),n}(c.a.Component),Z=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).getActiviesFiles=function(e,t,n){var a=r.state.filesData;L.b.orgAdminStatisticActiveUsers(h.Vb,e,t,n).then((function(e){var t=[],n=[],i=e.data;if(Array.isArray(i)){i.forEach((function(e){t.push(j()(e.datetime).format("YYYY-MM-DD")),n.push(e.count)}));var o={label:Object(h.pb)("Active Users"),data:n,borderColor:"#fd913a",backgroundColor:"#fd913a"};a=[o]}r.setState({filesData:a,labels:t,isLoading:!1})})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.state={filesData:[],labels:[],isLoading:!0},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.state,t=e.labels,n=e.filesData,a=e.isLoading;return Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(x,{}),Object(b.jsxs)("div",{className:"cur-view-container",children:[Object(b.jsx)(y,{currentItem:"usersStatistic"}),Object(b.jsxs)("div",{className:"cur-view-content",children:[Object(b.jsx)(T,{getActiviesFiles:this.getActiviesFiles}),a&&Object(b.jsx)(E.a,{}),!a&&t.length>0&&Object(b.jsx)(U,{labels:t,filesData:n,suggestedMaxNumbers:10,isLegendStatus:!1,chartTitle:Object(h.pb)("Active Users")})]})]})]})}}]),n}(c.a.Component),$=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleChange=function(e){var t=e.target.value;r.setState({month:t})},r.onGenerateReports=function(e){var t=h.qc+"api/v2.1/org/"+h.Vb+"/admin/statistics/",n=r.state.month;if(n){if("month"===e){if(!/^([012]\d{3})(0[1-9]|1[012])$/.test(n)){var a=Object(h.pb)("Invalid month, should be yyyymm.");return void r.setState({errorMessage:a})}}switch(e){case"month":t+="user-traffic/excel/?month="+n;break;case"storage":t+="user-storage/excel/?"}r.setState({errorMessage:""}),window.location.href=t}else{var i=Object(h.pb)("It is required.");r.setState({errorMessage:i})}},r.state={month:j()().format("YYYYMM"),errorMessage:""},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.state.errorMessage;return Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(x,{}),Object(b.jsxs)("div",{className:"cur-view-container",children:[Object(b.jsx)(y,{currentItem:"reportsStatistic"}),Object(b.jsxs)("div",{className:"cur-view-content",children:[Object(b.jsxs)("div",{className:"statistic-reports",children:[Object(b.jsx)("div",{className:"statistic-reports-title",children:Object(h.pb)("Monthly User Traffic")}),Object(b.jsxs)("div",{className:"d-flex align-items-center mt-4",children:[Object(b.jsx)("span",{className:"statistic-reports-tip",children:Object(h.pb)("Month:")}),Object(b.jsx)(H.a,{className:"statistic-reports-input",defaultValue:j()().format("YYYYMM"),onChange:this.handleChange}),Object(b.jsx)(w.a,{className:"statistic-reports-submit operation-item",onClick:this.onGenerateReports.bind(this,"month"),children:Object(h.pb)("Create Report")})]}),e&&Object(b.jsx)("div",{className:"error",children:e})]}),Object(b.jsxs)("div",{className:"statistic-reports",children:[Object(b.jsx)("div",{className:"statistic-reports-title",children:Object(h.pb)("User Storage")}),Object(b.jsx)(w.a,{className:"mt-4 operation-item",onClick:this.onGenerateReports.bind(this,"storage"),children:Object(h.pb)("Create Report")})]})]})]})]})}}]),n}(c.a.Component),ee=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).navItems=[{name:"desktop",urlPart:"desktop-devices",text:Object(h.pb)("Desktop")},{name:"mobile",urlPart:"mobile-devices",text:Object(h.pb)("Mobile")},{name:"errors",urlPart:"devices-errors",text:Object(h.pb)("Errors")}],r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.currentItem;return Object(b.jsx)("div",{className:"cur-view-path tab-nav-container",children:Object(b.jsx)("ul",{className:"nav",children:this.navItems.map((function(t,n){return Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(u.a,{to:"".concat(h.qc,"org/deviceadmin/").concat(t.urlPart,"/"),className:"nav-link".concat(e==t.name?" active":""),children:t.text})},n)}))})})}}]),n}(c.a.Component),te=n(36),ne=n(381),ae=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).getPreviousPageDevicesList=function(){r.props.getDevicesListByPage(r.props.pageInfo.current_page-1)},r.getNextPageDevicesList=function(){r.props.getDevicesListByPage(r.props.pageInfo.current_page+1)},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.errorMsg,a=e.items,r=e.pageInfo,i=e.curPerPage;if(t)return Object(b.jsx)(E.a,{});if(n)return Object(b.jsx)("p",{className:"error text-center",children:n});var o=Object(b.jsx)(te.a,{children:Object(b.jsx)("h2",{children:Object(h.pb)("No connected devices")})}),c=Object(b.jsxs)(s.Fragment,{children:[Object(b.jsxs)("table",{className:"table-hover",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{width:"19%",children:Object(h.pb)("User")}),Object(b.jsxs)("th",{width:"19%",children:[Object(h.pb)("Platform")," / ",Object(h.pb)("Version")]}),Object(b.jsx)("th",{width:"19%",children:Object(h.pb)("Device Name")}),Object(b.jsx)("th",{width:"19%",children:Object(h.pb)("IP")}),Object(b.jsx)("th",{width:"19%",children:Object(h.pb)("Last Access")}),Object(b.jsx)("th",{width:"5%"})]})}),Object(b.jsx)("tbody",{children:a.map((function(e,t){return Object(b.jsx)(re,{item:e},t)}))})]}),Object(b.jsx)(Q.a,{gotoPreviousPage:this.getPreviousPageDevicesList,gotoNextPage:this.getNextPageDevicesList,currentPage:r.current_page,hasNextPage:r.has_next_page,curPerPage:i,resetPerPage:this.props.resetPerPage})]});return a.length?c:o}}]),n}(s.Component),re=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleMouseOver=function(){r.setState({isOpIconShown:!0})},r.handleMouseOut=function(){r.setState({isOpIconShown:!1})},r.handleUnlink=function(e){e.preventDefault(),r.props.item.is_desktop_client?r.toggleUnlinkDeviceDialog():r.unlinkDevice(!0)},r.toggleUnlinkDeviceDialog=function(){r.setState({isUnlinkDeviceDialogOpen:!r.state.isUnlinkDeviceDialogOpen})},r.unlinkDevice=function(e){var t=r.props.item,n=t.platform,a=t.device_id,i=t.user;L.b.orgAdminUnlinkDevice(h.Vb,n,a,i,e).then((function(e){r.setState({unlinked:!0});var t=Object(h.pb)("Successfully unlinked the device.");V.a.success(t)})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.state={unlinked:!1,isOpIconShown:!1,isUnlinkDeviceDialogOpen:!1},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.item,t=this.state,n=t.unlinked,a=t.isUnlinkDeviceDialogOpen,r=t.isOpIconShown;return n?null:Object(b.jsxs)(s.Fragment,{children:[Object(b.jsxs)("tr",{onMouseEnter:this.handleMouseOver,onMouseLeave:this.handleMouseOut,children:[Object(b.jsx)("td",{children:e.user_name}),Object(b.jsxs)("td",{children:[e.platform," / ",e.client_version]}),Object(b.jsx)("td",{children:e.device_name}),Object(b.jsx)("td",{children:e.last_login_ip}),Object(b.jsx)("td",{children:Object(b.jsx)("span",{title:j()(e.last_accessed).format("llll"),children:j()(e.last_accessed).fromNow()})}),Object(b.jsx)("td",{children:Object(b.jsx)("a",{href:"#",className:"sf2-icon-delete action-icon ".concat(r?"":"invisible"),title:Object(h.pb)("Unlink"),onClick:this.handleUnlink})})]}),a&&Object(b.jsx)(ne.a,{unlinkDevice:this.unlinkDevice,toggleDialog:this.toggleUnlinkDeviceDialog})]})}}]),n}(s.Component),ie=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).getDevicesListByPage=function(e){var t=r.props.devicesPlatform,n=r.state.perPage;L.b.orgAdminListDevices(h.Vb,t,e,n).then((function(e){r.setState({devicesData:e.data.devices,pageInfo:e.data.page_info,loading:!1})})).catch((function(e){r.setState({loading:!1,errorMsg:z.a.getErrorMsg(e,!0)})}))},r.resetPerPage=function(e){r.setState({perPage:e},(function(){r.getDevicesListByPage(1)}))},r.state={loading:!0,errorMsg:"",devicesData:{},pageInfo:{},perPage:25},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=new URL(window.location).searchParams,n=this.state,a=n.currentPage,r=void 0===a?1:a,i=n.perPage;this.setState({perPage:parseInt(t.get("per_page")||i),currentPage:parseInt(t.get("page")||r)},(function(){e.getDevicesListByPage(e.state.currentPage)}))}},{key:"render",value:function(){return Object(b.jsx)("div",{className:"cur-view-content",children:Object(b.jsx)(ae,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.devicesData,getDevicesListByPage:this.getDevicesListByPage,curPerPage:this.state.perPage,resetPerPage:this.resetPerPage,pageInfo:this.state.pageInfo})})}}]),n}(s.Component),oe=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e)}return Object(r.a)(n,[{key:"render",value:function(){return Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(x,{}),Object(b.jsx)("div",{className:"main-panel-center flex-row",children:Object(b.jsxs)("div",{className:"cur-view-container",children:[Object(b.jsx)(ee,{currentItem:"desktop"}),Object(b.jsx)(ie,{devicesPlatform:"desktop"})]})})]})}}]),n}(s.Component),se=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e)}return Object(r.a)(n,[{key:"render",value:function(){return Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(x,{}),Object(b.jsx)("div",{className:"main-panel-center flex-row",children:Object(b.jsxs)("div",{className:"cur-view-container",children:[Object(b.jsx)(ee,{currentItem:"mobile"}),Object(b.jsx)(ie,{devicesPlatform:"mobile"})]})})]})}}]),n}(s.Component),ce=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(b.jsx)(u.a,{to:"".concat(h.qc,"org/useradmin/info/").concat(encodeURIComponent(this.props.email),"/"),children:this.props.name})}}]),n}(s.Component),le=ce,de=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).getPreviousPageDeviceErrorsList=function(){r.props.getDeviceErrorsListByPage(r.props.pageInfo.current_page-1)},r.getNextPageDeviceErrorsList=function(){r.props.getDeviceErrorsListByPage(r.props.pageInfo.current_page+1)},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.errorMsg,a=e.items,r=e.pageInfo,i=e.curPerPage;if(t)return Object(b.jsx)(E.a,{});if(n)return Object(b.jsx)("p",{className:"error text-center",children:n});var o=Object(b.jsx)(te.a,{children:Object(b.jsx)("h2",{children:Object(h.pb)("No sync errors")})}),c=Object(b.jsxs)(s.Fragment,{children:[Object(b.jsxs)("table",{className:"table-hover",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{width:"16%",children:Object(h.pb)("User")}),Object(b.jsxs)("th",{width:"20%",children:[Object(h.pb)("Device")," / ",Object(h.pb)("Version")]}),Object(b.jsx)("th",{width:"16%",children:Object(h.pb)("IP")}),Object(b.jsx)("th",{width:"16%",children:Object(h.pb)("Library")}),Object(b.jsx)("th",{width:"16%",children:Object(h.pb)("Error")}),Object(b.jsx)("th",{width:"16%",children:Object(h.pb)("Time")})]})}),Object(b.jsx)("tbody",{children:a.map((function(e,t){return Object(b.jsx)(ue,{item:e},t)}))})]}),Object(b.jsx)(Q.a,{gotoPreviousPage:this.getPreviousPageDeviceErrorsList,gotoNextPage:this.getNextPageDeviceErrorsList,currentPage:r.current_page,hasNextPage:r.has_next_page,curPerPage:i,resetPerPage:this.props.resetPerPage})]});return a.length?c:o}}]),n}(s.Component),ue=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleMouseOver=function(){r.setState({isOpIconShown:!0})},r.handleMouseOut=function(){r.setState({isOpIconShown:!1})},r.state={isOpIconShown:!1},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.item;return Object(b.jsxs)("tr",{onMouseEnter:this.handleMouseOver,onMouseLeave:this.handleMouseOut,children:[Object(b.jsx)("td",{children:Object(b.jsx)(le,{email:e.email,name:e.name})}),Object(b.jsxs)("td",{children:[e.device_name," / ",e.client_version]}),Object(b.jsx)("td",{children:e.device_ip}),Object(b.jsx)("td",{children:Object(b.jsx)(u.a,{to:"".concat(h.qc,"sysadmin/#libs/").concat(e.repo_id),children:e.repo_name})}),Object(b.jsx)("td",{children:e.error_msg}),Object(b.jsx)("td",{children:Object(b.jsx)("span",{className:"item-meta-info",title:j()(e.last_accessed).format("llll"),children:j()(e.error_time).fromNow()})})]})}}]),n}(s.Component),he=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).getDeviceErrorsListByPage=function(e){var t=r.state.perPage;L.b.orgAdminListDevicesErrors(h.Vb,e,t).then((function(e){r.setState({loading:!1,devicesErrors:e.data.device_errors,pageInfo:e.data.page_info,isCleanBtnShown:e.data.length>0})})).catch((function(e){r.setState({loading:!1,errorMsg:z.a.getErrorMsg(e,!0)})}))},r.clean=function(){L.b.sysAdminClearDeviceErrors().then((function(e){r.setState({devicesErrors:[],isCleanBtnShown:!1});var t=Object(h.pb)("Successfully cleaned all errors.");V.a.success(t)})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.resetPerPage=function(e){r.setState({perPage:e},(function(){r.getDeviceErrorsListByPage(1)}))},r.state={loading:!0,errorMsg:"",devicesErrors:[],isCleanBtnShown:!1,pageInfo:{},perPage:25},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=new URL(window.location).searchParams,n=this.state,a=n.currentPage,r=void 0===a?1:a,i=n.perPage;this.setState({perPage:parseInt(t.get("per_page")||i),currentPage:parseInt(t.get("page")||r)},(function(){e.getDeviceErrorsListByPage(e.state.currentPage)}))}},{key:"render",value:function(){return Object(b.jsxs)(s.Fragment,{children:[this.state.isCleanBtnShown?Object(b.jsx)(x,{children:Object(b.jsx)(w.a,{className:"operation-item",onClick:this.clean,children:Object(h.pb)("Clean")})}):Object(b.jsx)(x,{}),Object(b.jsx)("div",{className:"main-panel-center flex-row",children:Object(b.jsxs)("div",{className:"cur-view-container",children:[Object(b.jsx)(ee,{currentItem:"errors"}),Object(b.jsx)("div",{className:"cur-view-content",children:Object(b.jsx)(de,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.devicesErrors,getDeviceErrorsListByPage:this.getDeviceErrorsListByPage,curPerPage:this.state.perPage,resetPerPage:this.resetPerPage,pageInfo:this.state.pageInfo})})]})})]})}}]),n}(s.Component),pe=n(16),be=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.headingText,n=e.children;return Object(b.jsxs)("div",{className:"mb-4",children:[Object(b.jsx)("h4",{className:"border-bottom font-weight-normal mb-2 pb-1",children:t}),n]})}}]),n}(s.Component),ge=n(1834),fe=n(1833),me=n(1050),je=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.helpTip,n=e.displayName,a=e.mainContent,r=e.extraContent;return Object(b.jsx)(s.Fragment,{children:Object(b.jsxs)(ge.a,{className:"my-4",children:[Object(b.jsx)(fe.a,{md:"3",children:Object(b.jsx)(me.a,{className:"web-setting-label",children:n})}),Object(b.jsxs)(fe.a,{md:"5",children:[a,t&&Object(b.jsx)("p",{className:"small text-secondary mt-1",children:t})]}),Object(b.jsx)(fe.a,{md:"4",children:r})]})})}}]),n}(s.Component),ve=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).toggleBtns=function(){r.setState({isBtnsShown:!r.state.isBtnsShown})},r.hideBtns=function(e){r.state.isBtnsShown&&(r.props.value!=r.state.value&&r.setState({value:r.props.value}),r.toggleBtns())},r.onInputChange=function(e){r.setState({value:e.target.value})},r.onSubmit=function(e){var t=r.state.value.trim();t!=r.props.value&&r.props.saveSetting(r.props.keyText,t),r.toggleBtns()},r.state={isBtnsShown:!1,value:r.props.value},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.state,t=e.isBtnsShown,n=e.value,a=this.props,r=a.helpTip,i=a.displayName,o=a.inputType,c=a.disabled;return Object(b.jsx)(je,{displayName:i,helpTip:r,mainContent:c?Object(b.jsx)(H.a,{type:o||"text",className:"textarea"==o?"web-setting-textarea":"",value:n,disabled:!0}):Object(b.jsx)(H.a,{type:o||"text",className:"textarea"==o?"web-setting-textarea":"",onChange:this.onInputChange,onFocus:this.toggleBtns,onBlur:this.hideBtns,value:n}),extraContent:t?Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(w.a,{className:"sf2-icon-tick web-setting-icon-btn web-setting-icon-btn-submit",onMouseDown:this.onSubmit,title:Object(h.pb)("Submit")}),Object(b.jsx)(w.a,{className:"ml-1 sf2-icon-x2 web-setting-icon-btn web-setting-icon-btn-cancel",title:Object(h.pb)("Cancel")})]}):null})}}]),n}(s.Component),Oe=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).uploadFile=function(){if(r.fileInput.current.files.length){var e=r.fileInput.current.files[0];r.props.postFile(e,r.props.keyText)}},r.openFileInput=function(){r.fileInput.current.click()},r.fileInput=c.a.createRef(),r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.helpTip,n=e.filePath,a=e.fileWidth,r=e.fileHeight,i=e.displayName;return Object(b.jsx)(je,{displayName:i,helpTip:t,mainContent:Object(b.jsx)("img",{src:n+"?t="+(new Date).getTime(),alt:i,width:a,height:r,className:"mb-1"}),extraContent:Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(w.a,{color:"secondary",onClick:this.openFileInput,children:Object(h.pb)("Change")}),Object(b.jsx)("input",{className:"d-none",type:"file",onChange:this.uploadFile,ref:this.fileInput})]})})}}]),n}(s.Component),xe=(s.Component,n(697),function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).updateName=function(e,t){L.b.orgAdminUpdateName(h.Vb,t).then((function(e){r.setState({config_dict:e.data}),V.a.success(Object(h.pb)("Success"))})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.updateLogo=function(e){L.b.orgAdminUpdateLogo(h.Vb,e).then((function(e){r.setState({logoPath:e.data.logo_path}),V.a.success(Object(h.pb)("Success"))})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.updateFileExtWhiteList=function(e,t){L.b.orgAdminSetSysSettingInfo(h.Vb,e,t).then((function(e){r.setState({file_ext_white_list:e.data.file_ext_white_list}),V.a.success(Object(h.pb)("Success"))})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.state={loading:!0,errorMsg:"",config_dict:null,logoPath:h.Ib,file_ext_white_list:""},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;L.b.orgAdminGetOrgInfo().then((function(t){e.setState({loading:!1,config_dict:t.data,file_ext_white_list:t.data.file_ext_white_list})})).catch((function(t){e.setState({loading:!1,errorMsg:z.a.getErrorMsg(t,!0)})}))}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.errorMsg,a=e.config_dict,r=e.file_ext_white_list,i=this.state.logoPath;return i=-1!=i.indexOf("image-view")?i:h.Nb+i,Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(x,Object(pe.a)({},this.props)),Object(b.jsx)("div",{className:"main-panel-center flex-row",children:Object(b.jsxs)("div",{className:"cur-view-container",children:[Object(b.jsx)("div",{className:"cur-view-path",children:Object(b.jsx)("h3",{className:"sf-heading",children:Object(h.pb)("Settings")})}),Object(b.jsxs)("div",{className:"cur-view-content container mw-100",children:[t&&Object(b.jsx)(E.a,{}),n&&Object(b.jsx)("p",{className:"error text-center mt-4",children:n}),!t&&!n&&a&&Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)("p",{className:"small text-secondary my-4"}),Object(b.jsx)(be,{headingText:Object(h.pb)("Info"),children:Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(ve,{saveSetting:this.updateName,displayName:Object(h.pb)("Team name"),keyText:"orgName",value:a.org_name,helpTip:"",disabled:!h.Ub}),h.Tb&&Object(b.jsx)(Oe,{postFile:this.updateLogo,displayName:"Logo",keyText:"Logo",filePath:i,fileWidth:256,fileHeight:64,helpTip:"logo.png, 256px * 64px"})]})}),Object(b.jsx)(be,{headingText:Object(h.pb)("File Upload"),children:Object(b.jsx)(s.Fragment,{children:Object(b.jsx)(ve,{saveSetting:this.updateFileExtWhiteList,displayName:Object(h.pb)("File extension white list"),keyText:"file_ext_white_list",value:r,helpTip:Object(h.pb)('File extension white list for file upload via web UI and API. For example, "md;txt;docx". Empty means no limit.')})})})]})]})]})})]})}}]),n}(s.Component)),ye=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).navItems=[{name:"all",urlPart:"useradmin",text:Object(h.pb)("All")},{name:"admins",urlPart:"useradmin/admins",text:Object(h.pb)("Admin")}],r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.currentItem;return Object(b.jsx)("div",{className:"cur-view-path tab-nav-container",children:Object(b.jsx)("ul",{className:"nav",children:this.navItems.map((function(t,n){return Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(u.a,{to:"".concat(h.qc,"org/").concat(t.urlPart,"/"),className:"nav-link".concat(e==t.name?" active":""),children:t.text})},n)}))})})}}]),n}(c.a.Component),Se=n(314),we=n(317),De=n(316),ke=n(191),Ce=n(113),Me=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).translateStatus=function(e){return"active"===e?Object(h.pb)("Active"):"inactive"===e?Object(h.pb)("Inactive"):void 0},e}return Object(r.a)(n,[{key:"render",value:function(){return Object(b.jsx)(Ce.a,{isTextMode:this.props.isTextMode,isEditIconShow:this.props.isEditIconShow,options:this.props.statusArray,currentOption:this.props.currentStatus,onOptionChanged:this.props.onStatusChanged,translateOption:this.translateStatus})}}]),n}(c.a.Component),Ie=Me,Ne=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).onMouseEnter=function(){r.props.isItemFreezed||r.setState({showMenu:!0,highlight:!0})},r.onMouseLeave=function(){r.props.isItemFreezed||r.setState({showMenu:!1,highlight:!1})},r.toggleDelete=function(){var e=r.props.user.email;r.props.toggleDelete(e)},r.toggleResetPW=function(){var e=r.props.user,t=e.email,n=e.name;V.a.success(Object(h.pb)("Resetting user's password, please wait for a moment.")),L.b.orgAdminResetOrgUserPassword(h.Vb,t).then((function(e){var t;t=(t=(t=Object(h.pb)("Successfully reset password to %(passwd)s for user %(user)s.")).replace("%(passwd)s",e.data.new_password)).replace("%(user)s",n),V.a.success(t,{duration:15})})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.toggleRevokeAdmin=function(){var e=r.props.user.email;r.props.toggleRevokeAdmin(e)},r.changeStatus=function(e){var t="active"==e;t&&V.a.notify(Object(h.pb)("It may take some time, please wait.")),r.props.changeStatus(r.props.user.email,t)},r.onDropdownToggleClick=function(e){e.preventDefault(),r.toggleOperationMenu(e)},r.toggleOperationMenu=function(e){e.stopPropagation(),r.setState({isItemMenuShow:!r.state.isItemMenuShow},(function(){r.state.isItemMenuShow?r.props.onFreezedItem():(r.setState({highlight:!1,showMenu:!1}),r.props.onUnfreezedItem())}))},r.getQuotaTotal=function(e){switch(e){case-1:return Object(h.pb)("Failed");case-2:return"--";default:return z.a.formatSize({bytes:e})}},r.state={highlight:!1,showMenu:!1,currentStatus:r.props.user.is_active?"active":"inactive",isItemMenuShow:!1},r.statusArray=["active","inactive"],r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.currentTab,a=h.qc+"org/useradmin/info/"+encodeURIComponent(t.email)+"/",r=t.email!==h.Cc&&this.state.showMenu,i=r;return Object(b.jsxs)("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:[Object(b.jsx)("td",{children:Object(b.jsx)("a",{href:a,children:t.name})}),Object(b.jsx)("td",{children:Object(b.jsx)(Ie,{isTextMode:!0,isEditIconShow:i,currentStatus:t.is_active?"active":"inactive",statusArray:this.statusArray,onStatusChanged:this.changeStatus})}),Object(b.jsx)("td",{children:"".concat(z.a.formatSize({bytes:t.quota_usage})," / ").concat(this.getQuotaTotal(t.quota_total))}),Object(b.jsxs)("td",{children:[t.ctime," /",Object(b.jsx)("br",{}),t.last_login?t.last_login:"--"]}),Object(b.jsx)("td",{className:"text-center cursor-pointer",children:r&&Object(b.jsxs)(Se.a,{isOpen:this.state.isItemMenuShow,toggle:this.toggleOperationMenu,children:[Object(b.jsx)(we.a,{tag:"a",className:"attr-action-icon fas fa-ellipsis-v",title:Object(h.pb)("More Operations"),"data-toggle":"dropdown","aria-expanded":this.state.isItemMenuShow,onClick:this.onDropdownToggleClick}),Object(b.jsxs)(De.a,{children:[Object(b.jsx)(ke.a,{onClick:this.toggleDelete,children:Object(h.pb)("Delete")}),Object(b.jsx)(ke.a,{onClick:this.toggleResetPW,children:Object(h.pb)("ResetPwd")}),"admins"==n&&Object(b.jsx)(ke.a,{onClick:this.toggleRevokeAdmin,children:Object(h.pb)("Revoke Admin")})]})]})})]})}}]),n}(c.a.Component),_e=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).onFreezedItem=function(){r.setState({isItemFreezed:!0})},r.onUnfreezedItem=function(){r.setState({isItemFreezed:!1})},r.onChangePageNum=function(e,t){e.preventDefault();var n=r.props.page;1==t?n+=1:n-=1,r.props.initOrgUsersData(n)},r.sortByQuotaUsage=function(e){e.preventDefault(),r.props.sortByQuotaUsage()},r.state={isItemFreezed:!1},r}return Object(r.a)(n,[{key:"render",value:function(){var e,t=this,n=this.props,a=n.sortBy,r=n.sortOrder;e=""==a?Object(b.jsx)("span",{className:"fas fa-sort"}):Object(b.jsx)("span",{className:"fas ".concat("asc"==r?"fa-caret-up":"fa-caret-down")});var i=this.props,o=i.orgUsers,s=i.page,c=i.pageNext;return Object(b.jsxs)("div",{className:"cur-view-content",children:[Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{width:"30%",children:Object(h.pb)("Name")}),Object(b.jsx)("th",{width:"15%",children:Object(h.pb)("Status")}),Object(b.jsxs)("th",{width:"20%",children:[Object(b.jsxs)("a",{className:"d-inline-block table-sort-op",href:"#",onClick:this.sortByQuotaUsage,children:[Object(h.pb)("Space Used")," ",e]})," / ",Object(h.pb)("Quota")]}),Object(b.jsxs)("th",{width:"25%",children:[Object(h.pb)("Created At")," / ",Object(h.pb)("Last Login")]}),Object(b.jsx)("th",{width:"10%"})]})}),Object(b.jsx)("tbody",{children:o.map((function(e,n){return Object(b.jsx)(Ne,{user:e,currentTab:"users",isItemFreezed:t.state.isItemFreezed,toggleDelete:t.props.toggleDelete,changeStatus:t.props.changeStatus,onFreezedItem:t.onFreezedItem,onUnfreezedItem:t.onUnfreezedItem},n)}))})]}),Object(b.jsxs)("div",{className:"paginator",children:[1!=s&&Object(b.jsx)("a",{href:"#",onClick:function(e){return t.onChangePageNum(e,-1)},children:Object(h.pb)("Previous")}),1!=s&&c&&Object(b.jsx)("span",{children:" | "}),c&&Object(b.jsx)("a",{href:"#",onClick:function(e){return t.onChangePageNum(e,1)},children:Object(h.pb)("Next")})]})]})}}]),n}(c.a.Component),Ae=n(23),Pe=n(123),Fe=n(108),Te=n(109),Le=n(1053),Re=n(147),ze=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).toggle=function(){r.props.toggle()},r.openFileInput=function(){r.fileInputRef.current.click()},r.uploadFile=function(e){if(r.fileInputRef.current.files.length){var t=r.fileInputRef.current.files[0].name;if("xlsx"==t.substr(t.lastIndexOf(".")+1)){var n=r.fileInputRef.current.files[0];r.props.importUsersInBatch(n),r.toggle()}else r.setState({errorMsg:Object(h.pb)("Please choose a .xlsx file.")})}},r.state={errorMsg:""},r.fileInputRef=c.a.createRef(),r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.state.errorMsg;return Object(b.jsxs)(Pe.a,{isOpen:!0,toggle:this.toggle,children:[Object(b.jsx)(Fe.a,{toggle:this.toggle,children:Object(h.pb)("Import users from a .xlsx file")}),Object(b.jsxs)(Te.a,{children:[Object(b.jsx)("p",{children:Object(b.jsx)("a",{className:"text-secondary small",href:"".concat(h.qc,"useradmin/batchadduser/example/"),children:Object(h.pb)("Download an example file")})}),Object(b.jsx)("button",{className:"btn btn-outline-primary",onClick:this.openFileInput,children:Object(h.pb)("Upload file")}),Object(b.jsx)("input",{className:"d-none",type:"file",onChange:this.uploadFile,ref:this.fileInputRef}),e&&Object(b.jsx)(Le.a,{color:"danger",children:e})]}),Object(b.jsx)(Re.a,{children:Object(b.jsx)(w.a,{color:"secondary",onClick:this.toggle,children:Object(h.pb)("Cancel")})})]})}}]),n}(c.a.Component),Ue=n(1051),Ee=n(1052),Ve=n(1826),Be=n(1827),We=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleSubmit=function(){if(r.validateInputParams()){var e=r.state,t=e.email,n=e.name,a=e.password;r.setState({isAddingUser:!0}),r.props.handleSubmit(t,n.trim(),a)}},r.handleKeyPress=function(e){e.preventDefault(),"Enter"==e.key&&r.handleSubmit(e)},r.togglePasswordVisible=function(){r.setState({isPasswordVisible:!r.state.isPasswordVisible},(function(){r.state.isPasswordVisible?(r.passwdInput.type="password",r.passwdNewInput.type="password"):(r.passwdInput.type="text",r.passwdNewInput.type="text")}))},r.generatePassword=function(){var e=Math.random().toString(36).substr(5);r.setState({password:e,passwdnew:e,isPasswordVisible:!1},(function(){r.passwdInput.type="text",r.passwdNewInput.type="text"}))},r.inputEmail=function(e){var t=e.target.value.trim();r.setState({email:t})},r.inputName=function(e){var t=e.target.value;r.setState({name:t})},r.inputPassword=function(e){var t=e.target.value.trim();r.setState({password:t},(function(){r.state.isPasswordVisible&&(r.passwdInput.type="password",r.passwdNewInput.type="password")}))},r.inputPasswordNew=function(e){var t=e.target.value.trim();r.setState({passwdnew:t},(function(){r.state.isPasswordVisible&&(r.passwdInput.type="password",r.passwdNewInput.type="password")}))},r.toggle=function(){r.props.toggle()},r.state={isPasswordVisible:!0,email:"",name:"",password:"",passwdnew:"",errMessage:"",isAddingUser:!1},r.passwdInput=c.a.createRef(),r.passwdNewInput=c.a.createRef(),r}return Object(r.a)(n,[{key:"validateInputParams",value:function(){var e;if(!this.state.email.length)return e=Object(h.pb)("email is required"),this.setState({errMessage:e}),!1;if(!this.state.name.trim().length)return e=Object(h.pb)("Name is required"),this.setState({errMessage:e}),!1;var t=this.state.password,n=this.state.passwdnew;return t.length?n.length?t===n||(e=Object(h.pb)("Passwords don't match"),this.setState({errMessage:e}),!1):(e=Object(h.pb)("Please enter the password again"),this.setState({errMessage:e}),!1):(e=Object(h.pb)("Please enter password"),this.setState({errMessage:e}),!1)}},{key:"render",value:function(){var e=this;return Object(b.jsxs)(Pe.a,{isOpen:!0,toggle:this.toggle,children:[Object(b.jsx)(Fe.a,{toggle:this.toggle,children:Object(h.pb)("Add User")}),Object(b.jsxs)(Te.a,{children:[Object(b.jsxs)(Ue.a,{children:[Object(b.jsxs)(Ee.a,{children:[Object(b.jsx)(me.a,{for:"userEmail",children:Object(h.pb)("Email")}),Object(b.jsx)(H.a,{id:"userEmail",value:this.state.email||"",onChange:this.inputEmail})]}),Object(b.jsxs)(Ee.a,{children:[Object(b.jsx)(me.a,{for:"userName",children:Object(h.pb)("Name")}),Object(b.jsx)(H.a,{id:"userName",value:this.state.name||"",onChange:this.inputName})]}),Object(b.jsxs)(Ee.a,{children:[Object(b.jsx)(me.a,{for:"userPwd",children:Object(h.pb)("Password")}),Object(b.jsxs)(Ve.a,{className:"passwd",children:[Object(b.jsx)(H.a,{id:"userPwd",innerRef:function(t){e.passwdInput=t},value:this.state.password||"",onChange:this.inputPassword}),Object(b.jsxs)(Be.a,{addonType:"append",children:[Object(b.jsx)(w.a,{onClick:this.togglePasswordVisible,children:Object(b.jsx)("i",{className:"link-operation-icon fas ".concat(this.state.isPasswordVisible?"fa-eye-slash":"fa-eye")})}),Object(b.jsx)(w.a,{onClick:this.generatePassword,children:Object(b.jsx)("i",{className:"link-operation-icon fas fa-magic"})})]})]})]}),Object(b.jsxs)(Ee.a,{children:[Object(b.jsx)(me.a,{for:"userPwdNew",children:Object(h.pb)("Confirm Password")}),Object(b.jsx)(H.a,{id:"userPwdNew",innerRef:function(t){e.passwdNewInput=t},className:"passwd",value:this.state.passwdnew||"",onChange:this.inputPasswordNew})]})]}),this.state.errMessage&&Object(b.jsx)(me.a,{className:"err-message",children:this.state.errMessage})]}),Object(b.jsx)(Re.a,{children:Object(b.jsx)(w.a,{color:"primary",disabled:this.state.isAddingUser,onClick:this.handleSubmit,className:this.state.isAddingUser?"btn-loading":"",children:Object(h.pb)("Submit")})})]})}}]),n}(c.a.Component),qe=n(161),He=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).copyLink=function(){Object(qe.a)(r.props.invitationLink),r.props.toggle();var e=Object(h.pb)("Internal link has been copied to clipboard");V.a.success(e)},r}return Object(r.a)(n,[{key:"render",value:function(){return Object(b.jsxs)(Pe.a,{isOpen:!0,children:[Object(b.jsx)(Fe.a,{toggle:this.props.toggle,children:Object(h.pb)("Invite user")}),Object(b.jsxs)(Te.a,{children:[Object(b.jsx)("p",{children:Object(h.pb)("Send the invitation link to the others, and they will be able to join the organization via scanning the QR code.")}),Object(b.jsx)("p",{children:this.props.invitationLink})]}),Object(b.jsx)(Re.a,{children:Object(b.jsx)(w.a,{color:"primary",onClick:this.copyLink,children:Object(h.pb)("Copy")})})]})}}]),n}(c.a.Component);j.a.locale(h.Db);var Ye=function e(t){Object(a.a)(this,e),this.id=t.id,this.name=t.name,this.email=t.email,this.contact_email=t.owner_contact_email,this.is_active=t.is_active,this.quota_usage=t.quota_usage,this.quota_total=t.quota_total,this.last_login=t.last_login?j()(t.last_login).fromNow():"--",this.ctime=j()(t.ctime).format("YYYY-MM-DD HH:mm:ss")},Ge=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleInputChange=function(e){r.setState({value:e.target.value})},r.handleKeyPress=function(e){"Enter"==e.key&&(e.preventDefault(),r.handleSubmit())},r.handleSubmit=function(){var e=r.state.value.trim();if(!e)return!1;r.props.submit(e)},r.state={value:""},r}return Object(r.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"input-icon",children:[Object(b.jsx)("i",{className:"d-flex input-icon-addon fas fa-search"}),Object(b.jsx)("input",{type:"text",className:"form-control search-input h-6 mr-1",style:{width:"15rem"},placeholder:this.props.placeholder,value:this.state.value,onChange:this.handleInputChange,onKeyPress:this.handleKeyPress,autoComplete:"off"})]})}}]),n}(c.a.Component),Ke=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).sortByQuotaUsage=function(){r.setState({sortBy:"quota_usage",sortOrder:"asc"==r.state.sortOrder?"desc":"asc",page:1},(function(){var e=new URL(location.href),t=new URLSearchParams(e.search),n=r.state,a=n.page,i=n.sortBy,o=n.sortOrder;t.set("page",a),t.set("order_by",i),t.set("direction",o),e.search=t.toString(),Object(u.c)(e.toString()),r.initOrgUsersData(a)}))},r.toggleImportOrgUsersDialog=function(){r.setState({isImportOrgUsersDialogOpen:!r.state.isImportOrgUsersDialogOpen})},r.toggleAddOrgUser=function(){r.setState({isShowAddOrgUserDialog:!r.state.isShowAddOrgUserDialog})},r.toggleInviteUserDialog=function(){r.setState({isInviteUserDialogOpen:!r.state.isInviteUserDialogOpen})},r.initOrgUsersData=function(e){var t=r.state,n=t.sortBy,a=t.sortOrder;L.b.orgAdminListOrgUsers(h.Vb,"",e,n,a).then((function(e){var t=e.data.user_list.map((function(e){return new Ye(e)}));r.setState({orgUsers:t,pageNext:e.data.page_next,page:e.data.page})})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.importOrgUsers=function(e){V.a.notify(Object(h.pb)("It may take some time, please wait.")),L.b.orgAdminImportUsersViaFile(h.Vb,e).then((function(e){if(e.data.success.length){var t=e.data.success.map((function(e){return void 0==e.institution&&(e.institution=""),new Ye(e)}));r.setState({orgUsers:t.concat(r.state.orgUsers)})}e.data.failed.map((function(e){var t="".concat(e.email,": ").concat(e.error_msg);V.a.danger(t)}))})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.addOrgUser=function(e,t,n){L.b.orgAdminAddOrgUser(h.Vb,e,t,n).then((function(t){var n=new Ye(t.data);r.state.orgUsers.unshift(n),r.setState({orgUsers:r.state.orgUsers}),r.toggleAddOrgUser();var a=Object(h.pb)("successfully added user %s.");a=a.replace("%s",e),V.a.success(a)})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t),r.toggleAddOrgUser()}))},r.toggleOrgUsersDelete=function(e){L.b.orgAdminDeleteOrgUser(h.Vb,e).then((function(t){var n=r.state.orgUsers.filter((function(t){return t.email!=e}));r.setState({orgUsers:n});var a=Object(h.pb)("Successfully deleted %s");a=a.replace("%s",e),V.a.success(a)})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.changeStatus=function(e,t){L.b.orgAdminChangeOrgUserStatus(h.Vb,e,t).then((function(t){var n=r.state.orgUsers.map((function(n){return n.email==e&&(n.is_active=t.data.is_active),n}));r.setState({orgUsers:n}),V.a.success(Object(h.pb)("Edit succeeded."))})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.searchItems=function(e){Object(u.c)("".concat(h.qc,"org/useradmin/search-users/?query=").concat(encodeURIComponent(e)))},r.getSearch=function(){return Object(b.jsx)(Ge,{placeholder:Object(h.pb)("Search users"),submit:r.searchItems})},r.state={orgUsers:[],page:1,pageNext:!1,sortBy:"",sortOrder:"asc",isShowAddOrgUserDialog:!1,isImportOrgUsersDialogOpen:!1,isInviteUserDialogOpen:!1},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=new URL(window.location).searchParams,n=this.state,a=n.page,r=n.sortBy,i=n.sortOrder;this.setState({page:parseInt(t.get("page")||a),sortBy:t.get("order_by")||r,sortOrder:t.get("direction")||i},(function(){e.initOrgUsersData(e.state.page)}))}},{key:"render",value:function(){var e,t="btn btn-secondary operation-item";return e=Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)("button",{className:"btn btn-secondary operation-item",onClick:this.toggleImportOrgUsersDialog,children:Object(h.pb)("Import Users")}),Object(b.jsxs)("button",{className:t,title:Object(h.pb)("Add User"),onClick:this.toggleAddOrgUser,children:[Object(b.jsx)("i",{className:"fas fa-plus-square text-secondary mr-1"}),Object(h.pb)("Add User")]}),h.vb&&Object(b.jsxs)("button",{className:t,title:Object(h.pb)("Invite user"),onClick:this.toggleInviteUserDialog,children:[Object(b.jsx)("i",{className:"fas fa-plus-square text-secondary mr-1"}),Object(h.pb)("Invite user")]}),this.state.isImportOrgUsersDialogOpen&&Object(b.jsx)(Ae.a,{children:Object(b.jsx)(ze,{importUsersInBatch:this.importOrgUsers,toggle:this.toggleImportOrgUsersDialog})}),this.state.isShowAddOrgUserDialog&&Object(b.jsx)(Ae.a,{children:Object(b.jsx)(We,{handleSubmit:this.addOrgUser,toggle:this.toggleAddOrgUser})}),this.state.isInviteUserDialogOpen&&Object(b.jsx)(Ae.a,{children:Object(b.jsx)(He,{invitationLink:h.vb,toggle:this.toggleInviteUserDialog})})]}),Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(x,{children:e,search:this.getSearch()}),Object(b.jsx)("div",{className:"main-panel-center flex-row",children:Object(b.jsxs)("div",{className:"cur-view-container",children:[Object(b.jsx)(ye,{currentItem:"all"}),Object(b.jsx)(_e,{initOrgUsersData:this.initOrgUsersData,toggleDelete:this.toggleOrgUsersDelete,changeStatus:this.changeStatus,orgUsers:this.state.orgUsers,page:this.state.page,pageNext:this.state.pageNext,sortBy:this.state.sortBy,sortOrder:this.state.sortOrder,sortByQuotaUsage:this.sortByQuotaUsage})]})})]})}}]),n}(s.Component),Qe=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).onFreezedItem=function(){r.setState({isItemFreezed:!0})},r.onUnfreezedItem=function(){r.setState({isItemFreezed:!1})},r.state={isItemFreezed:!1},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props.orgUsers;return Object(b.jsx)("div",{className:"cur-view-content",children:Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{width:"30%",children:Object(h.pb)("Name")}),Object(b.jsx)("th",{width:"15%",children:Object(h.pb)("Status")}),Object(b.jsxs)("th",{width:"20%",children:[Object(b.jsx)("a",{className:"d-inline-block table-sort-op",href:"#",children:Object(h.pb)("Space Used")})," / ",Object(h.pb)("Quota")]}),Object(b.jsxs)("th",{width:"25%",children:[Object(h.pb)("Created At")," / ",Object(h.pb)("Last Login")]}),Object(b.jsx)("th",{width:"10%"})]})}),Object(b.jsx)("tbody",{children:t.map((function(t,n){return Object(b.jsx)(Ne,{user:t,currentTab:"users",isItemFreezed:e.state.isItemFreezed,toggleDelete:e.props.toggleDelete,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem},n)}))})]})})}}]),n}(c.a.Component),Xe=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).getItems=function(){L.b.orgAdminSearchUser(h.Vb,r.state.query.trim()).then((function(e){var t=e.data.user_list.map((function(e){return new Ye(e)}));r.setState({orgUsers:t,loading:!1})})).catch((function(e){r.setState({loading:!1,errorMsg:z.a.getErrorMsg(e,!0)})}))},r.deleteUser=function(e){L.b.orgAdminDeleteOrgUser(h.Vb,e).then((function(t){var n=r.state.orgUsers.filter((function(t){return t.email!=e}));r.setState({orgUsers:n}),V.a.success(Object(h.pb)("Successfully deleted 1 item."))})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.updateUser=function(e,t,n){L.b.sysAdminUpdateUser(e,t,n).then((function(a){var i=r.state.orgUsers.map((function(n){return n.email==e&&(n[t]=a.data[t]),n}));r.setState({orgUsers:i});var o="is_active"==t&&n?a.data.update_status_tip:Object(h.pb)("Edit succeeded");V.a.success(o)})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.handleInputChange=function(e){r.setState({query:e.target.value},r.checkSubmitBtnActive)},r.checkSubmitBtnActive=function(){var e=r.state.query;r.setState({isSubmitBtnActive:e.trim()})},r.handleKeyDown=function(e){13===e.keyCode&&(r.state.isSubmitBtnActive&&r.getItems())},r.state={query:"",orgUsers:[],org_id:"",isSubmitBtnActive:!1,loading:!0,errorMsg:""},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=new URL(document.location).searchParams;this.setState({query:t.get("query")||""},(function(){e.getItems()}))}},{key:"render",value:function(){var e=this.state,t=e.query,n=e.isSubmitBtnActive;return Object(b.jsx)(s.Fragment,{children:Object(b.jsx)("div",{className:"main-panel-center flex-row",children:Object(b.jsxs)("div",{className:"cur-view-container",children:[Object(b.jsx)("div",{className:"cur-view-path",children:Object(b.jsx)("h3",{className:"sf-heading",children:Object(h.pb)("Users")})}),Object(b.jsxs)("div",{className:"cur-view-content",children:[Object(b.jsxs)("div",{className:"mt-4 mb-6",children:[Object(b.jsx)("h4",{className:"border-bottom font-weight-normal mb-2 pb-1",children:Object(h.pb)("Search Users")}),Object(b.jsxs)(Ue.a,{tag:"div",children:[Object(b.jsx)(Ee.a,{row:!0,children:Object(b.jsx)(fe.a,{sm:5,children:Object(b.jsx)(H.a,{type:"text",name:"query",value:t,placeholder:Object(h.pb)("Search users"),onChange:this.handleInputChange,onKeyDown:this.handleKeyDown})})}),Object(b.jsx)(Ee.a,{row:!0,children:Object(b.jsx)(fe.a,{sm:{size:5},children:Object(b.jsx)("button",{className:"btn btn-outline-primary",disabled:!n,onClick:this.getItems,children:Object(h.pb)("Submit")})})})]})]}),Object(b.jsxs)("div",{className:"mt-4 mb-6",children:[Object(b.jsx)("h4",{className:"border-bottom font-weight-normal mb-2 pb-1",children:Object(h.pb)("Result")}),Object(b.jsx)(Qe,{toggleDelete:this.deleteUser,orgUsers:this.state.orgUsers})]})]})]})})})}}]),n}(s.Component),Je=(n(1785),function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).onFreezedItem=function(){r.setState({isItemFreezed:!0})},r.onUnfreezedItem=function(){r.setState({isItemFreezed:!1})},r.state={isItemFreezed:!1},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.props.initOrgAdmin()}},{key:"render",value:function(){var e=this,t=this.props.orgAdminUsers;return Object(b.jsx)("div",{className:"cur-view-content",children:Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{width:"30%",children:Object(h.pb)("Name")}),Object(b.jsx)("th",{width:"15%",children:Object(h.pb)("Status")}),Object(b.jsxs)("th",{width:"20%",children:[Object(h.pb)("Space Used")," / ",Object(h.pb)("Quota")]}),Object(b.jsxs)("th",{width:"25%",children:[Object(h.pb)("Created At")," / ",Object(h.pb)("Last Login")]}),Object(b.jsx)("th",{width:"10%"})]})}),Object(b.jsx)("tbody",{children:t.map((function(t){return Object(b.jsx)(Ne,{user:t,currentTab:"admins",isItemFreezed:e.state.isItemFreezed,toggleDelete:e.props.toggleDelete,toggleRevokeAdmin:e.props.toggleRevokeAdmin,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem},t.index)}))})]})})}}]),n}(c.a.Component)),Ze=n(75),$e=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleSelectChange=function(e){r.setState({selectedOption:e,errMessage:""}),r.options=[]},r.addOrgAdmin=function(){if(r.state.selectedOption){var e=r.state.selectedOption.email;L.b.orgAdminSetOrgAdmin(h.Vb,e,!0).then((function(e){var t=new Ye(e.data);r.props.onAddedOrgAdmin(t)})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))}},r.toggle=function(){r.props.toggle()},r.state={selectedOption:null,errMessage:""},r.options=[],r}return Object(r.a)(n,[{key:"render",value:function(){return Object(b.jsxs)(Pe.a,{isOpen:!0,toggle:this.toggle,children:[Object(b.jsx)(Fe.a,{toggle:this.toggle,children:Object(h.pb)("Add Admins")}),Object(b.jsxs)(Te.a,{children:[Object(b.jsx)(Ze.a,{ref:"userSelect",isMulti:!1,className:"reviewer-select",placeholder:Object(h.pb)("Select a user as admin..."),onSelectChange:this.handleSelectChange}),this.state.errMessage&&Object(b.jsx)(Le.a,{color:"danger",className:"mt-2",children:this.state.errMessage})]}),Object(b.jsxs)(Re.a,{children:[Object(b.jsx)(w.a,{color:"secondary",onClick:this.toggle,children:Object(h.pb)("Close")}),Object(b.jsx)(w.a,{color:"primary",onClick:this.addOrgAdmin,children:Object(h.pb)("Submit")})]})]})}}]),n}(c.a.Component),et=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).toggleAddOrgAdmin=function(){r.setState({isShowAddOrgAdminDialog:!r.state.isShowAddOrgAdminDialog})},r.initOrgAdmin=function(){L.b.orgAdminListOrgUsers(h.Vb,!0).then((function(e){var t=e.data.user_list.map((function(e){return new Ye(e)}));r.setState({orgAdminUsers:t})})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.toggleOrgAdminDelete=function(e){L.b.orgAdminDeleteOrgUser(h.Vb,e).then((function(t){r.setState({orgAdminUsers:r.state.orgAdminUsers.filter((function(t){return t.email!=e}))});var n=Object(h.pb)("Successfully deleted %s");n=n.replace("%s",e),V.a.success(n)})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.toggleRevokeAdmin=function(e){L.b.orgAdminSetOrgAdmin(h.Vb,e,!1).then((function(t){r.setState({orgAdminUsers:r.state.orgAdminUsers.filter((function(t){return t.email!=e}))});var n=Object(h.pb)("Successfully revoke the admin permission of %s");n=n.replace("%s",t.data.name),V.a.success(n)})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.onAddedOrgAdmin=function(e){r.state.orgAdminUsers.unshift(e),r.setState({orgAdminUsers:r.state.orgAdminUsers});var t=Object(h.pb)("Successfully set %s as admin.");t=t.replace("%s",e.email),V.a.success(t),r.toggleAddOrgAdmin()},r.state={orgAdminUsers:[],isShowAddOrgAdminDialog:!1},r}return Object(r.a)(n,[{key:"render",value:function(){var e;return e=Object(b.jsxs)(s.Fragment,{children:[Object(b.jsxs)("button",{className:"btn btn-secondary operation-item",title:Object(h.pb)("Add admin"),onClick:this.toggleAddOrgAdmin,children:[Object(b.jsx)("i",{className:"fas fa-plus-square text-secondary mr-1"}),Object(h.pb)("Add admin")]}),this.state.isShowAddOrgAdminDialog&&Object(b.jsx)(Ae.a,{children:Object(b.jsx)($e,{toggle:this.toggleAddOrgAdmin,onAddedOrgAdmin:this.onAddedOrgAdmin})})]}),Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(x,{children:e}),Object(b.jsx)("div",{className:"main-panel-center flex-row",children:Object(b.jsxs)("div",{className:"cur-view-container",children:[Object(b.jsx)(ye,{currentItem:"admins"}),Object(b.jsx)(Je,{currentTab:"admins",toggleDelete:this.toggleOrgAdminDelete,toggleRevokeAdmin:this.toggleRevokeAdmin,orgAdminUsers:this.state.orgAdminUsers,initOrgAdmin:this.initOrgAdmin})]})})]})}}]),n}(s.Component),tt=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.email,n=e.currentItem,a="".concat(h.qc,"org/useradmin/info/").concat(encodeURIComponent(t),"/");return Object(b.jsx)("div",{className:"cur-view-path org-admin-user-nav",children:Object(b.jsxs)("ul",{className:"nav",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(u.a,{to:a,className:"nav-link".concat("profile"==n?" active":""),children:Object(h.pb)("Profile")})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(u.a,{to:"".concat(a,"repos/"),className:"nav-link".concat("owned-repos"==n?" active":""),children:Object(h.pb)("Owned Libraries")})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(u.a,{to:"".concat(a,"shared-repos/"),className:"nav-link".concat("shared-repos"==n?" active":""),children:Object(h.pb)("Shared Libraries")})})]})})}}]),n}(c.a.Component),nt=tt,at=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleInputChange=function(e){r.setState({inputValue:e.target.value})},r.formSubmit=function(){var e=r.props,t=e.orgID,n=e.email,a=r.state.inputValue.trim();r.setState({submitBtnDisabled:!0}),L.b.orgAdminSetOrgUserName(t,n,a).then((function(e){var t=a?e.data.name:"";r.props.updateName(t),r.props.toggleDialog()})).catch((function(e){var t=z.a.getErrorMsg(e);r.setState({formErrorMsg:t,submitBtnDisabled:!1})}))},r.state={inputValue:r.props.name,submitBtnDisabled:!1},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.state,t=e.inputValue,n=e.formErrorMsg,a=e.submitBtnDisabled;return Object(b.jsxs)(Pe.a,{isOpen:!0,centered:!0,toggle:this.props.toggleDialog,children:[Object(b.jsx)(Fe.a,{toggle:this.props.toggleDialog,children:Object(h.pb)("Set user name")}),Object(b.jsx)(Te.a,{children:Object(b.jsxs)(c.a.Fragment,{children:[Object(b.jsx)("input",{type:"text",className:"form-control",value:t,onChange:this.handleInputChange}),n&&Object(b.jsx)("p",{className:"error m-0 mt-2",children:n})]})}),Object(b.jsxs)(Re.a,{children:[Object(b.jsx)("button",{className:"btn btn-secondary",onClick:this.props.toggleDialog,children:Object(h.pb)("Cancel")}),Object(b.jsx)("button",{className:"btn btn-primary",disabled:a,onClick:this.formSubmit,children:Object(h.pb)("Submit")})]})]})}}]),n}(c.a.Component),rt=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleInputChange=function(e){r.setState({inputValue:e.target.value})},r.formSubmit=function(){var e=r.props,t=e.orgID,n=e.email,a=r.state.inputValue.trim();r.setState({submitBtnDisabled:!0}),L.b.orgAdminSetOrgUserContactEmail(t,n,a).then((function(e){var t=a?e.data.contact_email:"";r.props.updateContactEmail(t),r.props.toggleDialog()})).catch((function(e){var t=z.a.getErrorMsg(e);r.setState({formErrorMsg:t,submitBtnDisabled:!1})}))},r.state={inputValue:r.props.contactEmail,submitBtnDisabled:!1},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.state,t=e.inputValue,n=e.formErrorMsg,a=e.submitBtnDisabled;return Object(b.jsxs)(Pe.a,{isOpen:!0,centered:!0,toggle:this.props.toggleDialog,children:[Object(b.jsx)(Fe.a,{toggle:this.props.toggleDialog,children:Object(h.pb)("Set user contact email")}),Object(b.jsx)(Te.a,{children:Object(b.jsxs)(c.a.Fragment,{children:[Object(b.jsx)("input",{type:"text",className:"form-control",value:t,onChange:this.handleInputChange}),n&&Object(b.jsx)("p",{className:"error m-0 mt-2",children:n})]})}),Object(b.jsxs)(Re.a,{children:[Object(b.jsx)("button",{className:"btn btn-secondary",onClick:this.props.toggleDialog,children:Object(h.pb)("Cancel")}),Object(b.jsx)("button",{className:"btn btn-primary",disabled:a,onClick:this.formSubmit,children:Object(h.pb)("Submit")})]})]})}}]),n}(c.a.Component),it=n(941),ot=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;Object(a.a)(this,n),(r=t.call(this,e)).handleInputChange=function(e){r.setState({inputValue:e.target.value})},r.formSubmit=function(){var e=r.props,t=e.orgID,n=e.email,a=r.state.inputValue.trim();if(!a)return r.setState({formErrorMsg:Object(h.pb)("It is required.")}),!1;r.setState({submitBtnDisabled:!0}),L.b.orgAdminSetOrgUserQuota(t,n,a).then((function(e){r.props.updateQuota(e.data.quota_total),r.props.toggleDialog()})).catch((function(e){var t=z.a.getErrorMsg(e);r.setState({formErrorMsg:t,submitBtnDisabled:!1})}))};var i=r.props.quotaTotal<0?"":r.props.quotaTotal/1e6;return r.state={inputValue:i,submitBtnDisabled:!1},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.state,t=e.inputValue,n=e.formErrorMsg,a=e.submitBtnDisabled;return Object(b.jsxs)(Pe.a,{isOpen:!0,centered:!0,toggle:this.props.toggleDialog,children:[Object(b.jsx)(Fe.a,{toggle:this.props.toggleDialog,children:Object(h.pb)("Set user quota")}),Object(b.jsx)(Te.a,{children:Object(b.jsxs)(c.a.Fragment,{children:[Object(b.jsxs)(Ve.a,{children:[Object(b.jsx)("input",{type:"text",className:"form-control",value:t,onChange:this.handleInputChange}),Object(b.jsx)(Be.a,{addonType:"append",children:Object(b.jsx)(it.a,{children:"MB"})})]}),Object(b.jsx)("p",{className:"small text-secondary mt-2 mb-2",children:Object(h.pb)("Tip: 0 means default limit")}),n&&Object(b.jsx)("p",{className:"error m-0 mt-2",children:n})]})}),Object(b.jsxs)(Re.a,{children:[Object(b.jsx)("button",{className:"btn btn-secondary",onClick:this.props.toggleDialog,children:Object(h.pb)("Cancel")}),Object(b.jsx)("button",{className:"btn btn-primary",disabled:a,onClick:this.formSubmit,children:Object(h.pb)("Submit")})]})]})}}]),n}(c.a.Component),st=(n(280),window.org.pageOptions),ct=st.orgID,lt=st.orgName,dt=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).updateName=function(e){r.setState({name:e})},r.updateContactEmail=function(e){r.setState({contact_email:e})},r.updateQuota=function(e){r.setState({quota_total:e})},r.state={loading:!0,errorMsg:""},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=decodeURIComponent(this.props.email);L.b.orgAdminGetOrgUserInfo(ct,t).then((function(t){e.setState(Object.assign({loading:!1},t.data))})).catch((function(t){e.setState({loading:!1,errorMsg:z.a.getErrorMsg(t,!0)})}))}},{key:"render",value:function(){return Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(x,{}),Object(b.jsx)("div",{className:"main-panel-center flex-row",children:Object(b.jsxs)("div",{className:"cur-view-container",children:[Object(b.jsx)(nt,{email:this.props.email,currentItem:"profile"}),Object(b.jsx)("div",{className:"cur-view-content",children:Object(b.jsx)(ut,{data:this.state,updateName:this.updateName,updateContactEmail:this.updateContactEmail,updateQuota:this.updateQuota})})]})})]})}}]),n}(s.Component),ut=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).toggleSetNameDialog=function(){r.setState({isSetNameDialogOpen:!r.state.isSetNameDialogOpen})},r.toggleSetContactEmailDialog=function(){r.setState({isSetContactEmailDialogOpen:!r.state.isSetContactEmailDialogOpen})},r.toggleSetQuotaDialog=function(){r.setState({isSetQuotaDialogOpen:!r.state.isSetQuotaDialogOpen})},r.state={isSetNameDialogOpen:!1,isSetContactEmailDialogOpen:!1,isSetQuotaDialogOpen:!1},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.data,t=e.loading,n=e.errorMsg,a=e.avatar_url,r=e.email,i=e.contact_email,o=e.name,c=e.quota_total,l=e.quota_usage,d=this.state,u=d.isSetNameDialogOpen,p=d.isSetContactEmailDialogOpen,g=d.isSetQuotaDialogOpen;return t?Object(b.jsx)(E.a,{}):n?Object(b.jsx)("p",{className:"error text-center",children:n}):Object(b.jsxs)(s.Fragment,{children:[Object(b.jsxs)("dl",{children:[Object(b.jsx)("dt",{children:Object(h.pb)("Avatar")}),Object(b.jsx)("dd",{children:Object(b.jsx)("img",{src:a,width:"48",height:"48",className:"rounded",alt:""})}),Object(b.jsx)("dt",{children:"ID"}),Object(b.jsx)("dd",{children:r}),Object(b.jsx)("dt",{children:Object(h.pb)("Name")}),Object(b.jsxs)("dd",{children:[o||"--",Object(b.jsx)("span",{title:Object(h.pb)("Edit"),className:"attr-action-icon fa fa-pencil-alt",onClick:this.toggleSetNameDialog})]}),Object(b.jsx)("dt",{children:Object(h.pb)("Contact Email")}),Object(b.jsxs)("dd",{children:[i||"--",Object(b.jsx)("span",{title:Object(h.pb)("Edit"),className:"attr-action-icon fa fa-pencil-alt",onClick:this.toggleSetContactEmailDialog})]}),Object(b.jsx)("dt",{children:Object(h.pb)("Organization")}),Object(b.jsx)("dd",{children:lt}),Object(b.jsx)("dt",{children:Object(h.pb)("Space Used / Quota")}),Object(b.jsxs)("dd",{children:["".concat(z.a.bytesToSize(l)).concat(c>0?" / "+z.a.bytesToSize(c):""),Object(b.jsx)("span",{title:Object(h.pb)("Edit"),className:"attr-action-icon fa fa-pencil-alt",onClick:this.toggleSetQuotaDialog})]})]}),u&&Object(b.jsx)(at,{orgID:ct,email:r,name:o,updateName:this.props.updateName,toggleDialog:this.toggleSetNameDialog}),p&&Object(b.jsx)(rt,{orgID:ct,email:r,contactEmail:i,updateContactEmail:this.props.updateContactEmail,toggleDialog:this.toggleSetContactEmailDialog}),g&&Object(b.jsx)(ot,{orgID:ct,email:r,quotaTotal:c,updateQuota:this.props.updateQuota,toggleDialog:this.toggleSetQuotaDialog})]})}}]),n}(s.Component),ht=dt,pt=n(185),bt=window.org.pageOptions.orgID,gt=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={loading:!0,errorMsg:""},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=decodeURIComponent(this.props.email);L.b.orgAdminGetOrgUserOwnedRepos(bt,t).then((function(t){e.setState(Object.assign({loading:!1},t.data))})).catch((function(t){e.setState({loading:!1,errorMsg:z.a.getErrorMsg(t,!0)})}))}},{key:"render",value:function(){return Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(x,{}),Object(b.jsx)("div",{className:"main-panel-center flex-row",children:Object(b.jsxs)("div",{className:"cur-view-container",children:[Object(b.jsx)(nt,{email:this.props.email,currentItem:"owned-repos"}),Object(b.jsx)("div",{className:"cur-view-content",children:Object(b.jsx)(ft,{data:this.state})})]})})]})}}]),n}(s.Component),ft=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.data,t=e.loading,n=e.errorMsg,a=e.repo_list;return t?Object(b.jsx)(E.a,{}):n?Object(b.jsx)("p",{className:"error text-center",children:n}):Object(b.jsx)(s.Fragment,{children:Object(b.jsxs)("table",{className:"table-hover",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{width:"4%"}),Object(b.jsx)("th",{width:"35%",children:Object(h.pb)("Name")}),Object(b.jsx)("th",{width:"16%",children:Object(h.pb)("Size")}),Object(b.jsx)("th",{width:"25%",children:Object(h.pb)("Last Update")}),Object(b.jsx)("th",{width:"20%"})]})}),Object(b.jsx)("tbody",{children:a.map((function(e,t){return Object(b.jsx)(mt,{data:e},t)}))})]})})}}]),n}(s.Component),mt=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleMouseOver=function(){r.setState({isOpIconShown:!0})},r.handleMouseOut=function(){r.setState({isOpIconShown:!1})},r.handleDeleteIconClick=function(e){e.preventDefault(),r.toggleDeleteRepoDialog()},r.toggleDeleteRepoDialog=function(){r.setState({isDeleteRepoDialogOpen:!r.state.isDeleteRepoDialogOpen})},r.deleteRepo=function(){var e=r.props.data;L.b.orgAdminDeleteOrgRepo(bt,e.repo_id).then((function(t){r.setState({deleted:!0,isRepoDeleted:!0});var n=Object(h.pb)("Successfully deleted {name}.").replace("{name}",e.repo_name);V.a.success(n)})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t),r.setState({isRepoDeleted:!1})}))},r.state={isOpIconShown:!1,deleted:!1,isDeleteRepoDialogOpen:!1,isRepoDeleted:!1},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.state,t=e.deleted,n=e.isOpIconShown,a=e.isDeleteRepoDialogOpen,r=this.props.data;return t?null:Object(b.jsxs)(s.Fragment,{children:[Object(b.jsxs)("tr",{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,children:[Object(b.jsx)("td",{children:Object(b.jsx)("img",{src:z.a.getLibIconUrl(r,!1),alt:z.a.getLibIconTitle(r),title:z.a.getLibIconTitle(r),width:"24"})}),Object(b.jsx)("td",{children:r.repo_name}),Object(b.jsx)("td",{children:z.a.bytesToSize(r.size)}),Object(b.jsx)("td",{title:j()(r.last_modified).format("LLLL"),children:j()(r.last_modified).format("YYYY-MM-DD")}),Object(b.jsx)("td",{children:Object(b.jsx)("a",{href:"#",className:"action-icon sf2-icon-delete".concat(n?"":" invisible"),title:Object(h.pb)("Delete"),onClick:this.handleDeleteIconClick})})]}),a&&Object(b.jsx)(pt.a,{repo:r,isRepoDeleted:this.state.isRepoDeleted,onDeleteRepo:this.deleteRepo,toggle:this.toggleDeleteRepoDialog})]})}}]),n}(s.Component),jt=gt,vt=window.org.pageOptions.orgID,Ot=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={loading:!0,errorMsg:""},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=decodeURIComponent(this.props.email);L.b.orgAdminGetOrgUserBesharedRepos(vt,t).then((function(t){e.setState(Object.assign({loading:!1},t.data))})).catch((function(t){e.setState({loading:!1,errorMsg:z.a.getErrorMsg(t,!0)})}))}},{key:"render",value:function(){return Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(x,{}),Object(b.jsx)("div",{className:"main-panel-center flex-row",children:Object(b.jsxs)("div",{className:"cur-view-container",children:[Object(b.jsx)(nt,{email:this.props.email,currentItem:"shared-repos"}),Object(b.jsx)("div",{className:"cur-view-content",children:Object(b.jsx)(xt,{data:this.state})})]})})]})}}]),n}(s.Component),xt=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.data,t=e.loading,n=e.errorMsg,a=e.repo_list;return t?Object(b.jsx)(E.a,{}):n?Object(b.jsx)("p",{className:"error text-center",children:n}):Object(b.jsxs)("table",{className:"table-hover",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{width:"4%"}),Object(b.jsx)("th",{width:"30%",children:Object(h.pb)("Name")}),Object(b.jsx)("th",{width:"26%",children:Object(h.pb)("Owner")}),Object(b.jsx)("th",{width:"15%",children:Object(h.pb)("Size")}),Object(b.jsx)("th",{width:"25%",children:Object(h.pb)("Last Update")})]})}),Object(b.jsx)("tbody",{children:a.map((function(e,t){return Object(b.jsx)(yt,{data:e},t)}))})]})}}]),n}(s.Component),yt=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.data;return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("img",{src:z.a.getLibIconUrl(e,!1),alt:z.a.getLibIconTitle(e),title:z.a.getLibIconTitle(e),width:"24"})}),Object(b.jsx)("td",{children:e.repo_name}),Object(b.jsx)("td",{children:e.owner_name}),Object(b.jsx)("td",{children:z.a.bytesToSize(e.size)}),Object(b.jsx)("td",{title:j()(e.last_modified).format("LLLL"),children:j()(e.last_modified).format("YYYY-MM-DD")})]})}}]),n}(s.Component),St=Ot;j.a.locale(h.Db);var wt=function e(t){Object(a.a)(this,e),this.id=t.id,this.groupName=t.group_name,this.creatorName=t.creator_name,this.creatorEmail=t.creator_email,this.creatorContactEmail=t.creator_contact_email,this.ctime=j()(t.ctime).format("YYYY-MM-DD HH:mm:ss")},Dt=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleInputChange=function(e){r.setState({value:e.target.value})},r.handleKeyPress=function(e){"Enter"==e.key&&(e.preventDefault(),r.handleSubmit())},r.handleSubmit=function(){var e=r.state.value.trim();if(!e)return!1;r.props.submit(e)},r.state={value:""},r}return Object(r.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"input-icon",children:[Object(b.jsx)("i",{className:"d-flex input-icon-addon fas fa-search"}),Object(b.jsx)("input",{type:"text",className:"form-control search-input h-6 mr-1",style:{width:"15rem"},placeholder:this.props.placeholder,value:this.state.value,onChange:this.handleInputChange,onKeyPress:this.handleKeyPress,autoComplete:"off"})]})}}]),n}(c.a.Component),kt=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).initData=function(e){L.b.orgAdminListOrgGroups(h.Vb,e).then((function(e){var t=e.data.groups.map((function(e){return new wt(e)}));r.setState({orgGroups:t,pageNext:e.data.page_next,page:e.data.page})})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.onChangePageNum=function(e,t){e.preventDefault();var n=r.state.page;1==t?n+=1:n-=1,r.initData(n)},r.onFreezedItem=function(){r.setState({isItemFreezed:!0})},r.onUnfreezedItem=function(){r.setState({isItemFreezed:!1})},r.deleteGroupItem=function(e){L.b.orgAdminDeleteOrgGroup(h.Vb,e.id).then((function(t){r.setState({orgGroups:r.state.orgGroups.filter((function(t){return t.id!=e.id}))});var n=Object(h.pb)("Successfully deleted {name}");n=n.replace("{name}",e.groupName),V.a.success(n)})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.searchItems=function(e){Object(u.c)("".concat(h.qc,"org/groupadmin/search-groups/?query=").concat(encodeURIComponent(e)))},r.getSearch=function(){return Object(b.jsx)(Dt,{placeholder:Object(h.pb)("Search groups by name"),submit:r.searchItems})},r.state={page:1,pageNext:!1,orgGroups:[],isItemFreezed:!1},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this.state.page;this.initData(e)}},{key:"render",value:function(){var e=this,t=this.state.orgGroups;return Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(x,{search:this.getSearch()}),Object(b.jsx)("div",{className:"main-panel-center flex-row",children:Object(b.jsxs)("div",{className:"cur-view-container",children:[Object(b.jsx)("div",{className:"cur-view-path",children:Object(b.jsx)("h3",{className:"sf-heading",children:Object(h.pb)("All Groups")})}),Object(b.jsxs)("div",{className:"cur-view-content",children:[Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{width:"30%",children:Object(h.pb)("Name")}),Object(b.jsx)("th",{width:"35%",children:Object(h.pb)("Creator")}),Object(b.jsx)("th",{width:"23%",children:Object(h.pb)("Created At")}),Object(b.jsx)("th",{width:"12%",className:"text-center",children:Object(h.pb)("Operations")})]})}),Object(b.jsx)("tbody",{children:t.map((function(t){return Object(b.jsx)(Ct,{group:t,isItemFreezed:e.state.isItemFreezed,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem,deleteGroupItem:e.deleteGroupItem},t.id)}))})]}),Object(b.jsxs)("div",{className:"paginator",children:[1!=this.state.page&&Object(b.jsx)("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,-1)},children:Object(h.pb)("Previous")}),1!=this.state.page&&this.state.pageNext&&Object(b.jsx)("span",{children:" | "}),this.state.pageNext&&Object(b.jsx)("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,1)},children:Object(h.pb)("Next")})]})]})]})})]})}}]),n}(s.Component),Ct=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).onMouseEnter=function(){r.props.isItemFreezed||r.setState({showMenu:!0,highlight:!0})},r.onMouseLeave=function(){r.props.isItemFreezed||r.setState({showMenu:!1,highlight:!1})},r.onDropdownToggleClick=function(e){e.preventDefault(),r.toggleOperationMenu(e)},r.toggleOperationMenu=function(e){e.stopPropagation(),r.setState({isItemMenuShow:!r.state.isItemMenuShow},(function(){r.state.isItemMenuShow?r.props.onFreezedItem():(r.setState({highlight:!1,showMenu:!1}),r.props.onUnfreezedItem())}))},r.toggleDelete=function(){r.props.deleteGroupItem(r.props.group)},r.renderGroupHref=function(e){return"system admin"==e.creatorName?h.qc+"org/departmentadmin/groups/"+e.id+"/":h.qc+"org/groupadmin/"+e.id+"/"},r.renderGroupCreator=function(e){var t=h.qc+"org/useradmin/info/"+e.creatorEmail+"/";return"system admin"==e.creatorName?Object(b.jsx)("td",{children:" -- "}):Object(b.jsx)("td",{children:Object(b.jsx)("a",{href:t,className:"font-weight-normal",children:e.creatorName})})},r.state={highlight:!1,showMenu:!1,isItemMenuShow:!1},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.group,t="system admin"!=e.creatorName&&this.state.showMenu;return Object(b.jsxs)("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:[Object(b.jsx)("td",{children:Object(b.jsx)("a",{href:this.renderGroupHref(e),className:"font-weight-normal",children:e.groupName})}),this.renderGroupCreator(e),Object(b.jsx)("td",{children:e.ctime}),Object(b.jsx)("td",{className:"text-center cursor-pointer",children:t&&Object(b.jsxs)(Se.a,{isOpen:this.state.isItemMenuShow,toggle:this.toggleOperationMenu,children:[Object(b.jsx)(we.a,{tag:"a",className:"attr-action-icon fas fa-ellipsis-v",title:Object(h.pb)("More Operations"),"data-toggle":"dropdown","aria-expanded":this.state.isItemMenuShow,onClick:this.onDropdownToggleClick}),Object(b.jsx)(De.a,{children:Object(b.jsx)(ke.a,{onClick:this.toggleDelete,children:Object(h.pb)("Delete")})})]})})]})}}]),n}(c.a.Component),Mt=kt,It=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).onMouseEnter=function(){r.props.isItemFreezed||r.setState({showMenu:!0,highlight:!0})},r.onMouseLeave=function(){r.props.isItemFreezed||r.setState({showMenu:!1,highlight:!1})},r.onDropdownToggleClick=function(e){e.preventDefault(),r.toggleOperationMenu(e)},r.toggleOperationMenu=function(e){e.stopPropagation(),r.setState({isItemMenuShow:!r.state.isItemMenuShow},(function(){r.state.isItemMenuShow?r.props.onFreezedItem():(r.setState({highlight:!1,showMenu:!1}),r.props.onUnfreezedItem())}))},r.toggleDelete=function(){r.props.deleteGroupItem(r.props.group)},r.renderGroupHref=function(e){return"system admin"==e.creatorName?h.qc+"org/departmentadmin/groups/"+e.id+"/":h.qc+"org/groupadmin/"+e.id+"/"},r.renderGroupCreator=function(e){var t=h.qc+"org/useradmin/info/"+e.creatorEmail+"/";return"system admin"==e.creatorName?Object(b.jsx)("td",{children:" -- "}):Object(b.jsx)("td",{children:Object(b.jsx)("a",{href:t,className:"font-weight-normal",children:e.creatorName})})},r.state={highlight:!1,showMenu:!1,isItemMenuShow:!1},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.group,t="system admin"!=e.creatorName&&this.state.showMenu;return Object(b.jsxs)("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:[Object(b.jsx)("td",{children:Object(b.jsx)("a",{href:this.renderGroupHref(e),className:"font-weight-normal",children:e.groupName})}),this.renderGroupCreator(e),Object(b.jsx)("td",{children:e.ctime}),Object(b.jsx)("td",{className:"text-center cursor-pointer",children:t&&Object(b.jsxs)(Se.a,{isOpen:this.state.isItemMenuShow,toggle:this.toggleOperationMenu,children:[Object(b.jsx)(we.a,{tag:"a",className:"attr-action-icon fas fa-ellipsis-v",title:Object(h.pb)("More Operations"),"data-toggle":"dropdown","aria-expanded":this.state.isItemMenuShow,onClick:this.onDropdownToggleClick}),Object(b.jsx)(De.a,{children:Object(b.jsx)(ke.a,{onClick:this.toggleDelete,children:Object(h.pb)("Delete")})})]})})]})}}]),n}(c.a.Component),Nt=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).onFreezedItem=function(){r.setState({isItemFreezed:!0})},r.onUnfreezedItem=function(){r.setState({isItemFreezed:!1})},r.state={isItemFreezed:!1},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props.orgGroups;return Object(b.jsx)("div",{className:"cur-view-content",children:Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{width:"30%",children:Object(h.pb)("Name")}),Object(b.jsx)("th",{width:"35%",children:Object(h.pb)("Creator")}),Object(b.jsx)("th",{width:"23%",children:Object(h.pb)("Created At")}),Object(b.jsx)("th",{width:"12%",className:"text-center",children:Object(h.pb)("Operations")})]})}),Object(b.jsx)("tbody",{children:t.map((function(t){return Object(b.jsx)(It,{group:t,isItemFreezed:e.state.isItemFreezed,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem,deleteGroupItem:e.props.toggleDelete},t.id)}))})]})})}}]),n}(c.a.Component),_t=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).getItems=function(){L.b.orgAdminSearchGroup(h.Vb,r.state.query.trim()).then((function(e){var t=e.data.group_list.map((function(e){return new wt(e)}));r.setState({orgGroups:t,loading:!1})})).catch((function(e){r.setState({loading:!1,errorMsg:z.a.getErrorMsg(e,!0)})}))},r.deleteGroupItem=function(e){L.b.orgAdminDeleteOrgGroup(h.Vb,e.id).then((function(t){r.setState({orgGroups:r.state.orgGroups.filter((function(t){return t.id!=e.id}))});var n=Object(h.pb)("Successfully deleted {name}");n=n.replace("{name}",e.groupName),V.a.success(n)})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.handleInputChange=function(e){r.setState({query:e.target.value},r.checkSubmitBtnActive)},r.checkSubmitBtnActive=function(){var e=r.state.query;r.setState({isSubmitBtnActive:e.trim()})},r.handleKeyDown=function(e){13===e.keyCode&&(r.state.isSubmitBtnActive&&r.getItems())},r.state={query:"",orgGroups:[],isSubmitBtnActive:!1,loading:!0,errorMsg:""},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=new URL(document.location).searchParams;this.setState({query:t.get("query")||""},(function(){e.getItems()}))}},{key:"render",value:function(){var e=this.state,t=e.query,n=e.isSubmitBtnActive;return Object(b.jsx)(s.Fragment,{children:Object(b.jsx)("div",{className:"main-panel-center flex-row",children:Object(b.jsxs)("div",{className:"cur-view-container",children:[Object(b.jsx)("div",{className:"cur-view-path",children:Object(b.jsx)("h3",{className:"sf-heading",children:Object(h.pb)("Groups")})}),Object(b.jsxs)("div",{className:"cur-view-content",children:[Object(b.jsxs)("div",{className:"mt-4 mb-6",children:[Object(b.jsx)("h4",{className:"border-bottom font-weight-normal mb-2 pb-1",children:Object(h.pb)("Search Groups")}),Object(b.jsxs)(Ue.a,{tag:"div",children:[Object(b.jsx)(Ee.a,{row:!0,children:Object(b.jsx)(fe.a,{sm:5,children:Object(b.jsx)(H.a,{type:"text",name:"query",value:t,placeholder:Object(h.pb)("Search groups"),onChange:this.handleInputChange,onKeyDown:this.handleKeyDown})})}),Object(b.jsx)(Ee.a,{row:!0,children:Object(b.jsx)(fe.a,{sm:{size:5},children:Object(b.jsx)("button",{className:"btn btn-outline-primary",disabled:!n,onClick:this.getItems,children:Object(h.pb)("Submit")})})})]})]}),Object(b.jsxs)("div",{className:"mt-4 mb-6",children:[Object(b.jsx)("h4",{className:"border-bottom font-weight-normal mb-2 pb-1",children:Object(h.pb)("Result")}),Object(b.jsx)(Nt,{toggleDelete:this.deleteGroupItem,orgGroups:this.state.orgGroups})]})]})]})})})}}]),n}(s.Component),At=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.groupID,n=e.currentItem,a="".concat(h.qc,"org/groupadmin/").concat(t,"/");return Object(b.jsx)("div",{className:"cur-view-path org-admin-user-nav",children:Object(b.jsxs)("ul",{className:"nav",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(u.a,{to:a,className:"nav-link".concat("info"==n?" active":""),children:Object(h.pb)("Group Info")})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(u.a,{to:"".concat(a,"repos/"),className:"nav-link".concat("repos"==n?" active":""),children:Object(h.pb)("Libraries")})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(u.a,{to:"".concat(a,"members/"),className:"nav-link".concat("members"==n?" active":""),children:Object(h.pb)("Members")})})]})})}}]),n}(c.a.Component),Pt=At,Ft=window.org.pageOptions.orgID,Tt=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={loading:!0,errorMsg:""},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;L.b.orgAdminGetGroup(Ft,this.props.groupID).then((function(t){e.setState(Object.assign({loading:!1},t.data))})).catch((function(t){e.setState({loading:!1,errorMsg:z.a.getErrorMsg(t,!0)})}))}},{key:"render",value:function(){return Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(x,{}),Object(b.jsx)("div",{className:"main-panel-center flex-row",children:Object(b.jsxs)("div",{className:"cur-view-container",children:[Object(b.jsx)(Pt,{groupID:this.props.groupID,currentItem:"info"}),Object(b.jsx)("div",{className:"cur-view-content",children:Object(b.jsx)(Lt,{data:this.state})})]})})]})}}]),n}(s.Component),Lt=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.data,t=e.loading,n=e.errorMsg,a=e.group_name,r=e.creator_email,i=e.creator_name;return t?Object(b.jsx)(E.a,{}):n?Object(b.jsx)("p",{className:"error text-center mt-2",children:n}):Object(b.jsxs)("dl",{children:[Object(b.jsx)("dt",{children:Object(h.pb)("Name")}),Object(b.jsx)("dd",{children:a}),Object(b.jsx)("dt",{children:Object(h.pb)("Creator")}),Object(b.jsx)("dd",{children:Object(b.jsx)(u.a,{to:"".concat(h.qc,"org/useradmin/info/").concat(encodeURIComponent(r),"/"),children:i})})]})}}]),n}(s.Component),Rt=Tt,zt=window.org.pageOptions.orgID,Ut=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={loading:!0,errorMsg:""},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;L.b.orgAdminListGroupRepos(zt,this.props.groupID).then((function(t){e.setState(Object.assign({loading:!1},t.data))})).catch((function(t){e.setState({loading:!1,errorMsg:z.a.getErrorMsg(t,!0)})}))}},{key:"render",value:function(){return Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(x,{}),Object(b.jsx)("div",{className:"main-panel-center flex-row",children:Object(b.jsxs)("div",{className:"cur-view-container",children:[Object(b.jsx)(Pt,{groupID:this.props.groupID,currentItem:"repos"}),Object(b.jsx)("div",{className:"cur-view-content",children:Object(b.jsx)(Et,{data:this.state})})]})})]})}}]),n}(s.Component),Et=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.data,t=e.loading,n=e.errorMsg,a=e.libraries;return t?Object(b.jsx)(E.a,{}):n?Object(b.jsx)("p",{className:"error text-center mt-2",children:n}):Object(b.jsx)(s.Fragment,{children:Object(b.jsxs)("table",{className:"table-hover",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{width:"4%"}),Object(b.jsx)("th",{width:"35%",children:Object(h.pb)("Name")}),Object(b.jsx)("th",{width:"20%",children:Object(h.pb)("Size")}),Object(b.jsx)("th",{width:"26%",children:Object(h.pb)("Shared By")}),Object(b.jsx)("th",{width:"15%"})]})}),Object(b.jsx)("tbody",{children:a.map((function(e,t){return Object(b.jsx)(Vt,{data:e},t)}))})]})})}}]),n}(s.Component),Vt=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleMouseOver=function(){r.setState({isOpIconShown:!0})},r.handleMouseOut=function(){r.setState({isOpIconShown:!1})},r.handleDeleteIconClick=function(e){e.preventDefault(),r.toggleDeleteRepoDialog()},r.toggleDeleteRepoDialog=function(){r.setState({isDeleteRepoDialogOpen:!r.state.isDeleteRepoDialogOpen})},r.deleteRepo=function(){var e=r.props.data;L.b.orgAdminDeleteOrgRepo(zt,e.repo_id).then((function(t){r.setState({deleted:!0,isRepoDeleted:!0});var n=Object(h.pb)("Successfully deleted {name}.").replace("{name}",e.name);V.a.success(n)})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t),r.setState({isRepoDeleted:!1})}))},r.state={isOpIconShown:!1,deleted:!1,isDeleteRepoDialogOpen:!1,isRepoDeleted:!1},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.state,t=e.deleted,n=e.isOpIconShown,a=e.isDeleteRepoDialogOpen,r=this.props.data;return t?null:Object(b.jsxs)(s.Fragment,{children:[Object(b.jsxs)("tr",{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,children:[Object(b.jsx)("td",{children:Object(b.jsx)("img",{src:z.a.getLibIconUrl(r,!1),alt:z.a.getLibIconTitle(r),title:z.a.getLibIconTitle(r),width:"24"})}),Object(b.jsx)("td",{children:r.name}),Object(b.jsx)("td",{children:z.a.bytesToSize(r.size)}),Object(b.jsx)("td",{children:Object(b.jsx)(u.a,{to:"".concat(h.qc,"org/useradmin/info/").concat(encodeURIComponent(r.shared_by),"/"),children:r.shared_by_name})}),Object(b.jsx)("td",{children:Object(b.jsx)("a",{href:"#",className:"action-icon sf2-icon-delete".concat(n?"":" invisible"),title:Object(h.pb)("Delete"),onClick:this.handleDeleteIconClick})})]}),a&&Object(b.jsx)(pt.a,{repo:r,isRepoDeleted:this.state.isRepoDeleted,onDeleteRepo:this.deleteRepo,toggle:this.toggleDeleteRepoDialog})]})}}]),n}(s.Component),Bt=Ut,Wt=window.org.pageOptions.orgID,qt=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={loading:!0,errorMsg:""},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;L.b.orgAdminListGroupMembers(Wt,this.props.groupID).then((function(t){e.setState(Object.assign({loading:!1},t.data))})).catch((function(t){e.setState({loading:!1,errorMsg:z.a.getErrorMsg(t,!0)})}))}},{key:"render",value:function(){return Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(x,{}),Object(b.jsx)("div",{className:"main-panel-center flex-row",children:Object(b.jsxs)("div",{className:"cur-view-container",children:[Object(b.jsx)(Pt,{groupID:this.props.groupID,currentItem:"members"}),Object(b.jsx)("div",{className:"cur-view-content",children:Object(b.jsx)(Ht,{data:this.state})})]})})]})}}]),n}(s.Component),Ht=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.data,t=e.loading,n=e.errorMsg,a=e.members;return t?Object(b.jsx)(E.a,{}):n?Object(b.jsx)("p",{className:"error text-center mt-2",children:n}):Object(b.jsx)(s.Fragment,{children:Object(b.jsxs)("table",{className:"table-hover",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{width:"10%"}),Object(b.jsx)("th",{width:"50%",children:Object(h.pb)("Name")}),Object(b.jsx)("th",{width:"40%",children:Object(h.pb)("Role")})]})}),Object(b.jsx)("tbody",{children:a.map((function(e,t){return Object(b.jsx)(Yt,{data:e},t)}))})]})})}}]),n}(s.Component),Yt=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e)}return Object(r.a)(n,[{key:"getRoleText",value:function(){switch(this.props.data.role){case"Owner":return Object(h.pb)("Owner");case"Admin":return Object(h.pb)("Admin");case"Member":return Object(h.pb)("Member")}}},{key:"render",value:function(){var e=this.props.data;return Object(b.jsx)(s.Fragment,{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{className:"text-center",children:Object(b.jsx)("img",{src:e.avatar_url,alt:"",className:"avatar",width:"32"})}),Object(b.jsx)("td",{children:Object(b.jsx)(u.a,{to:"".concat(h.qc,"org/useradmin/info/").concat(encodeURIComponent(e.email),"/"),children:e.name})}),Object(b.jsx)("td",{children:this.getRoleText()})]})})}}]),n}(s.Component),Gt=qt,Kt=function e(t){Object(a.a)(this,e),this.repoID=t.repo_id,this.repoName=t.repo_name,this.ownerName=t.owner_name,this.ownerEmail=t.owner_email,this.size=t.size,this.file_count=t.file_count,this.encrypted=t.encrypted,this.isDepartmentRepo=t.is_department_repo,this.groupID=t.group_id},Qt=n(229),Xt=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).listRepos=function(e){L.b.orgAdminListOrgRepos(h.Vb,e,r.state.sortBy).then((function(e){var t=e.data.repo_list.map((function(e){return new Kt(e)}));r.setState({orgRepos:t,pageNext:e.data.page_next,page:e.data.page})})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.onChangePageNum=function(e,t){e.preventDefault();var n=r.state.page;1==t?n+=1:n-=1,r.listRepos(n)},r.onFreezedItem=function(){r.setState({isItemFreezed:!0})},r.onUnfreezedItem=function(){r.setState({isItemFreezed:!1})},r.deleteRepoItem=function(e){L.b.orgAdminDeleteOrgRepo(h.Vb,e.repoID).then((function(t){r.setState({orgRepos:r.state.orgRepos.filter((function(t){return t.repoID!=e.repoID}))});var n=Object(h.pb)("Successfully deleted {name}");n=n.replace("{name}",e.repoName),V.a.success(n)})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.transferRepoItem=function(e,t){r.setState({orgRepos:r.state.orgRepos.map((function(n){return n.repoID==e&&(n.ownerEmail=t.email,n.ownerName=t.value),n}))})},r.sortItems=function(e){r.setState({page:1,sortBy:e},(function(){var e=new URL(location.href),t=new URLSearchParams(e.search),n=r.state,a=n.page,i=n.sortBy;t.set("page",a),t.set("order_by",i),e.search=t.toString(),Object(u.c)(e.toString()),r.listRepos(a)}))},r.sortByFileCount=function(e){e.preventDefault(),r.sortItems("file_count")},r.sortBySize=function(e){e.preventDefault(),r.sortItems("size")},r.state={page:1,pageNext:!1,orgRepos:[],sortBy:"",isItemFreezed:!1},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=new URL(window.location).searchParams,n=this.state,a=n.page,r=n.sortBy;this.setState({sortBy:t.get("order_by")||r,page:parseInt(t.get("page")||a)},(function(){e.listRepos(e.state.page)}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.orgRepos,a=t.sortBy,r=Object(b.jsx)("span",{className:"fas fa-sort"}),i=Object(b.jsx)("span",{className:"fas fa-caret-down"});return Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(x,{}),Object(b.jsx)("div",{className:"main-panel-center flex-row",children:Object(b.jsxs)("div",{className:"cur-view-container",children:[Object(b.jsx)("div",{className:"cur-view-path",children:Object(b.jsx)("h3",{className:"sf-heading",children:Object(h.pb)("All Libraries")})}),Object(b.jsxs)("div",{className:"cur-view-content",children:[Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{width:"5%"}),Object(b.jsx)("th",{width:"25%",children:Object(h.pb)("Name")}),Object(b.jsxs)("th",{width:"15%",children:[Object(b.jsxs)("a",{className:"d-inline-block table-sort-op",href:"#",onClick:this.sortByFileCount,children:[Object(h.pb)("Files")," ","file_count"==a?i:r]})," / ",Object(b.jsxs)("a",{className:"d-inline-block table-sort-op",href:"#",onClick:this.sortBySize,children:[Object(h.pb)("Size")," ","size"==a?i:r]})]}),Object(b.jsx)("th",{width:"32%",children:"ID"}),Object(b.jsx)("th",{width:"18%",children:Object(h.pb)("Owner")}),Object(b.jsx)("th",{width:"5%"})]})}),Object(b.jsx)("tbody",{children:n.map((function(t){return Object(b.jsx)(Jt,{repo:t,isItemFreezed:e.state.isItemFreezed,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem,deleteRepoItem:e.deleteRepoItem,transferRepoItem:e.transferRepoItem},t.repoID)}))})]}),Object(b.jsxs)("div",{className:"paginator",children:[1!=this.state.page&&Object(b.jsx)("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,-1)},children:Object(h.pb)("Previous")}),1!=this.state.page&&this.state.pageNext&&Object(b.jsx)("span",{children:" | "}),this.state.pageNext&&Object(b.jsx)("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,1)},children:Object(h.pb)("Next")})]})]})]})})]})}}]),n}(s.Component),Jt=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).onMouseEnter=function(){r.props.isItemFreezed||r.setState({showMenu:!0,highlight:!0})},r.onMouseLeave=function(){r.props.isItemFreezed||r.setState({showMenu:!1,highlight:!1})},r.onDropdownToggleClick=function(e){e.preventDefault(),r.toggleOperationMenu(e)},r.toggleOperationMenu=function(e){e.stopPropagation(),r.setState({isItemMenuShow:!r.state.isItemMenuShow},(function(){r.state.isItemMenuShow?r.props.onFreezedItem():(r.setState({highlight:!1,showMenu:!1}),r.props.onUnfreezedItem())}))},r.toggleDelete=function(){r.props.deleteRepoItem(r.props.repo)},r.toggleTransfer=function(){r.props.transferRepoItem(r.props.repo)},r.renderLibIcon=function(e){var t,n;return e.encrypted?(t=h.Nb+"img/lib/48/lib-encrypted.png",n=Object(h.pb)("Encrypted library")):(t=h.Nb+"img/lib/48/lib.png",n=Object(h.pb)("Read-Write library")),Object(b.jsx)("img",{src:t,title:n,alt:n,width:"24"})},r.renderRepoOwnerHref=function(e){return e.isDepartmentRepo?h.qc+"org/admin/#address-book/groups/"+e.groupID+"/":h.qc+"org/useradmin/info/"+e.ownerEmail+"/"},r.toggleTransfer=function(){r.setState({isTransferDialogShow:!r.state.isTransferDialogShow})},r.onTransferRepo=function(e){var t=r.props.repo;L.b.orgAdminTransferOrgRepo(h.Vb,t.repoID,e.email).then((function(n){r.props.transferRepoItem(t.repoID,e);var a=Object(h.pb)("Successfully transferred the library.");V.a.success(a)})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)})),r.toggleTransfer()},r.state={highlight:!1,showMenu:!1,isItemMenuShow:!1,isTransferDialogShow:!1},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.repo,t=this.state.showMenu&&!e.isDepartmentRepo;return Object(b.jsxs)(s.Fragment,{children:[Object(b.jsxs)("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:[Object(b.jsx)("td",{children:this.renderLibIcon(e)}),Object(b.jsx)("td",{children:e.repoName}),Object(b.jsx)("td",{children:"".concat(e.file_count," / ").concat(z.a.bytesToSize(e.size))}),Object(b.jsx)("td",{children:e.repoID}),Object(b.jsx)("td",{children:Object(b.jsx)("a",{href:this.renderRepoOwnerHref(e),children:e.ownerName})}),Object(b.jsx)("td",{className:"text-center cursor-pointer",children:t&&Object(b.jsxs)(Se.a,{isOpen:this.state.isItemMenuShow,toggle:this.toggleOperationMenu,children:[Object(b.jsx)(we.a,{tag:"a",className:"attr-action-icon fas fa-ellipsis-v",title:Object(h.pb)("More Operations"),"data-toggle":"dropdown","aria-expanded":this.state.isItemMenuShow,onClick:this.onDropdownToggleClick}),Object(b.jsxs)(De.a,{children:[Object(b.jsx)(ke.a,{onClick:this.toggleDelete,children:Object(h.pb)("Delete")}),Object(b.jsx)(ke.a,{onClick:this.toggleTransfer,children:Object(h.pb)("Transfer")})]})]})})]}),this.state.isTransferDialogShow&&Object(b.jsx)(Ae.a,{children:Object(b.jsx)(Qt.a,{itemName:e.repoName,submit:this.onTransferRepo,toggleDialog:this.toggleTransfer})})]})}}]),n}(c.a.Component),Zt=Xt,$t=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={org_name:"",storage_quota:0,storage_usage:0,member_quota:0,member_usage:0,active_members:0},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;L.b.orgAdminGetOrgInfo().then((function(t){e.setState({org_name:t.data.org_name,storage_quota:t.data.storage_quota,storage_usage:t.data.storage_usage,member_quota:t.data.member_quota,member_usage:t.data.member_usage,active_members:t.data.active_members})}))}},{key:"render",value:function(){return Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(x,{}),Object(b.jsx)("div",{className:"main-panel-center flex-row",children:Object(b.jsxs)("div",{className:"cur-view-container",children:[Object(b.jsx)("div",{className:"cur-view-path",children:Object(b.jsx)("h3",{className:"sf-heading",children:Object(h.pb)("Info")})}),Object(b.jsx)("div",{className:"cur-view-content",children:Object(b.jsxs)("dl",{children:[Object(b.jsx)("strong",{children:this.state.org_name}),Object(b.jsx)("dt",{children:Object(h.pb)("Space Used")}),this.state.storage_quota>0?Object(b.jsxs)("dd",{children:[z.a.bytesToSize(this.state.storage_usage)," / ",z.a.bytesToSize(this.state.storage_quota)]}):Object(b.jsx)("dd",{children:z.a.bytesToSize(this.state.storage_usage)}),h.Wb?Object(b.jsxs)("dt",{children:[Object(h.pb)("Active Users")," / ",Object(h.pb)("Total Users")," / ",Object(h.pb)("Limits")]}):Object(b.jsxs)("dt",{children:[Object(h.pb)("Active Users")," / ",Object(h.pb)("Total Users")]}),h.Wb?Object(b.jsxs)("dd",{children:[this.state.active_members>0?this.state.active_members:"--"," / ",this.state.member_usage>0?this.state.member_usage:"--"," / ",this.state.member_quota>0?this.state.member_quota:"--"]}):Object(b.jsxs)("dd",{children:[this.state.active_members>0?this.state.active_members:"--"," / ",this.state.member_usage>0?this.state.member_usage:"--"]})]})})]})})]})}}]),n}(s.Component),en=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).copyToClipBoard=function(){Object(qe.a)(r.props.currentLinkHref);var e=Object(h.pb)("Link has been copied to clipboard");V.a.success(e),r.props.toggle()},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.currentLinkHref;return Object(b.jsxs)(Pe.a,{isOpen:!0,toggle:this.props.toggle,children:[Object(b.jsx)(Fe.a,{toggle:this.props.toggle,children:Object(h.pb)("Link")}),Object(b.jsx)(Te.a,{children:Object(b.jsx)("p",{children:Object(b.jsx)("a",{target:"_blank",href:e,children:e})})}),Object(b.jsxs)(Re.a,{children:[Object(b.jsx)(w.a,{color:"secondary",onClick:this.props.toggle,children:Object(h.pb)("Cancel")})," ",Object(b.jsx)(w.a,{color:"primary",onClick:this.copyToClipBoard,children:Object(h.pb)("Copy")})]})]})}}]),n}(c.a.Component),tn=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).listOrgLinks=function(e){L.b.orgAdminListOrgLinks(r.state.page).then((function(e){var t=e.data;r.setState({linkList:t.link_list,page:t.page,pageNext:t.page_next})}))},r.onFreezedItem=function(){r.setState({isItemFreezed:!0})},r.onUnfreezedItem=function(){r.setState({isItemFreezed:!1})},r.onChangePageNum=function(e,t){e.preventDefault();var n=r.state.page;1==t?n+=1:n-=1,r.listOrgLinks(n)},r.deleteOrgLink=function(e){L.b.orgAdminDeleteOrgLink(e).then((function(e){!0===e.data.success&&r.listOrgLinks(r.state.page)})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.openLinkDialog=function(e){var t;t=e.name.indexOf("/")>-1?h.gc+"/d/"+e.token+"/":h.gc+"/f/"+e.token+"/",r.setState({currentLinkHref:t}),r.toggleLinkDialog()},r.toggleLinkDialog=function(){r.setState({isShowLinkDialog:!r.state.isShowLinkDialog})},r.state={linkList:null,page:1,pageNext:!1,isItemFreezed:!1,isShowLinkDialog:!1,currentLinkHref:""},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.listOrgLinks(this.state.page)}},{key:"render",value:function(){var e=this,t=this.state.linkList;return Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(x,{}),Object(b.jsx)("div",{className:"main-panel-center flex-row",children:Object(b.jsxs)("div",{className:"cur-view-container",children:[Object(b.jsx)("div",{className:"cur-view-path",children:Object(b.jsx)("h3",{className:"sf-heading",children:Object(h.pb)("All Public Links")})}),Object(b.jsxs)("div",{className:"cur-view-content",children:[Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{width:"50%",children:Object(h.pb)("Name")}),Object(b.jsx)("th",{width:"15%",children:Object(h.pb)("Owner")}),Object(b.jsx)("th",{width:"15%",children:Object(h.pb)("Created At")}),Object(b.jsx)("th",{width:"10%",children:Object(h.pb)("Count")}),Object(b.jsx)("th",{width:"10%"})]})}),Object(b.jsx)("tbody",{children:t&&t.map((function(t,n){return Object(b.jsx)(c.a.Fragment,{children:Object(b.jsx)(nn,{link:t,isItemFreezed:e.state.isItemFreezed,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem,deleteOrgLink:e.deleteOrgLink,openLinkDialog:e.openLinkDialog})},n)}))})]}),Object(b.jsxs)("div",{className:"paginator",children:[1!=this.state.page&&Object(b.jsx)("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,-1)},children:Object(h.pb)("Previous")}),1!=this.state.page&&this.state.pageNext&&Object(b.jsx)("span",{children:" | "}),this.state.pageNext&&Object(b.jsx)("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,1)},children:Object(h.pb)("Next")})]})]})]})}),this.state.isShowLinkDialog&&Object(b.jsx)(en,{currentLinkHref:this.state.currentLinkHref,toggle:this.toggleLinkDialog})]})}}]),n}(c.a.Component),nn=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).onMouseEnter=function(){r.props.isItemFreezed||r.setState({showMenu:!0,highlight:!0})},r.onMouseLeave=function(){r.props.isItemFreezed||r.setState({showMenu:!1,highlight:!1})},r.onDropdownToggleClick=function(e){e.preventDefault(),r.toggleOperationMenu(e)},r.toggleOperationMenu=function(e){e.stopPropagation(),r.setState({isItemMenuShow:!r.state.isItemMenuShow},(function(){r.state.isItemMenuShow?r.props.onFreezedItem():(r.setState({highlight:!1,showMenu:!1}),r.props.onUnfreezedItem())}))},r.state={highlight:!1,showMenu:!1,isItemMenuShow:!1},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.link,n=e.deleteOrgLink,a=h.qc+"org/useradmin/info/"+encodeURIComponent(t.owner_email)+"/";return Object(b.jsxs)("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:[Object(b.jsx)("td",{children:t.name}),Object(b.jsx)("td",{children:Object(b.jsx)("a",{href:a,children:t.owner_name})}),Object(b.jsx)("td",{children:j()(t.created_time).fromNow()}),Object(b.jsx)("td",{children:t.view_count}),Object(b.jsx)("td",{className:"cursor-pointer text-center",children:this.state.showMenu&&Object(b.jsxs)(Se.a,{isOpen:this.state.isItemMenuShow,toggle:this.toggleOperationMenu,children:[Object(b.jsx)(we.a,{tag:"a",className:"attr-action-icon fas fa-ellipsis-v",title:Object(h.pb)("More Operations"),"data-toggle":"dropdown","aria-expanded":this.state.isItemMenuShow,onClick:this.onDropdownToggleClick}),Object(b.jsxs)(De.a,{children:[Object(b.jsx)(ke.a,{onClick:n.bind(this,t.token),children:Object(h.pb)("Delete")}),Object(b.jsx)(ke.a,{onClick:this.props.openLinkDialog.bind(this,t),children:Object(h.pb)("View Link")})]})]})})]})}}]),n}(c.a.Component),an=tn,rn=(n(180),function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e)}return Object(r.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"h-100 org-departments",children:this.props.children})}}]),n}(c.a.Component)),on=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleSubmit=function(){if(r.validateName()){var e=-1;r.props.parentGroupID&&(e=r.props.parentGroupID),L.b.orgAdminAddDepartGroup(h.Vb,e,r.state.departName.trim()).then((function(e){r.props.toggle(),r.props.onDepartChanged()})).catch((function(e){var t=Object(h.pb)(e.response.data.error_msg);r.setState({errMessage:t})}))}},r.validateName=function(){var e="";return!!r.state.departName.trim().length||(e=Object(h.pb)("Name is required"),r.setState({errMessage:e}),!1)},r.handleChange=function(e){r.setState({departName:e.target.value})},r.handleKeyPress=function(e){"Enter"===e.key&&(r.handleSubmit(),e.preventDefault())},r.state={departName:"",errMessage:""},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.parentGroupID?Object(h.pb)("New Sub-department"):Object(h.pb)("New Department");return Object(b.jsxs)(Pe.a,{isOpen:!0,toggle:this.props.toggle,autoFocus:!1,children:[Object(b.jsx)(Fe.a,{toggle:this.props.toggle,children:e}),Object(b.jsxs)(Te.a,{children:[Object(b.jsx)(Ue.a,{children:Object(b.jsxs)(Ee.a,{children:[Object(b.jsx)(me.a,{for:"departName",children:Object(h.pb)("Name")}),Object(b.jsx)(H.a,{id:"departName",onKeyPress:this.handleKeyPress,value:this.state.departName,onChange:this.handleChange,autoFocus:!0})]})}),this.state.errMessage&&Object(b.jsx)("p",{className:"error",children:this.state.errMessage})]}),Object(b.jsx)(Re.a,{children:Object(b.jsx)(w.a,{color:"primary",onClick:this.handleSubmit,children:Object(h.pb)("Submit")})})]})}}]),n}(c.a.Component),sn=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).deleteDepart=function(){r.props.toggle(),L.b.orgAdminDeleteDepartGroup(h.Vb,r.props.groupID).then((function(e){r.props.onDepartChanged()})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r}return Object(r.a)(n,[{key:"render",value:function(){var e=Object(h.pb)("Are you sure you want to delete {placeholder} ?");return e=e.replace("{placeholder}",'<span class="op-target">'+z.a.HTMLescape(this.props.groupName)+"</span>"),Object(b.jsxs)(Pe.a,{isOpen:!0,toggle:this.props.toggle,children:[Object(b.jsx)(Fe.a,{toggle:this.props.toggle,children:Object(h.pb)("Delete Department")}),Object(b.jsx)(Te.a,{children:Object(b.jsx)("p",{dangerouslySetInnerHTML:{__html:e}})}),Object(b.jsxs)(Re.a,{children:[Object(b.jsx)(w.a,{color:"secondary",onClick:this.props.toggle,children:Object(h.pb)("Cancel")}),Object(b.jsx)(w.a,{color:"primary",onClick:this.deleteDepart,children:Object(h.pb)("Delete")})]})]})}}]),n}(c.a.Component),cn=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).setGroupQuota=function(){var e=r.state.quota;if(e.length&&/^[1-9]\d*$/im.test(e)||-2==e){r.setState({errMessage:""});var t=-2==r.state.quota?r.state.quota:1e6*r.state.quota;L.b.orgAdminSetGroupQuota(h.Vb,r.props.groupID,t).then((function(e){r.props.toggle(),r.props.onDepartChanged()})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))}else{var n=Object(h.pb)("Quota is invalid.");r.setState({errMessage:n})}},r.handleChange=function(e){var t=e.target.value.trim();r.setState({quota:t})},r.handleKeyPress=function(e){"Enter"===e.key&&(r.setGroupQuota(),e.preventDefault())},r.state={quota:"",errMessage:""},r}return Object(r.a)(n,[{key:"render",value:function(){return Object(b.jsxs)(Pe.a,{isOpen:!0,toggle:this.props.toggle,autoFocus:!1,children:[Object(b.jsx)(Fe.a,{toggle:this.props.toggle,children:Object(h.pb)("Set Quota")}),Object(b.jsxs)(Te.a,{children:[Object(b.jsxs)(Ve.a,{children:[Object(b.jsx)(H.a,{onKeyPress:this.handleKeyPress,value:this.state.quota,onChange:this.handleChange,autoFocus:!0}),Object(b.jsx)(Be.a,{addonType:"append",children:"MB"})]}),Object(b.jsxs)("p",{className:"tip",children:[Object(b.jsx)("br",{}),Object(b.jsx)("span",{children:Object(h.pb)("An integer that is greater than 0 or equal to -2.")}),Object(b.jsx)("br",{}),Object(b.jsx)("span",{children:Object(h.pb)("Tip: -2 means no limit.")})]}),this.state.errMessage&&Object(b.jsx)("p",{className:"error",children:this.state.errMessage})]}),Object(b.jsx)(Re.a,{children:Object(b.jsx)(w.a,{color:"primary",onClick:this.setGroupQuota,children:Object(h.pb)("Submit")})})]})}}]),n}(c.a.Component),ln=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleSubmit=function(){var e=r.validateName(),t=r.props,n=t.orgID,a=t.groupID;e&&L.b.orgAdminUpdateDepartGroup(n,a,r.state.departmentName.trim()).then((function(e){r.props.toggle(),r.props.onDepartmentNameChanged(e.data),V.a.success(Object(h.pb)("Success"))})).catch((function(e){var t=z.a.getErrorMsg(e);r.setState({errMessage:t})}))},r.validateName=function(){var e="";return!!r.state.departmentName.trim().length||(e=Object(h.pb)("Name is required"),r.setState({errMessage:e}),!1)},r.handleChange=function(e){r.setState({departmentName:e.target.value})},r.handleKeyPress=function(e){"Enter"===e.key&&(r.handleSubmit(),e.preventDefault())},r.onAfterModelOpened=function(){r.newInput.current&&(r.newInput.current.focus(),r.newInput.current.select())},r.state={departmentName:r.props.name,errMessage:""},r.newInput=c.a.createRef(),r}return Object(r.a)(n,[{key:"render",value:function(){var e=Object(h.pb)("Rename Department");return Object(b.jsxs)(Pe.a,{isOpen:!0,toggle:this.props.toggle,onOpened:this.onAfterModelOpened,children:[Object(b.jsx)(Fe.a,{toggle:this.props.toggle,children:e}),Object(b.jsxs)(Te.a,{children:[Object(b.jsx)(Ue.a,{children:Object(b.jsxs)(Ee.a,{children:[Object(b.jsx)(me.a,{for:"departmentName",children:Object(h.pb)("Name")}),Object(b.jsx)(H.a,{id:"departmentName",onKeyPress:this.handleKeyPress,value:this.state.departmentName,onChange:this.handleChange,innerRef:this.newInput})]})}),this.state.errMessage&&Object(b.jsx)("p",{className:"error",children:this.state.errMessage})]}),Object(b.jsx)(Re.a,{children:Object(b.jsx)(w.a,{color:"primary",onClick:this.handleSubmit,children:Object(h.pb)("Submit")})})]})}}]),n}(c.a.Component),dn=n(73);j.a.locale(h.Db);var un=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).listDepartGroups=function(){L.b.orgAdminListDepartGroups(h.Vb).then((function(e){r.setState({groups:e.data.data})}))},r.onFreezedItem=function(){r.setState({isItemFreezed:!0})},r.onUnfreezedItem=function(){r.setState({isItemFreezed:!1})},r.onDepartmentNameChanged=function(e){r.setState({groups:r.state.groups.map((function(t){return t.id==e.id&&(t.name=e.name),t}))})},r.showDeleteDepartDialog=function(e){r.setState({showDeleteDepartDialog:!0,groupID:e.id,groupName:e.name})},r.showSetGroupQuotaDialog=function(e){r.setState({showSetGroupQuotaDialog:!0,groupID:e})},r.toggleAddDepartDialog=function(){r.setState({isShowAddDepartDialog:!r.state.isShowAddDepartDialog})},r.toggleCancel=function(){r.setState({showDeleteDepartDialog:!1,showSetGroupQuotaDialog:!1})},r.onDepartChanged=function(){r.listDepartGroups()},r.state={groups:null,groupID:"",groupName:"",showDeleteDepartDialog:!1,showSetGroupQuotaDialog:!1,isShowAddDepartDialog:!1,isItemFreezed:!1},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.listDepartGroups()}},{key:"render",value:function(){var e=this,t=this.state.groups,n=Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)("button",{className:"btn btn-secondary operation-item",title:Object(h.pb)("New Department"),onClick:this.toggleAddDepartDialog,children:Object(h.pb)("New Department")}),this.state.isShowAddDepartDialog&&Object(b.jsx)(Ae.a,{children:Object(b.jsx)(on,{onDepartChanged:this.onDepartChanged,groupID:this.state.groupID,toggle:this.toggleAddDepartDialog})})]});return Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(x,{children:n}),Object(b.jsx)("div",{className:"main-panel-center flex-row h-100",children:Object(b.jsxs)("div",{className:"cur-view-container o-auto",children:[Object(b.jsx)("div",{className:"cur-view-path",children:Object(b.jsx)("div",{className:"fleft",children:Object(b.jsx)("h3",{className:"sf-heading",children:Object(h.pb)("Departments")})})}),Object(b.jsx)("div",{className:"cur-view-content",children:t&&t.length>0?Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{width:"40%",children:Object(h.pb)("Name")}),Object(b.jsx)("th",{width:"25%",children:Object(h.pb)("Created At")}),Object(b.jsx)("th",{width:"20%",children:Object(h.pb)("Quota")}),Object(b.jsx)("th",{width:"15%"})]})}),Object(b.jsx)("tbody",{children:t.map((function(t,n){return Object(b.jsx)(c.a.Fragment,{children:Object(b.jsx)(hn,{group:t,isItemFreezed:e.state.isItemFreezed,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem,onDepartmentNameChanged:e.onDepartmentNameChanged,showDeleteDepartDialog:e.showDeleteDepartDialog,showSetGroupQuotaDialog:e.showSetGroupQuotaDialog})},t.id)}))})]}):Object(b.jsx)("p",{className:"no-group",children:Object(h.pb)("No departments")})}),Object(b.jsxs)(c.a.Fragment,{children:[this.state.showDeleteDepartDialog&&Object(b.jsx)(Ae.a,{children:Object(b.jsx)(sn,{toggle:this.toggleCancel,groupID:this.state.groupID,groupName:this.state.groupName,onDepartChanged:this.onDepartChanged})}),this.state.showSetGroupQuotaDialog&&Object(b.jsx)(Ae.a,{children:Object(b.jsx)(cn,{toggle:this.toggleCancel,groupID:this.state.groupID,onDepartChanged:this.onDepartChanged})})]})]})})]})}}]),n}(c.a.Component),hn=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).onMouseEnter=function(){r.props.isItemFreezed||r.setState({isOpIconShown:!0,highlight:!0})},r.onMouseLeave=function(){r.props.isItemFreezed||r.setState({isOpIconShown:!1,highlight:!1})},r.translateOperations=function(e){var t="";switch(e){case"Rename":t=Object(h.pb)("Rename");break;case"Delete":t=Object(h.pb)("Delete")}return t},r.onMenuItemClick=function(e){var t=r.props.group;switch(e){case"Rename":r.toggleRenameDialog();break;case"Delete":r.props.showDeleteDepartDialog(t)}},r.onUnfreezedItem=function(){r.setState({highlight:!1,isOpIconShow:!1}),r.props.onUnfreezedItem()},r.toggleRenameDialog=function(){r.setState({isRenameDialogOpen:!r.state.isRenameDialogOpen})},r.state={highlight:!1,isOpIconShown:!1,isRenameDialogOpen:!1},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.group,t=this.state,n=t.highlight,a=t.isOpIconShown,r=t.isRenameDialogOpen,i=h.qc+"org/departmentadmin/groups/"+e.id+"/";return Object(b.jsxs)(s.Fragment,{children:[Object(b.jsxs)("tr",{className:n?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:[Object(b.jsx)("td",{children:Object(b.jsx)(u.a,{to:i,children:e.name})}),Object(b.jsx)("td",{children:j()(e.created_at).fromNow()}),Object(b.jsxs)("td",{onClick:this.props.showSetGroupQuotaDialog.bind(this,e.id),children:[z.a.bytesToSize(e.quota)," ",Object(b.jsx)("span",{title:"Edit Quota",className:"fa fa-pencil-alt attr-action-icon ".concat(n?"":"vh")})]}),Object(b.jsx)("td",{children:a&&Object(b.jsx)(dn.a,{operations:["Rename","Delete"],translateOperations:this.translateOperations,onMenuItemClick:this.onMenuItemClick,onFreezedItem:this.props.onFreezedItem,onUnfreezedItem:this.onUnfreezedItem})})]}),r&&Object(b.jsx)(ln,{orgID:h.Vb,groupID:e.id,name:e.name,toggle:this.toggleRenameDialog,onDepartmentNameChanged:this.props.onDepartmentNameChanged})]})}}]),n}(c.a.Component),pn=un,bn=n(295),gn=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleSelectChange=function(e){r.setState({selectedOption:e}),r.Options=[]},r.handleSubmit=function(){if(r.state.selectedOption){var e=r.state.selectedOption.email;r.refs.orgSelect.clearSelect(),r.setState({errMessage:[]}),L.b.orgAdminAddGroupMember(h.Vb,r.props.groupID,e).then((function(e){r.setState({selectedOption:null}),e.data.failed.length>0&&r.setState({errMessage:e.data.failed[0].error_msg}),e.data.success.length>0&&(r.props.onMemberChanged(),r.props.toggle())})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))}},r.state={selectedOption:null,errMessage:""},r.Options=[],r}return Object(r.a)(n,[{key:"render",value:function(){return Object(b.jsxs)(Pe.a,{isOpen:!0,toggle:this.props.toggle,children:[Object(b.jsx)(Fe.a,{toggle:this.props.toggle,children:Object(h.pb)("Add Member")}),Object(b.jsxs)(Te.a,{children:[Object(b.jsx)(Ze.a,{placeholder:Object(h.pb)("Search users..."),onSelectChange:this.handleSelectChange,ref:"orgSelect",isMulti:!1,className:"org-add-member-select"}),this.state.errMessage&&Object(b.jsx)("p",{className:"error",children:this.state.errMessage})]}),Object(b.jsxs)(Re.a,{children:[Object(b.jsx)(w.a,{color:"primary",onClick:this.handleSubmit,children:Object(h.pb)("Submit")}),Object(b.jsx)(w.a,{color:"secondary",onClick:this.props.toggle,children:Object(h.pb)("Cancel")})]})]})}}]),n}(c.a.Component),fn=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).deleteMember=function(){var e=r.props.member.email;L.b.orgAdminDeleteGroupMember(h.Vb,r.props.groupID,e).then((function(e){e.data.success&&(r.props.onMemberChanged(),r.props.toggle())})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r}return Object(r.a)(n,[{key:"render",value:function(){var e=Object(h.pb)("Are you sure you want to delete {placeholder} ?");return e=e.replace("{placeholder}",'<span class="op-target">'+z.a.HTMLescape(this.props.member.name)+"</span>"),Object(b.jsxs)(Pe.a,{isOpen:!0,toggle:this.props.toggle,children:[Object(b.jsx)(Fe.a,{toggle:this.props.toggle,children:Object(h.pb)("Delete Member")}),Object(b.jsx)(Te.a,{children:Object(b.jsx)("div",{dangerouslySetInnerHTML:{__html:e}})}),Object(b.jsxs)(Re.a,{children:[Object(b.jsx)(w.a,{color:"primary",onClick:this.deleteMember,children:Object(h.pb)("Delete")}),Object(b.jsx)(w.a,{color:"secondary",onClick:this.props.toggle,children:Object(h.pb)("Cancel")})]})]})}}]),n}(c.a.Component),mn=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleSubmit=function(){r.validateName()&&L.b.orgAdminAddDepartmentRepo(h.Vb,r.props.groupID,r.state.repoName.trim()).then((function(e){r.props.toggle(),r.props.onRepoChanged()})).catch((function(e){var t=z.a.getErrorMsg(e);r.setState({errMessage:t})}))},r.validateName=function(){var e="";return!!r.state.repoName.trim().length||(e=Object(h.pb)("Name is required"),r.setState({errMessage:e}),!1)},r.handleChange=function(e){r.setState({repoName:e.target.value})},r.handleKeyPress=function(e){"Enter"===e.key&&(r.handleSubmit(),e.preventDefault())},r.state={repoName:"",errMessage:""},r}return Object(r.a)(n,[{key:"render",value:function(){return Object(b.jsxs)(Pe.a,{isOpen:!0,toggle:this.props.toggle,autoFocus:!1,children:[Object(b.jsx)(Fe.a,{toggle:this.props.toggle,children:Object(h.pb)("New Library")}),Object(b.jsxs)(Te.a,{children:[Object(b.jsx)(Ue.a,{children:Object(b.jsxs)(Ee.a,{children:[Object(b.jsx)(me.a,{for:"repoName",children:Object(h.pb)("Name")}),Object(b.jsx)(H.a,{id:"repoName",onKeyPress:this.handleKeyPress,value:this.state.repoName,onChange:this.handleChange,autoFocus:!0})]})}),this.state.errMessage&&Object(b.jsx)("p",{className:"error",children:this.state.errMessage})]}),Object(b.jsx)(Re.a,{children:Object(b.jsx)(w.a,{color:"primary",onClick:this.handleSubmit,children:Object(h.pb)("Submit")})})]})}}]),n}(c.a.Component),jn=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).deleteRepo=function(){L.b.orgAdminDeleteDepartmentRepo(h.Vb,r.props.groupID,r.props.repo.repo_id).then((function(e){e.data.success&&(r.props.onRepoChanged(),r.props.toggle())})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r}return Object(r.a)(n,[{key:"render",value:function(){var e=Object(h.pb)("Are you sure you want to delete {placeholder} ?");return e=e.replace("{placeholder}",'<span class="op-target">'+z.a.HTMLescape(this.props.repo.name)+"</span>"),Object(b.jsxs)(Pe.a,{isOpen:!0,toggle:this.props.toggle,children:[Object(b.jsx)(Fe.a,{toggle:this.props.toggle,children:Object(h.pb)("Delete Library")}),Object(b.jsx)(Te.a,{children:Object(b.jsx)("div",{dangerouslySetInnerHTML:{__html:e}})}),Object(b.jsxs)(Re.a,{children:[Object(b.jsx)(w.a,{color:"primary",onClick:this.deleteRepo,children:Object(h.pb)("Delete")}),Object(b.jsx)(w.a,{color:"secondary",onClick:this.props.toggle,children:Object(h.pb)("Cancel")})]})]})}}]),n}(c.a.Component);j.a.locale(h.Db);var vn=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).listOrgGroupRepo=function(e){L.b.orgAdminListGroupRepos(h.Vb,e).then((function(e){r.setState({repos:e.data.libraries})})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.listOrgMembers=function(e){L.b.orgAdminListGroupInfo(h.Vb,e,!0).then((function(e){r.setState({members:e.data.members,groups:e.data.groups,ancestorGroups:e.data.ancestor_groups,groupName:e.data.name})})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.listSubDepartGroups=function(e){L.b.orgAdminListGroupInfo(h.Vb,e,!0).then((function(e){r.setState({groups:e.data.groups})})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.toggleCancel=function(){r.setState({showDeleteMemberDialog:!1,showDeleteRepoDialog:!1,showDeleteDepartDialog:!1,showSetGroupQuotaDialog:!1})},r.onFreezedDepart=function(){r.setState({isDepartFreezed:!0})},r.onUnfreezedDepart=function(){r.setState({isDepartFreezed:!1})},r.onDepartmentNameChanged=function(e){r.setState({groups:r.state.groups.map((function(t){return t.id==e.id&&(t.name=e.name),t}))})},r.onSubDepartChanged=function(){r.listSubDepartGroups(r.props.groupID)},r.onRepoChanged=function(){r.listOrgGroupRepo(r.props.groupID)},r.onMemberChanged=function(){r.listOrgMembers(r.props.groupID)},r.toggleItemFreezed=function(e){r.setState({isItemFreezed:e})},r.showDeleteMemberDialog=function(e){r.setState({showDeleteMemberDialog:!0,deletedMember:e})},r.showDeleteRepoDialog=function(e){r.setState({showDeleteRepoDialog:!0,deletedRepo:e})},r.toggleAddRepoDialog=function(){r.setState({isShowAddRepoDialog:!r.state.isShowAddRepoDialog})},r.toggleAddMemberDialog=function(){r.setState({isShowAddMemberDialog:!r.state.isShowAddMemberDialog})},r.toggleAddDepartDialog=function(){r.setState({isShowAddDepartDialog:!r.state.isShowAddDepartDialog})},r.showDeleteDepartDialog=function(e){r.setState({showDeleteDepartDialog:!0,subGroupID:e.id,subGroupName:e.name})},r.showSetGroupQuotaDialog=function(e){r.setState({showSetGroupQuotaDialog:!0,subGroupID:e})},r.state={groupName:"",isItemFreezed:!1,isDepartFreezed:!1,ancestorGroups:[],members:[],deletedMember:{},isShowAddMemberDialog:!1,showDeleteMemberDialog:!1,repos:[],deletedRepo:{},isShowAddRepoDialog:!1,showDeleteRepoDialog:!1,groups:[],subGroupID:"",subGroupName:"",isShowAddDepartDialog:!1,showDeleteDepartDialog:!1,showSetGroupQuotaDialog:!1},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.groupID;this.listOrgGroupRepo(e),this.listOrgMembers(e)}},{key:"componentWillReceiveProps",value:function(e){this.props.groupID!==e.groupID&&(this.listOrgGroupRepo(e.groupID),this.listOrgMembers(e.groupID))}},{key:"render",value:function(){var e=this,t=this.state,n=t.members,a=t.repos,r=t.groups,i=this.props.groupID,o="btn btn-secondary operation-item",l=Object(b.jsxs)(s.Fragment,{children:[i&&Object(b.jsx)("button",{className:o,title:Object(h.pb)("New Sub-department"),onClick:this.toggleAddDepartDialog,children:Object(h.pb)("New Sub-department")}),i&&Object(b.jsx)("button",{className:o,title:Object(h.pb)("Add Member"),onClick:this.toggleAddMemberDialog,children:Object(h.pb)("Add Member")}),i&&Object(b.jsx)("button",{className:o,onClick:this.toggleAddRepoDialog,title:Object(h.pb)("New Library"),children:Object(h.pb)("New Library")}),this.state.isShowAddMemberDialog&&Object(b.jsx)(Ae.a,{children:Object(b.jsx)(gn,{toggle:this.toggleAddMemberDialog,onMemberChanged:this.onMemberChanged,groupID:i})}),this.state.isShowAddRepoDialog&&Object(b.jsx)(Ae.a,{children:Object(b.jsx)(mn,{toggle:this.toggleAddRepoDialog,onRepoChanged:this.onRepoChanged,groupID:i})}),this.state.isShowAddDepartDialog&&Object(b.jsx)(Ae.a,{children:Object(b.jsx)(on,{onDepartChanged:this.onSubDepartChanged,parentGroupID:i,toggle:this.toggleAddDepartDialog})})]});return Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(x,{children:l}),Object(b.jsxs)("div",{className:"main-panel-center flex-row h-100",children:[Object(b.jsxs)("div",{className:"cur-view-container o-auto",children:[Object(b.jsx)("div",{className:"cur-view-path",children:Object(b.jsx)("div",{className:"fleft",children:Object(b.jsxs)("h3",{className:"sf-heading",children:[i?Object(b.jsx)(u.a,{to:h.qc+"org/departmentadmin/",children:Object(h.pb)("Departments")}):Object(b.jsx)("span",{children:Object(h.pb)("Departments")}),this.state.ancestorGroups.map((function(e){var t=h.qc+"org/departmentadmin/groups/"+e.id+"/";return Object(b.jsxs)("span",{children:[" / ",Object(b.jsx)(u.a,{to:t,children:e.name})]},e.id)})),i&&Object(b.jsxs)("span",{children:[" / ",this.state.groupName]})]})})}),Object(b.jsxs)("div",{className:"cur-view-subcontainer org-groups",children:[Object(b.jsx)("div",{className:"cur-view-path",children:Object(b.jsx)("div",{className:"fleft",children:Object(b.jsx)("h3",{className:"sf-heading",children:Object(h.pb)("Sub-departments")})})}),Object(b.jsx)("div",{className:"cur-view-content",children:r&&r.length>0?Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{width:"40%",children:Object(h.pb)("Name")}),Object(b.jsx)("th",{width:"25%",children:Object(h.pb)("Created At")}),Object(b.jsx)("th",{width:"20%",children:Object(h.pb)("Quota")}),Object(b.jsx)("th",{width:"15%"})]})}),Object(b.jsx)("tbody",{children:r.map((function(t,n){return Object(b.jsx)(c.a.Fragment,{children:Object(b.jsx)(yn,{group:t,isItemFreezed:e.state.isDepartFreezed,onFreezedItem:e.onFreezedDepart,onUnfreezedItem:e.onUnfreezedDepart,onDepartmentNameChanged:e.onDepartmentNameChanged,showDeleteDepartDialog:e.showDeleteDepartDialog,showSetGroupQuotaDialog:e.showSetGroupQuotaDialog})},t.id)}))})]}):Object(b.jsx)("p",{className:"no-group",children:Object(h.pb)("No sub-departments")})})]}),Object(b.jsxs)("div",{className:"cur-view-subcontainer org-members",children:[Object(b.jsx)("div",{className:"cur-view-path",children:Object(b.jsx)("div",{className:"fleft",children:Object(b.jsx)("h3",{className:"sf-heading",children:Object(h.pb)("Members")})})}),Object(b.jsx)("div",{className:"cur-view-content",children:n&&0!==n.length?Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{width:"5%"}),Object(b.jsx)("th",{width:"50%",children:Object(h.pb)("Name")}),Object(b.jsx)("th",{width:"15%",children:Object(h.pb)("Role")}),Object(b.jsx)("th",{width:"30%"})]})}),Object(b.jsx)("tbody",{children:n.map((function(t,n){return Object(b.jsx)(c.a.Fragment,{children:Object(b.jsx)(On,{member:t,showDeleteMemberDialog:e.showDeleteMemberDialog,isItemFreezed:e.state.isItemFreezed,onMemberChanged:e.onMemberChanged,toggleItemFreezed:e.toggleItemFreezed,groupID:i})},n)}))})]}):Object(b.jsx)("p",{className:"no-member",children:Object(h.pb)("No members")})})]}),Object(b.jsxs)("div",{className:"cur-view-subcontainer org-libriries",children:[Object(b.jsx)("div",{className:"cur-view-path",children:Object(b.jsx)("div",{className:"fleft",children:Object(b.jsx)("h3",{className:"sf-heading",children:Object(h.pb)("Libraries")})})}),a.length>0?Object(b.jsx)("div",{className:"cur-view-content",children:Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{width:"5%"}),Object(b.jsx)("th",{width:"50%",children:Object(h.pb)("Name")}),Object(b.jsx)("th",{width:"30%",children:Object(h.pb)("Size")}),Object(b.jsx)("th",{width:"15%"})]})}),Object(b.jsx)("tbody",{children:a.map((function(t,n){return Object(b.jsx)(c.a.Fragment,{children:Object(b.jsx)(xn,{repo:t,showDeleteRepoDialog:e.showDeleteRepoDialog})},n)}))})]})}):Object(b.jsx)("p",{className:"no-libraty",children:Object(h.pb)("No libraries")})]})]}),Object(b.jsxs)(c.a.Fragment,{children:[this.state.showDeleteMemberDialog&&Object(b.jsx)(Ae.a,{children:Object(b.jsx)(fn,{toggle:this.toggleCancel,onMemberChanged:this.onMemberChanged,member:this.state.deletedMember,groupID:i})}),this.state.showDeleteRepoDialog&&Object(b.jsx)(Ae.a,{children:Object(b.jsx)(jn,{toggle:this.toggleCancel,onRepoChanged:this.onRepoChanged,repo:this.state.deletedRepo,groupID:i})}),this.state.showDeleteDepartDialog&&Object(b.jsx)(Ae.a,{children:Object(b.jsx)(sn,{toggle:this.toggleCancel,groupID:this.state.subGroupID,groupName:this.state.subGroupName,onDepartChanged:this.onSubDepartChanged})}),this.state.showSetGroupQuotaDialog&&Object(b.jsx)(Ae.a,{children:Object(b.jsx)(cn,{toggle:this.toggleCancel,groupID:this.state.subGroupID,onDepartChanged:this.onSubDepartChanged})})]})]})]})}}]),n}(c.a.Component),On=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).onMouseEnter=function(){r.props.isItemFreezed||r.setState({highlight:!0})},r.onMouseLeave=function(){r.props.isItemFreezed||r.setState({highlight:!1})},r.toggleMemberRoleMenu=function(){r.setState({showRoleMenu:!r.state.showRoleMenu})},r.onChangeUserRole=function(e){var t="Admin"===e;L.b.orgAdminSetGroupMemberRole(h.Vb,r.props.groupID,r.props.member.email,t).then((function(e){r.props.onMemberChanged()})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)})),r.setState({highlight:!1})},r.state={highlight:!1,showRoleMenu:!1},r.roles=["Admin","Member"],r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.member,t=this.state.highlight,n=h.gc+"/org/useradmin/info/"+e.email+"/";return"Owner"===e.role?null:Object(b.jsxs)("tr",{className:t?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:[Object(b.jsx)("td",{children:Object(b.jsx)("img",{src:e.avatar_url,alt:"member-header",width:"24",className:"avatar"})}),Object(b.jsx)("td",{children:Object(b.jsx)("a",{href:n,children:e.name})}),Object(b.jsx)("td",{children:Object(b.jsx)(bn.a,{isTextMode:!0,isEditIconShow:t,currentRole:e.role,roles:this.roles,onRoleChanged:this.onChangeUserRole,toggleItemFreezed:this.props.toggleItemFreezed})}),this.props.isItemFreezed?Object(b.jsx)("td",{}):Object(b.jsx)("td",{className:"cursor-pointer text-center",onClick:this.props.showDeleteMemberDialog.bind(this,e),children:Object(b.jsx)("span",{className:"sf2-icon-x3 action-icon ".concat(t?"":"vh"),title:"Delete"})})]})}}]),n}(c.a.Component),xn=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).onMouseEnter=function(){r.setState({highlight:!0})},r.onMouseLeave=function(){r.setState({highlight:!1})},r.state={highlight:!1},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.repo,t=this.state.highlight,n=z.a.getLibIconUrl(e);return Object(b.jsxs)("tr",{className:t?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:[Object(b.jsx)("td",{children:Object(b.jsx)("img",{src:n,width:"24",alt:Object(h.pb)("icon")})}),Object(b.jsx)("td",{children:e.name}),Object(b.jsxs)("td",{children:[z.a.bytesToSize(e.size)," "]}),Object(b.jsx)("td",{className:"cursor-pointer text-center",onClick:this.props.showDeleteRepoDialog.bind(this,e),children:Object(b.jsx)("span",{className:"sf2-icon-delete action-icon ".concat(t?"":"vh"),title:"Delete"})})]})}}]),n}(c.a.Component),yn=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).onMouseEnter=function(){r.props.isItemFreezed||r.setState({isOpIconShown:!0,highlight:!0})},r.onMouseLeave=function(){r.props.isItemFreezed||r.setState({isOpIconShown:!1,highlight:!1})},r.translateOperations=function(e){var t="";switch(e){case"Rename":t=Object(h.pb)("Rename");break;case"Delete":t=Object(h.pb)("Delete")}return t},r.onMenuItemClick=function(e){var t=r.props.group;switch(e){case"Rename":r.toggleRenameDialog();break;case"Delete":r.props.showDeleteDepartDialog(t)}},r.onUnfreezedItem=function(){r.setState({highlight:!1,isOpIconShow:!1}),r.props.onUnfreezedItem()},r.toggleRenameDialog=function(){r.setState({isRenameDialogOpen:!r.state.isRenameDialogOpen})},r.state={highlight:!1,isOpIconShown:!1,isRenameDialogOpen:!1},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.group,t=this.state,n=t.highlight,a=t.isOpIconShown,r=t.isRenameDialogOpen,i=h.qc+"org/departmentadmin/groups/"+e.id+"/";return Object(b.jsxs)(s.Fragment,{children:[Object(b.jsxs)("tr",{className:n?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:[Object(b.jsx)("td",{children:Object(b.jsx)(u.a,{to:i,children:e.name})}),Object(b.jsx)("td",{children:j()(e.created_at).fromNow()}),Object(b.jsxs)("td",{onClick:this.props.showSetGroupQuotaDialog.bind(this,e.id),children:[z.a.bytesToSize(e.quota)," ",Object(b.jsx)("span",{title:"Edit Quota",className:"fa fa-pencil-alt attr-action-icon ".concat(n?"":"vh")})]}),Object(b.jsx)("td",{children:a&&Object(b.jsx)(dn.a,{operations:["Rename","Delete"],translateOperations:this.translateOperations,onMenuItemClick:this.onMenuItemClick,onFreezedItem:this.props.onFreezedItem,onUnfreezedItem:this.onUnfreezedItem})})]}),r&&Object(b.jsx)(ln,{orgID:h.Vb,groupID:e.id,name:e.name,toggle:this.toggleRenameDialog,onDepartmentNameChanged:this.props.onDepartmentNameChanged})]})}}]),n}(c.a.Component),Sn=vn,wn=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).tabItemClick=function(e){r.props.tabItemClick(e)},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(x,{}),Object(b.jsx)("div",{className:"main-panel-center flex-row",children:Object(b.jsxs)("div",{className:"cur-view-container",children:[Object(b.jsx)("div",{className:"cur-view-path org-user-nav",children:Object(b.jsxs)("ul",{className:"nav",children:[Object(b.jsx)("li",{className:"nav-item",onClick:function(){return e.tabItemClick("logadmin")},children:Object(b.jsx)(u.a,{className:"nav-link ".concat("logadmin"===this.props.currentTab?"active":""),to:h.qc+"org/logadmin/",title:Object(h.pb)("File Access"),children:Object(h.pb)("File Access")})}),Object(b.jsx)("li",{className:"nav-item",onClick:function(){return e.tabItemClick("file-update")},children:Object(b.jsx)(u.a,{className:"nav-link ".concat("file-update"===this.props.currentTab?"active":""),to:h.qc+"org/logadmin/file-update/",title:Object(h.pb)("File Update"),children:Object(h.pb)("File Update")})}),Object(b.jsx)("li",{className:"nav-item",onClick:function(){return e.tabItemClick("perm-audit")},children:Object(b.jsx)(u.a,{className:"nav-link ".concat("perm-audit"===this.props.currentTab?"active":""),to:h.qc+"org/logadmin/perm-audit/",title:Object(h.pb)("Permission"),children:Object(h.pb)("Permission")})})]})}),this.props.children]})})]})}}]),n}(s.Component);j.a.locale(h.Db);var Dn=function e(t){Object(a.a)(this,e),this.ip=t.ip,this.type=t.type,this.device=t.device,this.repo_id=t.repo_id,this.repo_name=t.repo_name,this.file_name=t.file_name,this.file_path=t.file_path,this.user_name=t.user_name,this.user_email=t.user_email,this.user_contact_email=t.user_contact_email,this.time=j()(t.time).format("YYYY-MM-DD HH:mm:ss")};n(698);j.a.locale(h.Db);var kn=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).initData=function(e,t,n){L.b.orgAdminListFileAudit(e,t,n).then((function(e){var t=e.data.log_list.map((function(e){return new Dn(e)}));r.setState({eventList:t,pageNext:e.data.page_next,page:e.data.page,userSelected:e.data.user_selected,repoSelected:e.data.repo_selected})})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.onChangePageNum=function(e,t){e.preventDefault();var n=r.state.page;1==t?n+=1:n-=1;var a=r.state.userSelected,i=r.state.repoSelected;r.initData(a,i,n)},r.filterUser=function(e){r.setState({userSelected:e})},r.filterRepo=function(e){r.setState({repoSelected:e})},r.state={page:1,pageNext:!1,eventList:[],userSelected:"",repoSelected:"",isItemFreezed:!1},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this.state.page,t=this.state.userSelected,n=this.state.repoSelected;this.initData(t,n,e)}},{key:"render",value:function(){var e=this,t=this.state.eventList;return Object(b.jsxs)("div",{className:"cur-view-content",children:[(this.state.userSelected||this.state.repoSelected)&&Object(b.jsxs)(c.a.Fragment,{children:[this.state.userSelected&&Object(b.jsxs)("span",{className:"audit-unselect-item",onClick:this.filterUser.bind(this,null),children:[Object(b.jsx)("span",{className:"no-deco",children:this.state.userSelected})," \u2716"]}),this.state.repoSelected&&Object(b.jsxs)("span",{className:"audit-unselect-item",onClick:this.filterRepo.bind(this,null),children:[Object(b.jsx)("span",{className:"no-deco",children:this.state.repoSelected})," \u2716"]})]}),Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{width:"24%",children:Object(h.pb)("User")}),Object(b.jsx)("th",{width:"10%",children:Object(h.pb)("Type")}),Object(b.jsx)("th",{width:"13%",children:Object(h.pb)("IP")}),Object(b.jsx)("th",{width:"17%",children:Object(h.pb)("Date")}),Object(b.jsx)("th",{width:"18%",children:Object(h.pb)("Library")}),Object(b.jsx)("th",{width:"18%",children:Object(h.pb)("File")})]})}),Object(b.jsx)("tbody",{children:t.map((function(t,n){return Object(b.jsx)(Cn,{fileEvent:t,isItemFreezed:e.state.isItemFreezed,filterUser:e.filterUser,filterRepo:e.filterRepo,userSelected:e.state.userSelected,repoSelected:e.state.repoSelected},n)}))})]}),Object(b.jsxs)("div",{className:"paginator",children:[1!=this.state.page&&Object(b.jsx)("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,-1)},children:Object(h.pb)("Previous")}),1!=this.state.page&&this.state.pageNext&&Object(b.jsx)("span",{children:" | "}),this.state.pageNext&&Object(b.jsx)("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,1)},children:Object(h.pb)("Next")})]})]})}}]),n}(c.a.Component),Cn=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).onMouseEnter=function(){r.props.isItemFreezed||r.setState({showMenu:!0,highlight:!0})},r.onMouseLeave=function(){r.props.isItemFreezed||r.setState({showMenu:!1,highlight:!1})},r.toggleUserDropdown=function(){r.setState({userDropdownOpen:!r.state.userDropdownOpen})},r.renderUser=function(e){return e.user_email?Object(b.jsxs)("span",{children:[Object(b.jsx)("a",{href:h.qc+"org/useradmin/info/"+e.user_email+"/",children:e.user_name})," ",Object(b.jsxs)(Se.a,{size:"sm",isOpen:r.state.userDropdownOpen,toggle:r.toggleUserDropdown,className:r.state.highlight?"":"vh",tag:"span",children:[Object(b.jsx)(we.a,{tag:"i",className:"sf-dropdown-toggle sf2-icon-caret-down"}),Object(b.jsx)(De.a,{children:Object(b.jsxs)(ke.a,{onClick:r.props.filterUser.bind(Object(q.a)(r),e.user_email),children:[Object(h.pb)("Only Show")," ",Object(b.jsx)("span",{className:"font-weight-bold",children:e.user_name})]})})]})]}):Object(h.pb)("Anonymous User")},r.renderType=function(e){return-1!=e.indexOf("web")&&(e="web"),-1!=e.indexOf("api")&&(e="api"),-1!=e.indexOf("share-link")&&(e="share link"),e},r.toggleRepoDropdown=function(){r.setState({repoDropdownOpen:!r.state.repoDropdownOpen})},r.renderRepo=function(e){var t="Deleted";return e.repo_name&&(t=e.repo_name),Object(b.jsxs)("span",{children:[Object(b.jsx)("span",{children:t}),e.repo_name&&Object(b.jsxs)(Se.a,{size:"sm",isOpen:r.state.repoDropdownOpen,toggle:r.toggleRepoDropdown,className:r.state.highlight?"":"vh",children:[Object(b.jsx)(we.a,{tag:"i",className:"sf-dropdown-toggle sf2-icon-caret-down"}),Object(b.jsx)(De.a,{children:Object(b.jsxs)(ke.a,{size:"sm",onClick:r.props.filterRepo.bind(Object(q.a)(r),e.repo_name),children:[Object(h.pb)("Only Show")," ",Object(b.jsx)("span",{className:"font-weight-bold",children:e.repo_name})]})})]})]})},r.state={highlight:!1,showMenu:!1,isItemMenuShow:!1,userDropdownOpen:!1,repoDropdownOpen:!1},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.fileEvent;return this.props.userSelected&&e.user_email!==this.props.userSelected||this.props.repoSelected&&e.repo_name!==this.props.repoSelected?null:Object(b.jsxs)("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:[Object(b.jsx)("td",{children:this.renderUser(e)}),Object(b.jsx)("td",{children:this.renderType(e.type)}),Object(b.jsx)("td",{children:e.ip}),Object(b.jsx)("td",{children:j()(e.time).format("YYYY-MM-DD HH:mm:ss")}),Object(b.jsx)("td",{children:this.renderRepo(e)}),Object(b.jsx)("td",{children:Object(b.jsx)("span",{title:e.file_path,children:e.file_name})})]})}}]),n}(c.a.Component),Mn=kn;j.a.locale(h.Db);var In=function e(t){Object(a.a)(this,e),this.repo_id=t.repo_id,this.description=t.description,this.repo_name=t.repo_name,this.user_name=t.user_name,this.user_email=t.user_email,this.repo_encrypted=t.repo_encrypted,this.repo_commit_id=t.repo_commit_id,this.user_contact_email=t.user_contact_email,this.time=j()(t.time).format("YYYY-MM-DD HH:mm:ss")},Nn=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).renderContentItem=function(e){var t="";t+='<ul class="list-group list-group-flush">';for(var n=0,a=e.length;n<a;n++)t+='<li class="list-group-item">'+e[n]+"</li>";return{__html:t+="</ul>"}},r.renderContent=function(){return r.state.newfile.length>0?Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{children:Object(h.pb)("New files")}),Object(b.jsx)("p",{children:r.state.time}),Object(b.jsx)("div",{dangerouslySetInnerHTML:r.renderContentItem(r.state.newfile)})]}):r.state.removed.length>0?Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{children:Object(h.pb)("Deleted files")}),Object(b.jsx)("p",{children:r.state.time}),Object(b.jsx)("div",{dangerouslySetInnerHTML:r.renderContentItem(r.state.removed)})]}):r.state.renamed.length>0?Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{children:Object(h.pb)("Renamed or Moved files")}),Object(b.jsx)("p",{children:r.state.time}),Object(b.jsx)("div",{dangerouslySetInnerHTML:r.renderContentItem(r.state.renamed)})]}):r.state.modified.length>0?Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{children:Object(h.pb)("Modified files")}),Object(b.jsx)("p",{children:r.state.time}),Object(b.jsx)("div",{dangerouslySetInnerHTML:r.renderContentItem(r.state.modified)})]}):r.state.newdir.length>0?Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{children:Object(h.pb)("New directories")}),Object(b.jsx)("p",{children:r.state.time}),Object(b.jsx)("div",{dangerouslySetInnerHTML:r.renderContentItem(r.state.newdir)})]}):r.state.deldir.length>0?Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{children:Object(h.pb)("Deleted directories")}),Object(b.jsx)("p",{children:r.state.time}),Object(b.jsx)("div",{dangerouslySetInnerHTML:r.renderContentItem(r.state.deldir)})]}):void 0},r.state={time:"",renamed:[],deldir:[],modified:[],newdir:[],newfile:[],removed:[]},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;L.b.orgAdminGetFileUpdateDetail(this.props.repoID,this.props.commitID).then((function(t){e.setState({time:t.data.date_time,renamed:e.state.renamed.concat(t.data.renamed),deldir:e.state.deldir.concat(t.data.deldir),modified:e.state.modified.concat(t.data.modified),newdir:e.state.newdir.concat(t.data.newdir),newfile:e.state.newfile.concat(t.data.new),removed:e.state.removed.concat(t.data.removed)})})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))}},{key:"render",value:function(){return Object(b.jsxs)(Pe.a,{isOpen:!0,toggle:this.props.toggleCancel,children:[Object(b.jsx)(Fe.a,{toggle:this.props.toggleCancel,children:Object(h.pb)("Modification Details")}),Object(b.jsx)(Te.a,{children:this.renderContent()})]})}}]),n}(c.a.Component);j.a.locale(h.Db);var _n=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).initData=function(e,t,n){L.b.orgAdminListFileUpdate(e,t,n).then((function(e){var t=e.data.log_list.map((function(e){return new In(e)}));r.setState({eventList:t,pageNext:e.data.page_next,page:e.data.page})})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.onChangePageNum=function(e,t){e.preventDefault();var n=r.state.page;1==t?n+=1:n-=1;var a=r.state.userSelected,i=r.state.repoSelected;r.initData(a,i,n)},r.toggleCancelDetail=function(){r.setState({showDetails:!r.state.showDetails})},r.onDetails=function(e,t){e.preventDefault(),r.setState({showDetails:!r.state.showDetails,repoID:t.repo_id,commitID:t.repo_commit_id})},r.filterUser=function(e){r.setState({userSelected:e})},r.filterRepo=function(e){r.setState({repoSelected:e})},r.state={page:1,pageNext:!1,eventList:[],userSelected:"",repoSelected:"",isItemFreezed:!1,showDetails:!1,repoID:"",commitID:""},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this.state.page,t=this.state.userSelected,n=this.state.repoSelected;this.initData(t,n,e)}},{key:"render",value:function(){var e=this,t=this.state.eventList;return Object(b.jsxs)("div",{className:"cur-view-content",children:[(this.state.userSelected||this.state.repoSelected)&&Object(b.jsxs)(c.a.Fragment,{children:[this.state.userSelected&&Object(b.jsxs)("span",{className:"audit-unselect-item",onClick:this.filterUser.bind(this,null),children:[Object(b.jsx)("span",{className:"no-deco",children:this.state.userSelected})," \u2716"]}),this.state.repoSelected&&Object(b.jsxs)("span",{className:"audit-unselect-item",onClick:this.filterRepo.bind(this,null),children:[Object(b.jsx)("span",{className:"no-deco",children:this.state.repoSelected})," \u2716"]})]}),Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{width:"25%",children:Object(h.pb)("User")}),Object(b.jsx)("th",{width:"17%",children:Object(h.pb)("Date")}),Object(b.jsx)("th",{width:"25%",children:Object(h.pb)("Library")}),Object(b.jsx)("th",{width:"33%",children:Object(h.pb)("Action")})]})}),Object(b.jsx)("tbody",{children:t.map((function(t,n){return Object(b.jsx)(An,{fileEvent:t,isItemFreezed:e.state.isItemFreezed,onDetails:e.onDetails,filterUser:e.filterUser,filterRepo:e.filterRepo,userSelected:e.state.userSelected,repoSelected:e.state.repoSelected},n)}))})]}),Object(b.jsxs)("div",{className:"paginator",children:[1!=this.state.page&&Object(b.jsx)("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,-1)},children:Object(h.pb)("Previous")}),1!=this.state.page&&this.state.pageNext&&Object(b.jsx)("span",{children:" | "}),this.state.pageNext&&Object(b.jsx)("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,1)},children:Object(h.pb)("Next")})]}),this.state.showDetails&&Object(b.jsx)(Ae.a,{children:Object(b.jsx)(Nn,{repoID:this.state.repoID,commitID:this.state.commitID,toggleCancel:this.toggleCancelDetail})})]})}}]),n}(s.Component),An=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).onMouseEnter=function(){r.props.isItemFreezed||r.setState({showMenu:!0,highlight:!0})},r.onMouseLeave=function(){r.props.isItemFreezed||r.setState({showMenu:!1,highlight:!1})},r.toggleUserDropdown=function(){r.setState({userDropdownOpen:!r.state.userDropdownOpen})},r.renderUser=function(e){return e.user_email?Object(b.jsxs)("span",{children:[Object(b.jsx)("a",{href:h.qc+"org/useradmin/info/"+e.user_email+"/",children:e.user_name})," ",Object(b.jsxs)(Se.a,{size:"sm",isOpen:r.state.userDropdownOpen,toggle:r.toggleUserDropdown,className:r.state.highlight?"":"vh",tag:"span",children:[Object(b.jsx)(we.a,{tag:"i",className:"sf-dropdown-toggle sf2-icon-caret-down"}),Object(b.jsx)(De.a,{children:Object(b.jsxs)(ke.a,{onClick:r.props.filterUser.bind(Object(q.a)(r),e.user_email),children:[Object(h.pb)("Only Show")," ",Object(b.jsx)("span",{className:"font-weight-bold",children:e.user_name})]})})]})]}):Object(h.pb)("Anonymous User")},r.toggleRepoDropdown=function(){r.setState({repoDropdownOpen:!r.state.repoDropdownOpen})},r.renderRepo=function(e){var t="Deleted";return e.repo_name&&(t=e.repo_name),Object(b.jsxs)("span",{children:[Object(b.jsx)("span",{children:t}),e.repo_name&&Object(b.jsxs)(Se.a,{size:"sm",isOpen:r.state.repoDropdownOpen,toggle:r.toggleRepoDropdown,className:r.state.highlight?"":"vh",children:[Object(b.jsx)(we.a,{tag:"i",className:"sf-dropdown-toggle sf2-icon-caret-down"}),Object(b.jsx)(De.a,{children:Object(b.jsxs)(ke.a,{size:"sm",onClick:r.props.filterRepo.bind(Object(q.a)(r),e.repo_name),children:[Object(h.pb)("Only Show")," ",Object(b.jsx)("span",{className:"font-weight-bold",children:e.repo_name})]})})]})]})},r.renderAction=function(e){return e.repo_encrypted||!e.repo_id?Object(b.jsx)("td",{children:e.description}):Object(b.jsxs)("td",{children:[e.description,Object(b.jsx)("a",{className:"font-weight-normal text-muted ml-1",href:"#",onClick:function(t){return r.props.onDetails(t,e)},children:Object(h.pb)("Details")})]})},r.state={highlight:!1,showMenu:!1,isItemMenuShow:!1,userDropdownOpen:!1,repoDropdownOpen:!1},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.fileEvent;return this.props.userSelected&&e.user_email!==this.props.userSelected||this.props.repoSelected&&e.repo_name!==this.props.repoSelected?null:Object(b.jsxs)("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:[Object(b.jsx)("td",{children:this.renderUser(e)}),Object(b.jsx)("td",{children:j()(e.time).format("YYYY-MM-DD HH:mm:ss")}),Object(b.jsx)("td",{children:this.renderRepo(e)}),this.renderAction(e)]})}}]),n}(c.a.Component),Pn=_n;j.a.locale(h.Db);var Fn=function e(t){Object(a.a)(this,e),this.from_user_name=t.from_user_name,this.from_user_email=t.from_user_email,this.from_user_contact_email=t.from_user_contact_email,this.to_user_email=t.to_user_email,this.to_user_name=t.to_user_name,this.to_user_contact_email=t.to_user_contact_email,this.to_group_name=t.to_group_name,this.to_group_id=t.to_group_id,this.type=t.type,this.repo_id=t.repo_id,this.repo_name=t.repo_name,this.folder_name=t.folder_name,this.folder_path=t.folder_path,this.time=j()(t.time).format("YYYY-MM-DD HH:mm:ss"),this.permission=t.permission};j.a.locale(h.Db);var Tn=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).initData=function(e,t,n){L.b.orgAdminListPermAudit(e,t,n).then((function(e){var t=e.data.log_list.map((function(e){return new Fn(e)}));r.setState({eventList:t,pageNext:e.data.page_next,page:e.data.page})})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.onChangePageNum=function(e,t){e.preventDefault();var n=r.state.page;1==t?n+=1:n-=1,r.initData(n)},r.filterUser=function(e){r.setState({userSelected:e})},r.state={page:1,pageNext:!1,eventList:[],userSelected:"",repoSelected:"",isItemFreezed:!1},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this.state.page,t=this.state.userSelected,n=this.state.repoSelected;this.initData(t,n,e)}},{key:"render",value:function(){var e=this,t=this.state.eventList;return Object(b.jsxs)("div",{className:"cur-view-content",children:[this.state.userSelected&&Object(b.jsxs)("span",{className:"audit-unselect-item",onClick:this.filterUser.bind(this,null),children:[Object(b.jsx)("span",{className:"no-deco",children:this.state.userSelected})," \u2716"]}),Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{width:"18%",children:Object(h.pb)("Share From")}),Object(b.jsx)("th",{width:"15%",children:Object(h.pb)("Share To")}),Object(b.jsx)("th",{width:"8%",children:Object(h.pb)("Actions")}),Object(b.jsx)("th",{width:"13%",children:Object(h.pb)("Permission")}),Object(b.jsx)("th",{width:"15%",children:Object(h.pb)("Library")}),Object(b.jsx)("th",{width:"15%",children:Object(h.pb)("Folder")}),Object(b.jsx)("th",{width:"16%",children:Object(h.pb)("Date")})]})}),Object(b.jsx)("tbody",{children:t.map((function(t,n){return Object(b.jsx)(Ln,{permEvent:t,isItemFreezed:e.state.isItemFreezed,filterUser:e.filterUser,userSelected:e.state.userSelected},n)}))})]}),Object(b.jsxs)("div",{className:"paginator",children:[1!=this.state.page&&Object(b.jsx)("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,-1)},children:Object(h.pb)("Previous")}),1!=this.state.page&&this.state.pageNext&&Object(b.jsx)("span",{children:" | "}),this.state.pageNext&&Object(b.jsx)("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,1)},children:Object(h.pb)("Next")})]})]})}}]),n}(s.Component),Ln=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).onMouseEnter=function(){r.props.isItemFreezed||r.setState({showMenu:!0,highlight:!0})},r.onMouseLeave=function(){r.props.isItemFreezed||r.setState({showMenu:!1,highlight:!1})},r.renderFromUser=function(e){return e.from_user_email?Object(b.jsxs)("span",{children:[Object(b.jsx)("a",{href:h.qc+"org/useradmin/info/"+e.from_user_email+"/",children:e.from_user_name})," ",Object(b.jsxs)(Se.a,{size:"sm",isOpen:r.state.userDropdownOpen,toggle:r.toggleUserDropdown,className:r.state.highlight?"":"vh",tag:"span",children:[Object(b.jsx)(we.a,{tag:"i",className:"sf-dropdown-toggle sf2-icon-caret-down"}),Object(b.jsx)(De.a,{children:Object(b.jsxs)(ke.a,{onClick:r.props.filterUser.bind(Object(q.a)(r),e.from_user_email),children:[Object(h.pb)("Only Show")," ",Object(b.jsx)("span",{className:"font-weight-bold",children:e.from_user_name})]})})]})]}):Object(h.pb)("Anonymous User")},r.toggleUserDropdown=function(){r.setState({userDropdownOpen:!r.state.userDropdownOpen})},r.renderToUser=function(e){return-1!=e.type.indexOf("public")?Object(b.jsx)("a",{href:h.qc+"org/",children:Object(h.pb)("Organization")}):-1!=e.type.indexOf("group")?e.to_group_name?Object(b.jsx)("a",{href:h.qc+"org/groupadmin/"+e.to_group_id+"/",children:e.to_group_name}):"Deleted":-1!=e.type.indexOf("user")?Object(b.jsx)("a",{href:h.qc+"org/useradmin/info/"+e.to_user_email+"/",children:e.to_user_name}):void 0},r.renderType=function(e){return-1!=e.indexOf("add")&&(e="Add"),-1!=e.indexOf("modify")&&(e="Modify"),-1!=e.indexOf("delete")&&(e="Delete"),e},r.renderRepo=function(e){var t="Deleted";return e.repo_name&&(t=e.repo_name),t},r.renderFolder=function(e){var t="/";return e&&(t=e),t},r.state={highlight:!1,showMenu:!1,isItemMenuShow:!1,userDropdownOpen:!1},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.permEvent;return this.props.userSelected&&e.from_user_email!==this.props.userSelected?null:Object(b.jsxs)("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:[Object(b.jsx)("td",{children:this.renderFromUser(e)}),Object(b.jsx)("td",{children:this.renderToUser(e)}),Object(b.jsx)("td",{children:this.renderType(e.type)}),Object(b.jsx)("td",{children:z.a.sharePerms(e.permission)}),Object(b.jsx)("td",{children:this.renderRepo(e)}),Object(b.jsx)("td",{children:this.renderFolder(e.folder_name)}),Object(b.jsx)("td",{children:j()(e.time).format("YYYY-MM-DD HH:mm:ss")})]})}}]),n}(c.a.Component),Rn=Tn,zn=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.headingText,n=e.children;return Object(b.jsxs)("div",{className:"mb-4",children:[Object(b.jsx)("h4",{className:"border-bottom font-weight-normal mb-2 pb-1",children:t}),n]})}}]),n}(s.Component),Un=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).inputValue=function(e){r.props.changeValue(e)},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.displayName;return Object(b.jsx)(s.Fragment,{children:Object(b.jsxs)(ge.a,{className:"my-4",children:[Object(b.jsx)(fe.a,{md:"3",children:Object(b.jsx)(me.a,{className:"web-setting-label",children:a})}),Object(b.jsx)(fe.a,{md:"5",children:Object(b.jsx)(H.a,{innerRef:function(t){e.newInput=t},value:n,onChange:this.inputValue})})]})})}}]),n}(s.Component),En=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).uploadFile=function(){if(r.fileInput.current.files.length){var e=r.fileInput.current.files[0];r.props.postFile(e)}},r.openFileInput=function(){r.fileInput.current.click()},r.fileInput=c.a.createRef(),r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.displayName;return Object(b.jsx)(s.Fragment,{children:Object(b.jsxs)(ge.a,{className:"my-4",children:[Object(b.jsx)(fe.a,{md:"3",children:Object(b.jsx)(me.a,{className:"web-setting-label",children:e})}),Object(b.jsxs)(fe.a,{md:"5",children:[Object(b.jsx)(w.a,{color:"secondary",onClick:this.openFileInput,children:Object(h.pb)("Upload")}),Object(b.jsx)("input",{className:"d-none",type:"file",onChange:this.uploadFile,ref:this.fileInput})]})]})})}}]),n}(s.Component),Vn=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).toggleBtns=function(){r.setState({isBtnsShown:!r.state.isBtnsShown})},r.hideBtns=function(){r.state.isBtnsShown&&(r.state.newUrlPrefix!==r.state.orgUrlPrefix&&r.setState({newUrlPrefix:r.state.orgUrlPrefix}),r.toggleBtns())},r.onSubmit=function(){var e=r.state.newUrlPrefix.trim();e!==r.state.orgUrlPrefix&&r.updateUrlPrefix(e),r.toggleBtns()},r.inputOrgUrlPrefix=function(e){r.setState({newUrlPrefix:e.target.value})},r.inputMetadataUrl=function(e){r.setState({metadataUrl:e.target.value})},r.inputSingleSignOnService=function(e){r.setState({singleSignOnService:e.target.value})},r.inputSingleLogoutService=function(e){r.setState({singleLogoutService:e.target.value})},r.updateUrlPrefix=function(e){L.b.orgAdminUpdateUrlPrefix(h.Vb,e).then((function(e){r.setState({newUrlPrefix:e.data.org_url_prefix,orgUrlPrefix:e.data.org_url_prefix}),V.a.success(Object(h.pb)("Success"))})).catch((function(e){r.setState({newUrlPrefix:r.state.orgUrlPrefix});var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.postIdpCertificate=function(e){L.b.orgAdminUploadIdpCertificate(h.Vb,e).then((function(){V.a.success(Object(h.pb)("Success"))})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.addSamlConfig=function(){var e=r.state.metadataUrl;L.b.orgAdminAddSamlConfig(h.Vb,e).then((function(e){r.setState({samlConfigID:e.data.saml_config.id,metadataUrl:e.data.saml_config.metadata_url}),V.a.success(Object(h.pb)("Success"))})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.updateSamlConfig=function(){var e=r.state.metadataUrl;L.b.orgAdminUpdateSamlConfig(h.Vb,e).then((function(e){r.setState({samlConfigID:e.data.saml_config.id,metadataUrl:e.data.saml_config.metadata_url}),V.a.success(Object(h.pb)("Success"))})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.deleteSamlConfig=function(){L.b.orgAdminDeleteSamlConfig(h.Vb).then((function(){r.setState({samlConfigID:"",metadataUrl:""}),V.a.success(Object(h.pb)("Success"))})).catch((function(e){var t=z.a.getErrorMsg(e);V.a.danger(t)}))},r.state={loading:!0,errorMsg:"",samlConfigID:"",newUrlPrefix:"",orgUrlPrefix:"",metadataUrl:"",isBtnsShown:!1},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;L.b.orgAdminGetUrlPrefix(h.Vb).then((function(t){e.setState({newUrlPrefix:t.data.org_url_prefix,orgUrlPrefix:t.data.org_url_prefix}),L.b.orgAdminGetSamlConfig(h.Vb).then((function(t){e.setState({loading:!1,samlConfigID:t.data.saml_config.id||"",metadataUrl:t.data.saml_config.metadata_url||""})})).catch((function(t){e.setState({loading:!1,errorMsg:z.a.getErrorMsg(t,!0)})}))})).catch((function(t){e.setState({loading:!1,errorMsg:z.a.getErrorMsg(t,!0)})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.loading,a=t.errorMsg,r=t.samlConfigID,i=t.newUrlPrefix,o=t.metadataUrl,c=t.isBtnsShown;return Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(x,{}),Object(b.jsx)("div",{className:"main-panel-center flex-row",children:Object(b.jsxs)("div",{className:"cur-view-container",children:[Object(b.jsx)("div",{className:"cur-view-path",children:Object(b.jsx)("h3",{className:"sf-heading",children:Object(h.pb)("SAML config")})}),Object(b.jsxs)("div",{className:"cur-view-content container mw-100",children:[n&&Object(b.jsx)(E.a,{}),a&&Object(b.jsx)("p",{className:"error text-center mt-4",children:a}),!n&&!a&&Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(zn,{headingText:Object(h.pb)("Custom Login URL"),children:Object(b.jsx)(s.Fragment,{children:Object(b.jsxs)(ge.a,{className:"my-4",children:[Object(b.jsx)(fe.a,{md:"3",children:Object(b.jsx)(me.a,{className:"web-setting-label",children:Object(h.pb)("Your custom login URL")})}),Object(b.jsxs)(fe.a,{md:"5",children:["".concat(h.gc,"/org/custom/"),Object(b.jsx)("input",{innerRef:function(t){e.newInput=t},value:i,onChange:this.inputOrgUrlPrefix,onFocus:this.toggleBtns,onBlur:this.hideBtns}),Object(b.jsx)("p",{className:"small text-secondary mt-1",children:Object(h.pb)("The custom part of the URL should be 6 to 20 characters, and can only contain alphanumeric characters and hyphens.")})]}),c&&Object(b.jsxs)(fe.a,{md:"4",children:[Object(b.jsx)(w.a,{className:"sf2-icon-tick web-setting-icon-btn web-setting-icon-btn-submit",onMouseDown:this.onSubmit,title:Object(h.pb)("Submit")}),Object(b.jsx)(w.a,{className:"ml-1 sf2-icon-x2 web-setting-icon-btn web-setting-icon-btn-cancel",title:Object(h.pb)("Cancel")})]})]})})}),Object(b.jsx)(zn,{headingText:Object(h.pb)("Manage SAML Config"),children:Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(Un,{value:o,changeValue:this.inputMetadataUrl,displayName:Object(h.pb)("App Federation Metadata URL")}),Object(b.jsx)(ge.a,{className:"my-4",children:r?Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)(fe.a,{md:"1",children:Object(b.jsx)(w.a,{color:"secondary",onClick:this.updateSamlConfig,children:Object(h.pb)("Update")})}),Object(b.jsx)(fe.a,{md:"1",children:Object(b.jsx)(w.a,{color:"primary",onClick:this.deleteSamlConfig,children:Object(h.pb)("Delete")})})]}):Object(b.jsx)(fe.a,{md:"1",children:Object(b.jsx)(w.a,{color:"secondary",onClick:this.addSamlConfig,children:Object(h.pb)("Save")})})})]})}),Object(b.jsx)(zn,{headingText:Object(h.pb)("Upload IdP Files"),children:Object(b.jsx)(En,{postFile:this.postIdpCertificate,displayName:Object(h.pb)("IdP Certificate")})})]})]})]})})]})}}]),n}(s.Component),Bn=(n(221),n(130),function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).onCloseSidePanel=function(){r.setState({isSidePanelClosed:!r.state.isSidePanelClosed})},r.tabItemClick=function(e){r.setState({currentTab:e})},r.state={isSidePanelClosed:!1,currentTab:"users"},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=window.location.href.split("/"),t=e[e.length-2];-1!=location.href.indexOf("".concat(h.qc,"org/useradmin"))&&(t="users"),-1!=location.href.indexOf("".concat(h.qc,"org/statistics-admin/"))&&(t="statistics-admin"),-1!=location.href.indexOf("".concat(h.qc,"org/deviceadmin/"))&&(t="deviceadmin"),-1!=location.href.indexOf("".concat(h.qc,"org/groupadmin"))&&(t="groupadmin"),-1!=location.href.indexOf("".concat(h.qc,"org/departmentadmin"))&&(t="departmentadmin"),this.setState({currentTab:t})}},{key:"render",value:function(){var e=this.state,t=e.isSidePanelClosed,n=e.currentTab;return Object(b.jsxs)("div",{id:"main",children:[Object(b.jsx)(f,{isSidePanelClosed:t,onCloseSidePanel:this.onCloseSidePanel,currentTab:n,tabItemClick:this.tabItemClick}),Object(b.jsx)("div",{className:"main-panel",children:Object(b.jsxs)(u.b,{className:"reach-router",children:[Object(b.jsx)($t,{path:h.qc+"org/info/"}),Object(b.jsx)(B,{path:h.qc+"org/statistics-admin/file/"}),Object(b.jsx)(W,{path:h.qc+"org/statistics-admin/total-storage/"}),Object(b.jsx)(Z,{path:h.qc+"org/statistics-admin/active-users/"}),Object(b.jsx)(J,{path:h.qc+"org/statistics-admin/traffic/"}),Object(b.jsx)($,{path:h.qc+"org/statistics-admin/reports/"}),Object(b.jsx)(oe,{path:h.qc+"org/deviceadmin/desktop-devices/"}),Object(b.jsx)(se,{path:h.qc+"org/deviceadmin/mobile-devices/"}),Object(b.jsx)(he,{path:h.qc+"org/deviceadmin/devices-errors/"}),Object(b.jsx)(xe,{path:h.qc+"org/web-settings"}),Object(b.jsx)(Ke,{path:h.qc+"org/useradmin"}),Object(b.jsx)(Xe,{path:h.qc+"org/useradmin/search-users"}),Object(b.jsx)(et,{path:h.qc+"org/useradmin/admins/"}),Object(b.jsx)(ht,{path:h.qc+"org/useradmin/info/:email/"}),Object(b.jsx)(jt,{path:h.qc+"org/useradmin/info/:email/repos/"}),Object(b.jsx)(St,{path:h.qc+"org/useradmin/info/:email/shared-repos/"}),Object(b.jsx)(Mt,{path:h.qc+"org/groupadmin"}),Object(b.jsx)(_t,{path:h.qc+"org/groupadmin/search-groups"}),Object(b.jsx)(Rt,{path:h.qc+"org/groupadmin/:groupID/"}),Object(b.jsx)(Bt,{path:h.qc+"org/groupadmin/:groupID/repos/"}),Object(b.jsx)(Gt,{path:h.qc+"org/groupadmin/:groupID/members/"}),Object(b.jsx)(Zt,{path:h.qc+"org/repoadmin"}),Object(b.jsx)(an,{path:h.qc+"org/publinkadmin"}),Object(b.jsxs)(rn,{path:h.qc+"org/departmentadmin",children:[Object(b.jsx)(pn,{path:"/"}),Object(b.jsx)(Sn,{path:"groups/:groupID"})]}),Object(b.jsxs)(wn,{path:h.qc+"org/logadmin",currentTab:n,tabItemClick:this.tabItemClick,children:[Object(b.jsx)(Mn,{path:"/"}),Object(b.jsx)(Pn,{path:"file-update"}),Object(b.jsx)(Rn,{path:"perm-audit"})]}),Object(b.jsx)(Vn,{path:h.qc+"org/samlconfig/"})]})})]})}}]),n}(c.a.Component));d.a.render(Object(b.jsx)(Bn,{}),document.getElementById("wrapper"))},196:function(e,t,n){var a=n(606),r=n(607),i=n(608),o=n(609),s=n(610);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}c.prototype.clear=a,c.prototype.delete=r,c.prototype.get=i,c.prototype.has=o,c.prototype.set=s,e.exports=c},197:function(e,t,n){var a=n(356);e.exports=function(e,t){for(var n=e.length;n--;)if(a(e[n][0],t))return n;return-1}},198:function(e,t,n){var a=n(111).Symbol;e.exports=a},199:function(e,t,n){var a=n(136)(Object,"create");e.exports=a},200:function(e,t,n){var a=n(630);e.exports=function(e,t){var n=e.__data__;return a(t)?n["string"==typeof t?"string":"hash"]:n.map}},201:function(e,t,n){var a=n(257);e.exports=function(e){if("string"==typeof e||a(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},250:function(e,t,n){var a=n(605),r=n(173);e.exports=function e(t,n,i,o,s){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!==t&&n!==n:a(t,n,i,o,e,s))}},251:function(e,t,n){var a=n(136)(n(111),"Map");e.exports=a},252:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},253:function(e,t,n){var a=n(622),r=n(629),i=n(631),o=n(632),s=n(633);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}c.prototype.clear=a,c.prototype.delete=r,c.prototype.get=i,c.prototype.has=o,c.prototype.set=s,e.exports=c},254:function(e,t,n){var a=n(650),r=n(657),i=n(365);e.exports=function(e){return i(e)?a(e):r(e)}},255:function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},256:function(e,t,n){var a=n(112),r=n(257),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(a(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!r(e))||(o.test(e)||!i.test(e)||null!=t&&e in Object(t))}},257:function(e,t,n){var a=n(172),r=n(173);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==a(e)}},280:function(e,t,n){},353:function(e,t,n){var a=n(354),r={};for(var i in a)a.hasOwnProperty(i)&&(r[a[i]]=i);var o=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in o)if(o.hasOwnProperty(s)){if(!("channels"in o[s]))throw new Error("missing channels property: "+s);if(!("labels"in o[s]))throw new Error("missing channel labels property: "+s);if(o[s].labels.length!==o[s].channels)throw new Error("channel and label counts mismatch: "+s);var c=o[s].channels,l=o[s].labels;delete o[s].channels,delete o[s].labels,Object.defineProperty(o[s],"channels",{value:c}),Object.defineProperty(o[s],"labels",{value:l})}o.rgb.hsl=function(e){var t,n,a=e[0]/255,r=e[1]/255,i=e[2]/255,o=Math.min(a,r,i),s=Math.max(a,r,i),c=s-o;return s===o?t=0:a===s?t=(r-i)/c:r===s?t=2+(i-a)/c:i===s&&(t=4+(a-r)/c),(t=Math.min(60*t,360))<0&&(t+=360),n=(o+s)/2,[t,100*(s===o?0:n<=.5?c/(s+o):c/(2-s-o)),100*n]},o.rgb.hsv=function(e){var t,n,a,r,i,o=e[0]/255,s=e[1]/255,c=e[2]/255,l=Math.max(o,s,c),d=l-Math.min(o,s,c),u=function(e){return(l-e)/6/d+.5};return 0===d?r=i=0:(i=d/l,t=u(o),n=u(s),a=u(c),o===l?r=a-n:s===l?r=1/3+t-a:c===l&&(r=2/3+n-t),r<0?r+=1:r>1&&(r-=1)),[360*r,100*i,100*l]},o.rgb.hwb=function(e){var t=e[0],n=e[1],a=e[2];return[o.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(n,a))),100*(a=1-1/255*Math.max(t,Math.max(n,a)))]},o.rgb.cmyk=function(e){var t,n=e[0]/255,a=e[1]/255,r=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-a,1-r)))/(1-t)||0),100*((1-a-t)/(1-t)||0),100*((1-r-t)/(1-t)||0),100*t]},o.rgb.keyword=function(e){var t=r[e];if(t)return t;var n,i,o,s=1/0;for(var c in a)if(a.hasOwnProperty(c)){var l=a[c],d=(i=e,o=l,Math.pow(i[0]-o[0],2)+Math.pow(i[1]-o[1],2)+Math.pow(i[2]-o[2],2));d<s&&(s=d,n=c)}return n},o.keyword.rgb=function(e){return a[e]},o.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,a=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92)),100*(.2126*t+.7152*n+.0722*a),100*(.0193*t+.1192*n+.9505*a)]},o.rgb.lab=function(e){var t=o.rgb.xyz(e),n=t[0],a=t[1],r=t[2];return a/=100,r/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116)-16,500*(n-a),200*(a-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},o.hsl.rgb=function(e){var t,n,a,r,i,o=e[0]/360,s=e[1]/100,c=e[2]/100;if(0===s)return[i=255*c,i,i];t=2*c-(n=c<.5?c*(1+s):c+s-c*s),r=[0,0,0];for(var l=0;l<3;l++)(a=o+1/3*-(l-1))<0&&a++,a>1&&a--,i=6*a<1?t+6*(n-t)*a:2*a<1?n:3*a<2?t+(n-t)*(2/3-a)*6:t,r[l]=255*i;return r},o.hsl.hsv=function(e){var t=e[0],n=e[1]/100,a=e[2]/100,r=n,i=Math.max(a,.01);return n*=(a*=2)<=1?a:2-a,r*=i<=1?i:2-i,[t,100*(0===a?2*r/(i+r):2*n/(a+n)),100*((a+n)/2)]},o.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,a=e[2]/100,r=Math.floor(t)%6,i=t-Math.floor(t),o=255*a*(1-n),s=255*a*(1-n*i),c=255*a*(1-n*(1-i));switch(a*=255,r){case 0:return[a,c,o];case 1:return[s,a,o];case 2:return[o,a,c];case 3:return[o,s,a];case 4:return[c,o,a];case 5:return[a,o,s]}},o.hsv.hsl=function(e){var t,n,a,r=e[0],i=e[1]/100,o=e[2]/100,s=Math.max(o,.01);return a=(2-i)*o,n=i*s,[r,100*(n=(n/=(t=(2-i)*s)<=1?t:2-t)||0),100*(a/=2)]},o.hwb.rgb=function(e){var t,n,a,r,i,o,s,c=e[0]/360,l=e[1]/100,d=e[2]/100,u=l+d;switch(u>1&&(l/=u,d/=u),a=6*c-(t=Math.floor(6*c)),0!==(1&t)&&(a=1-a),r=l+a*((n=1-d)-l),t){default:case 6:case 0:i=n,o=r,s=l;break;case 1:i=r,o=n,s=l;break;case 2:i=l,o=n,s=r;break;case 3:i=l,o=r,s=n;break;case 4:i=r,o=l,s=n;break;case 5:i=n,o=l,s=r}return[255*i,255*o,255*s]},o.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,a=e[2]/100,r=e[3]/100;return[255*(1-Math.min(1,t*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r)),255*(1-Math.min(1,a*(1-r)+r))]},o.xyz.rgb=function(e){var t,n,a,r=e[0]/100,i=e[1]/100,o=e[2]/100;return n=-.9689*r+1.8758*i+.0415*o,a=.0557*r+-.204*i+1.057*o,t=(t=3.2406*r+-1.5372*i+-.4986*o)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:12.92*a,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(a=Math.min(Math.max(0,a),1))]},o.xyz.lab=function(e){var t=e[0],n=e[1],a=e[2];return n/=100,a/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116))]},o.lab.xyz=function(e){var t,n,a,r=e[0];t=e[1]/500+(n=(r+16)/116),a=n-e[2]/200;var i=Math.pow(n,3),o=Math.pow(t,3),s=Math.pow(a,3);return n=i>.008856?i:(n-16/116)/7.787,t=o>.008856?o:(t-16/116)/7.787,a=s>.008856?s:(a-16/116)/7.787,[t*=95.047,n*=100,a*=108.883]},o.lab.lch=function(e){var t,n=e[0],a=e[1],r=e[2];return(t=360*Math.atan2(r,a)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(a*a+r*r),t]},o.lch.lab=function(e){var t,n=e[0],a=e[1];return t=e[2]/360*2*Math.PI,[n,a*Math.cos(t),a*Math.sin(t)]},o.rgb.ansi16=function(e){var t=e[0],n=e[1],a=e[2],r=1 in arguments?arguments[1]:o.rgb.hsv(e)[2];if(0===(r=Math.round(r/50)))return 30;var i=30+(Math.round(a/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return 2===r&&(i+=60),i},o.hsv.ansi16=function(e){return o.rgb.ansi16(o.hsv.rgb(e),e[2])},o.rgb.ansi256=function(e){var t=e[0],n=e[1],a=e[2];return t===n&&n===a?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(a/255*5)},o.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},o.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},o.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},o.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map((function(e){return e+e})).join(""));var a=parseInt(n,16);return[a>>16&255,a>>8&255,255&a]},o.rgb.hcg=function(e){var t,n=e[0]/255,a=e[1]/255,r=e[2]/255,i=Math.max(Math.max(n,a),r),o=Math.min(Math.min(n,a),r),s=i-o;return t=s<=0?0:i===n?(a-r)/s%6:i===a?2+(r-n)/s:4+(n-a)/s+4,t/=6,[360*(t%=1),100*s,100*(s<1?o/(1-s):0)]},o.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,a=1,r=0;return(a=n<.5?2*t*n:2*t*(1-n))<1&&(r=(n-.5*a)/(1-a)),[e[0],100*a,100*r]},o.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,a=t*n,r=0;return a<1&&(r=(n-a)/(1-a)),[e[0],100*a,100*r]},o.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,a=e[2]/100;if(0===n)return[255*a,255*a,255*a];var r,i=[0,0,0],o=t%1*6,s=o%1,c=1-s;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=c,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=c,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=c}return r=(1-n)*a,[255*(n*i[0]+r),255*(n*i[1]+r),255*(n*i[2]+r)]},o.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),a=0;return n>0&&(a=t/n),[e[0],100*a,100*n]},o.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,a=0;return n>0&&n<.5?a=t/(2*n):n>=.5&&n<1&&(a=t/(2*(1-n))),[e[0],100*a,100*n]},o.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},o.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,a=n-t,r=0;return a<1&&(r=(n-a)/(1-a)),[e[0],100*a,100*r]},o.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},o.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},o.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},o.gray.hsl=o.gray.hsv=function(e){return[0,0,e[0]]},o.gray.hwb=function(e){return[0,100,e[0]]},o.gray.cmyk=function(e){return[0,0,0,e[0]]},o.gray.lab=function(e){return[e[0],0,0]},o.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},o.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},354:function(e,t,n){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},355:function(e,t,n){var a=n(196),r=n(611),i=n(612),o=n(613),s=n(614),c=n(615);function l(e){var t=this.__data__=new a(e);this.size=t.size}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=s,l.prototype.set=c,e.exports=l},356:function(e,t){e.exports=function(e,t){return e===t||e!==e&&t!==t}},357:function(e,t,n){var a=n(172),r=n(252);e.exports=function(e){if(!r(e))return!1;var t=a(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},358:function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(94))},359:function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},360:function(e,t,n){var a=n(634),r=n(637),i=n(638);e.exports=function(e,t,n,o,s,c){var l=1&n,d=e.length,u=t.length;if(d!=u&&!(l&&u>d))return!1;var h=c.get(e),p=c.get(t);if(h&&p)return h==t&&p==e;var b=-1,g=!0,f=2&n?new a:void 0;for(c.set(e,t),c.set(t,e);++b<d;){var m=e[b],j=t[b];if(o)var v=l?o(j,m,b,t,e,c):o(m,j,b,e,t,c);if(void 0!==v){if(v)continue;g=!1;break}if(f){if(!r(t,(function(e,t){if(!i(f,t)&&(m===e||s(m,e,n,o,c)))return f.push(t)}))){g=!1;break}}else if(m!==j&&!s(m,j,n,o,c)){g=!1;break}}return c.delete(e),c.delete(t),g}},361:function(e,t,n){var a=n(652),r=n(173),i=Object.prototype,o=i.hasOwnProperty,s=i.propertyIsEnumerable,c=a(function(){return arguments}())?a:function(e){return r(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},362:function(e,t,n){(function(e){var a=n(111),r=n(653),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===i?a.Buffer:void 0,c=(s?s.isBuffer:void 0)||r;e.exports=c}).call(this,n(244)(e))},363:function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var a=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==a||"symbol"!=a&&n.test(e))&&e>-1&&e%1==0&&e<t}},364:function(e,t,n){var a=n(654),r=n(655),i=n(656),o=i&&i.isTypedArray,s=o?r(o):a;e.exports=s},365:function(e,t,n){var a=n(357),r=n(255);e.exports=function(e){return null!=e&&r(e.length)&&!a(e)}},366:function(e,t,n){var a=n(252);e.exports=function(e){return e===e&&!a(e)}},367:function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},368:function(e,t,n){var a=n(369),r=n(201);e.exports=function(e,t){for(var n=0,i=(t=a(t,e)).length;null!=e&&n<i;)e=e[r(t[n++])];return n&&n==i?e:void 0}},369:function(e,t,n){var a=n(112),r=n(256),i=n(683),o=n(686);e.exports=function(e,t){return a(e)?e:r(e,t)?[e]:i(o(e))}},380:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Chart",{enumerable:!0,get:function(){return i.default}}),t.defaults=t.Scatter=t.Bubble=t.Polar=t.Radar=t.HorizontalBar=t.Bar=t.Line=t.Pie=t.Doughnut=t.default=void 0;var a=c(n(2)),r=c(n(9)),i=c(n(562)),o=c(n(604)),s=c(n(666));function c(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(this,arguments)}function d(e){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function u(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}function j(e,t){return j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},j(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=y(e);if(t){var r=y(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w="undefined"!==typeof e&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})&&"production",D=function(e){m(n,e);var t=v(n);function n(){var e;return b(this,n),S(x(e=t.call(this)),"handleOnClick",(function(t){var n=e.chartInstance,a=e.props,r=a.getDatasetAtEvent,i=a.getElementAtEvent,o=a.getElementsAtEvent,s=a.onElementsClick;r&&r(n.getDatasetAtEvent(t),t),i&&i(n.getElementAtEvent(t),t),o&&o(n.getElementsAtEvent(t),t),s&&s(n.getElementsAtEvent(t),t)})),S(x(e),"ref",(function(t){e.element=t})),e.chartInstance=void 0,e}return f(n,[{key:"componentDidMount",value:function(){this.renderChart()}},{key:"componentDidUpdate",value:function(){if(this.props.redraw)return this.destroyChart(),void this.renderChart();this.updateChart()}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=(t.redraw,t.type),a=t.options,r=t.plugins,i=t.legend,s=t.height,c=t.width;if(!0===e.redraw)return!0;if(s!==e.height||c!==e.width)return!0;if(n!==e.type)return!0;if(!(0,o.default)(i,e.legend))return!0;if(!(0,o.default)(a,e.options))return!0;var l=this.transformDataProp(e);return!(0,o.default)(this.shadowDataProp,l)||!(0,o.default)(r,e.plugins)}},{key:"componentWillUnmount",value:function(){this.destroyChart()}},{key:"transformDataProp",value:function(e){var t=e.data;return"function"==typeof t?t(this.element):t}},{key:"memoizeDataProps",value:function(){if(this.props.data){var e=this.transformDataProp(this.props);return this.shadowDataProp=p(p({},e),{},{datasets:e.datasets&&e.datasets.map((function(e){return p({},e)}))}),this.saveCurrentDatasets(),e}}},{key:"checkDatasets",value:function(e){var t="production"!==w&&"prod"!==w,a=this.props.datasetKeyProvider!==n.getLabelAsKey,r=e.length>1;if(t&&r&&!a){var i=!1;e.forEach((function(e){e.label||(i=!0)})),i&&console.error('[react-chartjs-2] Warning: Each dataset needs a unique key. By default, the "label" property on each dataset is used. Alternatively, you may provide a "datasetKeyProvider" as a prop that returns a unique key.')}}},{key:"getCurrentDatasets",value:function(){return this.chartInstance&&this.chartInstance.config.data&&this.chartInstance.config.data.datasets||[]}},{key:"saveCurrentDatasets",value:function(){var e=this;this.datasets=this.datasets||{},this.getCurrentDatasets().forEach((function(t){e.datasets[e.props.datasetKeyProvider(t)]=t}))}},{key:"updateChart",value:function(){var e=this,t=this.props.options,n=this.memoizeDataProps(this.props);if(this.chartInstance){t&&(this.chartInstance.options=i.default.helpers.configMerge(this.chartInstance.options,t));var a=this.getCurrentDatasets(),r=n.datasets||[];this.checkDatasets(a);var o=(0,s.default)(a,this.props.datasetKeyProvider);this.chartInstance.config.data.datasets=r.map((function(t){var n=o[e.props.datasetKeyProvider(t)];if(n&&n.type===t.type&&t.data){n.data.splice(t.data.length),t.data.forEach((function(e,a){n.data[a]=t.data[a]}));t.data;var a=u(t,["data"]);return p(p({},n),a)}return t}));n.datasets;var c=u(n,["datasets"]);this.chartInstance.config.data=p(p({},this.chartInstance.config.data),c),this.chartInstance.update()}}},{key:"renderChart",value:function(){var e=this.props,t=e.options,a=e.legend,r=e.type,s=e.plugins,c=this.element,l=this.memoizeDataProps();"undefined"===typeof a||(0,o.default)(n.defaultProps.legend,a)||(t.legend=a),this.chartInstance=new i.default(c,{type:r,data:l,options:t,plugins:s})}},{key:"destroyChart",value:function(){if(this.chartInstance){this.saveCurrentDatasets();var e=Object.values(this.datasets);this.chartInstance.config.data.datasets=e,this.chartInstance.destroy()}}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.width,r=e.id;return a.default.createElement("canvas",{ref:this.ref,height:t,width:n,id:r,onClick:this.handleOnClick})}}]),n}(a.default.Component);S(D,"getLabelAsKey",(function(e){return e.label})),S(D,"propTypes",{data:r.default.oneOfType([r.default.object,r.default.func]).isRequired,getDatasetAtEvent:r.default.func,getElementAtEvent:r.default.func,getElementsAtEvent:r.default.func,height:r.default.number,legend:r.default.object,onElementsClick:r.default.func,options:r.default.object,plugins:r.default.arrayOf(r.default.object),redraw:r.default.bool,type:function(e,t,n){if(!i.default.controllers[e[t]])return new Error("Invalid chart type `"+e[t]+"` supplied to `"+n+"`.")},width:r.default.number,datasetKeyProvider:r.default.func}),S(D,"defaultProps",{legend:{display:!0,position:"bottom"},type:"doughnut",height:150,width:300,redraw:!1,options:{},datasetKeyProvider:D.getLabelAsKey});var k=D;t.default=k;var C=function(e){m(n,e);var t=v(n);function n(){return b(this,n),t.apply(this,arguments)}return f(n,[{key:"render",value:function(){var e=this;return a.default.createElement(D,l({},this.props,{ref:function(t){return e.chartInstance=t&&t.chartInstance},type:"doughnut"}))}}]),n}(a.default.Component);t.Doughnut=C;var M=function(e){m(n,e);var t=v(n);function n(){return b(this,n),t.apply(this,arguments)}return f(n,[{key:"render",value:function(){var e=this;return a.default.createElement(D,l({},this.props,{ref:function(t){return e.chartInstance=t&&t.chartInstance},type:"pie"}))}}]),n}(a.default.Component);t.Pie=M;var I=function(e){m(n,e);var t=v(n);function n(){return b(this,n),t.apply(this,arguments)}return f(n,[{key:"render",value:function(){var e=this;return a.default.createElement(D,l({},this.props,{ref:function(t){return e.chartInstance=t&&t.chartInstance},type:"line"}))}}]),n}(a.default.Component);t.Line=I;var N=function(e){m(n,e);var t=v(n);function n(){return b(this,n),t.apply(this,arguments)}return f(n,[{key:"render",value:function(){var e=this;return a.default.createElement(D,l({},this.props,{ref:function(t){return e.chartInstance=t&&t.chartInstance},type:"bar"}))}}]),n}(a.default.Component);t.Bar=N;var _=function(e){m(n,e);var t=v(n);function n(){return b(this,n),t.apply(this,arguments)}return f(n,[{key:"render",value:function(){var e=this;return a.default.createElement(D,l({},this.props,{ref:function(t){return e.chartInstance=t&&t.chartInstance},type:"horizontalBar"}))}}]),n}(a.default.Component);t.HorizontalBar=_;var A=function(e){m(n,e);var t=v(n);function n(){return b(this,n),t.apply(this,arguments)}return f(n,[{key:"render",value:function(){var e=this;return a.default.createElement(D,l({},this.props,{ref:function(t){return e.chartInstance=t&&t.chartInstance},type:"radar"}))}}]),n}(a.default.Component);t.Radar=A;var P=function(e){m(n,e);var t=v(n);function n(){return b(this,n),t.apply(this,arguments)}return f(n,[{key:"render",value:function(){var e=this;return a.default.createElement(D,l({},this.props,{ref:function(t){return e.chartInstance=t&&t.chartInstance},type:"polarArea"}))}}]),n}(a.default.Component);t.Polar=P;var F=function(e){m(n,e);var t=v(n);function n(){return b(this,n),t.apply(this,arguments)}return f(n,[{key:"render",value:function(){var e=this;return a.default.createElement(D,l({},this.props,{ref:function(t){return e.chartInstance=t&&t.chartInstance},type:"bubble"}))}}]),n}(a.default.Component);t.Bubble=F;var T=function(e){m(n,e);var t=v(n);function n(){return b(this,n),t.apply(this,arguments)}return f(n,[{key:"render",value:function(){var e=this;return a.default.createElement(D,l({},this.props,{ref:function(t){return e.chartInstance=t&&t.chartInstance},type:"scatter"}))}}]),n}(a.default.Component);t.Scatter=T;var L=i.default.defaults;t.defaults=L}).call(this,n(171))},381:function(e,t,n){"use strict";var a=n(3),r=n(5),i=n(7),o=n(6),s=n(2),c=n.n(s),l=n(1),d=n(123),u=n(108),h=n(109),p=n(147),b=n(83),g=n(0),f=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleInputChange=function(e){r.setState({inputChecked:e.target.checked})},r.unlinkDevice=function(){r.props.toggleDialog(),r.props.unlinkDevice(r.state.inputChecked)},r.state={inputChecked:!1},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.state.inputChecked,t=this.props.toggleDialog;return Object(g.jsxs)(d.a,{isOpen:!0,toggle:t,children:[Object(g.jsx)(u.a,{toggle:t,children:Object(l.pb)("Unlink device")}),Object(g.jsxs)(h.a,{children:[Object(g.jsx)("p",{children:Object(l.pb)("Are you sure you want to unlink this device?")}),l.Ab&&Object(g.jsxs)("div",{className:"d-flex align-items-center",children:[Object(g.jsx)("input",{id:"delete-files",className:"mr-1",type:"checkbox",checked:e,onChange:this.handleInputChange}),Object(g.jsx)("label",{htmlFor:"delete-files",className:"m-0",children:Object(l.pb)("Delete files from this device the next time it comes online.")})]})]}),Object(g.jsxs)(p.a,{children:[Object(g.jsx)(b.a,{color:"secondary",onClick:t,children:Object(l.pb)("Cancel")}),Object(g.jsx)(b.a,{color:"primary",onClick:this.unlinkDevice,children:Object(l.pb)("Unlink")})]})]})}}]),n}(c.a.Component);t.a=f},562:function(e,t,n){var a=n(563)();n(564)(a),n(569)(a),n(570)(a),n(571)(a),n(572)(a),n(573)(a),n(574)(a),n(575)(a),n(576)(a),n(577)(a),n(578)(a),n(579)(a),n(580)(a),n(581)(a),n(582)(a),n(583)(a),n(584)(a),n(585)(a),n(586)(a),n(587)(a),n(588)(a),n(589)(a),n(590)(a),n(591)(a),n(592)(a),n(593)(a),n(594)(a),n(595)(a),n(596)(a),n(597)(a),n(598)(a),n(599)(a),n(600)(a),n(601)(a),n(602)(a),n(603)(a),window.Chart=e.exports=a},563:function(e,t,n){"use strict";e.exports=function(){var e=function e(t,n){var a=this,r=e.helpers;return a.config=n||{data:{datasets:[]}},t.length&&t[0].getContext&&(t=t[0]),t.getContext&&(t=t.getContext("2d")),a.ctx=t,a.canvas=t.canvas,t.canvas.style.display=t.canvas.style.display||"block",a.width=t.canvas.width||parseInt(r.getStyle(t.canvas,"width"),10)||r.getMaximumWidth(t.canvas),a.height=t.canvas.height||parseInt(r.getStyle(t.canvas,"height"),10)||r.getMaximumHeight(t.canvas),a.aspectRatio=a.width/a.height,(isNaN(a.aspectRatio)||!1===isFinite(a.aspectRatio))&&(a.aspectRatio=void 0!==n.aspectRatio?n.aspectRatio:2),a.originalCanvasStyleWidth=t.canvas.style.width,a.originalCanvasStyleHeight=t.canvas.style.height,r.retinaScale(a),a.controller=new e.Controller(a),r.addResizeListener(t.canvas.parentNode,(function(){a.controller&&a.controller.config.options.responsive&&a.controller.resize()})),a.controller?a.controller:a};return e.defaults={global:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"single",animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');for(var n=0;n<e.data.datasets.length;n++)t.push('<li><span style="background-color:'+e.data.datasets[n].backgroundColor+'"></span>'),e.data.datasets[n].label&&t.push(e.data.datasets[n].label),t.push("</li>");return t.push("</ul>"),t.join("")}}},e.Chart=e,e}},564:function(e,t,n){"use strict";var a=n(565);e.exports=function(e){var t=e.helpers={};t.each=function(e,n,a,r){var i,o;if(t.isArray(e))if(o=e.length,r)for(i=o-1;i>=0;i--)n.call(a,e[i],i);else for(i=0;i<o;i++)n.call(a,e[i],i);else if("object"===typeof e){var s=Object.keys(e);for(o=s.length,i=0;i<o;i++)n.call(a,e[s[i]],s[i])}},t.clone=function(e){var n={};return t.each(e,(function(e,a){t.isArray(e)?n[a]=e.slice(0):n[a]="object"===typeof e&&null!==e?t.clone(e):e})),n},t.extend=function(e){for(var n=function(t,n){e[n]=t},a=1,r=arguments.length;a<r;a++)t.each(arguments[a],n);return e},t.configMerge=function(n){var a=t.clone(n);return t.each(Array.prototype.slice.call(arguments,1),(function(n){t.each(n,(function(n,r){if("scales"===r)a[r]=t.scaleMerge(a.hasOwnProperty(r)?a[r]:{},n);else if("scale"===r)a[r]=t.configMerge(a.hasOwnProperty(r)?a[r]:{},e.scaleService.getScaleDefaults(n.type),n);else if(a.hasOwnProperty(r)&&t.isArray(a[r])&&t.isArray(n)){var i=a[r];t.each(n,(function(e,n){n<i.length?"object"===typeof i[n]&&null!==i[n]&&"object"===typeof e&&null!==e?i[n]=t.configMerge(i[n],e):i[n]=e:i.push(e)}))}else a.hasOwnProperty(r)&&"object"===typeof a[r]&&null!==a[r]&&"object"===typeof n?a[r]=t.configMerge(a[r],n):a[r]=n}))})),a},t.scaleMerge=function(n,a){var r=t.clone(n);return t.each(a,(function(n,a){"xAxes"===a||"yAxes"===a?r.hasOwnProperty(a)?t.each(n,(function(n,i){var o=t.getValueOrDefault(n.type,"xAxes"===a?"category":"linear"),s=e.scaleService.getScaleDefaults(o);i>=r[a].length||!r[a][i].type?r[a].push(t.configMerge(s,n)):n.type&&n.type!==r[a][i].type?r[a][i]=t.configMerge(r[a][i],s,n):r[a][i]=t.configMerge(r[a][i],n)})):(r[a]=[],t.each(n,(function(n){var i=t.getValueOrDefault(n.type,"xAxes"===a?"category":"linear");r[a].push(t.configMerge(e.scaleService.getScaleDefaults(i),n))}))):r.hasOwnProperty(a)&&"object"===typeof r[a]&&null!==r[a]&&"object"===typeof n?r[a]=t.configMerge(r[a],n):r[a]=n})),r},t.getValueAtIndexOrDefault=function(e,n,a){return void 0===e||null===e?a:t.isArray(e)?n<e.length?e[n]:a:e},t.getValueOrDefault=function(e,t){return void 0===e?t:e},t.indexOf=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,a=e.length;n<a;++n)if(e[n]===t)return n;return-1},t.where=function(e,n){if(t.isArray(e)&&Array.prototype.filter)return e.filter(n);var a=[];return t.each(e,(function(e){n(e)&&a.push(e)})),a},t.findIndex=Array.prototype.findIndex?function(e,t,n){return e.findIndex(t,n)}:function(e,t,n){n=void 0===n?e:n;for(var a=0,r=e.length;a<r;++a)if(t.call(n,e[a],a,e))return a;return-1},t.findNextWhere=function(e,t,n){void 0!==n&&null!==n||(n=-1);for(var a=n+1;a<e.length;a++){var r=e[a];if(t(r))return r}},t.findPreviousWhere=function(e,t,n){void 0!==n&&null!==n||(n=e.length);for(var a=n-1;a>=0;a--){var r=e[a];if(t(r))return r}},t.inherits=function(e){var n=this,a=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return n.apply(this,arguments)},r=function(){this.constructor=a};return r.prototype=n.prototype,a.prototype=new r,a.extend=t.inherits,e&&t.extend(a.prototype,e),a.__super__=n.prototype,a},t.noop=function(){},t.uid=function(){var e=0;return function(){return e++}}(),t.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},t.almostEquals=function(e,t,n){return Math.abs(e-t)<n},t.max=function(e){return e.reduce((function(e,t){return isNaN(t)?e:Math.max(e,t)}),Number.NEGATIVE_INFINITY)},t.min=function(e){return e.reduce((function(e,t){return isNaN(t)?e:Math.min(e,t)}),Number.POSITIVE_INFINITY)},t.sign=Math.sign?function(e){return Math.sign(e)}:function(e){return 0===(e=+e)||isNaN(e)?e:e>0?1:-1},t.log10=Math.log10?function(e){return Math.log10(e)}:function(e){return Math.log(e)/Math.LN10},t.toRadians=function(e){return e*(Math.PI/180)},t.toDegrees=function(e){return e*(180/Math.PI)},t.getAngleFromPoint=function(e,t){var n=t.x-e.x,a=t.y-e.y,r=Math.sqrt(n*n+a*a),i=Math.atan2(a,n);return i<-.5*Math.PI&&(i+=2*Math.PI),{angle:i,distance:r}},t.aliasPixel=function(e){return e%2===0?0:.5},t.splineCurve=function(e,t,n,a){var r=e.skip?t:e,i=t,o=n.skip?t:n,s=Math.sqrt(Math.pow(i.x-r.x,2)+Math.pow(i.y-r.y,2)),c=Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2)),l=s/(s+c),d=c/(s+c),u=a*(l=isNaN(l)?0:l),h=a*(d=isNaN(d)?0:d);return{previous:{x:i.x-u*(o.x-r.x),y:i.y-u*(o.y-r.y)},next:{x:i.x+h*(o.x-r.x),y:i.y+h*(o.y-r.y)}}},t.EPSILON=Number.EPSILON||1e-14,t.splineCurveMonotone=function(e){var n,a,r,i,o,s,c,l,d,u=(e||[]).map((function(e){return{model:e._model,deltaK:0,mK:0}})),h=u.length;for(n=0;n<h;++n)(r=u[n]).model.skip||(a=n>0?u[n-1]:null,(i=n<h-1?u[n+1]:null)&&!i.model.skip&&(r.deltaK=(i.model.y-r.model.y)/(i.model.x-r.model.x)),!a||a.model.skip?r.mK=r.deltaK:!i||i.model.skip?r.mK=a.deltaK:this.sign(a.deltaK)!==this.sign(r.deltaK)?r.mK=0:r.mK=(a.deltaK+r.deltaK)/2);for(n=0;n<h-1;++n)r=u[n],i=u[n+1],r.model.skip||i.model.skip||(t.almostEquals(r.deltaK,0,this.EPSILON)?r.mK=i.mK=0:(o=r.mK/r.deltaK,s=i.mK/r.deltaK,(l=Math.pow(o,2)+Math.pow(s,2))<=9||(c=3/Math.sqrt(l),r.mK=o*c*r.deltaK,i.mK=s*c*r.deltaK)));for(n=0;n<h;++n)(r=u[n]).model.skip||(a=n>0?u[n-1]:null,i=n<h-1?u[n+1]:null,a&&!a.model.skip&&(d=(r.model.x-a.model.x)/3,r.model.controlPointPreviousX=r.model.x-d,r.model.controlPointPreviousY=r.model.y-d*r.mK),i&&!i.model.skip&&(d=(i.model.x-r.model.x)/3,r.model.controlPointNextX=r.model.x+d,r.model.controlPointNextY=r.model.y+d*r.mK))},t.nextItem=function(e,t,n){return n?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},t.previousItem=function(e,t,n){return n?t<=0?e[e.length-1]:e[t-1]:t<=0?e[0]:e[t-1]},t.niceNum=function(e,n){var a=Math.floor(t.log10(e)),r=e/Math.pow(10,a);return(n?r<1.5?1:r<3?2:r<7?5:10:r<=1?1:r<=2?2:r<=5?5:10)*Math.pow(10,a)};var n=t.easingEffects={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0===e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1===e?1:1*(1-Math.pow(2,-10*e/1))},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,a=1;return 0===e?0:1===(e/=1)?1:(n||(n=.3),a<Math.abs(1)?(a=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/a),-a*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n))},easeOutElastic:function(e){var t=1.70158,n=0,a=1;return 0===e?0:1===(e/=1)?1:(n||(n=.3),a<Math.abs(1)?(a=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/a),a*Math.pow(2,-10*e)*Math.sin((1*e-t)*(2*Math.PI)/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,a=1;return 0===e?0:2===(e/=.5)?1:(n||(n=.3*1.5*1),a<Math.abs(1)?(a=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/a),e<1?a*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n)*-.5:a*Math.pow(2,-10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n)*.5+1)},easeInBack:function(e){var t=1.70158;return 1*(e/=1)*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return 1*((e=e/1-1)*e*((t+1)*e+t)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-n.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?7.5625*e*e*1:e<2/2.75?1*(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return e<.5?.5*n.easeInBounce(2*e):.5*n.easeOutBounce(2*e-1)+.5}};function r(e,t,n){var a;return"string"===typeof e?(a=parseInt(e,10),-1!==e.indexOf("%")&&(a=a/100*t.parentNode[n])):a=e,a}function i(e){return void 0!==e&&null!==e&&"none"!==e}function o(e,t,n){var a=document.defaultView,o=e.parentNode,s=a.getComputedStyle(e)[t],c=a.getComputedStyle(o)[t],l=i(s),d=i(c),u=Number.POSITIVE_INFINITY;return l||d?Math.min(l?r(s,e,n):u,d?r(c,o,n):u):"none"}t.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},t.cancelAnimFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e,1e3/60)},t.getRelativePosition=function(e,n){var a,r,i=e.originalEvent||e,o=e.currentTarget||e.srcElement,s=o.getBoundingClientRect(),c=i.touches;c&&c.length>0?(a=c[0].clientX,r=c[0].clientY):(a=i.clientX,r=i.clientY);var l=parseFloat(t.getStyle(o,"padding-left")),d=parseFloat(t.getStyle(o,"padding-top")),u=parseFloat(t.getStyle(o,"padding-right")),h=parseFloat(t.getStyle(o,"padding-bottom")),p=s.right-s.left-l-u,b=s.bottom-s.top-d-h;return{x:a=Math.round((a-s.left-l)/p*o.width/n.currentDevicePixelRatio),y:r=Math.round((r-s.top-d)/b*o.height/n.currentDevicePixelRatio)}},t.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.removeEvent=function(e,n,a){e.removeEventListener?e.removeEventListener(n,a,!1):e.detachEvent?e.detachEvent("on"+n,a):e["on"+n]=t.noop},t.bindEvents=function(e,n,a){var r=e.events=e.events||{};t.each(n,(function(n){r[n]=function(){a.apply(e,arguments)},t.addEvent(e.chart.canvas,n,r[n])}))},t.unbindEvents=function(e,n){var a=e.chart.canvas;t.each(n,(function(e,n){t.removeEvent(a,n,e)}))},t.getConstraintWidth=function(e){return o(e,"max-width","clientWidth")},t.getConstraintHeight=function(e){return o(e,"max-height","clientHeight")},t.getMaximumWidth=function(e){var n=e.parentNode,a=parseInt(t.getStyle(n,"padding-left"),10),r=parseInt(t.getStyle(n,"padding-right"),10),i=n.clientWidth-a-r,o=t.getConstraintWidth(e);return isNaN(o)?i:Math.min(i,o)},t.getMaximumHeight=function(e){var n=e.parentNode,a=parseInt(t.getStyle(n,"padding-top"),10),r=parseInt(t.getStyle(n,"padding-bottom"),10),i=n.clientHeight-a-r,o=t.getConstraintHeight(e);return isNaN(o)?i:Math.min(i,o)},t.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},t.retinaScale=function(e){var t=e.ctx,n=e.canvas,a=n.width,r=n.height,i=e.currentDevicePixelRatio=window.devicePixelRatio||1;1!==i&&(n.height=r*i,n.width=a*i,t.scale(i,i),e.originalDevicePixelRatio=e.originalDevicePixelRatio||i),n.style.width=a+"px",n.style.height=r+"px"},t.clear=function(e){e.ctx.clearRect(0,0,e.width,e.height)},t.fontString=function(e,t,n){return t+" "+e+"px "+n},t.longestText=function(e,n,a,r){var i=(r=r||{}).data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==n&&(i=r.data={},o=r.garbageCollect=[],r.font=n),e.font=n;var s=0;t.each(a,(function(n){void 0!==n&&null!==n&&!0!==t.isArray(n)?s=t.measureText(e,i,o,s,n):t.isArray(n)&&t.each(n,(function(n){void 0===n||null===n||t.isArray(n)||(s=t.measureText(e,i,o,s,n))}))}));var c=o.length/2;if(c>a.length){for(var l=0;l<c;l++)delete i[o[l]];o.splice(0,c)}return s},t.measureText=function(e,t,n,a,r){var i=t[r];return i||(i=t[r]=e.measureText(r).width,n.push(r)),i>a&&(a=i),a},t.numberOfLabelLines=function(e){var n=1;return t.each(e,(function(e){t.isArray(e)&&e.length>n&&(n=e.length)})),n},t.drawRoundedRectangle=function(e,t,n,a,r,i){e.beginPath(),e.moveTo(t+i,n),e.lineTo(t+a-i,n),e.quadraticCurveTo(t+a,n,t+a,n+i),e.lineTo(t+a,n+r-i),e.quadraticCurveTo(t+a,n+r,t+a-i,n+r),e.lineTo(t+i,n+r),e.quadraticCurveTo(t,n+r,t,n+r-i),e.lineTo(t,n+i),e.quadraticCurveTo(t,n,t+i,n),e.closePath()},t.color=function(t){return a?t instanceof CanvasGradient?a(e.defaults.global.defaultColor):a(t):(console.error("Color.js not found!"),t)},t.addResizeListener=function(e,t){var n=document.createElement("iframe"),a="chartjs-hidden-iframe";n.classlist?n.classlist.add(a):n.setAttribute("class",a),n.tabIndex=-1;var r=n.style;r.width="100%",r.display="block",r.border=0,r.height=0,r.margin=0,r.position="absolute",r.left=0,r.right=0,r.top=0,r.bottom=0,e.insertBefore(n,e.firstChild),(n.contentWindow||n).onresize=function(){if(t)return t()}},t.removeResizeListener=function(e){var t=e.querySelector(".chartjs-hidden-iframe");t&&t.parentNode.removeChild(t)},t.isArray=Array.isArray?function(e){return Array.isArray(e)}:function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.arrayEquals=function(e,n){var a,r,i,o;if(!e||!n||e.length!==n.length)return!1;for(a=0,r=e.length;a<r;++a)if(i=e[a],o=n[a],i instanceof Array&&o instanceof Array){if(!t.arrayEquals(i,o))return!1}else if(i!==o)return!1;return!0},t.callCallback=function(e,t,n){e&&"function"===typeof e.call&&e.apply(n,t)},t.getHoverColor=function(e){return e instanceof CanvasPattern?e:t.color(e).saturate(.5).darken(.1).rgbString()}}},565:function(e,t,n){var a=n(566),r=n(568),i=function e(t){return t instanceof e?t:this instanceof e?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"===typeof t?(n=r.getRgba(t))?this.setValues("rgb",n):(n=r.getHsla(t))?this.setValues("hsl",n):(n=r.getHwb(t))&&this.setValues("hwb",n):"object"===typeof t&&(void 0!==(n=t).r||void 0!==n.red?this.setValues("rgb",n):void 0!==n.l||void 0!==n.lightness?this.setValues("hsl",n):void 0!==n.v||void 0!==n.value?this.setValues("hsv",n):void 0!==n.w||void 0!==n.whiteness?this.setValues("hwb",n):void 0===n.c&&void 0===n.cyan||this.setValues("cmyk",n)))):new e(t);var n};i.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e=(e%=360)<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return r.hexString(this.values.rgb)},rgbString:function(){return r.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return r.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return r.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return r.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return r.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return r.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return r.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],n=0;n<e.length;n++){var a=e[n]/255;t[n]=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues("hsl",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues("hsl",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues("hsl",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues("hsl",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues("hwb",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues("hwb",t),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){var t=this.values.alpha;return this.setValues("alpha",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues("alpha",t+t*e),this},rotate:function(e){var t=this.values.hsl,n=(t[0]+e)%360;return t[0]=n<0?360+n:n,this.setValues("hsl",t),this},mix:function(e,t){var n=this,a=e,r=void 0===t?.5:t,i=2*r-1,o=n.alpha()-a.alpha(),s=((i*o===-1?i:(i+o)/(1+i*o))+1)/2,c=1-s;return this.rgb(s*n.red()+c*a.red(),s*n.green()+c*a.green(),s*n.blue()+c*a.blue()).alpha(n.alpha()*r+a.alpha()*(1-r))},toJSON:function(){return this.rgb()},clone:function(){var e,t,n=new i,a=this.values,r=n.values;for(var o in a)a.hasOwnProperty(o)&&(e=a[o],"[object Array]"===(t={}.toString.call(e))?r[o]=e.slice(0):"[object Number]"===t?r[o]=e:console.error("unexpected color value:",e));return n}},i.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},i.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},i.prototype.getValues=function(e){for(var t=this.values,n={},a=0;a<e.length;a++)n[e.charAt(a)]=t[e][a];return 1!==t.alpha&&(n.a=t.alpha),n},i.prototype.setValues=function(e,t){var n,r,i=this.values,o=this.spaces,s=this.maxes,c=1;if(this.valid=!0,"alpha"===e)c=t;else if(t.length)i[e]=t.slice(0,e.length),c=t[e.length];else if(void 0!==t[e.charAt(0)]){for(n=0;n<e.length;n++)i[e][n]=t[e.charAt(n)];c=t.a}else if(void 0!==t[o[e][0]]){var l=o[e];for(n=0;n<e.length;n++)i[e][n]=t[l[n]];c=t.alpha}if(i.alpha=Math.max(0,Math.min(1,void 0===c?i.alpha:c)),"alpha"===e)return!1;for(n=0;n<e.length;n++)r=Math.max(0,Math.min(s[e][n],i[e][n])),i[e][n]=Math.round(r);for(var d in o)d!==e&&(i[d]=a[e][d](i[e]));return!0},i.prototype.setSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"===typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)},i.prototype.setChannel=function(e,t,n){var a=this.values[e];return void 0===n?a[t]:(n===a[t]||(a[t]=n,this.setValues(e,a)),this)},"undefined"!==typeof window&&(window.Color=i),e.exports=i},566:function(e,t,n){var a=n(353),r=n(567),i={};Object.keys(a).forEach((function(e){i[e]={},Object.defineProperty(i[e],"channels",{value:a[e].channels}),Object.defineProperty(i[e],"labels",{value:a[e].labels});var t=r(e);Object.keys(t).forEach((function(n){var a=t[n];i[e][n]=function(e){var t=function(t){if(void 0===t||null===t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=e(t);if("object"===typeof n)for(var a=n.length,r=0;r<a;r++)n[r]=Math.round(n[r]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(a),i[e][n].raw=function(e){var t=function(t){return void 0===t||null===t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(a)}))})),e.exports=i},567:function(e,t,n){var a=n(353);function r(e){var t=function(){for(var e={},t=Object.keys(a),n=t.length,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;)for(var r=n.pop(),i=Object.keys(a[r]),o=i.length,s=0;s<o;s++){var c=i[s],l=t[c];-1===l.distance&&(l.distance=t[r].distance+1,l.parent=r,n.unshift(c))}return t}function i(e,t){return function(n){return t(e(n))}}function o(e,t){for(var n=[t[e].parent,e],r=a[t[e].parent][e],o=t[e].parent;t[o].parent;)n.unshift(t[o].parent),r=i(a[t[o].parent][o],r),o=t[o].parent;return r.conversion=n,r}e.exports=function(e){for(var t=r(e),n={},a=Object.keys(t),i=a.length,s=0;s<i;s++){var c=a[s];null!==t[c].parent&&(n[c]=o(c,t))}return n}},568:function(e,t,n){var a=n(354);function r(e){if(e){var t=[0,0,0],n=1,r=e.match(/^#([a-fA-F0-9]{3,4})$/i),i="";if(r){i=(r=r[1])[3];for(var o=0;o<t.length;o++)t[o]=parseInt(r[o]+r[o],16);i&&(n=Math.round(parseInt(i+i,16)/255*100)/100)}else if(r=e.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){i=r[2],r=r[1];for(o=0;o<t.length;o++)t[o]=parseInt(r.slice(2*o,2*o+2),16);i&&(n=Math.round(parseInt(i,16)/255*100)/100)}else if(r=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(o=0;o<t.length;o++)t[o]=parseInt(r[o+1]);n=parseFloat(r[4])}else if(r=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(o=0;o<t.length;o++)t[o]=Math.round(2.55*parseFloat(r[o+1]));n=parseFloat(r[4])}else if(r=e.match(/(\w+)/)){if("transparent"==r[1])return[0,0,0,0];if(!(t=a[r[1]]))return}for(o=0;o<t.length;o++)t[o]=d(t[o],0,255);return n=n||0==n?d(n,0,1):1,t[3]=n,t}}function i(e){if(e){var t=e.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var n=parseFloat(t[4]);return[d(parseInt(t[1]),0,360),d(parseFloat(t[2]),0,100),d(parseFloat(t[3]),0,100),d(isNaN(n)?1:n,0,1)]}}}function o(e){if(e){var t=e.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var n=parseFloat(t[4]);return[d(parseInt(t[1]),0,360),d(parseFloat(t[2]),0,100),d(parseFloat(t[3]),0,100),d(isNaN(n)?1:n,0,1)]}}}function s(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function c(e,t){return"rgba("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%, "+(t||e[3]||1)+")"}function l(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function d(e,t,n){return Math.min(Math.max(t,e),n)}function u(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}e.exports={getRgba:r,getHsla:i,getRgb:function(e){var t=r(e);return t&&t.slice(0,3)},getHsl:function(e){var t=i(e);return t&&t.slice(0,3)},getHwb:o,getAlpha:function(e){var t=r(e);if(t)return t[3];if(t=i(e))return t[3];if(t=o(e))return t[3]},hexString:function(e,t){t=void 0!==t&&3===e.length?t:e[3];return"#"+u(e[0])+u(e[1])+u(e[2])+(t>=0&&t<1?u(Math.round(255*t)):"")},rgbString:function(e,t){if(t<1||e[3]&&e[3]<1)return s(e,t);return"rgb("+e[0]+", "+e[1]+", "+e[2]+")"},rgbaString:s,percentString:function(e,t){if(t<1||e[3]&&e[3]<1)return c(e,t);var n=Math.round(e[0]/255*100),a=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return"rgb("+n+"%, "+a+"%, "+r+"%)"},percentaString:c,hslString:function(e,t){if(t<1||e[3]&&e[3]<1)return l(e,t);return"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"},hslaString:l,hwbString:function(e,t){void 0===t&&(t=void 0!==e[3]?e[3]:1);return"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"},keyword:function(e){return h[e.slice(0,3)]}};var h={};for(var p in a)h[a[p]]=p},569:function(e,t,n){"use strict";e.exports=function(e){(e.canvasHelpers={}).drawPoint=function(e,t,n,a,r){var i,o,s,c,l,d;if("object"!==typeof t||"[object HTMLImageElement]"!==(i=t.toString())&&"[object HTMLCanvasElement]"!==i){if(!(isNaN(n)||n<=0)){switch(t){default:e.beginPath(),e.arc(a,r,n,0,2*Math.PI),e.closePath(),e.fill();break;case"triangle":e.beginPath(),l=(o=3*n/Math.sqrt(3))*Math.sqrt(3)/2,e.moveTo(a-o/2,r+l/3),e.lineTo(a+o/2,r+l/3),e.lineTo(a,r-2*l/3),e.closePath(),e.fill();break;case"rect":d=1/Math.SQRT2*n,e.beginPath(),e.fillRect(a-d,r-d,2*d,2*d),e.strokeRect(a-d,r-d,2*d,2*d);break;case"rectRot":d=1/Math.SQRT2*n,e.beginPath(),e.moveTo(a-d,r),e.lineTo(a,r+d),e.lineTo(a+d,r),e.lineTo(a,r-d),e.closePath(),e.fill();break;case"cross":e.beginPath(),e.moveTo(a,r+n),e.lineTo(a,r-n),e.moveTo(a-n,r),e.lineTo(a+n,r),e.closePath();break;case"crossRot":e.beginPath(),s=Math.cos(Math.PI/4)*n,c=Math.sin(Math.PI/4)*n,e.moveTo(a-s,r-c),e.lineTo(a+s,r+c),e.moveTo(a-s,r+c),e.lineTo(a+s,r-c),e.closePath();break;case"star":e.beginPath(),e.moveTo(a,r+n),e.lineTo(a,r-n),e.moveTo(a-n,r),e.lineTo(a+n,r),s=Math.cos(Math.PI/4)*n,c=Math.sin(Math.PI/4)*n,e.moveTo(a-s,r-c),e.lineTo(a+s,r+c),e.moveTo(a-s,r+c),e.lineTo(a+s,r-c),e.closePath();break;case"line":e.beginPath(),e.moveTo(a-n,r),e.lineTo(a+n,r),e.closePath();break;case"dash":e.beginPath(),e.moveTo(a,r),e.lineTo(a+n,r),e.closePath()}e.stroke()}}else e.drawImage(t,a-t.width/2,r-t.height/2)}}},570:function(e,t,n){"use strict";e.exports=function(e){var t=e.helpers;e.elements={},e.Element=function(e){t.extend(this,e),this.initialize.apply(this,arguments)},t.extend(e.Element.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=t.clone(e._model)),e._start=t.clone(e._view),e},transition:function(e){var n=this;return n._view||(n._view=t.clone(n._model)),1===e?(n._view=n._model,n._start=null,n):(n._start||n.pivot(),t.each(n._model,(function(a,r){if("_"===r[0]);else if(n._view.hasOwnProperty(r))if(a===n._view[r]);else if("string"===typeof a)try{var i=t.color(n._model[r]).mix(t.color(n._start[r]),e);n._view[r]=i.rgbString()}catch(s){n._view[r]=a}else if("number"===typeof a){var o=void 0!==n._start[r]&&!1===isNaN(n._start[r])?n._start[r]:0;n._view[r]=(n._model[r]-o)*e+o}else n._view[r]=a;else"number"!==typeof a||isNaN(n._view[r])?n._view[r]=a:n._view[r]=a*e}),n),n)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return t.isNumber(this._model.x)&&t.isNumber(this._model.y)}}),e.Element.extend=t.inherits}},571:function(e,t,n){"use strict";e.exports=function(e){var t=e.helpers;e.defaults.global.animation={duration:1e3,easing:"easeOutQuart",onProgress:t.noop,onComplete:t.noop},e.Animation=e.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),e.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(e,t,n,a){var r=this;a||(e.animating=!0);for(var i=0;i<r.animations.length;++i)if(r.animations[i].chartInstance===e)return void(r.animations[i].animationObject=t);r.animations.push({chartInstance:e,animationObject:t}),1===r.animations.length&&r.requestAnimationFrame()},cancelAnimation:function(e){var n=t.findIndex(this.animations,(function(t){return t.chartInstance===e}));-1!==n&&(this.animations.splice(n,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=t.requestAnimFrame.call(window,(function(){e.request=null,e.startDigest()})))},startDigest:function(){var e=this,t=Date.now(),n=0;e.dropFrames>1&&(n=Math.floor(e.dropFrames),e.dropFrames=e.dropFrames%1);for(var a=0;a<e.animations.length;)null===e.animations[a].animationObject.currentStep&&(e.animations[a].animationObject.currentStep=0),e.animations[a].animationObject.currentStep+=1+n,e.animations[a].animationObject.currentStep>e.animations[a].animationObject.numSteps&&(e.animations[a].animationObject.currentStep=e.animations[a].animationObject.numSteps),e.animations[a].animationObject.render(e.animations[a].chartInstance,e.animations[a].animationObject),e.animations[a].animationObject.onAnimationProgress&&e.animations[a].animationObject.onAnimationProgress.call&&e.animations[a].animationObject.onAnimationProgress.call(e.animations[a].chartInstance,e.animations[a]),e.animations[a].animationObject.currentStep===e.animations[a].animationObject.numSteps?(e.animations[a].animationObject.onAnimationComplete&&e.animations[a].animationObject.onAnimationComplete.call&&e.animations[a].animationObject.onAnimationComplete.call(e.animations[a].chartInstance,e.animations[a]),e.animations[a].chartInstance.animating=!1,e.animations.splice(a,1)):++a;var r=(Date.now()-t)/e.frameDuration;e.dropFrames+=r,e.animations.length>0&&e.requestAnimationFrame()}}}},572:function(e,t,n){"use strict";e.exports=function(e){var t=e.helpers;e.types={},e.instances={},e.controllers={},e.Controller=function(n){return this.chart=n,this.config=n.config,this.options=this.config.options=t.configMerge(e.defaults.global,e.defaults[this.config.type],this.config.options||{}),this.id=t.uid(),Object.defineProperty(this,"data",{get:function(){return this.config.data}}),e.instances[this.id]=this,this.options.responsive&&this.resize(!0),this.initialize(),this},t.extend(e.Controller.prototype,{initialize:function(){var t=this;return e.plugins.notify("beforeInit",[t]),t.bindEvents(),t.ensureScalesHaveIDs(),t.buildOrUpdateControllers(),t.buildScales(),t.updateLayout(),t.resetElements(),t.initToolTip(),t.update(),e.plugins.notify("afterInit",[t]),t},clear:function(){return t.clear(this.chart),this},stop:function(){return e.animationService.cancelAnimation(this),this},resize:function(n){var a=this,r=a.chart,i=r.canvas,o=t.getMaximumWidth(i),s=r.aspectRatio,c=a.options.maintainAspectRatio&&!1===isNaN(s)&&isFinite(s)&&0!==s?o/s:t.getMaximumHeight(i);if(!(r.width!==o||r.height!==c))return a;i.width=r.width=o,i.height=r.height=c,t.retinaScale(r);var l={width:o,height:c};return e.plugins.notify("resize",[a,l]),a.options.onResize&&a.options.onResize(a,l),n||(a.stop(),a.update(a.options.responsiveAnimationDuration)),a},ensureScalesHaveIDs:function(){var e=this.options,n=e.scales||{},a=e.scale;t.each(n.xAxes,(function(e,t){e.id=e.id||"x-axis-"+t})),t.each(n.yAxes,(function(e,t){e.id=e.id||"y-axis-"+t})),a&&(a.id=a.id||"scale")},buildScales:function(){var n=this,a=n.options,r=n.scales={},i=[];a.scales&&(i=i.concat((a.scales.xAxes||[]).map((function(e){return{options:e,dtype:"category"}})),(a.scales.yAxes||[]).map((function(e){return{options:e,dtype:"linear"}})))),a.scale&&i.push({options:a.scale,dtype:"radialLinear",isDefault:!0}),t.each(i,(function(a){var i=a.options,o=t.getValueOrDefault(i.type,a.dtype),s=e.scaleService.getScaleConstructor(o);if(s){var c=new s({id:i.id,options:i,ctx:n.chart.ctx,chart:n});r[c.id]=c,a.isDefault&&(n.scale=c)}})),e.scaleService.addScalesToLayout(this)},updateLayout:function(){e.layoutService.update(this,this.chart.width,this.chart.height)},buildOrUpdateControllers:function(){var n=this,a=[],r=[];if(t.each(n.data.datasets,(function(t,i){var o=n.getDatasetMeta(i);o.type||(o.type=t.type||n.config.type),a.push(o.type),o.controller?o.controller.updateIndex(i):(o.controller=new e.controllers[o.type](n,i),r.push(o.controller))}),n),a.length>1)for(var i=1;i<a.length;i++)if(a[i]!==a[i-1]){n.isCombo=!0;break}return r},resetElements:function(){var e=this;t.each(e.data.datasets,(function(t,n){e.getDatasetMeta(n).controller.reset()}),e)},update:function(n,a){var r=this;e.plugins.notify("beforeUpdate",[r]),r.tooltip._data=r.data;var i=r.buildOrUpdateControllers();t.each(r.data.datasets,(function(e,t){r.getDatasetMeta(t).controller.buildOrUpdateElements()}),r),e.layoutService.update(r,r.chart.width,r.chart.height),e.plugins.notify("afterScaleUpdate",[r]),t.each(i,(function(e){e.reset()})),r.updateDatasets(),e.plugins.notify("afterUpdate",[r]),r.render(n,a)},updateDatasets:function(){var t,n,a=this;if(e.plugins.notify("beforeDatasetsUpdate",[a])){for(t=0,n=a.data.datasets.length;t<n;++t)a.getDatasetMeta(t).controller.update();e.plugins.notify("afterDatasetsUpdate",[a])}},render:function(n,a){var r=this;e.plugins.notify("beforeRender",[r]);var i=r.options.animation;if(i&&("undefined"!==typeof n&&0!==n||"undefined"===typeof n&&0!==i.duration)){var o=new e.Animation;o.numSteps=(n||i.duration)/16.66,o.easing=i.easing,o.render=function(e,n){var a=t.easingEffects[n.easing],r=n.currentStep/n.numSteps,i=a(r);e.draw(i,r,n.currentStep)},o.onAnimationProgress=i.onProgress,o.onAnimationComplete=i.onComplete,e.animationService.addAnimation(r,o,n,a)}else r.draw(),i&&i.onComplete&&i.onComplete.call&&i.onComplete.call(r);return r},draw:function(n){var a=this,r=n||1;a.clear(),e.plugins.notify("beforeDraw",[a,r]),t.each(a.boxes,(function(e){e.draw(a.chartArea)}),a),a.scale&&a.scale.draw(),e.plugins.notify("beforeDatasetsDraw",[a,r]),t.each(a.data.datasets,(function(e,t){a.isDatasetVisible(t)&&a.getDatasetMeta(t).controller.draw(n)}),a,!0),e.plugins.notify("afterDatasetsDraw",[a,r]),a.tooltip.transition(r).draw(),e.plugins.notify("afterDraw",[a,r])},getElementAtEvent:function(e){var n=this,a=t.getRelativePosition(e,n.chart),r=[];return t.each(n.data.datasets,(function(e,i){if(n.isDatasetVisible(i)){var o=n.getDatasetMeta(i);t.each(o.data,(function(e){if(e.inRange(a.x,a.y))return r.push(e),r}))}})),r.slice(0,1)},getElementsAtEvent:function(e){var n=this,a=t.getRelativePosition(e,n.chart),r=[],i=function(){if(n.data.datasets)for(var e=0;e<n.data.datasets.length;e++){var t=n.getDatasetMeta(e);if(n.isDatasetVisible(e))for(var r=0;r<t.data.length;r++)if(t.data[r].inRange(a.x,a.y))return t.data[r]}}.call(n);return i?(t.each(n.data.datasets,(function(e,t){if(n.isDatasetVisible(t)){var a=n.getDatasetMeta(t).data[i._index];a&&!a._view.skip&&r.push(a)}}),n),r):r},getElementsAtXAxis:function(e){var n=this,a=t.getRelativePosition(e,n.chart),r=[],i=function(){if(n.data.datasets)for(var e=0;e<n.data.datasets.length;e++){var t=n.getDatasetMeta(e);if(n.isDatasetVisible(e))for(var r=0;r<t.data.length;r++)if(t.data[r].inLabelRange(a.x,a.y))return t.data[r]}}.call(n);return i?(t.each(n.data.datasets,(function(e,a){if(n.isDatasetVisible(a)){var o=n.getDatasetMeta(a),s=t.findIndex(o.data,(function(e){return i._model.x===e._model.x}));-1===s||o.data[s]._view.skip||r.push(o.data[s])}}),n),r):r},getElementsAtEventForMode:function(e,t){var n=this;switch(t){case"single":return n.getElementAtEvent(e);case"label":return n.getElementsAtEvent(e);case"dataset":return n.getDatasetAtEvent(e);case"x-axis":return n.getElementsAtXAxis(e);default:return e}},getDatasetAtEvent:function(e){var t=this.getElementAtEvent(e);return t.length>0&&(t=this.getDatasetMeta(t[0]._datasetIndex).data),t},getDatasetMeta:function(e){var t=this,n=t.data.datasets[e];n._meta||(n._meta={});var a=n._meta[t.id];return a||(a=n._meta[t.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),a},getVisibleDatasetCount:function(){for(var e=0,t=0,n=this.data.datasets.length;t<n;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return"boolean"===typeof t.hidden?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroy:function(){var n=this;n.stop(),n.clear(),t.unbindEvents(n,n.events),t.removeResizeListener(n.chart.canvas.parentNode);var a=n.chart.canvas;a.width=n.chart.width,a.height=n.chart.height,void 0!==n.chart.originalDevicePixelRatio&&n.chart.ctx.scale(1/n.chart.originalDevicePixelRatio,1/n.chart.originalDevicePixelRatio),a.style.width=n.chart.originalCanvasStyleWidth,a.style.height=n.chart.originalCanvasStyleHeight,e.plugins.notify("destroy",[n]),delete e.instances[n.id]},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new e.Tooltip({_chart:t.chart,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var e=this;t.bindEvents(e,e.options.events,(function(t){e.eventHandler(t)}))},updateHoverStyle:function(e,t,n){var a,r,i,o=n?"setHoverStyle":"removeHoverStyle";switch(t){case"single":e=[e[0]];break;case"label":case"dataset":case"x-axis":break;default:return}for(r=0,i=e.length;r<i;++r)(a=e[r])&&this.getDatasetMeta(a._datasetIndex).controller[o](a)},eventHandler:function(e){var n=this,a=n.tooltip,r=n.options||{},i=r.hover,o=r.tooltips;return n.lastActive=n.lastActive||[],n.lastTooltipActive=n.lastTooltipActive||[],"mouseout"===e.type?(n.active=[],n.tooltipActive=[]):(n.active=n.getElementsAtEventForMode(e,i.mode),n.tooltipActive=n.getElementsAtEventForMode(e,o.mode)),i.onHover&&i.onHover.call(n,n.active),n.legend&&n.legend.handleEvent&&n.legend.handleEvent(e),"mouseup"!==e.type&&"click"!==e.type||r.onClick&&r.onClick.call(n,e,n.active),n.lastActive.length&&n.updateHoverStyle(n.lastActive,i.mode,!1),n.active.length&&i.mode&&n.updateHoverStyle(n.active,i.mode,!0),(o.enabled||o.custom)&&(a.initialize(),a._active=n.tooltipActive,a.update(!0)),a.pivot(),n.animating||t.arrayEquals(n.active,n.lastActive)&&t.arrayEquals(n.tooltipActive,n.lastTooltipActive)||(n.stop(),(o.enabled||o.custom)&&a.update(!0),n.render(i.animationDuration,!0)),n.lastActive=n.active,n.lastTooltipActive=n.tooltipActive,n}})}},573:function(e,t,n){"use strict";e.exports=function(e){var t=e.helpers,n=t.noop;e.DatasetController=function(e,t){this.initialize(e,t)},t.extend(e.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(e,t){var n=this;n.chart=e,n.index=t,n.linkScales(),n.addElements()},updateIndex:function(e){this.index=e},linkScales:function(){var e=this,t=e.getMeta(),n=e.getDataset();null===t.xAxisID&&(t.xAxisID=n.xAxisID||e.chart.options.scales.xAxes[0].id),null===t.yAxisID&&(t.yAxisID=n.yAxisID||e.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},reset:function(){this.update(!0)},createMetaDataset:function(){var e=this,t=e.datasetElementType;return t&&new t({_chart:e.chart.chart,_datasetIndex:e.index})},createMetaData:function(e){var t=this,n=t.dataElementType;return n&&new n({_chart:t.chart.chart,_datasetIndex:t.index,_index:e})},addElements:function(){var e,t,n=this,a=n.getMeta(),r=n.getDataset().data||[],i=a.data;for(e=0,t=r.length;e<t;++e)i[e]=i[e]||n.createMetaData(a,e);a.dataset=a.dataset||n.createMetaDataset()},addElementAndReset:function(e){var t=this,n=t.createMetaData(e);t.getMeta().data.splice(e,0,n),t.updateElement(n,e,!0)},buildOrUpdateElements:function(){var e=this.getMeta().data,t=this.getDataset().data.length,n=e.length;if(t<n)e.splice(t,n-t);else if(t>n)for(var a=n;a<t;++a)this.addElementAndReset(a)},update:n,draw:function(e){var n=e||1;t.each(this.getMeta().data,(function(e){e.transition(n).draw()}))},removeHoverStyle:function(e,n){var a=this.chart.data.datasets[e._datasetIndex],r=e._index,i=e.custom||{},o=t.getValueAtIndexOrDefault,s=e._model;s.backgroundColor=i.backgroundColor?i.backgroundColor:o(a.backgroundColor,r,n.backgroundColor),s.borderColor=i.borderColor?i.borderColor:o(a.borderColor,r,n.borderColor),s.borderWidth=i.borderWidth?i.borderWidth:o(a.borderWidth,r,n.borderWidth)},setHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],a=e._index,r=e.custom||{},i=t.getValueAtIndexOrDefault,o=t.getHoverColor,s=e._model;s.backgroundColor=r.hoverBackgroundColor?r.hoverBackgroundColor:i(n.hoverBackgroundColor,a,o(s.backgroundColor)),s.borderColor=r.hoverBorderColor?r.hoverBorderColor:i(n.hoverBorderColor,a,o(s.borderColor)),s.borderWidth=r.hoverBorderWidth?r.hoverBorderWidth:i(n.hoverBorderWidth,a,s.borderWidth)}}),e.DatasetController.extend=t.inherits}},574:function(e,t,n){"use strict";e.exports=function(e){var t=e.helpers;e.layoutService={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),e.boxes.push(t)},removeBox:function(e,t){e.boxes&&e.boxes.splice(e.boxes.indexOf(t),1)},update:function(e,n,a){if(e){var r=t.where(e.boxes,(function(e){return"left"===e.options.position})),i=t.where(e.boxes,(function(e){return"right"===e.options.position})),o=t.where(e.boxes,(function(e){return"top"===e.options.position})),s=t.where(e.boxes,(function(e){return"bottom"===e.options.position})),c=t.where(e.boxes,(function(e){return"chartArea"===e.options.position}));o.sort((function(e,t){return(t.options.fullWidth?1:0)-(e.options.fullWidth?1:0)})),s.sort((function(e,t){return(e.options.fullWidth?1:0)-(t.options.fullWidth?1:0)}));var l=n-0,d=a-0,u=d/2,h=(n-l/2)/(r.length+i.length),p=(a-u)/(o.length+s.length),b=l,g=d,f=[];t.each(r.concat(i,o,s),(function(e){var t,n=e.isHorizontal();n?(t=e.update(e.options.fullWidth?l:b,p),g-=t.height):(t=e.update(h,u),b-=t.width),f.push({horizontal:n,minSize:t,box:e})}));var m=0,j=0,v=0,O=0;t.each(r.concat(i),D),t.each(r,(function(e){m+=e.width})),t.each(i,(function(e){j+=e.width})),t.each(o.concat(s),D),t.each(o,(function(e){v+=e.height})),t.each(s,(function(e){O+=e.height})),t.each(r.concat(i),(function(e){var n=t.findNextWhere(f,(function(t){return t.box===e})),a={left:0,right:0,top:v,bottom:O};n&&e.update(n.minSize.width,g,a)})),m=0,j=0,v=0,O=0,t.each(r,(function(e){m+=e.width})),t.each(i,(function(e){j+=e.width})),t.each(o,(function(e){v+=e.height})),t.each(s,(function(e){O+=e.height}));var x=a-v-O,y=n-m-j;y===b&&x===g||(t.each(r,(function(e){e.height=x})),t.each(i,(function(e){e.height=x})),t.each(o,(function(e){e.options.fullWidth||(e.width=y)})),t.each(s,(function(e){e.options.fullWidth||(e.width=y)})),g=x,b=y);var S=0,w=0;t.each(r.concat(o),k),S+=b,w+=g,t.each(i,k),t.each(s,k),e.chartArea={left:m,top:v,right:m+b,bottom:v+g},t.each(c,(function(t){t.left=e.chartArea.left,t.top=e.chartArea.top,t.right=e.chartArea.right,t.bottom=e.chartArea.bottom,t.update(b,g)}))}function D(e){var n=t.findNextWhere(f,(function(t){return t.box===e}));if(n)if(e.isHorizontal()){var a={left:m,right:j,top:0,bottom:0};e.update(e.options.fullWidth?l:b,d/2,a)}else e.update(n.minSize.width,g)}function k(e){e.isHorizontal()?(e.left=e.options.fullWidth?0:m,e.right=e.options.fullWidth?n-0:m+b,e.top=w,e.bottom=w+e.height,w=e.bottom):(e.left=S,e.right=S+e.width,e.top=v,e.bottom=v+g,S=e.right)}}}}},575:function(e,t,n){"use strict";e.exports=function(e){var t=e.helpers;e.scaleService={constructors:{},defaults:{},registerScaleType:function(e,n,a){this.constructors[e]=n,this.defaults[e]=t.clone(a)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(n){return this.defaults.hasOwnProperty(n)?t.scaleMerge(e.defaults.scale,this.defaults[n]):{}},updateScaleDefaults:function(e,n){var a=this.defaults;a.hasOwnProperty(e)&&(a[e]=t.extend(a[e],n))},addScalesToLayout:function(n){t.each(n.scales,(function(t){e.layoutService.addBox(n,t)}))}}}},576:function(e,t,n){"use strict";e.exports=function(e){var t=e.helpers.noop;e.plugins={_plugins:[],register:function(e){var t=this._plugins;[].concat(e).forEach((function(e){-1===t.indexOf(e)&&t.push(e)}))},unregister:function(e){var t=this._plugins;[].concat(e).forEach((function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}))},clear:function(){this._plugins=[]},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,t){var n,a,r=this._plugins,i=r.length;for(n=0;n<i;++n)if("function"===typeof(a=r[n])[e]&&!1===a[e].apply(a,t||[]))return!1;return!0}},e.PluginBase=e.Element.extend({beforeInit:t,afterInit:t,beforeUpdate:t,afterUpdate:t,beforeDraw:t,afterDraw:t,destroy:t}),e.pluginService=e.plugins}},577:function(e,t,n){"use strict";e.exports=function(e){var t=e.helpers;e.defaults.scale={display:!0,position:"left",gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{labelString:"",display:!1},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:10,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:function(e){return t.isArray(e)?e:""+e}}},e.Scale=e.Element.extend({beforeUpdate:function(){t.callCallback(this.options.beforeUpdate,[this])},update:function(e,n,a){var r=this;return r.beforeUpdate(),r.maxWidth=e,r.maxHeight=n,r.margins=t.extend({left:0,right:0,top:0,bottom:0},a),r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeDataLimits(),r.determineDataLimits(),r.afterDataLimits(),r.beforeBuildTicks(),r.buildTicks(),r.afterBuildTicks(),r.beforeTickToLabelConversion(),r.convertTicksToLabels(),r.afterTickToLabelConversion(),r.beforeCalculateTickRotation(),r.calculateTickRotation(),r.afterCalculateTickRotation(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:function(){t.callCallback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){t.callCallback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){t.callCallback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){t.callCallback(this.options.beforeDataLimits,[this])},determineDataLimits:t.noop,afterDataLimits:function(){t.callCallback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){t.callCallback(this.options.beforeBuildTicks,[this])},buildTicks:t.noop,afterBuildTicks:function(){t.callCallback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){t.callCallback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this;e.ticks=e.ticks.map((function(t,n,a){return e.options.ticks.userCallback?e.options.ticks.userCallback(t,n,a):e.options.ticks.callback(t,n,a)}),e)},afterTickToLabelConversion:function(){t.callCallback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){t.callCallback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var n=this,a=n.ctx,r=e.defaults.global,i=n.options.ticks,o=t.getValueOrDefault(i.fontSize,r.defaultFontSize),s=t.getValueOrDefault(i.fontStyle,r.defaultFontStyle),c=t.getValueOrDefault(i.fontFamily,r.defaultFontFamily),l=t.fontString(o,s,c);a.font=l;var d,u=a.measureText(n.ticks[0]).width,h=a.measureText(n.ticks[n.ticks.length-1]).width;if(n.labelRotation=i.minRotation||0,n.paddingRight=0,n.paddingLeft=0,n.options.display&&n.isHorizontal()){n.paddingRight=h/2+3,n.paddingLeft=u/2+3,n.longestTextCache||(n.longestTextCache={});for(var p,b,g=t.longestText(a,l,n.ticks,n.longestTextCache),f=g,m=n.getPixelForTick(1)-n.getPixelForTick(0)-6;f>m&&n.labelRotation<i.maxRotation;){if(p=Math.cos(t.toRadians(n.labelRotation)),b=Math.sin(t.toRadians(n.labelRotation)),(d=p*u)+o/2>n.yLabelWidth&&(n.paddingLeft=d+o/2),n.paddingRight=o/2,b*g>n.maxHeight){n.labelRotation--;break}n.labelRotation++,f=p*g}}n.margins&&(n.paddingLeft=Math.max(n.paddingLeft-n.margins.left,0),n.paddingRight=Math.max(n.paddingRight-n.margins.right,0))},afterCalculateTickRotation:function(){t.callCallback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){t.callCallback(this.options.beforeFit,[this])},fit:function(){var n=this,a=n.minSize={width:0,height:0},r=n.options,i=e.defaults.global,o=r.ticks,s=r.scaleLabel,c=r.gridLines,l=r.display,d=n.isHorizontal(),u=t.getValueOrDefault(o.fontSize,i.defaultFontSize),h=t.getValueOrDefault(o.fontStyle,i.defaultFontStyle),p=t.getValueOrDefault(o.fontFamily,i.defaultFontFamily),b=t.fontString(u,h,p),g=t.getValueOrDefault(s.fontSize,i.defaultFontSize),f=r.gridLines.tickMarkLength;if(a.width=d?n.isFullWidth()?n.maxWidth-n.margins.left-n.margins.right:n.maxWidth:l&&c.drawTicks?f:0,a.height=d?l&&c.drawTicks?f:0:n.maxHeight,s.display&&l&&(d?a.height+=1.5*g:a.width+=1.5*g),o.display&&l){n.longestTextCache||(n.longestTextCache={});var m=t.longestText(n.ctx,b,n.ticks,n.longestTextCache),j=t.numberOfLabelLines(n.ticks),v=.5*u;if(d){n.longestLabelWidth=m;var O=Math.sin(t.toRadians(n.labelRotation))*n.longestLabelWidth+u*j+v*j;a.height=Math.min(n.maxHeight,a.height+O),n.ctx.font=b;var x=n.ctx.measureText(n.ticks[0]).width,y=n.ctx.measureText(n.ticks[n.ticks.length-1]).width,S=Math.cos(t.toRadians(n.labelRotation)),w=Math.sin(t.toRadians(n.labelRotation));n.paddingLeft=0!==n.labelRotation?S*x+3:x/2+3,n.paddingRight=0!==n.labelRotation?w*(u/2)+3:y/2+3}else{var D=n.maxWidth-a.width;o.mirror?m=0:m+=n.options.ticks.padding,m<D?a.width+=m:a.width=n.maxWidth,n.paddingTop=u/2,n.paddingBottom=u/2}}n.margins&&(n.paddingLeft=Math.max(n.paddingLeft-n.margins.left,0),n.paddingTop=Math.max(n.paddingTop-n.margins.top,0),n.paddingRight=Math.max(n.paddingRight-n.margins.right,0),n.paddingBottom=Math.max(n.paddingBottom-n.margins.bottom,0)),n.width=a.width,n.height=a.height},afterFit:function(){t.callCallback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){return null===e||"undefined"===typeof e||"number"===typeof e&&isNaN(e)?NaN:"object"===typeof e?e instanceof Date||e.isValid?e:this.getRightValue(this.isHorizontal()?e.x:e.y):e},getLabelForIndex:t.noop,getPixelForValue:t.noop,getValueForPixel:t.noop,getPixelForTick:function(e,t){var n=this;if(n.isHorizontal()){var a=(n.width-(n.paddingLeft+n.paddingRight))/Math.max(n.ticks.length-(n.options.gridLines.offsetGridLines?0:1),1),r=a*e+n.paddingLeft;t&&(r+=a/2);var i=n.left+Math.round(r);return i+=n.isFullWidth()?n.margins.left:0}var o=n.height-(n.paddingTop+n.paddingBottom);return n.top+e*(o/(n.ticks.length-1))},getPixelForDecimal:function(e){var t=this;if(t.isHorizontal()){var n=(t.width-(t.paddingLeft+t.paddingRight))*e+t.paddingLeft,a=t.left+Math.round(n);return a+=t.isFullWidth()?t.margins.left:0}return t.top+e*t.height},getBasePixel:function(){var e=this,t=e.min,n=e.max;return e.getPixelForValue(e.beginAtZero?0:t<0&&n<0?n:t>0&&n>0?t:0)},draw:function(n){var a=this,r=a.options;if(r.display){var i,o,s=a.ctx,c=e.defaults.global,l=r.ticks,d=r.gridLines,u=r.scaleLabel,h=0!==a.labelRotation,p=l.autoSkip,b=a.isHorizontal();l.maxTicksLimit&&(o=l.maxTicksLimit);var g=t.getValueOrDefault(l.fontColor,c.defaultFontColor),f=t.getValueOrDefault(l.fontSize,c.defaultFontSize),m=t.getValueOrDefault(l.fontStyle,c.defaultFontStyle),j=t.getValueOrDefault(l.fontFamily,c.defaultFontFamily),v=t.fontString(f,m,j),O=d.tickMarkLength,x=t.getValueOrDefault(d.borderDash,c.borderDash),y=t.getValueOrDefault(d.borderDashOffset,c.borderDashOffset),S=t.getValueOrDefault(u.fontColor,c.defaultFontColor),w=t.getValueOrDefault(u.fontSize,c.defaultFontSize),D=t.getValueOrDefault(u.fontStyle,c.defaultFontStyle),k=t.getValueOrDefault(u.fontFamily,c.defaultFontFamily),C=t.fontString(w,D,k),M=t.toRadians(a.labelRotation),I=Math.cos(M),N=a.longestLabelWidth*I;s.fillStyle=g;var _=[];if(b){if(i=!1,h&&(N/=2),(N+l.autoSkipPadding)*a.ticks.length>a.width-(a.paddingLeft+a.paddingRight)&&(i=1+Math.floor((N+l.autoSkipPadding)*a.ticks.length/(a.width-(a.paddingLeft+a.paddingRight)))),o&&a.ticks.length>o)for(;!i||a.ticks.length/(i||1)>o;)i||(i=1),i+=1;p||(i=!1)}var A="right"===r.position?a.left:a.right-O,P="right"===r.position?a.left+O:a.right,F="bottom"===r.position?a.top:a.bottom-O,T="bottom"===r.position?a.top+O:a.bottom;if(t.each(a.ticks,(function(e,o){if(void 0!==e&&null!==e){var s=a.ticks.length===o+1;if((!(i>1&&o%i>0||o%i===0&&o+i>=a.ticks.length)||s)&&void 0!==e&&null!==e){var c,u,p,g,f,m,j,v,S,w,D,k;o===("undefined"!==typeof a.zeroLineIndex?a.zeroLineIndex:0)?(c=d.zeroLineWidth,u=d.zeroLineColor):(c=t.getValueAtIndexOrDefault(d.lineWidth,o),u=t.getValueAtIndexOrDefault(d.color,o));var C="middle",I="middle";if(b){h||(I="top"===r.position?"bottom":"top"),C=h?"right":"center";var N=a.getPixelForTick(o)+t.aliasPixel(c);D=a.getPixelForTick(o,d.offsetGridLines)+l.labelOffset,k=h?a.top+12:"top"===r.position?a.bottom-O:a.top+O,p=f=j=S=N,g=F,m=T,v=n.top,w=n.bottom}else{"left"===r.position?l.mirror?(D=a.right+l.padding,C="left"):(D=a.right-l.padding,C="right"):l.mirror?(D=a.left-l.padding,C="right"):(D=a.left+l.padding,C="left");var L=a.getPixelForTick(o);L+=t.aliasPixel(c),k=a.getPixelForTick(o,d.offsetGridLines),p=A,f=P,j=n.left,S=n.right,g=m=v=w=L}_.push({tx1:p,ty1:g,tx2:f,ty2:m,x1:j,y1:v,x2:S,y2:w,labelX:D,labelY:k,glWidth:c,glColor:u,glBorderDash:x,glBorderDashOffset:y,rotation:-1*M,label:e,textBaseline:I,textAlign:C})}}})),t.each(_,(function(e){if(d.display&&(s.save(),s.lineWidth=e.glWidth,s.strokeStyle=e.glColor,s.setLineDash&&(s.setLineDash(e.glBorderDash),s.lineDashOffset=e.glBorderDashOffset),s.beginPath(),d.drawTicks&&(s.moveTo(e.tx1,e.ty1),s.lineTo(e.tx2,e.ty2)),d.drawOnChartArea&&(s.moveTo(e.x1,e.y1),s.lineTo(e.x2,e.y2)),s.stroke(),s.restore()),l.display){s.save(),s.translate(e.labelX,e.labelY),s.rotate(e.rotation),s.font=v,s.textBaseline=e.textBaseline,s.textAlign=e.textAlign;var n=e.label;if(t.isArray(n))for(var a=0,r=-(n.length-1)*f*.75;a<n.length;++a)s.fillText(""+n[a],0,r),r+=1.5*f;else s.fillText(n,0,0);s.restore()}})),u.display){var L,R,z=0;if(b)L=a.left+(a.right-a.left)/2,R="bottom"===r.position?a.bottom-w/2:a.top+w/2;else{var U="left"===r.position;L=U?a.left+w/2:a.right-w/2,R=a.top+(a.bottom-a.top)/2,z=U?-.5*Math.PI:.5*Math.PI}s.save(),s.translate(L,R),s.rotate(z),s.textAlign="center",s.textBaseline="middle",s.fillStyle=S,s.font=C,s.fillText(u.labelString,0,0),s.restore()}if(d.drawBorder){s.lineWidth=t.getValueAtIndexOrDefault(d.lineWidth,0),s.strokeStyle=t.getValueAtIndexOrDefault(d.color,0);var E=a.left,V=a.right,B=a.top,W=a.bottom,q=t.aliasPixel(s.lineWidth);b?(B=W="top"===r.position?a.bottom:a.top,B+=q,W+=q):(E=V="left"===r.position?a.right:a.left,E+=q,V+=q),s.beginPath(),s.moveTo(E,B),s.lineTo(V,W),s.stroke()}}}})}},578:function(e,t,n){"use strict";e.exports=function(e){var t=e.helpers;e.defaults.global.title={display:!1,position:"top",fullWidth:!0,fontStyle:"bold",padding:10,text:""};var n=t.noop;e.Title=e.Element.extend({initialize:function(n){var a=this;t.extend(a,n),a.options=t.configMerge(e.defaults.global.title,n.options),a.legendHitBoxes=[]},beforeUpdate:function(){var n=this.chart.options;n&&n.title&&(this.options=t.configMerge(e.defaults.global.title,n.title))},update:function(e,t,n){var a=this;return a.beforeUpdate(),a.maxWidth=e,a.maxHeight=t,a.margins=n,a.beforeSetDimensions(),a.setDimensions(),a.afterSetDimensions(),a.beforeBuildLabels(),a.buildLabels(),a.afterBuildLabels(),a.beforeFit(),a.fit(),a.afterFit(),a.afterUpdate(),a.minSize},afterUpdate:n,beforeSetDimensions:n,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:n,beforeBuildLabels:n,buildLabels:n,afterBuildLabels:n,beforeFit:n,fit:function(){var n=this,a=t.getValueOrDefault,r=n.options,i=e.defaults.global,o=r.display,s=a(r.fontSize,i.defaultFontSize),c=n.minSize;n.isHorizontal()?(c.width=n.maxWidth,c.height=o?s+2*r.padding:0):(c.width=o?s+2*r.padding:0,c.height=n.maxHeight),n.width=c.width,n.height=c.height},afterFit:n,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var n=this,a=n.ctx,r=t.getValueOrDefault,i=n.options,o=e.defaults.global;if(i.display){var s,c,l=r(i.fontSize,o.defaultFontSize),d=r(i.fontStyle,o.defaultFontStyle),u=r(i.fontFamily,o.defaultFontFamily),h=t.fontString(l,d,u),p=0,b=n.top,g=n.left,f=n.bottom,m=n.right;a.fillStyle=r(i.fontColor,o.defaultFontColor),a.font=h,n.isHorizontal()?(s=g+(m-g)/2,c=b+(f-b)/2):(s="left"===i.position?g+l/2:m-l/2,c=b+(f-b)/2,p=Math.PI*("left"===i.position?-.5:.5)),a.save(),a.translate(s,c),a.rotate(p),a.textAlign="center",a.textBaseline="middle",a.fillText(i.text,0,0),a.restore()}}}),e.plugins.register({beforeInit:function(t){var n=t.options.title;n&&(t.titleBlock=new e.Title({ctx:t.chart.ctx,options:n,chart:t}),e.layoutService.addBox(t,t.titleBlock))}})}},579:function(e,t,n){"use strict";e.exports=function(e){var t=e.helpers,n=t.noop;e.defaults.global.legend={display:!0,position:"top",fullWidth:!0,reverse:!1,onClick:function(e,t){var n=t.datasetIndex,a=this.chart,r=a.getDatasetMeta(n);r.hidden=null===r.hidden?!a.data.datasets[n].hidden:null,a.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(e){var n=e.data;return t.isArray(n.datasets)?n.datasets.map((function(n,a){return{text:n.label,fillStyle:t.isArray(n.backgroundColor)?n.backgroundColor[0]:n.backgroundColor,hidden:!e.isDatasetVisible(a),lineCap:n.borderCapStyle,lineDash:n.borderDash,lineDashOffset:n.borderDashOffset,lineJoin:n.borderJoinStyle,lineWidth:n.borderWidth,strokeStyle:n.borderColor,pointStyle:n.pointStyle,datasetIndex:a}}),this):[]}}},e.Legend=e.Element.extend({initialize:function(e){t.extend(this,e),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:n,update:function(e,t,n){var a=this;return a.beforeUpdate(),a.maxWidth=e,a.maxHeight=t,a.margins=n,a.beforeSetDimensions(),a.setDimensions(),a.afterSetDimensions(),a.beforeBuildLabels(),a.buildLabels(),a.afterBuildLabels(),a.beforeFit(),a.fit(),a.afterFit(),a.afterUpdate(),a.minSize},afterUpdate:n,beforeSetDimensions:n,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:n,beforeBuildLabels:n,buildLabels:function(){var e=this;e.legendItems=e.options.labels.generateLabels.call(e,e.chart),e.options.reverse&&e.legendItems.reverse()},afterBuildLabels:n,beforeFit:n,fit:function(){var n=this,a=n.options,r=a.labels,i=a.display,o=n.ctx,s=e.defaults.global,c=t.getValueOrDefault,l=c(r.fontSize,s.defaultFontSize),d=c(r.fontStyle,s.defaultFontStyle),u=c(r.fontFamily,s.defaultFontFamily),h=t.fontString(l,d,u),p=n.legendHitBoxes=[],b=n.minSize,g=n.isHorizontal();if(g?(b.width=n.maxWidth,b.height=i?10:0):(b.width=i?10:0,b.height=n.maxHeight),i)if(o.font=h,g){var f=n.lineWidths=[0],m=n.legendItems.length?l+r.padding:0;o.textAlign="left",o.textBaseline="top",t.each(n.legendItems,(function(e,t){var a=(r.usePointStyle?l*Math.sqrt(2):r.boxWidth)+l/2+o.measureText(e.text).width;f[f.length-1]+a+r.padding>=n.width&&(m+=l+r.padding,f[f.length]=n.left),p[t]={left:0,top:0,width:a,height:l},f[f.length-1]+=a+r.padding})),b.height+=m}else{var j=r.padding,v=n.columnWidths=[],O=r.padding,x=0,y=0,S=l+j;t.each(n.legendItems,(function(e,t){var n=(r.usePointStyle?2*r.boxWidth:r.boxWidth)+l/2+o.measureText(e.text).width;y+S>b.height&&(O+=x+r.padding,v.push(x),x=0,y=0),x=Math.max(x,n),y+=S,p[t]={left:0,top:0,width:n,height:l}})),O+=x,v.push(x),b.width+=O}n.width=b.width,n.height=b.height},afterFit:n,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var n=this,a=n.options,r=a.labels,i=e.defaults.global,o=i.elements.line,s=n.width,c=n.lineWidths;if(a.display){var l,d=n.ctx,u=t.getValueOrDefault,h=u(r.fontColor,i.defaultFontColor),p=u(r.fontSize,i.defaultFontSize),b=u(r.fontStyle,i.defaultFontStyle),g=u(r.fontFamily,i.defaultFontFamily),f=t.fontString(p,b,g);d.textAlign="left",d.textBaseline="top",d.lineWidth=.5,d.strokeStyle=h,d.fillStyle=h,d.font=f;var m=r.boxWidth,j=n.legendHitBoxes,v=n.isHorizontal();l=v?{x:n.left+(s-c[0])/2,y:n.top+r.padding,line:0}:{x:n.left+r.padding,y:n.top+r.padding,line:0};var O=p+r.padding;t.each(n.legendItems,(function(t,h){var b=d.measureText(t.text).width,g=r.usePointStyle?p+p/2+b:m+p/2+b,f=l.x,x=l.y;v?f+g>=s&&(x=l.y+=O,l.line++,f=l.x=n.left+(s-c[l.line])/2):x+O>n.bottom&&(f=l.x=f+n.columnWidths[l.line]+r.padding,x=l.y=n.top,l.line++),function(t,n,r){if(!(isNaN(m)||m<=0)){d.save(),d.fillStyle=u(r.fillStyle,i.defaultColor),d.lineCap=u(r.lineCap,o.borderCapStyle),d.lineDashOffset=u(r.lineDashOffset,o.borderDashOffset),d.lineJoin=u(r.lineJoin,o.borderJoinStyle),d.lineWidth=u(r.lineWidth,o.borderWidth),d.strokeStyle=u(r.strokeStyle,i.defaultColor);var s=0===u(r.lineWidth,o.borderWidth);if(d.setLineDash&&d.setLineDash(u(r.lineDash,o.borderDash)),a.labels&&a.labels.usePointStyle){var c=p*Math.SQRT2/2,l=c/Math.SQRT2,h=t+l,b=n+l;e.canvasHelpers.drawPoint(d,r.pointStyle,c,h,b)}else s||d.strokeRect(t,n,m,p),d.fillRect(t,n,m,p);d.restore()}}(f,x,t),j[h].left=f,j[h].top=x,function(e,t,n,a){d.fillText(n.text,m+p/2+e,t),n.hidden&&(d.beginPath(),d.lineWidth=2,d.moveTo(m+p/2+e,t+p/2),d.lineTo(m+p/2+e+a,t+p/2),d.stroke())}(f,x,t,b),v?l.x+=g+r.padding:l.y+=O}))}},handleEvent:function(e){var n=this,a=n.options,r="mouseup"===e.type?"click":e.type;if("mousemove"===r){if(!a.onHover)return}else{if("click"!==r)return;if(!a.onClick)return}var i=t.getRelativePosition(e,n.chart.chart),o=i.x,s=i.y;if(o>=n.left&&o<=n.right&&s>=n.top&&s<=n.bottom)for(var c=n.legendHitBoxes,l=0;l<c.length;++l){var d=c[l];if(o>=d.left&&o<=d.left+d.width&&s>=d.top&&s<=d.top+d.height){if("click"===r){a.onClick.call(n,e,n.legendItems[l]);break}if("mousemove"===r){a.onHover.call(n,e,n.legendItems[l]);break}}}}}),e.plugins.register({beforeInit:function(t){var n=t.options.legend;n&&(t.legend=new e.Legend({ctx:t.chart.ctx,options:n,chart:t}),e.layoutService.addBox(t,t.legend))}})}},580:function(e,t,n){"use strict";e.exports=function(e){var t=e.helpers;function n(e,n){return n&&(t.isArray(n)?Array.prototype.push.apply(e,n):e.push(n)),e}function a(e){var t=e._xScale,n=e._yScale||e._scale,a=e._index,r=e._datasetIndex;return{xLabel:t?t.getLabelForIndex(a,r):"",yLabel:n?n.getLabelForIndex(a,r):"",index:a,datasetIndex:r}}e.defaults.global.tooltips={enabled:!0,custom:null,mode:"single",backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,yAlign:"center",xAlign:"center",caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",callbacks:{beforeTitle:t.noop,title:function(e,t){var n="",a=t.labels,r=a?a.length:0;if(e.length>0){var i=e[0];i.xLabel?n=i.xLabel:r>0&&i.index<r&&(n=a[i.index])}return n},afterTitle:t.noop,beforeBody:t.noop,beforeLabel:t.noop,label:function(e,t){return(t.datasets[e.datasetIndex].label||"")+": "+e.yLabel},labelColor:function(e,t){var n=t.getDatasetMeta(e.datasetIndex).data[e.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},afterLabel:t.noop,afterBody:t.noop,beforeFooter:t.noop,footer:t.noop,afterFooter:t.noop}},e.Tooltip=e.Element.extend({initialize:function(){var n=e.defaults.global,a=this._options,r=t.getValueOrDefault;t.extend(this,{_model:{xPadding:a.xPadding,yPadding:a.yPadding,xAlign:a.xAlign,yAlign:a.yAlign,bodyFontColor:a.bodyFontColor,_bodyFontFamily:r(a.bodyFontFamily,n.defaultFontFamily),_bodyFontStyle:r(a.bodyFontStyle,n.defaultFontStyle),_bodyAlign:a.bodyAlign,bodyFontSize:r(a.bodyFontSize,n.defaultFontSize),bodySpacing:a.bodySpacing,titleFontColor:a.titleFontColor,_titleFontFamily:r(a.titleFontFamily,n.defaultFontFamily),_titleFontStyle:r(a.titleFontStyle,n.defaultFontStyle),titleFontSize:r(a.titleFontSize,n.defaultFontSize),_titleAlign:a.titleAlign,titleSpacing:a.titleSpacing,titleMarginBottom:a.titleMarginBottom,footerFontColor:a.footerFontColor,_footerFontFamily:r(a.footerFontFamily,n.defaultFontFamily),_footerFontStyle:r(a.footerFontStyle,n.defaultFontStyle),footerFontSize:r(a.footerFontSize,n.defaultFontSize),_footerAlign:a.footerAlign,footerSpacing:a.footerSpacing,footerMarginTop:a.footerMarginTop,caretSize:a.caretSize,cornerRadius:a.cornerRadius,backgroundColor:a.backgroundColor,opacity:0,legendColorBackground:a.multiKeyBackground}})},getTitle:function(){var e=this,t=e._options,a=t.callbacks,r=a.beforeTitle.apply(e,arguments),i=a.title.apply(e,arguments),o=a.afterTitle.apply(e,arguments),s=[];return s=n(s,r),s=n(s,i),s=n(s,o)},getBeforeBody:function(){var e=this._options.callbacks.beforeBody.apply(this,arguments);return t.isArray(e)?e:void 0!==e?[e]:[]},getBody:function(e,a){var r=this,i=r._options.callbacks,o=[];return t.each(e,(function(e){var t={before:[],lines:[],after:[]};n(t.before,i.beforeLabel.call(r,e,a)),n(t.lines,i.label.call(r,e,a)),n(t.after,i.afterLabel.call(r,e,a)),o.push(t)})),o},getAfterBody:function(){var e=this._options.callbacks.afterBody.apply(this,arguments);return t.isArray(e)?e:void 0!==e?[e]:[]},getFooter:function(){var e=this,t=e._options.callbacks,a=t.beforeFooter.apply(e,arguments),r=t.footer.apply(e,arguments),i=t.afterFooter.apply(e,arguments),o=[];return o=n(o,a),o=n(o,r),o=n(o,i)},update:function(e){var n,r,i=this,o=i._options,s=i._model,c=i._active,l=i._data,d=i._chartInstance;if(c.length){s.opacity=1;var u=[],h=function(e){if(!e.length)return!1;var t,n,a=[],r=[];for(t=0,n=e.length;t<n;++t){var i=e[t];if(i&&i.hasValue()){var o=i.tooltipPosition();a.push(o.x),r.push(o.y)}}var s=0,c=0;for(t=0;t<a.length;++t)a[t]&&(s+=a[t],c+=r[t]);return{x:Math.round(s/a.length),y:Math.round(c/a.length)}}(c),p=[];for(n=0,r=c.length;n<r;++n)p.push(a(c[n]));o.itemSort&&(p=p.sort((function(e,t){return o.itemSort(e,t,l)}))),c.length>1&&t.each(p,(function(e){u.push(o.callbacks.labelColor.call(i,e,d))})),t.extend(s,{title:i.getTitle(p,l),beforeBody:i.getBeforeBody(p,l),body:i.getBody(p,l),afterBody:i.getAfterBody(p,l),footer:i.getFooter(p,l),x:Math.round(h.x),y:Math.round(h.y),caretPadding:t.getValueOrDefault(h.padding,2),labelColors:u});var b=i.getTooltipSize(s);i.determineAlignment(b),t.extend(s,i.getBackgroundPoint(s,b))}else i._model.opacity=0;return e&&o.custom&&o.custom.call(i,s),i},getTooltipSize:function(e){var n=this._chart.ctx,a={height:2*e.yPadding,width:0},r=e.body,i=r.reduce((function(e,t){return e+t.before.length+t.lines.length+t.after.length}),0);i+=e.beforeBody.length+e.afterBody.length;var o=e.title.length,s=e.footer.length,c=e.titleFontSize,l=e.bodyFontSize,d=e.footerFontSize;a.height+=o*c,a.height+=(o-1)*e.titleSpacing,a.height+=o?e.titleMarginBottom:0,a.height+=i*l,a.height+=i?(i-1)*e.bodySpacing:0,a.height+=s?e.footerMarginTop:0,a.height+=s*d,a.height+=s?(s-1)*e.footerSpacing:0;var u=0,h=function(e){a.width=Math.max(a.width,n.measureText(e).width+u)};return n.font=t.fontString(c,e._titleFontStyle,e._titleFontFamily),t.each(e.title,h),n.font=t.fontString(l,e._bodyFontStyle,e._bodyFontFamily),t.each(e.beforeBody.concat(e.afterBody),h),u=r.length>1?l+2:0,t.each(r,(function(e){t.each(e.before,h),t.each(e.lines,h),t.each(e.after,h)})),u=0,n.font=t.fontString(d,e._footerFontStyle,e._footerFontFamily),t.each(e.footer,h),a.width+=2*e.xPadding,a},determineAlignment:function(e){var t,n,a,r,i,o=this,s=o._model,c=o._chart,l=o._chartInstance.chartArea;s.y<e.height?s.yAlign="top":s.y>c.height-e.height&&(s.yAlign="bottom");var d=(l.left+l.right)/2,u=(l.top+l.bottom)/2;"center"===s.yAlign?(t=function(e){return e<=d},n=function(e){return e>d}):(t=function(t){return t<=e.width/2},n=function(t){return t>=c.width-e.width/2}),a=function(t){return t+e.width>c.width},r=function(t){return t-e.width<0},i=function(e){return e<=u?"top":"bottom"},t(s.x)?(s.xAlign="left",a(s.x)&&(s.xAlign="center",s.yAlign=i(s.y))):n(s.x)&&(s.xAlign="right",r(s.x)&&(s.xAlign="center",s.yAlign=i(s.y)))},getBackgroundPoint:function(e,t){var n={x:e.x,y:e.y},a=e.caretSize,r=e.caretPadding,i=e.cornerRadius,o=e.xAlign,s=e.yAlign,c=a+r,l=i+r;return"right"===o?n.x-=t.width:"center"===o&&(n.x-=t.width/2),"top"===s?n.y+=c:n.y-="bottom"===s?t.height+c:t.height/2,"center"===s?"left"===o?n.x+=c:"right"===o&&(n.x-=c):"left"===o?n.x-=l:"right"===o&&(n.x+=l),n},drawCaret:function(e,n,a){var r,i,o,s,c,l,d=this._view,u=this._chart.ctx,h=d.caretSize,p=d.cornerRadius,b=d.xAlign,g=d.yAlign,f=e.x,m=e.y,j=n.width,v=n.height;"center"===g?("left"===b?(i=(r=f)-h,o=r):(i=(r=f+j)+h,o=r),s=(c=m+v/2)-h,l=c+h):("left"===b?o=(i=(r=f+p)+h)+h:"right"===b?o=(i=(r=f+j-p)-h)-h:(r=(i=f+j/2)-h,o=i+h),"top"===g?(c=(s=m)-h,l=s):(c=(s=m+v)+h,l=s));var O=t.color(d.backgroundColor);u.fillStyle=O.alpha(a*O.alpha()).rgbString(),u.beginPath(),u.moveTo(r,s),u.lineTo(i,c),u.lineTo(o,l),u.closePath(),u.fill()},drawTitle:function(e,n,a,r){var i=n.title;if(i.length){a.textAlign=n._titleAlign,a.textBaseline="top";var o,s,c=n.titleFontSize,l=n.titleSpacing,d=t.color(n.titleFontColor);for(a.fillStyle=d.alpha(r*d.alpha()).rgbString(),a.font=t.fontString(c,n._titleFontStyle,n._titleFontFamily),o=0,s=i.length;o<s;++o)a.fillText(i[o],e.x,e.y),e.y+=c+l,o+1===i.length&&(e.y+=n.titleMarginBottom-l)}},drawBody:function(e,n,a,r){var i=n.bodyFontSize,o=n.bodySpacing,s=n.body;a.textAlign=n._bodyAlign,a.textBaseline="top";var c=t.color(n.bodyFontColor),l=c.alpha(r*c.alpha()).rgbString();a.fillStyle=l,a.font=t.fontString(i,n._bodyFontStyle,n._bodyFontFamily);var d=0,u=function(t){a.fillText(t,e.x+d,e.y),e.y+=i+o};t.each(n.beforeBody,u);var h=s.length>1;d=h?i+2:0,t.each(s,(function(o,s){t.each(o.before,u),t.each(o.lines,(function(o){h&&(a.fillStyle=t.color(n.legendColorBackground).alpha(r).rgbaString(),a.fillRect(e.x,e.y,i,i),a.strokeStyle=t.color(n.labelColors[s].borderColor).alpha(r).rgbaString(),a.strokeRect(e.x,e.y,i,i),a.fillStyle=t.color(n.labelColors[s].backgroundColor).alpha(r).rgbaString(),a.fillRect(e.x+1,e.y+1,i-2,i-2),a.fillStyle=l),u(o)})),t.each(o.after,u)})),d=0,t.each(n.afterBody,u),e.y-=o},drawFooter:function(e,n,a,r){var i=n.footer;if(i.length){e.y+=n.footerMarginTop,a.textAlign=n._footerAlign,a.textBaseline="top";var o=t.color(n.footerFontColor);a.fillStyle=o.alpha(r*o.alpha()).rgbString(),a.font=t.fontString(n.footerFontSize,n._footerFontStyle,n._footerFontFamily),t.each(i,(function(t){a.fillText(t,e.x,e.y),e.y+=n.footerFontSize+n.footerSpacing}))}},draw:function(){var e=this._chart.ctx,n=this._view;if(0!==n.opacity){var a=this.getTooltipSize(n),r={x:n.x,y:n.y},i=Math.abs(n.opacity<.001)?0:n.opacity;if(this._options.enabled){var o=t.color(n.backgroundColor);e.fillStyle=o.alpha(i*o.alpha()).rgbString(),t.drawRoundedRectangle(e,r.x,r.y,a.width,a.height,n.cornerRadius),e.fill(),this.drawCaret(r,a,i),r.x+=n.xPadding,r.y+=n.yPadding,this.drawTitle(r,n,e,i),this.drawBody(r,n,e,i),this.drawFooter(r,n,e,i)}}}})}},581:function(e,t,n){"use strict";e.exports=function(e){var t=e.helpers,n=e.defaults.global;n.elements.arc={backgroundColor:n.defaultColor,borderColor:"#fff",borderWidth:2},e.elements.Arc=e.Element.extend({inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(e,n){var a=this._view;if(a){for(var r=t.getAngleFromPoint(a,{x:e,y:n}),i=r.angle,o=r.distance,s=a.startAngle,c=a.endAngle;c<s;)c+=2*Math.PI;for(;i>c;)i-=2*Math.PI;for(;i<s;)i+=2*Math.PI;var l=i>=s&&i<=c,d=o>=a.innerRadius&&o<=a.outerRadius;return l&&d}return!1},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,n=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},draw:function(){var e=this._chart.ctx,t=this._view,n=t.startAngle,a=t.endAngle;e.beginPath(),e.arc(t.x,t.y,t.outerRadius,n,a),e.arc(t.x,t.y,t.innerRadius,a,n,!0),e.closePath(),e.strokeStyle=t.borderColor,e.lineWidth=t.borderWidth,e.fillStyle=t.backgroundColor,e.fill(),e.lineJoin="bevel",t.borderWidth&&e.stroke()}})}},582:function(e,t,n){"use strict";e.exports=function(e){var t=e.helpers,n=e.defaults.global;e.defaults.global.elements.line={tension:.4,backgroundColor:n.defaultColor,borderWidth:3,borderColor:n.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0},e.elements.Line=e.Element.extend({draw:function(){var e=this,a=e._view,r=a.spanGaps,i=a.scaleZero,o=e._loop,s=e._chart.ctx;function c(e,t){var n=t._view;!0===t._view.steppedLine?(s.lineTo(n.x,e._view.y),s.lineTo(n.x,n.y)):0===t._view.tension?s.lineTo(n.x,n.y):s.bezierCurveTo(e._view.controlPointNextX,e._view.controlPointNextY,n.controlPointPreviousX,n.controlPointPreviousY,n.x,n.y)}s.save();var l,d,u,h,p=e._children.slice(),b=-1;if(o&&p.length&&p.push(p[0]),p.length&&a.fill){for(s.beginPath(),l=0;l<p.length;++l)d=p[l],u=t.previousItem(p,l),h=d._view,0===l?(o?s.moveTo(i.x,i.y):s.moveTo(h.x,i),h.skip||(b=l,s.lineTo(h.x,h.y))):(u=-1===b?u:p[b],h.skip?r||b!==l-1||(o?s.lineTo(i.x,i.y):s.lineTo(u._view.x,i)):(b!==l-1?r&&-1!==b?c(u,d):(o||s.lineTo(h.x,i),s.lineTo(h.x,h.y)):c(u,d),b=l));o||-1===b||s.lineTo(p[b]._view.x,i),s.fillStyle=a.backgroundColor||n.defaultColor,s.closePath(),s.fill()}var g=n.elements.line;for(s.lineCap=a.borderCapStyle||g.borderCapStyle,s.setLineDash&&s.setLineDash(a.borderDash||g.borderDash),s.lineDashOffset=a.borderDashOffset||g.borderDashOffset,s.lineJoin=a.borderJoinStyle||g.borderJoinStyle,s.lineWidth=a.borderWidth||g.borderWidth,s.strokeStyle=a.borderColor||n.defaultColor,s.beginPath(),b=-1,l=0;l<p.length;++l)d=p[l],u=t.previousItem(p,l),h=d._view,0===l?h.skip||(s.moveTo(h.x,h.y),b=l):(u=-1===b?u:p[b],h.skip||(b!==l-1&&!r||-1===b?s.moveTo(h.x,h.y):c(u,d),b=l));s.stroke(),s.restore()}})}},583:function(e,t,n){"use strict";e.exports=function(e){var t=e.helpers,n=e.defaults.global,a=n.defaultColor;n.elements.point={radius:3,pointStyle:"circle",backgroundColor:a,borderWidth:1,borderColor:a,hitRadius:1,hoverRadius:4,hoverBorderWidth:1},e.elements.Point=e.Element.extend({inRange:function(e,t){var n=this._view;return!!n&&Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hitRadius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(){var r=this._view,i=this._chart.ctx,o=r.pointStyle,s=r.radius,c=r.x,l=r.y;r.skip||(i.strokeStyle=r.borderColor||a,i.lineWidth=t.getValueOrDefault(r.borderWidth,n.elements.point.borderWidth),i.fillStyle=r.backgroundColor||a,e.canvasHelpers.drawPoint(i,o,s,c,l))}})}},584:function(e,t,n){"use strict";e.exports=function(e){var t=e.defaults.global;t.elements.rectangle={backgroundColor:t.defaultColor,borderWidth:0,borderColor:t.defaultColor,borderSkipped:"bottom"},e.elements.Rectangle=e.Element.extend({draw:function(){var e=this._chart.ctx,t=this._view,n=t.width/2,a=t.x-n,r=t.x+n,i=t.base-(t.base-t.y),o=t.borderWidth/2;t.borderWidth&&(a+=o,r-=o,i+=o),e.beginPath(),e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,e.lineWidth=t.borderWidth;var s=[[a,t.base],[a,i],[r,i],[r,t.base]],c=["bottom","left","top","right"].indexOf(t.borderSkipped,0);function l(e){return s[(c+e)%4]}-1===c&&(c=0),e.moveTo.apply(e,l(0));for(var d=1;d<4;d++)e.lineTo.apply(e,l(d));e.fill(),t.borderWidth&&e.stroke()},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){var n=this._view;return!!n&&(n.y<n.base?e>=n.x-n.width/2&&e<=n.x+n.width/2&&t>=n.y&&t<=n.base:e>=n.x-n.width/2&&e<=n.x+n.width/2&&t>=n.base&&t<=n.y)},inLabelRange:function(e){var t=this._view;return!!t&&(e>=t.x-t.width/2&&e<=t.x+t.width/2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}})}},585:function(e,t,n){"use strict";e.exports=function(e){var t=e.helpers,n=t.noop;e.LinearScaleBase=e.Scale.extend({handleTickRangeOptions:function(){var e=this,n=e.options.ticks;if(n.beginAtZero){var a=t.sign(e.min),r=t.sign(e.max);a<0&&r<0?e.max=0:a>0&&r>0&&(e.min=0)}void 0!==n.min?e.min=n.min:void 0!==n.suggestedMin&&(e.min=Math.min(e.min,n.suggestedMin)),void 0!==n.max?e.max=n.max:void 0!==n.suggestedMax&&(e.max=Math.max(e.max,n.suggestedMax)),e.min===e.max&&(e.max++,n.beginAtZero||e.min--)},getTickLimit:n,handleDirectionalChanges:n,buildTicks:function(){var e,n=this,a=n.options,r=n.ticks=[],i=a.ticks,o=t.getValueOrDefault,s=n.getTickLimit();if(s=Math.max(2,s),i.fixedStepSize&&i.fixedStepSize>0||i.stepSize&&i.stepSize>0)e=o(i.fixedStepSize,i.stepSize);else{var c=t.niceNum(n.max-n.min,!1);e=t.niceNum(c/(s-1),!0)}var l=Math.floor(n.min/e)*e,d=Math.ceil(n.max/e)*e,u=(d-l)/e;u=t.almostEquals(u,Math.round(u),e/1e3)?Math.round(u):Math.ceil(u),r.push(void 0!==i.min?i.min:l);for(var h=1;h<u;++h)r.push(l+h*e);r.push(void 0!==i.max?i.max:d),n.handleDirectionalChanges(),n.max=t.max(r),n.min=t.min(r),i.reverse?(r.reverse(),n.start=n.max,n.end=n.min):(n.start=n.min,n.end=n.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),e.Scale.prototype.convertTicksToLabels.call(t)}})}},586:function(e,t,n){"use strict";e.exports=function(e){var t=e.helpers,n=e.Scale.extend({getLabels:function(){var e=this.chart.data;return(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels},determineDataLimits:function(){var e,n=this,a=n.getLabels();n.minIndex=0,n.maxIndex=a.length-1,void 0!==n.options.ticks.min&&(e=t.indexOf(a,n.options.ticks.min),n.minIndex=-1!==e?e:n.minIndex),void 0!==n.options.ticks.max&&(e=t.indexOf(a,n.options.ticks.max),n.maxIndex=-1!==e?e:n.maxIndex),n.min=a[n.minIndex],n.max=a[n.maxIndex]},buildTicks:function(){var e=this,t=e.getLabels();e.ticks=0===e.minIndex&&e.maxIndex===t.length-1?t:t.slice(e.minIndex,e.maxIndex+1)},getLabelForIndex:function(e,t){var n=this,a=n.chart.data,r=n.isHorizontal();return a.xLabels&&r||a.yLabels&&!r?n.getRightValue(a.datasets[t].data[e]):n.ticks[e]},getPixelForValue:function(e,t,n,a){var r=this,i=Math.max(r.maxIndex+1-r.minIndex-(r.options.gridLines.offsetGridLines?0:1),1);if(void 0!==e&&isNaN(t)){var o=r.getLabels().indexOf(e);t=-1!==o?o:t}if(r.isHorizontal()){var s=(r.width-(r.paddingLeft+r.paddingRight))/i,c=s*(t-r.minIndex)+r.paddingLeft;return(r.options.gridLines.offsetGridLines&&a||r.maxIndex===r.minIndex&&a)&&(c+=s/2),r.left+Math.round(c)}var l=(r.height-(r.paddingTop+r.paddingBottom))/i,d=l*(t-r.minIndex)+r.paddingTop;return r.options.gridLines.offsetGridLines&&a&&(d+=l/2),r.top+Math.round(d)},getPixelForTick:function(e,t){return this.getPixelForValue(this.ticks[e],e+this.minIndex,null,t)},getValueForPixel:function(e){var t=this,n=Math.max(t.ticks.length-(t.options.gridLines.offsetGridLines?0:1),1),a=t.isHorizontal(),r=(a?t.width-(t.paddingLeft+t.paddingRight):t.height-(t.paddingTop+t.paddingBottom))/n;return e-=a?t.left:t.top,t.options.gridLines.offsetGridLines&&(e-=r/2),(e-=a?t.paddingLeft:t.paddingTop)<=0?0:Math.round(e/r)},getBasePixel:function(){return this.bottom}});e.scaleService.registerScaleType("category",n,{position:"bottom"})}},587:function(e,t,n){"use strict";e.exports=function(e){var t=e.helpers,n={position:"left",ticks:{callback:function(e,n,a){var r=a.length>3?a[2]-a[1]:a[1]-a[0];Math.abs(r)>1&&e!==Math.floor(e)&&(r=e-Math.floor(e));var i=t.log10(Math.abs(r)),o="";if(0!==e){var s=-1*Math.floor(i);s=Math.max(Math.min(s,20),0),o=e.toFixed(s)}else o="0";return o}}},a=e.LinearScaleBase.extend({determineDataLimits:function(){var e=this,n=e.options,a=e.chart,r=a.data.datasets,i=e.isHorizontal();function o(t){return i?t.xAxisID===e.id:t.yAxisID===e.id}if(e.min=null,e.max=null,n.stacked){var s={};t.each(r,(function(r,i){var c=a.getDatasetMeta(i);void 0===s[c.type]&&(s[c.type]={positiveValues:[],negativeValues:[]});var l=s[c.type].positiveValues,d=s[c.type].negativeValues;a.isDatasetVisible(i)&&o(c)&&t.each(r.data,(function(t,a){var r=+e.getRightValue(t);isNaN(r)||c.data[a].hidden||(l[a]=l[a]||0,d[a]=d[a]||0,n.relativePoints?l[a]=100:r<0?d[a]+=r:l[a]+=r)}))})),t.each(s,(function(n){var a=n.positiveValues.concat(n.negativeValues),r=t.min(a),i=t.max(a);e.min=null===e.min?r:Math.min(e.min,r),e.max=null===e.max?i:Math.max(e.max,i)}))}else t.each(r,(function(n,r){var i=a.getDatasetMeta(r);a.isDatasetVisible(r)&&o(i)&&t.each(n.data,(function(t,n){var a=+e.getRightValue(t);isNaN(a)||i.data[n].hidden||((null===e.min||a<e.min)&&(e.min=a),(null===e.max||a>e.max)&&(e.max=a))}))}));this.handleTickRangeOptions()},getTickLimit:function(){var n,a=this,r=a.options.ticks;if(a.isHorizontal())n=Math.min(r.maxTicksLimit?r.maxTicksLimit:11,Math.ceil(a.width/50));else{var i=t.getValueOrDefault(r.fontSize,e.defaults.global.defaultFontSize);n=Math.min(r.maxTicksLimit?r.maxTicksLimit:11,Math.ceil(a.height/(2*i)))}return n},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForValue:function(e){var t,n,a=this,r=a.paddingLeft,i=a.paddingBottom,o=a.start,s=+a.getRightValue(e),c=a.end-o;return a.isHorizontal()?(n=a.width-(r+a.paddingRight),t=a.left+n/c*(s-o),Math.round(t+r)):(n=a.height-(a.paddingTop+i),t=a.bottom-i-n/c*(s-o),Math.round(t))},getValueForPixel:function(e){var t=this,n=t.isHorizontal(),a=t.paddingLeft,r=t.paddingBottom,i=n?t.width-(a+t.paddingRight):t.height-(t.paddingTop+r),o=(n?e-t.left-a:t.bottom-r-e)/i;return t.start+(t.end-t.start)*o},getPixelForTick:function(e){return this.getPixelForValue(this.ticksAsNumbers[e])}});e.scaleService.registerScaleType("linear",a,n)}},588:function(e,t,n){"use strict";e.exports=function(e){var t=e.helpers,n={position:"left",ticks:{callback:function(e,n,a){var r=e/Math.pow(10,Math.floor(t.log10(e)));return 0===e?"0":1===r||2===r||5===r||0===n||n===a.length-1?e.toExponential():""}}},a=e.Scale.extend({determineDataLimits:function(){var e=this,n=e.options,a=n.ticks,r=e.chart,i=r.data.datasets,o=t.getValueOrDefault,s=e.isHorizontal();function c(t){return s?t.xAxisID===e.id:t.yAxisID===e.id}if(e.min=null,e.max=null,e.minNotZero=null,n.stacked){var l={};t.each(i,(function(a,i){var o=r.getDatasetMeta(i);r.isDatasetVisible(i)&&c(o)&&(void 0===l[o.type]&&(l[o.type]=[]),t.each(a.data,(function(t,a){var r=l[o.type],i=+e.getRightValue(t);isNaN(i)||o.data[a].hidden||(r[a]=r[a]||0,n.relativePoints?r[a]=100:r[a]+=i)})))})),t.each(l,(function(n){var a=t.min(n),r=t.max(n);e.min=null===e.min?a:Math.min(e.min,a),e.max=null===e.max?r:Math.max(e.max,r)}))}else t.each(i,(function(n,a){var i=r.getDatasetMeta(a);r.isDatasetVisible(a)&&c(i)&&t.each(n.data,(function(t,n){var a=+e.getRightValue(t);isNaN(a)||i.data[n].hidden||((null===e.min||a<e.min)&&(e.min=a),(null===e.max||a>e.max)&&(e.max=a),0!==a&&(null===e.minNotZero||a<e.minNotZero)&&(e.minNotZero=a))}))}));e.min=o(a.min,e.min),e.max=o(a.max,e.max),e.min===e.max&&(0!==e.min&&null!==e.min?(e.min=Math.pow(10,Math.floor(t.log10(e.min))-1),e.max=Math.pow(10,Math.floor(t.log10(e.max))+1)):(e.min=1,e.max=10))},buildTicks:function(){for(var e=this,n=e.options.ticks,a=t.getValueOrDefault,r=e.ticks=[],i=a(n.min,Math.pow(10,Math.floor(t.log10(e.min))));i<e.max;){var o,s;r.push(i),0===i?(o=Math.floor(t.log10(e.minNotZero)),s=Math.round(e.minNotZero/Math.pow(10,o))):(o=Math.floor(t.log10(i)),s=Math.floor(i/Math.pow(10,o))+1),10===s&&(s=1,++o),i=s*Math.pow(10,o)}var c=a(n.max,i);r.push(c),e.isHorizontal()||r.reverse(),e.max=t.max(r),e.min=t.min(r),n.reverse?(r.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),e.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e){return this.getPixelForValue(this.tickValues[e])},getPixelForValue:function(e){var n,a,r,i=this,o=i.start,s=+i.getRightValue(e),c=i.paddingTop,l=i.paddingBottom,d=i.paddingLeft,u=i.options.ticks;return i.isHorizontal()?(r=t.log10(i.end)-t.log10(o),0===s?a=i.left+d:(n=i.width-(d+i.paddingRight),a=i.left+n/r*(t.log10(s)-t.log10(o)),a+=d)):(n=i.height-(c+l),0!==o||u.reverse?0===i.end&&u.reverse?(r=t.log10(i.start)-t.log10(i.minNotZero),a=s===i.end?i.top+c:s===i.minNotZero?i.top+c+.02*n:i.top+c+.02*n+.98*n/r*(t.log10(s)-t.log10(i.minNotZero))):(r=t.log10(i.end)-t.log10(o),n=i.height-(c+l),a=i.bottom-l-n/r*(t.log10(s)-t.log10(o))):(r=t.log10(i.end)-t.log10(i.minNotZero),a=s===o?i.bottom-l:s===i.minNotZero?i.bottom-l-.02*n:i.bottom-l-.02*n-.98*n/r*(t.log10(s)-t.log10(i.minNotZero)))),a},getValueForPixel:function(e){var n,a,r=this,i=t.log10(r.end)-t.log10(r.start);return r.isHorizontal()?(a=r.width-(r.paddingLeft+r.paddingRight),n=r.start*Math.pow(10,(e-r.left-r.paddingLeft)*i/a)):(a=r.height-(r.paddingTop+r.paddingBottom),n=Math.pow(10,(r.bottom-r.paddingBottom-e)*i/a)/r.start),n}});e.scaleService.registerScaleType("logarithmic",a,n)}},589:function(e,t,n){"use strict";e.exports=function(e){var t=e.helpers,n=e.defaults.global,a=e.LinearScaleBase.extend({getValueCount:function(){return this.chart.data.labels.length},setDimensions:function(){var e=this,a=e.options,r=a.ticks;e.width=e.maxWidth,e.height=e.maxHeight,e.xCenter=Math.round(e.width/2),e.yCenter=Math.round(e.height/2);var i=t.min([e.height,e.width]),o=t.getValueOrDefault(r.fontSize,n.defaultFontSize);e.drawingArea=a.display?i/2-(o/2+r.backdropPaddingY):i/2},determineDataLimits:function(){var e=this,n=e.chart;e.min=null,e.max=null,t.each(n.data.datasets,(function(a,r){if(n.isDatasetVisible(r)){var i=n.getDatasetMeta(r);t.each(a.data,(function(t,n){var a=+e.getRightValue(t);isNaN(a)||i.data[n].hidden||((null===e.min||a<e.min)&&(e.min=a),(null===e.max||a>e.max)&&(e.max=a))}))}})),e.handleTickRangeOptions()},getTickLimit:function(){var e=this.options.ticks,a=t.getValueOrDefault(e.fontSize,n.defaultFontSize);return Math.min(e.maxTicksLimit?e.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*a)))},convertTicksToLabels:function(){var t=this;e.LinearScaleBase.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map(t.options.pointLabels.callback,t)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){var e,a,r,i,o,s,c,l,d,u,h,p,b=this.options.pointLabels,g=t.getValueOrDefault(b.fontSize,n.defaultFontSize),f=t.getValueOrDefault(b.fontStyle,n.defaultFontStyle),m=t.getValueOrDefault(b.fontFamily,n.defaultFontFamily),j=t.fontString(g,f,m),v=t.min([this.height/2-g-5,this.width/2]),O=this.width,x=0;for(this.ctx.font=j,a=0;a<this.getValueCount();a++){e=this.getPointPosition(a,v),r=this.ctx.measureText(this.pointLabels[a]?this.pointLabels[a]:"").width+5;var y=360*(this.getIndexAngle(a)+Math.PI/2)/(2*Math.PI)%360;0===y||180===y?(i=r/2,e.x+i>O&&(O=e.x+i,o=a),e.x-i<x&&(x=e.x-i,c=a)):y<180?e.x+r>O&&(O=e.x+r,o=a):e.x-r<x&&(x=e.x-r,c=a)}d=x,u=Math.ceil(O-this.width),s=this.getIndexAngle(o),l=this.getIndexAngle(c),h=u/Math.sin(s+Math.PI/2),p=d/Math.sin(l+Math.PI/2),h=t.isNumber(h)?h:0,p=t.isNumber(p)?p:0,this.drawingArea=Math.round(v-(p+h)/2),this.setCenterPoint(p,h)},setCenterPoint:function(e,t){var n=this,a=n.width-t-n.drawingArea,r=e+n.drawingArea;n.xCenter=Math.round((r+a)/2+n.left),n.yCenter=Math.round(n.height/2+n.top)},getIndexAngle:function(e){var t=2*Math.PI/this.getValueCount(),n=(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360;return e*t-Math.PI/2+n},getDistanceFromCenterForValue:function(e){var t=this;if(null===e)return 0;var n=t.drawingArea/(t.max-t.min);return t.options.reverse?(t.max-e)*n:(e-t.min)*n},getPointPosition:function(e,t){var n=this,a=n.getIndexAngle(e);return{x:Math.round(Math.cos(a)*t)+n.xCenter,y:Math.round(Math.sin(a)*t)+n.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(){var e=this,t=e.min,n=e.max;return e.getPointPositionForValue(0,e.beginAtZero?0:t<0&&n<0?n:t>0&&n>0?t:0)},draw:function(){var e=this,a=e.options,r=a.gridLines,i=a.ticks,o=a.angleLines,s=a.pointLabels,c=t.getValueOrDefault;if(a.display){var l=e.ctx,d=c(i.fontSize,n.defaultFontSize),u=c(i.fontStyle,n.defaultFontStyle),h=c(i.fontFamily,n.defaultFontFamily),p=t.fontString(d,u,h);if(t.each(e.ticks,(function(o,s){if(s>0||a.reverse){var u=e.getDistanceFromCenterForValue(e.ticksAsNumbers[s]),h=e.yCenter-u;if(r.display&&0!==s)if(l.strokeStyle=t.getValueAtIndexOrDefault(r.color,s-1),l.lineWidth=t.getValueAtIndexOrDefault(r.lineWidth,s-1),a.lineArc)l.beginPath(),l.arc(e.xCenter,e.yCenter,u,0,2*Math.PI),l.closePath(),l.stroke();else{l.beginPath();for(var b=0;b<e.getValueCount();b++){var g=e.getPointPosition(b,u);0===b?l.moveTo(g.x,g.y):l.lineTo(g.x,g.y)}l.closePath(),l.stroke()}if(i.display){var f=c(i.fontColor,n.defaultFontColor);if(l.font=p,i.showLabelBackdrop){var m=l.measureText(o).width;l.fillStyle=i.backdropColor,l.fillRect(e.xCenter-m/2-i.backdropPaddingX,h-d/2-i.backdropPaddingY,m+2*i.backdropPaddingX,d+2*i.backdropPaddingY)}l.textAlign="center",l.textBaseline="middle",l.fillStyle=f,l.fillText(o,e.xCenter,h)}}})),!a.lineArc){l.lineWidth=o.lineWidth,l.strokeStyle=o.color;for(var b=e.getDistanceFromCenterForValue(a.reverse?e.min:e.max),g=c(s.fontSize,n.defaultFontSize),f=c(s.fontStyle,n.defaultFontStyle),m=c(s.fontFamily,n.defaultFontFamily),j=t.fontString(g,f,m),v=e.getValueCount()-1;v>=0;v--){if(o.display){var O=e.getPointPosition(v,b);l.beginPath(),l.moveTo(e.xCenter,e.yCenter),l.lineTo(O.x,O.y),l.stroke(),l.closePath()}var x=e.getPointPosition(v,b+5),y=c(s.fontColor,n.defaultFontColor);l.font=j,l.fillStyle=y;var S=e.pointLabels,w=360*(this.getIndexAngle(v)+Math.PI/2)/(2*Math.PI)%360;l.textAlign=0===w||180===w?"center":w<180?"left":"right",l.textBaseline=90===w||270===w?"middle":w>270||w<90?"bottom":"top",l.fillText(S[v]?S[v]:"",x.x,x.y)}}}}});e.scaleService.registerScaleType("radialLinear",a,{display:!0,animate:!0,lineArc:!1,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2},pointLabels:{fontSize:10,callback:function(e){return e}}})}},590:function(e,t,n){"use strict";var a=n(12);a="function"===typeof a?a:window.moment,e.exports=function(e){var t=e.helpers,n={units:[{name:"millisecond",steps:[1,2,5,10,20,50,100,250,500]},{name:"second",steps:[1,2,5,10,30]},{name:"minute",steps:[1,2,5,10,30]},{name:"hour",steps:[1,2,3,6,12]},{name:"day",steps:[1,2,5]},{name:"week",maxStep:4},{name:"month",maxStep:3},{name:"quarter",maxStep:4},{name:"year",maxStep:!1}]},r=e.Scale.extend({initialize:function(){if(!a)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");e.Scale.prototype.initialize.call(this)},getLabelMoment:function(e,t){return null===e||null===t?null:"undefined"!==typeof this.labelMoments[e]?this.labelMoments[e][t]:null},getLabelDiff:function(e,t){var n=this;return null===e||null===t?null:(void 0===n.labelDiffs&&n.buildLabelDiffs(),"undefined"!==typeof n.labelDiffs[e]?n.labelDiffs[e][t]:null)},getMomentStartOf:function(e){var t=this;return"week"===t.options.time.unit&&!1!==t.options.time.isoWeekday?e.clone().startOf("isoWeek").isoWeekday(t.options.time.isoWeekday):e.clone().startOf(t.tickUnit)},determineDataLimits:function(){var e=this;e.labelMoments=[];var n=[];e.chart.data.labels&&e.chart.data.labels.length>0?(t.each(e.chart.data.labels,(function(t){var a=e.parseTime(t);a.isValid()&&(e.options.time.round&&a.startOf(e.options.time.round),n.push(a))}),e),e.firstTick=a.min.call(e,n),e.lastTick=a.max.call(e,n)):(e.firstTick=null,e.lastTick=null),t.each(e.chart.data.datasets,(function(r,i){var o=[],s=e.chart.isDatasetVisible(i);"object"===typeof r.data[0]&&null!==r.data[0]?t.each(r.data,(function(t){var n=e.parseTime(e.getRightValue(t));n.isValid()&&(e.options.time.round&&n.startOf(e.options.time.round),o.push(n),s&&(e.firstTick=null!==e.firstTick?a.min(e.firstTick,n):n,e.lastTick=null!==e.lastTick?a.max(e.lastTick,n):n))}),e):o=n,e.labelMoments.push(o)}),e),e.options.time.min&&(e.firstTick=e.parseTime(e.options.time.min)),e.options.time.max&&(e.lastTick=e.parseTime(e.options.time.max)),e.firstTick=(e.firstTick||a()).clone(),e.lastTick=(e.lastTick||a()).clone()},buildLabelDiffs:function(){var e=this;e.labelDiffs=[];var n=[];e.chart.data.labels&&e.chart.data.labels.length>0&&t.each(e.chart.data.labels,(function(t){var a=e.parseTime(t);a.isValid()&&(e.options.time.round&&a.startOf(e.options.time.round),n.push(a.diff(e.firstTick,e.tickUnit,!0)))}),e),t.each(e.chart.data.datasets,(function(a){var r=[];"object"===typeof a.data[0]&&null!==a.data[0]?t.each(a.data,(function(t){var n=e.parseTime(e.getRightValue(t));n.isValid()&&(e.options.time.round&&n.startOf(e.options.time.round),r.push(n.diff(e.firstTick,e.tickUnit,!0)))}),e):r=n,e.labelDiffs.push(r)}),e)},buildTicks:function(){var a=this;a.ctx.save();var r,i=t.getValueOrDefault(a.options.ticks.fontSize,e.defaults.global.defaultFontSize),o=t.getValueOrDefault(a.options.ticks.fontStyle,e.defaults.global.defaultFontStyle),s=t.getValueOrDefault(a.options.ticks.fontFamily,e.defaults.global.defaultFontFamily),c=t.fontString(i,o,s);if(a.ctx.font=c,a.ticks=[],a.unitScale=1,a.scaleSizeInUnits=0,a.options.time.unit)a.tickUnit=a.options.time.unit||"day",a.displayFormat=a.options.time.displayFormats[a.tickUnit],a.scaleSizeInUnits=a.lastTick.diff(a.firstTick,a.tickUnit,!0),a.unitScale=t.getValueOrDefault(a.options.time.unitStepSize,1);else{var l=a.isHorizontal()?a.width-(a.paddingLeft+a.paddingRight):a.height-(a.paddingTop+a.paddingBottom),d=a.tickFormatFunction(a.firstTick,0,[]),u=a.ctx.measureText(d).width,h=l/(u=u*Math.cos(t.toRadians(a.options.ticks.maxRotation))+i*Math.sin(t.toRadians(a.options.ticks.maxRotation)));a.tickUnit=a.options.time.minUnit,a.scaleSizeInUnits=a.lastTick.diff(a.firstTick,a.tickUnit,!0),a.displayFormat=a.options.time.displayFormats[a.tickUnit];for(var p=0,b=n.units[p];p<n.units.length;){if(a.unitScale=1,t.isArray(b.steps)&&Math.ceil(a.scaleSizeInUnits/h)<t.max(b.steps)){for(var g=0;g<b.steps.length;++g)if(b.steps[g]>=Math.ceil(a.scaleSizeInUnits/h)){a.unitScale=t.getValueOrDefault(a.options.time.unitStepSize,b.steps[g]);break}break}if(!1===b.maxStep||Math.ceil(a.scaleSizeInUnits/h)<b.maxStep){a.unitScale=t.getValueOrDefault(a.options.time.unitStepSize,Math.ceil(a.scaleSizeInUnits/h));break}++p,b=n.units[p],a.tickUnit=b.name;var f=a.firstTick.diff(a.getMomentStartOf(a.firstTick),a.tickUnit,!0),m=a.getMomentStartOf(a.lastTick.clone().add(1,a.tickUnit)).diff(a.lastTick,a.tickUnit,!0);a.scaleSizeInUnits=a.lastTick.diff(a.firstTick,a.tickUnit,!0)+f+m,a.displayFormat=a.options.time.displayFormats[b.name]}}if(a.options.time.min?r=a.getMomentStartOf(a.firstTick):(a.firstTick=a.getMomentStartOf(a.firstTick),r=a.firstTick),!a.options.time.max){var j=a.getMomentStartOf(a.lastTick),v=j.diff(a.lastTick,a.tickUnit,!0);v<0?a.lastTick=a.getMomentStartOf(a.lastTick.add(1,a.tickUnit)):v>=0&&(a.lastTick=j),a.scaleSizeInUnits=a.lastTick.diff(a.firstTick,a.tickUnit,!0)}a.options.time.displayFormat&&(a.displayFormat=a.options.time.displayFormat),a.ticks.push(a.firstTick.clone());for(var O=1;O<=a.scaleSizeInUnits;++O){var x=r.clone().add(O,a.tickUnit);if(a.options.time.max&&x.diff(a.lastTick,a.tickUnit,!0)>=0)break;O%a.unitScale===0&&a.ticks.push(x)}0===a.ticks[a.ticks.length-1].diff(a.lastTick,a.tickUnit)&&0!==a.scaleSizeInUnits||(a.options.time.max?(a.ticks.push(a.lastTick.clone()),a.scaleSizeInUnits=a.lastTick.diff(a.ticks[0],a.tickUnit,!0)):(a.ticks.push(a.lastTick.clone()),a.scaleSizeInUnits=a.lastTick.diff(a.firstTick,a.tickUnit,!0))),a.ctx.restore(),a.labelDiffs=void 0},getLabelForIndex:function(e,t){var n=this,a=n.chart.data.labels&&e<n.chart.data.labels.length?n.chart.data.labels[e]:"";return"object"===typeof n.chart.data.datasets[t].data[0]&&(a=n.getRightValue(n.chart.data.datasets[t].data[e])),n.options.time.tooltipFormat&&(a=n.parseTime(a).format(n.options.time.tooltipFormat)),a},tickFormatFunction:function(e,n,a){var r=e.format(this.displayFormat),i=this.options.ticks,o=t.getValueOrDefault(i.callback,i.userCallback);return o?o(r,n,a):r},convertTicksToLabels:function(){var e=this;e.tickMoments=e.ticks,e.ticks=e.ticks.map(e.tickFormatFunction,e)},getPixelForValue:function(e,t,n){var a=this,r=null;if(void 0!==t&&void 0!==n&&(r=a.getLabelDiff(n,t)),null===r&&(e&&e.isValid||(e=a.parseTime(a.getRightValue(e))),e&&e.isValid&&e.isValid()&&(r=e.diff(a.firstTick,a.tickUnit,!0))),null!==r){var i=0!==r?r/a.scaleSizeInUnits:r;if(a.isHorizontal()){var o=(a.width-(a.paddingLeft+a.paddingRight))*i+a.paddingLeft;return a.left+Math.round(o)}var s=(a.height-(a.paddingTop+a.paddingBottom))*i+a.paddingTop;return a.top+Math.round(s)}},getPixelForTick:function(e){return this.getPixelForValue(this.tickMoments[e],null,null)},getValueForPixel:function(e){var t=this,n=t.isHorizontal()?t.width-(t.paddingLeft+t.paddingRight):t.height-(t.paddingTop+t.paddingBottom),r=(e-(t.isHorizontal()?t.left+t.paddingLeft:t.top+t.paddingTop))/n;return r*=t.scaleSizeInUnits,t.firstTick.clone().add(a.duration(r,t.tickUnit).asSeconds(),"seconds")},parseTime:function(e){var t=this;return"string"===typeof t.options.time.parser?a(e,t.options.time.parser):"function"===typeof t.options.time.parser?t.options.time.parser(e):"function"===typeof e.getMonth||"number"===typeof e?a(e):e.isValid&&e.isValid()?e:"string"!==typeof t.options.time.format&&t.options.time.format.call?(console.warn("options.time.format is deprecated and replaced by options.time.parser. See http://nnnick.github.io/Chart.js/docs-v2/#scales-time-scale"),t.options.time.format(e)):a(e,t.options.time.format)}});e.scaleService.registerScaleType("time",r,{position:"bottom",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm:ss a",hour:"MMM D, hA",day:"ll",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1}})}},591:function(e,t,n){"use strict";e.exports=function(e){var t=e.helpers;e.defaults.bar={hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}},e.controllers.bar=e.DatasetController.extend({dataElementType:e.elements.Rectangle,initialize:function(t,n){e.DatasetController.prototype.initialize.call(this,t,n),this.getMeta().bar=!0},getBarCount:function(){var e=this,n=0;return t.each(e.chart.data.datasets,(function(t,a){e.chart.getDatasetMeta(a).bar&&e.chart.isDatasetVisible(a)&&++n}),e),n},update:function(e){var n=this;t.each(n.getMeta().data,(function(t,a){n.updateElement(t,a,e)}),n)},updateElement:function(e,n,a){var r=this,i=r.getMeta(),o=r.getScaleForId(i.xAxisID),s=r.getScaleForId(i.yAxisID),c=s.getBasePixel(),l=r.chart.options.elements.rectangle,d=e.custom||{},u=r.getDataset();t.extend(e,{_xScale:o,_yScale:s,_datasetIndex:r.index,_index:n,_model:{x:r.calculateBarX(n,r.index),y:a?c:r.calculateBarY(n,r.index),label:r.chart.data.labels[n],datasetLabel:u.label,base:a?c:r.calculateBarBase(r.index,n),width:r.calculateBarWidth(n),backgroundColor:d.backgroundColor?d.backgroundColor:t.getValueAtIndexOrDefault(u.backgroundColor,n,l.backgroundColor),borderSkipped:d.borderSkipped?d.borderSkipped:l.borderSkipped,borderColor:d.borderColor?d.borderColor:t.getValueAtIndexOrDefault(u.borderColor,n,l.borderColor),borderWidth:d.borderWidth?d.borderWidth:t.getValueAtIndexOrDefault(u.borderWidth,n,l.borderWidth)}}),e.pivot()},calculateBarBase:function(e,t){var n=this,a=n.getMeta(),r=n.getScaleForId(a.yAxisID),i=0;if(r.options.stacked){for(var o=n.chart,s=o.data.datasets,c=Number(s[e].data[t]),l=0;l<e;l++){var d=s[l],u=o.getDatasetMeta(l);if(u.bar&&u.yAxisID===r.id&&o.isDatasetVisible(l)){var h=Number(d.data[t]);i+=c<0?Math.min(h,0):Math.max(h,0)}}return r.getPixelForValue(i)}return r.getBasePixel()},getRuler:function(e){var t,n=this,a=n.getMeta(),r=n.getScaleForId(a.xAxisID),i=n.getBarCount(),o=(t="category"===r.options.type?r.getPixelForTick(e+1)-r.getPixelForTick(e):r.width/r.ticks.length)*r.options.categoryPercentage,s=(t-t*r.options.categoryPercentage)/2,c=o/i;r.ticks.length!==n.chart.data.labels.length&&(c*=r.ticks.length/n.chart.data.labels.length);return{datasetCount:i,tickWidth:t,categoryWidth:o,categorySpacing:s,fullBarWidth:c,barWidth:c*r.options.barPercentage,barSpacing:c-c*r.options.barPercentage}},calculateBarWidth:function(e){var t=this.getScaleForId(this.getMeta().xAxisID);if(t.options.barThickness)return t.options.barThickness;var n=this.getRuler(e);return t.options.stacked?n.categoryWidth:n.barWidth},getBarIndex:function(e){var t,n=0;for(t=0;t<e;++t)this.chart.getDatasetMeta(t).bar&&this.chart.isDatasetVisible(t)&&++n;return n},calculateBarX:function(e,t){var n=this,a=n.getMeta(),r=n.getScaleForId(a.xAxisID),i=n.getBarIndex(t),o=n.getRuler(e),s=r.getPixelForValue(null,e,t,n.chart.isCombo);return s-=n.chart.isCombo?o.tickWidth/2:0,r.options.stacked?s+o.categoryWidth/2+o.categorySpacing:s+o.barWidth/2+o.categorySpacing+o.barWidth*i+o.barSpacing/2+o.barSpacing*i},calculateBarY:function(e,t){var n=this,a=n.getMeta(),r=n.getScaleForId(a.yAxisID),i=Number(n.getDataset().data[e]);if(r.options.stacked){for(var o=0,s=0,c=0;c<t;c++){var l=n.chart.data.datasets[c],d=n.chart.getDatasetMeta(c);if(d.bar&&d.yAxisID===r.id&&n.chart.isDatasetVisible(c)){var u=Number(l.data[e]);u<0?s+=u||0:o+=u||0}}return i<0?r.getPixelForValue(s+i):r.getPixelForValue(o+i)}return r.getPixelForValue(i)},draw:function(e){var n=this,a=e||1;t.each(n.getMeta().data,(function(e,t){var r=n.getDataset().data[t];null===r||void 0===r||isNaN(r)||e.transition(a).draw()}),n)},setHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],a=e._index,r=e.custom||{},i=e._model;i.backgroundColor=r.hoverBackgroundColor?r.hoverBackgroundColor:t.getValueAtIndexOrDefault(n.hoverBackgroundColor,a,t.getHoverColor(i.backgroundColor)),i.borderColor=r.hoverBorderColor?r.hoverBorderColor:t.getValueAtIndexOrDefault(n.hoverBorderColor,a,t.getHoverColor(i.borderColor)),i.borderWidth=r.hoverBorderWidth?r.hoverBorderWidth:t.getValueAtIndexOrDefault(n.hoverBorderWidth,a,i.borderWidth)},removeHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],a=e._index,r=e.custom||{},i=e._model,o=this.chart.options.elements.rectangle;i.backgroundColor=r.backgroundColor?r.backgroundColor:t.getValueAtIndexOrDefault(n.backgroundColor,a,o.backgroundColor),i.borderColor=r.borderColor?r.borderColor:t.getValueAtIndexOrDefault(n.borderColor,a,o.borderColor),i.borderWidth=r.borderWidth?r.borderWidth:t.getValueAtIndexOrDefault(n.borderWidth,a,o.borderWidth)}}),e.defaults.horizontalBar={hover:{mode:"label"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(e,t){var n="";return e.length>0&&(e[0].yLabel?n=e[0].yLabel:t.labels.length>0&&e[0].index<t.labels.length&&(n=t.labels[e[0].index])),n},label:function(e,t){return(t.datasets[e.datasetIndex].label||"")+": "+e.xLabel}}}},e.controllers.horizontalBar=e.controllers.bar.extend({updateElement:function(e,n,a){var r=this,i=r.getMeta(),o=r.getScaleForId(i.xAxisID),s=r.getScaleForId(i.yAxisID),c=o.getBasePixel(),l=e.custom||{},d=r.getDataset(),u=r.chart.options.elements.rectangle;t.extend(e,{_xScale:o,_yScale:s,_datasetIndex:r.index,_index:n,_model:{x:a?c:r.calculateBarX(n,r.index),y:r.calculateBarY(n,r.index),label:r.chart.data.labels[n],datasetLabel:d.label,base:a?c:r.calculateBarBase(r.index,n),height:r.calculateBarHeight(n),backgroundColor:l.backgroundColor?l.backgroundColor:t.getValueAtIndexOrDefault(d.backgroundColor,n,u.backgroundColor),borderSkipped:l.borderSkipped?l.borderSkipped:u.borderSkipped,borderColor:l.borderColor?l.borderColor:t.getValueAtIndexOrDefault(d.borderColor,n,u.borderColor),borderWidth:l.borderWidth?l.borderWidth:t.getValueAtIndexOrDefault(d.borderWidth,n,u.borderWidth)},draw:function(){var e=this._chart.ctx,t=this._view,n=t.height/2,a=t.y-n,r=t.y+n,i=t.base-(t.base-t.x),o=t.borderWidth/2;t.borderWidth&&(a+=o,r-=o,i+=o),e.beginPath(),e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,e.lineWidth=t.borderWidth;var s=[[t.base,r],[t.base,a],[i,a],[i,r]],c=["bottom","left","top","right"].indexOf(t.borderSkipped,0);function l(e){return s[(c+e)%4]}-1===c&&(c=0),e.moveTo.apply(e,l(0));for(var d=1;d<4;d++)e.lineTo.apply(e,l(d));e.fill(),t.borderWidth&&e.stroke()},inRange:function(e,t){var n=this._view,a=!1;return n&&(a=n.x<n.base?t>=n.y-n.height/2&&t<=n.y+n.height/2&&e>=n.x&&e<=n.base:t>=n.y-n.height/2&&t<=n.y+n.height/2&&e>=n.base&&e<=n.x),a}}),e.pivot()},calculateBarBase:function(e,t){var n=this,a=n.getMeta(),r=n.getScaleForId(a.xAxisID),i=0;if(r.options.stacked){for(var o=n.chart,s=o.data.datasets,c=Number(s[e].data[t]),l=0;l<e;l++){var d=s[l],u=o.getDatasetMeta(l);if(u.bar&&u.xAxisID===r.id&&o.isDatasetVisible(l)){var h=Number(d.data[t]);i+=c<0?Math.min(h,0):Math.max(h,0)}}return r.getPixelForValue(i)}return r.getBasePixel()},getRuler:function(e){var t,n=this,a=n.getMeta(),r=n.getScaleForId(a.yAxisID),i=n.getBarCount(),o=(t="category"===r.options.type?r.getPixelForTick(e+1)-r.getPixelForTick(e):r.width/r.ticks.length)*r.options.categoryPercentage,s=(t-t*r.options.categoryPercentage)/2,c=o/i;r.ticks.length!==n.chart.data.labels.length&&(c*=r.ticks.length/n.chart.data.labels.length);return{datasetCount:i,tickHeight:t,categoryHeight:o,categorySpacing:s,fullBarHeight:c,barHeight:c*r.options.barPercentage,barSpacing:c-c*r.options.barPercentage}},calculateBarHeight:function(e){var t=this,n=t.getScaleForId(t.getMeta().yAxisID);if(n.options.barThickness)return n.options.barThickness;var a=t.getRuler(e);return n.options.stacked?a.categoryHeight:a.barHeight},calculateBarX:function(e,t){var n=this,a=n.getMeta(),r=n.getScaleForId(a.xAxisID),i=Number(n.getDataset().data[e]);if(r.options.stacked){for(var o=0,s=0,c=0;c<t;c++){var l=n.chart.data.datasets[c],d=n.chart.getDatasetMeta(c);if(d.bar&&d.xAxisID===r.id&&n.chart.isDatasetVisible(c)){var u=Number(l.data[e]);u<0?s+=u||0:o+=u||0}}return i<0?r.getPixelForValue(s+i):r.getPixelForValue(o+i)}return r.getPixelForValue(i)},calculateBarY:function(e,t){var n=this,a=n.getMeta(),r=n.getScaleForId(a.yAxisID),i=n.getBarIndex(t),o=n.getRuler(e),s=r.getPixelForValue(null,e,t,n.chart.isCombo);return s-=n.chart.isCombo?o.tickHeight/2:0,r.options.stacked?s+o.categoryHeight/2+o.categorySpacing:s+o.barHeight/2+o.categorySpacing+o.barHeight*i+o.barSpacing/2+o.barSpacing*i}})}},592:function(e,t,n){"use strict";e.exports=function(e){var t=e.helpers;e.defaults.bubble={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.datasets[e.datasetIndex].label||"",a=t.datasets[e.datasetIndex].data[e.index];return n+": ("+a.x+", "+a.y+", "+a.r+")"}}}},e.controllers.bubble=e.DatasetController.extend({dataElementType:e.elements.Point,update:function(e){var n=this,a=n.getMeta().data;t.each(a,(function(t,a){n.updateElement(t,a,e)}))},updateElement:function(n,a,r){var i=this,o=i.getMeta(),s=i.getScaleForId(o.xAxisID),c=i.getScaleForId(o.yAxisID),l=n.custom||{},d=i.getDataset(),u=d.data[a],h=i.chart.options.elements.point,p=i.index;t.extend(n,{_xScale:s,_yScale:c,_datasetIndex:p,_index:a,_model:{x:r?s.getPixelForDecimal(.5):s.getPixelForValue("object"===typeof u?u:NaN,a,p,i.chart.isCombo),y:r?c.getBasePixel():c.getPixelForValue(u,a,p),radius:r?0:l.radius?l.radius:i.getRadius(u),hitRadius:l.hitRadius?l.hitRadius:t.getValueAtIndexOrDefault(d.hitRadius,a,h.hitRadius)}}),e.DatasetController.prototype.removeHoverStyle.call(i,n,h);var b=n._model;b.skip=l.skip?l.skip:isNaN(b.x)||isNaN(b.y),n.pivot()},getRadius:function(e){return e.r||this.chart.options.elements.point.radius},setHoverStyle:function(n){var a=this;e.DatasetController.prototype.setHoverStyle.call(a,n);var r=a.chart.data.datasets[n._datasetIndex],i=n._index,o=n.custom||{};n._model.radius=o.hoverRadius?o.hoverRadius:t.getValueAtIndexOrDefault(r.hoverRadius,i,a.chart.options.elements.point.hoverRadius)+a.getRadius(r.data[i])},removeHoverStyle:function(t){var n=this;e.DatasetController.prototype.removeHoverStyle.call(n,t,n.chart.options.elements.point);var a=n.chart.data.datasets[t._datasetIndex].data[t._index],r=t.custom||{};t._model.radius=r.radius?r.radius:n.getRadius(a)}})}},593:function(e,t,n){"use strict";e.exports=function(e){var t=e.helpers,n=e.defaults;n.doughnut={animation:{animateRotate:!0,animateScale:!1},aspectRatio:1,hover:{mode:"single"},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var n=e.data,a=n.datasets,r=n.labels;if(a.length)for(var i=0;i<a[0].data.length;++i)t.push('<li><span style="background-color:'+a[0].backgroundColor[i]+'"></span>'),r[i]&&t.push(r[i]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var n=e.data;return n.labels.length&&n.datasets.length?n.labels.map((function(a,r){var i=e.getDatasetMeta(0),o=n.datasets[0],s=i.data[r],c=s&&s.custom||{},l=t.getValueAtIndexOrDefault,d=e.options.elements.arc;return{text:a,fillStyle:c.backgroundColor?c.backgroundColor:l(o.backgroundColor,r,d.backgroundColor),strokeStyle:c.borderColor?c.borderColor:l(o.borderColor,r,d.borderColor),lineWidth:c.borderWidth?c.borderWidth:l(o.borderWidth,r,d.borderWidth),hidden:isNaN(o.data[r])||i.data[r].hidden,index:r}})):[]}},onClick:function(e,t){var n,a,r,i=t.index,o=this.chart;for(n=0,a=(o.data.datasets||[]).length;n<a;++n)(r=o.getDatasetMeta(n)).data[i]&&(r.data[i].hidden=!r.data[i].hidden);o.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+t.datasets[e.datasetIndex].data[e.index]}}}},n.pie=t.clone(n.doughnut),t.extend(n.pie,{cutoutPercentage:0}),e.controllers.doughnut=e.controllers.pie=e.DatasetController.extend({dataElementType:e.elements.Arc,linkScales:t.noop,getRingIndex:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&++t;return t},update:function(e){var n=this,a=n.chart,r=a.chartArea,i=a.options,o=i.elements.arc,s=r.right-r.left-o.borderWidth,c=r.bottom-r.top-o.borderWidth,l=Math.min(s,c),d={x:0,y:0},u=n.getMeta(),h=i.cutoutPercentage,p=i.circumference;if(p<2*Math.PI){var b=i.rotation%(2*Math.PI),g=(b+=2*Math.PI*(b>=Math.PI?-1:b<-Math.PI?1:0))+p,f={x:Math.cos(b),y:Math.sin(b)},m={x:Math.cos(g),y:Math.sin(g)},j=b<=0&&0<=g||b<=2*Math.PI&&2*Math.PI<=g,v=b<=.5*Math.PI&&.5*Math.PI<=g||b<=2.5*Math.PI&&2.5*Math.PI<=g,O=b<=-Math.PI&&-Math.PI<=g||b<=Math.PI&&Math.PI<=g,x=b<=.5*-Math.PI&&.5*-Math.PI<=g||b<=1.5*Math.PI&&1.5*Math.PI<=g,y=h/100,S={x:O?-1:Math.min(f.x*(f.x<0?1:y),m.x*(m.x<0?1:y)),y:x?-1:Math.min(f.y*(f.y<0?1:y),m.y*(m.y<0?1:y))},w={x:j?1:Math.max(f.x*(f.x>0?1:y),m.x*(m.x>0?1:y)),y:v?1:Math.max(f.y*(f.y>0?1:y),m.y*(m.y>0?1:y))},D={width:.5*(w.x-S.x),height:.5*(w.y-S.y)};l=Math.min(s/D.width,c/D.height),d={x:-.5*(w.x+S.x),y:-.5*(w.y+S.y)}}a.borderWidth=n.getMaxBorderWidth(u.data),a.outerRadius=Math.max((l-a.borderWidth)/2,0),a.innerRadius=Math.max(h?a.outerRadius/100*h:1,0),a.radiusLength=(a.outerRadius-a.innerRadius)/a.getVisibleDatasetCount(),a.offsetX=d.x*a.outerRadius,a.offsetY=d.y*a.outerRadius,u.total=n.calculateTotal(),n.outerRadius=a.outerRadius-a.radiusLength*n.getRingIndex(n.index),n.innerRadius=n.outerRadius-a.radiusLength,t.each(u.data,(function(t,a){n.updateElement(t,a,e)}))},updateElement:function(e,n,a){var r=this,i=r.chart,o=i.chartArea,s=i.options,c=s.animation,l=(o.left+o.right)/2,d=(o.top+o.bottom)/2,u=s.rotation,h=s.rotation,p=r.getDataset(),b=a&&c.animateRotate||e.hidden?0:r.calculateCircumference(p.data[n])*(s.circumference/(2*Math.PI)),g=a&&c.animateScale?0:r.innerRadius,f=a&&c.animateScale?0:r.outerRadius,m=t.getValueAtIndexOrDefault;t.extend(e,{_datasetIndex:r.index,_index:n,_model:{x:l+i.offsetX,y:d+i.offsetY,startAngle:u,endAngle:h,circumference:b,outerRadius:f,innerRadius:g,label:m(p.label,n,i.data.labels[n])}});var j=e._model;this.removeHoverStyle(e),a&&c.animateRotate||(j.startAngle=0===n?s.rotation:r.getMeta().data[n-1]._model.endAngle,j.endAngle=j.startAngle+j.circumference),e.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},calculateTotal:function(){var e,n=this.getDataset(),a=this.getMeta(),r=0;return t.each(a.data,(function(t,a){e=n.data[a],isNaN(e)||t.hidden||(r+=Math.abs(e))})),r},calculateCircumference:function(e){var t=this.getMeta().total;return t>0&&!isNaN(e)?2*Math.PI*(e/t):0},getMaxBorderWidth:function(e){for(var t,n,a=0,r=this.index,i=e.length,o=0;o<i;o++)t=e[o]._model?e[o]._model.borderWidth:0,a=(n=e[o]._chart?e[o]._chart.config.data.datasets[r].hoverBorderWidth:0)>(a=t>a?t:a)?n:a;return a}})}},594:function(e,t,n){"use strict";e.exports=function(e){var t=e.helpers;function n(e,n){return t.getValueOrDefault(e.showLine,n.showLines)}e.defaults.line={showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}},e.controllers.line=e.DatasetController.extend({datasetElementType:e.elements.Line,dataElementType:e.elements.Point,addElementAndReset:function(t){var a=this,r=a.chart.options,i=a.getMeta();e.DatasetController.prototype.addElementAndReset.call(a,t),n(a.getDataset(),r)&&0!==i.dataset._model.tension&&a.updateBezierControlPoints()},update:function(e){var a,r,i,o=this,s=o.getMeta(),c=s.dataset,l=s.data||[],d=o.chart.options,u=d.elements.line,h=o.getScaleForId(s.yAxisID),p=o.getDataset(),b=n(p,d);for(b&&(i=c.custom||{},void 0!==p.tension&&void 0===p.lineTension&&(p.lineTension=p.tension),c._scale=h,c._datasetIndex=o.index,c._children=l,c._model={spanGaps:p.spanGaps?p.spanGaps:d.spanGaps,tension:i.tension?i.tension:t.getValueOrDefault(p.lineTension,u.tension),backgroundColor:i.backgroundColor?i.backgroundColor:p.backgroundColor||u.backgroundColor,borderWidth:i.borderWidth?i.borderWidth:p.borderWidth||u.borderWidth,borderColor:i.borderColor?i.borderColor:p.borderColor||u.borderColor,borderCapStyle:i.borderCapStyle?i.borderCapStyle:p.borderCapStyle||u.borderCapStyle,borderDash:i.borderDash?i.borderDash:p.borderDash||u.borderDash,borderDashOffset:i.borderDashOffset?i.borderDashOffset:p.borderDashOffset||u.borderDashOffset,borderJoinStyle:i.borderJoinStyle?i.borderJoinStyle:p.borderJoinStyle||u.borderJoinStyle,fill:i.fill?i.fill:void 0!==p.fill?p.fill:u.fill,steppedLine:i.steppedLine?i.steppedLine:t.getValueOrDefault(p.steppedLine,u.stepped),cubicInterpolationMode:i.cubicInterpolationMode?i.cubicInterpolationMode:t.getValueOrDefault(p.cubicInterpolationMode,u.cubicInterpolationMode),scaleTop:h.top,scaleBottom:h.bottom,scaleZero:h.getBasePixel()},c.pivot()),a=0,r=l.length;a<r;++a)o.updateElement(l[a],a,e);for(b&&0!==c._model.tension&&o.updateBezierControlPoints(),a=0,r=l.length;a<r;++a)l[a].pivot()},getPointBackgroundColor:function(e,n){var a=this.chart.options.elements.point.backgroundColor,r=this.getDataset(),i=e.custom||{};return i.backgroundColor?a=i.backgroundColor:r.pointBackgroundColor?a=t.getValueAtIndexOrDefault(r.pointBackgroundColor,n,a):r.backgroundColor&&(a=r.backgroundColor),a},getPointBorderColor:function(e,n){var a=this.chart.options.elements.point.borderColor,r=this.getDataset(),i=e.custom||{};return i.borderColor?a=i.borderColor:r.pointBorderColor?a=t.getValueAtIndexOrDefault(r.pointBorderColor,n,a):r.borderColor&&(a=r.borderColor),a},getPointBorderWidth:function(e,n){var a=this.chart.options.elements.point.borderWidth,r=this.getDataset(),i=e.custom||{};return i.borderWidth?a=i.borderWidth:r.pointBorderWidth?a=t.getValueAtIndexOrDefault(r.pointBorderWidth,n,a):r.borderWidth&&(a=r.borderWidth),a},updateElement:function(e,n,a){var r,i,o=this,s=o.getMeta(),c=e.custom||{},l=o.getDataset(),d=o.index,u=l.data[n],h=o.getScaleForId(s.yAxisID),p=o.getScaleForId(s.xAxisID),b=o.chart.options.elements.point,g=1===(o.chart.data.labels||[]).length||1===l.data.length||o.chart.isCombo;void 0!==l.radius&&void 0===l.pointRadius&&(l.pointRadius=l.radius),void 0!==l.hitRadius&&void 0===l.pointHitRadius&&(l.pointHitRadius=l.hitRadius),r=p.getPixelForValue("object"===typeof u?u:NaN,n,d,g),i=a?h.getBasePixel():o.calculatePointY(u,n,d),e._xScale=p,e._yScale=h,e._datasetIndex=d,e._index=n,e._model={x:r,y:i,skip:c.skip||isNaN(r)||isNaN(i),radius:c.radius||t.getValueAtIndexOrDefault(l.pointRadius,n,b.radius),pointStyle:c.pointStyle||t.getValueAtIndexOrDefault(l.pointStyle,n,b.pointStyle),backgroundColor:o.getPointBackgroundColor(e,n),borderColor:o.getPointBorderColor(e,n),borderWidth:o.getPointBorderWidth(e,n),tension:s.dataset._model?s.dataset._model.tension:0,steppedLine:!!s.dataset._model&&s.dataset._model.steppedLine,hitRadius:c.hitRadius||t.getValueAtIndexOrDefault(l.pointHitRadius,n,b.hitRadius)}},calculatePointY:function(e,t,n){var a,r,i,o=this,s=o.chart,c=o.getMeta(),l=o.getScaleForId(c.yAxisID),d=0,u=0;if(l.options.stacked){for(a=0;a<n;a++)if(r=s.data.datasets[a],"line"===(i=s.getDatasetMeta(a)).type&&i.yAxisID===l.id&&s.isDatasetVisible(a)){var h=Number(l.getRightValue(r.data[t]));h<0?u+=h||0:d+=h||0}var p=Number(l.getRightValue(e));return p<0?l.getPixelForValue(u+p):l.getPixelForValue(d+p)}return l.getPixelForValue(e)},updateBezierControlPoints:function(){var e,n,a,r,i=this,o=i.getMeta(),s=i.chart.chartArea,c=o.data||[];function l(e,t,n){return Math.max(Math.min(e,n),t)}if(o.dataset._model.spanGaps&&(c=c.filter((function(e){return!e._model.skip}))),"monotone"===o.dataset._model.cubicInterpolationMode)t.splineCurveMonotone(c);else for(e=0,n=c.length;e<n;++e)a=c[e]._model,r=t.splineCurve(t.previousItem(c,e)._model,a,t.nextItem(c,e)._model,o.dataset._model.tension),a.controlPointPreviousX=r.previous.x,a.controlPointPreviousY=r.previous.y,a.controlPointNextX=r.next.x,a.controlPointNextY=r.next.y;if(i.chart.options.elements.line.capBezierPoints)for(e=0,n=c.length;e<n;++e)(a=c[e]._model).controlPointPreviousX=l(a.controlPointPreviousX,s.left,s.right),a.controlPointPreviousY=l(a.controlPointPreviousY,s.top,s.bottom),a.controlPointNextX=l(a.controlPointNextX,s.left,s.right),a.controlPointNextY=l(a.controlPointNextY,s.top,s.bottom)},draw:function(e){var t,a,r=this,i=r.getMeta(),o=i.data||[],s=e||1;for(t=0,a=o.length;t<a;++t)o[t].transition(s);for(n(r.getDataset(),r.chart.options)&&i.dataset.transition(s).draw(),t=0,a=o.length;t<a;++t)o[t].draw()},setHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],a=e._index,r=e.custom||{},i=e._model;i.radius=r.hoverRadius||t.getValueAtIndexOrDefault(n.pointHoverRadius,a,this.chart.options.elements.point.hoverRadius),i.backgroundColor=r.hoverBackgroundColor||t.getValueAtIndexOrDefault(n.pointHoverBackgroundColor,a,t.getHoverColor(i.backgroundColor)),i.borderColor=r.hoverBorderColor||t.getValueAtIndexOrDefault(n.pointHoverBorderColor,a,t.getHoverColor(i.borderColor)),i.borderWidth=r.hoverBorderWidth||t.getValueAtIndexOrDefault(n.pointHoverBorderWidth,a,i.borderWidth)},removeHoverStyle:function(e){var n=this,a=n.chart.data.datasets[e._datasetIndex],r=e._index,i=e.custom||{},o=e._model;void 0!==a.radius&&void 0===a.pointRadius&&(a.pointRadius=a.radius),o.radius=i.radius||t.getValueAtIndexOrDefault(a.pointRadius,r,n.chart.options.elements.point.radius),o.backgroundColor=n.getPointBackgroundColor(e,r),o.borderColor=n.getPointBorderColor(e,r),o.borderWidth=n.getPointBorderWidth(e,r)}})}},595:function(e,t,n){"use strict";e.exports=function(e){var t=e.helpers;e.defaults.polarArea={scale:{type:"radialLinear",lineArc:!0,ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,aspectRatio:1,legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var n=e.data,a=n.datasets,r=n.labels;if(a.length)for(var i=0;i<a[0].data.length;++i)t.push('<li><span style="background-color:'+a[0].backgroundColor[i]+'">'),r[i]&&t.push(r[i]),t.push("</span></li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var n=e.data;return n.labels.length&&n.datasets.length?n.labels.map((function(a,r){var i=e.getDatasetMeta(0),o=n.datasets[0],s=i.data[r].custom||{},c=t.getValueAtIndexOrDefault,l=e.options.elements.arc;return{text:a,fillStyle:s.backgroundColor?s.backgroundColor:c(o.backgroundColor,r,l.backgroundColor),strokeStyle:s.borderColor?s.borderColor:c(o.borderColor,r,l.borderColor),lineWidth:s.borderWidth?s.borderWidth:c(o.borderWidth,r,l.borderWidth),hidden:isNaN(o.data[r])||i.data[r].hidden,index:r}})):[]}},onClick:function(e,t){var n,a,r,i=t.index,o=this.chart;for(n=0,a=(o.data.datasets||[]).length;n<a;++n)(r=o.getDatasetMeta(n)).data[i].hidden=!r.data[i].hidden;o.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}},e.controllers.polarArea=e.DatasetController.extend({dataElementType:e.elements.Arc,linkScales:t.noop,update:function(e){var n=this,a=n.chart,r=a.chartArea,i=n.getMeta(),o=a.options,s=o.elements.arc,c=Math.min(r.right-r.left,r.bottom-r.top);a.outerRadius=Math.max((c-s.borderWidth/2)/2,0),a.innerRadius=Math.max(o.cutoutPercentage?a.outerRadius/100*o.cutoutPercentage:1,0),a.radiusLength=(a.outerRadius-a.innerRadius)/a.getVisibleDatasetCount(),n.outerRadius=a.outerRadius-a.radiusLength*n.index,n.innerRadius=n.outerRadius-a.radiusLength,i.count=n.countVisibleElements(),t.each(i.data,(function(t,a){n.updateElement(t,a,e)}))},updateElement:function(e,n,a){for(var r=this,i=r.chart,o=r.getDataset(),s=i.options,c=s.animation,l=i.scale,d=t.getValueAtIndexOrDefault,u=i.data.labels,h=r.calculateCircumference(o.data[n]),p=l.xCenter,b=l.yCenter,g=0,f=r.getMeta(),m=0;m<n;++m)isNaN(o.data[m])||f.data[m].hidden||++g;var j=s.startAngle,v=e.hidden?0:l.getDistanceFromCenterForValue(o.data[n]),O=j+h*g,x=O+(e.hidden?0:h),y=c.animateScale?0:l.getDistanceFromCenterForValue(o.data[n]);t.extend(e,{_datasetIndex:r.index,_index:n,_scale:l,_model:{x:p,y:b,innerRadius:0,outerRadius:a?y:v,startAngle:a&&c.animateRotate?j:O,endAngle:a&&c.animateRotate?j:x,label:d(u,n,u[n])}}),r.removeHoverStyle(e),e.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},countVisibleElements:function(){var e=this.getDataset(),n=this.getMeta(),a=0;return t.each(n.data,(function(t,n){isNaN(e.data[n])||t.hidden||a++})),a},calculateCircumference:function(e){var t=this.getMeta().count;return t>0&&!isNaN(e)?2*Math.PI/t:0}})}},596:function(e,t,n){"use strict";e.exports=function(e){var t=e.helpers;e.defaults.radar={scale:{type:"radialLinear"},elements:{line:{tension:0}}},e.controllers.radar=e.DatasetController.extend({datasetElementType:e.elements.Line,dataElementType:e.elements.Point,linkScales:t.noop,addElementAndReset:function(t){e.DatasetController.prototype.addElementAndReset.call(this,t),this.updateBezierControlPoints()},update:function(e){var n=this,a=n.getMeta(),r=a.dataset,i=a.data,o=r.custom||{},s=n.getDataset(),c=n.chart.options.elements.line,l=n.chart.scale;void 0!==s.tension&&void 0===s.lineTension&&(s.lineTension=s.tension),t.extend(a.dataset,{_datasetIndex:n.index,_children:i,_loop:!0,_model:{tension:o.tension?o.tension:t.getValueOrDefault(s.lineTension,c.tension),backgroundColor:o.backgroundColor?o.backgroundColor:s.backgroundColor||c.backgroundColor,borderWidth:o.borderWidth?o.borderWidth:s.borderWidth||c.borderWidth,borderColor:o.borderColor?o.borderColor:s.borderColor||c.borderColor,fill:o.fill?o.fill:void 0!==s.fill?s.fill:c.fill,borderCapStyle:o.borderCapStyle?o.borderCapStyle:s.borderCapStyle||c.borderCapStyle,borderDash:o.borderDash?o.borderDash:s.borderDash||c.borderDash,borderDashOffset:o.borderDashOffset?o.borderDashOffset:s.borderDashOffset||c.borderDashOffset,borderJoinStyle:o.borderJoinStyle?o.borderJoinStyle:s.borderJoinStyle||c.borderJoinStyle,scaleTop:l.top,scaleBottom:l.bottom,scaleZero:l.getBasePosition()}}),a.dataset.pivot(),t.each(i,(function(t,a){n.updateElement(t,a,e)}),n),n.updateBezierControlPoints()},updateElement:function(e,n,a){var r=this,i=e.custom||{},o=r.getDataset(),s=r.chart.scale,c=r.chart.options.elements.point,l=s.getPointPositionForValue(n,o.data[n]);t.extend(e,{_datasetIndex:r.index,_index:n,_scale:s,_model:{x:a?s.xCenter:l.x,y:a?s.yCenter:l.y,tension:i.tension?i.tension:t.getValueOrDefault(o.tension,r.chart.options.elements.line.tension),radius:i.radius?i.radius:t.getValueAtIndexOrDefault(o.pointRadius,n,c.radius),backgroundColor:i.backgroundColor?i.backgroundColor:t.getValueAtIndexOrDefault(o.pointBackgroundColor,n,c.backgroundColor),borderColor:i.borderColor?i.borderColor:t.getValueAtIndexOrDefault(o.pointBorderColor,n,c.borderColor),borderWidth:i.borderWidth?i.borderWidth:t.getValueAtIndexOrDefault(o.pointBorderWidth,n,c.borderWidth),pointStyle:i.pointStyle?i.pointStyle:t.getValueAtIndexOrDefault(o.pointStyle,n,c.pointStyle),hitRadius:i.hitRadius?i.hitRadius:t.getValueAtIndexOrDefault(o.hitRadius,n,c.hitRadius)}}),e._model.skip=i.skip?i.skip:isNaN(e._model.x)||isNaN(e._model.y)},updateBezierControlPoints:function(){var e=this.chart.chartArea,n=this.getMeta();t.each(n.data,(function(a,r){var i=a._model,o=t.splineCurve(t.previousItem(n.data,r,!0)._model,i,t.nextItem(n.data,r,!0)._model,i.tension);i.controlPointPreviousX=Math.max(Math.min(o.previous.x,e.right),e.left),i.controlPointPreviousY=Math.max(Math.min(o.previous.y,e.bottom),e.top),i.controlPointNextX=Math.max(Math.min(o.next.x,e.right),e.left),i.controlPointNextY=Math.max(Math.min(o.next.y,e.bottom),e.top),a.pivot()}))},draw:function(e){var n=this.getMeta(),a=e||1;t.each(n.data,(function(e){e.transition(a)})),n.dataset.transition(a).draw(),t.each(n.data,(function(e){e.draw()}))},setHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],a=e.custom||{},r=e._index,i=e._model;i.radius=a.hoverRadius?a.hoverRadius:t.getValueAtIndexOrDefault(n.pointHoverRadius,r,this.chart.options.elements.point.hoverRadius),i.backgroundColor=a.hoverBackgroundColor?a.hoverBackgroundColor:t.getValueAtIndexOrDefault(n.pointHoverBackgroundColor,r,t.getHoverColor(i.backgroundColor)),i.borderColor=a.hoverBorderColor?a.hoverBorderColor:t.getValueAtIndexOrDefault(n.pointHoverBorderColor,r,t.getHoverColor(i.borderColor)),i.borderWidth=a.hoverBorderWidth?a.hoverBorderWidth:t.getValueAtIndexOrDefault(n.pointHoverBorderWidth,r,i.borderWidth)},removeHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],a=e.custom||{},r=e._index,i=e._model,o=this.chart.options.elements.point;i.radius=a.radius?a.radius:t.getValueAtIndexOrDefault(n.radius,r,o.radius),i.backgroundColor=a.backgroundColor?a.backgroundColor:t.getValueAtIndexOrDefault(n.pointBackgroundColor,r,o.backgroundColor),i.borderColor=a.borderColor?a.borderColor:t.getValueAtIndexOrDefault(n.pointBorderColor,r,o.borderColor),i.borderWidth=a.borderWidth?a.borderWidth:t.getValueAtIndexOrDefault(n.pointBorderWidth,r,o.borderWidth)}})}},597:function(e,t,n){"use strict";e.exports=function(e){e.Bar=function(t,n){return n.type="bar",new e(t,n)}}},598:function(e,t,n){"use strict";e.exports=function(e){e.Bubble=function(t,n){return n.type="bubble",new e(t,n)}}},599:function(e,t,n){"use strict";e.exports=function(e){e.Doughnut=function(t,n){return n.type="doughnut",new e(t,n)}}},600:function(e,t,n){"use strict";e.exports=function(e){e.Line=function(t,n){return n.type="line",new e(t,n)}}},601:function(e,t,n){"use strict";e.exports=function(e){e.PolarArea=function(t,n){return n.type="polarArea",new e(t,n)}}},602:function(e,t,n){"use strict";e.exports=function(e){e.Radar=function(t,n){return n.options=e.helpers.configMerge({aspectRatio:1},n.options),n.type="radar",new e(t,n)}}},603:function(e,t,n){"use strict";e.exports=function(e){e.defaults.scatter={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-1"}],yAxes:[{type:"linear",position:"left",id:"y-axis-1"}]},tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}},e.controllers.scatter=e.controllers.line,e.Scatter=function(t,n){return n.type="scatter",new e(t,n)}}},604:function(e,t,n){var a=n(250);e.exports=function(e,t){return a(e,t)}},605:function(e,t,n){var a=n(355),r=n(360),i=n(639),o=n(643),s=n(661),c=n(112),l=n(362),d=n(364),u="[object Arguments]",h="[object Array]",p="[object Object]",b=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,f,m){var j=c(e),v=c(t),O=j?h:s(e),x=v?h:s(t),y=(O=O==u?p:O)==p,S=(x=x==u?p:x)==p,w=O==x;if(w&&l(e)){if(!l(t))return!1;j=!0,y=!1}if(w&&!y)return m||(m=new a),j||d(e)?r(e,t,n,g,f,m):i(e,t,O,n,g,f,m);if(!(1&n)){var D=y&&b.call(e,"__wrapped__"),k=S&&b.call(t,"__wrapped__");if(D||k){var C=D?e.value():e,M=k?t.value():t;return m||(m=new a),f(C,M,n,g,m)}}return!!w&&(m||(m=new a),o(e,t,n,g,f,m))}},606:function(e,t){e.exports=function(){this.__data__=[],this.size=0}},607:function(e,t,n){var a=n(197),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=a(t,e);return!(n<0)&&(n==t.length-1?t.pop():r.call(t,n,1),--this.size,!0)}},608:function(e,t,n){var a=n(197);e.exports=function(e){var t=this.__data__,n=a(t,e);return n<0?void 0:t[n][1]}},609:function(e,t,n){var a=n(197);e.exports=function(e){return a(this.__data__,e)>-1}},610:function(e,t,n){var a=n(197);e.exports=function(e,t){var n=this.__data__,r=a(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},611:function(e,t,n){var a=n(196);e.exports=function(){this.__data__=new a,this.size=0}},612:function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},613:function(e,t){e.exports=function(e){return this.__data__.get(e)}},614:function(e,t){e.exports=function(e){return this.__data__.has(e)}},615:function(e,t,n){var a=n(196),r=n(251),i=n(253);e.exports=function(e,t){var n=this.__data__;if(n instanceof a){var o=n.__data__;if(!r||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(o)}return n.set(e,t),this.size=n.size,this}},616:function(e,t,n){var a=n(357),r=n(619),i=n(252),o=n(359),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,d=c.toString,u=l.hasOwnProperty,h=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||r(e))&&(a(e)?h:s).test(o(e))}},617:function(e,t,n){var a=n(198),r=Object.prototype,i=r.hasOwnProperty,o=r.toString,s=a?a.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var a=!0}catch(c){}var r=o.call(e);return a&&(t?e[s]=n:delete e[s]),r}},618:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},619:function(e,t,n){var a=n(620),r=function(){var e=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!r&&r in e}},620:function(e,t,n){var a=n(111)["__core-js_shared__"];e.exports=a},621:function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},622:function(e,t,n){var a=n(623),r=n(196),i=n(251);e.exports=function(){this.size=0,this.__data__={hash:new a,map:new(i||r),string:new a}}},623:function(e,t,n){var a=n(624),r=n(625),i=n(626),o=n(627),s=n(628);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}c.prototype.clear=a,c.prototype.delete=r,c.prototype.get=i,c.prototype.has=o,c.prototype.set=s,e.exports=c},624:function(e,t,n){var a=n(199);e.exports=function(){this.__data__=a?a(null):{},this.size=0}},625:function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},626:function(e,t,n){var a=n(199),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(a){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(t,e)?t[e]:void 0}},627:function(e,t,n){var a=n(199),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return a?void 0!==t[e]:r.call(t,e)}},628:function(e,t,n){var a=n(199);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=a&&void 0===t?"__lodash_hash_undefined__":t,this}},629:function(e,t,n){var a=n(200);e.exports=function(e){var t=a(this,e).delete(e);return this.size-=t?1:0,t}},630:function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},631:function(e,t,n){var a=n(200);e.exports=function(e){return a(this,e).get(e)}},632:function(e,t,n){var a=n(200);e.exports=function(e){return a(this,e).has(e)}},633:function(e,t,n){var a=n(200);e.exports=function(e,t){var n=a(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},634:function(e,t,n){var a=n(253),r=n(635),i=n(636);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new a;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=r,o.prototype.has=i,e.exports=o},635:function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},636:function(e,t){e.exports=function(e){return this.__data__.has(e)}},637:function(e,t){e.exports=function(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1}},638:function(e,t){e.exports=function(e,t){return e.has(t)}},639:function(e,t,n){var a=n(198),r=n(640),i=n(356),o=n(360),s=n(641),c=n(642),l=a?a.prototype:void 0,d=l?l.valueOf:void 0;e.exports=function(e,t,n,a,l,u,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var b=1&a;if(p||(p=c),e.size!=t.size&&!b)return!1;var g=h.get(e);if(g)return g==t;a|=2,h.set(e,t);var f=o(p(e),p(t),a,l,u,h);return h.delete(e),f;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},640:function(e,t,n){var a=n(111).Uint8Array;e.exports=a},641:function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,a){n[++t]=[a,e]})),n}},642:function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},643:function(e,t,n){var a=n(644),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,o,s){var c=1&n,l=a(e),d=l.length;if(d!=a(t).length&&!c)return!1;for(var u=d;u--;){var h=l[u];if(!(c?h in t:r.call(t,h)))return!1}var p=s.get(e),b=s.get(t);if(p&&b)return p==t&&b==e;var g=!0;s.set(e,t),s.set(t,e);for(var f=c;++u<d;){var m=e[h=l[u]],j=t[h];if(i)var v=c?i(j,m,h,t,e,s):i(m,j,h,e,t,s);if(!(void 0===v?m===j||o(m,j,n,i,s):v)){g=!1;break}f||(f="constructor"==h)}if(g&&!f){var O=e.constructor,x=t.constructor;O==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof O&&O instanceof O&&"function"==typeof x&&x instanceof x||(g=!1)}return s.delete(e),s.delete(t),g}},644:function(e,t,n){var a=n(645),r=n(647),i=n(254);e.exports=function(e){return a(e,i,r)}},645:function(e,t,n){var a=n(646),r=n(112);e.exports=function(e,t,n){var i=t(e);return r(e)?i:a(i,n(e))}},646:function(e,t){e.exports=function(e,t){for(var n=-1,a=t.length,r=e.length;++n<a;)e[r+n]=t[n];return e}},647:function(e,t,n){var a=n(648),r=n(649),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),a(o(e),(function(t){return i.call(e,t)})))}:r;e.exports=s},648:function(e,t){e.exports=function(e,t){for(var n=-1,a=null==e?0:e.length,r=0,i=[];++n<a;){var o=e[n];t(o,n,e)&&(i[r++]=o)}return i}},649:function(e,t){e.exports=function(){return[]}},650:function(e,t,n){var a=n(651),r=n(361),i=n(112),o=n(362),s=n(363),c=n(364),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),d=!n&&r(e),u=!n&&!d&&o(e),h=!n&&!d&&!u&&c(e),p=n||d||u||h,b=p?a(e.length,String):[],g=b.length;for(var f in e)!t&&!l.call(e,f)||p&&("length"==f||u&&("offset"==f||"parent"==f)||h&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||s(f,g))||b.push(f);return b}},651:function(e,t){e.exports=function(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a}},652:function(e,t,n){var a=n(172),r=n(173);e.exports=function(e){return r(e)&&"[object Arguments]"==a(e)}},653:function(e,t){e.exports=function(){return!1}},654:function(e,t,n){var a=n(172),r=n(255),i=n(173),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&r(e.length)&&!!o[a(e)]}},655:function(e,t){e.exports=function(e){return function(t){return e(t)}}},656:function(e,t,n){(function(e){var a=n(358),r=t&&!t.nodeType&&t,i=r&&"object"==typeof e&&e&&!e.nodeType&&e,o=i&&i.exports===r&&a.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s}).call(this,n(244)(e))},657:function(e,t,n){var a=n(658),r=n(659),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!a(e))return r(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},658:function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},659:function(e,t,n){var a=n(660)(Object.keys,Object);e.exports=a},660:function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},661:function(e,t,n){var a=n(662),r=n(251),i=n(663),o=n(664),s=n(665),c=n(172),l=n(359),d="[object Map]",u="[object Promise]",h="[object Set]",p="[object WeakMap]",b="[object DataView]",g=l(a),f=l(r),m=l(i),j=l(o),v=l(s),O=c;(a&&O(new a(new ArrayBuffer(1)))!=b||r&&O(new r)!=d||i&&O(i.resolve())!=u||o&&O(new o)!=h||s&&O(new s)!=p)&&(O=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,a=n?l(n):"";if(a)switch(a){case g:return b;case f:return d;case m:return u;case j:return h;case v:return p}return t}),e.exports=O},662:function(e,t,n){var a=n(136)(n(111),"DataView");e.exports=a},663:function(e,t,n){var a=n(136)(n(111),"Promise");e.exports=a},664:function(e,t,n){var a=n(136)(n(111),"Set");e.exports=a},665:function(e,t,n){var a=n(136)(n(111),"WeakMap");e.exports=a},666:function(e,t,n){var a=n(667),r=n(669)((function(e,t,n){a(e,n,t)}));e.exports=r},667:function(e,t,n){var a=n(668);e.exports=function(e,t,n){"__proto__"==t&&a?a(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},668:function(e,t,n){var a=n(136),r=function(){try{var e=a(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=r},669:function(e,t,n){var a=n(670),r=n(671),i=n(677),o=n(112);e.exports=function(e,t){return function(n,s){var c=o(n)?a:r,l=t?t():{};return c(n,e,i(s,2),l)}}},670:function(e,t){e.exports=function(e,t,n,a){for(var r=-1,i=null==e?0:e.length;++r<i;){var o=e[r];t(a,o,n(o),e)}return a}},671:function(e,t,n){var a=n(672);e.exports=function(e,t,n,r){return a(e,(function(e,a,i){t(r,e,n(e),i)})),r}},672:function(e,t,n){var a=n(673),r=n(676)(a);e.exports=r},673:function(e,t,n){var a=n(674),r=n(254);e.exports=function(e,t){return e&&a(e,t,r)}},674:function(e,t,n){var a=n(675)();e.exports=a},675:function(e,t){e.exports=function(e){return function(t,n,a){for(var r=-1,i=Object(t),o=a(t),s=o.length;s--;){var c=o[e?s:++r];if(!1===n(i[c],c,i))break}return t}}},676:function(e,t,n){var a=n(365);e.exports=function(e,t){return function(n,r){if(null==n)return n;if(!a(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}},677:function(e,t,n){var a=n(678),r=n(681),i=n(692),o=n(112),s=n(693);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?o(e)?r(e[0],e[1]):a(e):s(e)}},678:function(e,t,n){var a=n(679),r=n(680),i=n(367);e.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||a(n,e,t)}}},679:function(e,t,n){var a=n(355),r=n(250);e.exports=function(e,t,n,i){var o=n.length,s=o,c=!i;if(null==e)return!s;for(e=Object(e);o--;){var l=n[o];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<s;){var d=(l=n[o])[0],u=e[d],h=l[1];if(c&&l[2]){if(void 0===u&&!(d in e))return!1}else{var p=new a;if(i)var b=i(u,h,d,e,t,p);if(!(void 0===b?r(h,u,3,i,p):b))return!1}}return!0}},680:function(e,t,n){var a=n(366),r=n(254);e.exports=function(e){for(var t=r(e),n=t.length;n--;){var i=t[n],o=e[i];t[n]=[i,o,a(o)]}return t}},681:function(e,t,n){var a=n(250),r=n(682),i=n(689),o=n(256),s=n(366),c=n(367),l=n(201);e.exports=function(e,t){return o(e)&&s(t)?c(l(e),t):function(n){var o=r(n,e);return void 0===o&&o===t?i(n,e):a(t,o,3)}}},682:function(e,t,n){var a=n(368);e.exports=function(e,t,n){var r=null==e?void 0:a(e,t);return void 0===r?n:r}},683:function(e,t,n){var a=n(684),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=a((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,(function(e,n,a,r){t.push(a?r.replace(i,"$1"):n||e)})),t}));e.exports=o},684:function(e,t,n){var a=n(685);e.exports=function(e){var t=a(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},685:function(e,t,n){var a=n(253);function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var a=arguments,r=t?t.apply(this,a):a[0],i=n.cache;if(i.has(r))return i.get(r);var o=e.apply(this,a);return n.cache=i.set(r,o)||i,o};return n.cache=new(r.Cache||a),n}r.Cache=a,e.exports=r},686:function(e,t,n){var a=n(687);e.exports=function(e){return null==e?"":a(e)}},687:function(e,t,n){var a=n(198),r=n(688),i=n(112),o=n(257),s=a?a.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return r(t,e)+"";if(o(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},688:function(e,t){e.exports=function(e,t){for(var n=-1,a=null==e?0:e.length,r=Array(a);++n<a;)r[n]=t(e[n],n,e);return r}},689:function(e,t,n){var a=n(690),r=n(691);e.exports=function(e,t){return null!=e&&r(e,t,a)}},690:function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},691:function(e,t,n){var a=n(369),r=n(361),i=n(112),o=n(363),s=n(255),c=n(201);e.exports=function(e,t,n){for(var l=-1,d=(t=a(t,e)).length,u=!1;++l<d;){var h=c(t[l]);if(!(u=null!=e&&n(e,h)))break;e=e[h]}return u||++l!=d?u:!!(d=null==e?0:e.length)&&s(d)&&o(h,d)&&(i(e)||r(e))}},692:function(e,t){e.exports=function(e){return e}},693:function(e,t,n){var a=n(694),r=n(695),i=n(256),o=n(201);e.exports=function(e){return i(e)?a(o(e)):r(e)}},694:function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},695:function(e,t,n){var a=n(368);e.exports=function(e){return function(t){return a(t,e)}}},696:function(e,t,n){},697:function(e,t,n){},698:function(e,t,n){},73:function(e,t,n){"use strict";var a=n(3),r=n(5),i=n(7),o=n(6),s=n(2),c=n.n(s),l=n(314),d=n(317),u=n(316),h=n(191),p=n(1),b=n(4),g=n(0),f=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).onMenuItemClick=function(e){var t=b.a.getEventData(e,"op");r.props.onMenuItemClick(t)},r.onDropdownToggleClick=function(e){r.toggleOperationMenu(e)},r.toggleOperationMenu=function(e){r.setState({isItemMenuShow:!r.state.isItemMenuShow},(function(){r.state.isItemMenuShow?r.props.onFreezedItem():r.props.onUnfreezedItem()}))},r.state={isItemMenuShow:!1},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.operations,a=t.translateOperations;return Object(g.jsxs)(l.a,{isOpen:this.state.isItemMenuShow,toggle:this.toggleOperationMenu,children:[Object(g.jsx)(d.a,{tag:"i",className:"d-flex w-5 h-5 align-items-center justify-content-center sf-dropdown-toggle fa fa-ellipsis-v",title:Object(p.pb)("More Operations"),"data-toggle":"dropdown","aria-expanded":this.state.isItemMenuShow}),Object(g.jsx)(u.a,{className:"my-1 mr-2",children:n.map((function(t,n){return Object(g.jsx)(h.a,{"data-op":t,onClick:e.onMenuItemClick,children:a(t)},n)}))})]})}}]),n}(c.a.Component);t.a=f}},[[1784,1,0]]]);
//# sourceMappingURL=orgAdmin.chunk.js.map