{"version":3,"sources":["shared-file-view-image.js"],"names":["_window$shared$pageOp","window","shared","pageOptions","fileName","rawPath","err","prevImgPath","nextImgPath","prevImgURL","concat","encodeURIComponent","nextImgURL","SharedFileViewImage","_React$Component","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","value","_jsx","SharedFileView","content","FileContent","React","Component","_React$Component2","_super2","document","addEventListener","e","keyCode","location","href","SharedFileViewTip","className","children","_jsxs","id","title","gettext","src","alt","ReactDom","render","getElementById"],"mappings":"0RAQAA,EAA6DC,OAAOC,OAAOC,YAAnEC,EAAQJ,EAARI,SAAUC,EAAOL,EAAPK,QAASC,EAAGN,EAAHM,IAAKC,EAAWP,EAAXO,YAAaC,EAAWR,EAAXQ,YAEvCC,EAAU,MAAAC,OAASC,mBAAmBJ,IACtCK,EAAU,MAAAF,OAASC,mBAAmBH,IAEtCK,EAAmB,SAAAC,GAAAC,YAAAF,EAAAC,GAAA,IAAAE,EAAAC,YAAAJ,GAAA,SAAAA,IAAA,OAAAK,YAAA,KAAAL,GAAAG,EAAAG,MAAA,KAAAC,UAAA,CAGtB,OAHsBC,YAAAR,EAAA,EAAAS,IAAA,SAAAC,MACvB,WACE,OAAOC,cAACC,IAAc,CAACC,QAASF,cAACG,EAAW,KAC9C,KAACd,CAAA,CAHsB,CAASe,IAAMC,WAMlCF,EAAW,SAAAG,GAAAf,YAAAY,EAAAG,GAAA,IAAAC,EAAAd,YAAAU,GAAA,SAAAA,IAAA,OAAAT,YAAA,KAAAS,GAAAI,EAAAZ,MAAA,KAAAC,UAAA,CA+Bd,OA/BcC,YAAAM,EAAA,EAAAL,IAAA,oBAAAC,MAEf,WACES,SAASC,iBAAiB,WAAW,SAACC,GAChC3B,GAA4B,IAAb2B,EAAEC,UACnBC,SAASC,KAAO5B,GAEdD,GAA4B,IAAb0B,EAAEC,UACnBC,SAASC,KAAOzB,EAEpB,GACF,GAAC,CAAAU,IAAA,SAAAC,MAED,WACE,OAAIjB,EACKkB,cAACc,IAAiB,IAIzBd,cAAA,OAAKe,UAAU,2CAA0CC,SACvDC,eAAA,OAAKF,UAAU,yBAAwBC,SAAA,CACpCjC,GACCiB,cAAA,KAAGa,KAAM5B,EAAYiC,GAAG,WAAWC,MAAOC,aAAQ,8BAAyBJ,SAAChB,cAAA,QAAMe,UAAU,0BAE7F/B,GACCgB,cAAA,KAAGa,KAAMzB,EAAY8B,GAAG,WAAWC,MAAOC,aAAQ,6BAAwBJ,SAAChB,cAAA,QAAMe,UAAU,2BAE7Ff,cAAA,OAAKqB,IAAKxC,EAASyC,IAAK1C,EAAUsC,GAAG,mBAI7C,KAACf,CAAA,CA/Bc,CAASC,IAAMC,WAkChCkB,IAASC,OAAOxB,cAACX,EAAmB,IAAKmB,SAASiB,eAAe,W","file":"static/js/sharedFileViewImage.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDom from 'react-dom';\nimport SharedFileView from './components/shared-file-view/shared-file-view';\nimport SharedFileViewTip from './components/shared-file-view/shared-file-view-tip';\nimport { gettext } from './utils/constants';\n\nimport './css/image-file-view.css';\n\nconst { fileName, rawPath, err, prevImgPath, nextImgPath } = window.shared.pageOptions;\n\nconst prevImgURL = `?p=${encodeURIComponent(prevImgPath)}`;\nconst nextImgURL = `?p=${encodeURIComponent(nextImgPath)}`;\n\nclass SharedFileViewImage extends React.Component {\n  render() {\n    return <SharedFileView content={<FileContent />} />;\n  }\n}\n\nclass FileContent extends React.Component {\n\n  componentDidMount() {\n    document.addEventListener('keydown', (e) => {\n      if (prevImgPath && e.keyCode == 37) { // press '<-'\n        location.href = prevImgURL;\n      }\n      if (nextImgPath && e.keyCode == 39) { // press '->'\n        location.href = nextImgURL;\n      }\n    });\n  }\n\n  render() {\n    if (err) {\n      return <SharedFileViewTip />;\n    }\n\n    return (\n      <div className=\"shared-file-view-body d-flex text-center\">\n        <div className=\"image-file-view flex-1\">\n          {prevImgPath && (\n            <a href={prevImgURL} id=\"img-prev\" title={gettext('you can also press ← ')}><span className=\"fas fa-chevron-left\"></span></a>\n          )}\n          {nextImgPath && (\n            <a href={nextImgURL} id=\"img-next\" title={gettext('you can also press →')}><span className=\"fas fa-chevron-right\"></span></a>\n          )}\n          <img src={rawPath} alt={fileName} id=\"image-view\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nReactDom.render(<SharedFileViewImage />, document.getElementById('wrapper'));\n"],"sourceRoot":""}