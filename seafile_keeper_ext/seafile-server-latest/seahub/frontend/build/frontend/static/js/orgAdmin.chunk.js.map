{"version":3,"sources":["../node_modules/lodash/_root.js","../node_modules/lodash/isArray.js","../node_modules/lodash/_getNative.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/isObjectLike.js","pages/org-admin/side-panel.js","pages/org-admin/main-panel-topbar.js","pages/org-admin/statistic/statistic-nav.js","pages/org-admin/statistic/picker.js","pages/org-admin/statistic/statistic-common-tool.js","pages/org-admin/statistic/statistic-chart.js","pages/org-admin/statistic/statistic-file.js","pages/org-admin/statistic/statistic-storage.js","pages/org-admin/statistic/traffic-table.js","pages/org-admin/statistic/traffic-table-body.js","pages/org-admin/statistic/statistic-traffic-users.js","pages/org-admin/statistic/statistic-traffic.js","pages/org-admin/statistic/statistic-users.js","pages/org-admin/statistic/statistic-reports.js","pages/org-admin/devices/devices-nav.js","pages/org-admin/devices/devices-by-platform.js","pages/org-admin/devices/desktop-devices.js","pages/org-admin/devices/mobile-devices.js","pages/org-admin/user-link.js","pages/org-admin/devices/devices-errors.js","pages/org-admin/web-settings/section.js","pages/org-admin/web-settings/setting-item-base.js","pages/org-admin/web-settings/input-item.js","pages/org-admin/web-settings/file-item.js","pages/org-admin/web-settings/web-settings.js","pages/org-admin/web-settings/checkbox-item.js","pages/org-admin/org-users-nav.js","components/select-editor/user-status-editor.js","pages/org-admin/org-user-item.js","pages/org-admin/org-users-list.js","components/dialog/org-import-users-dialog.js","components/dialog/org-add-user-dialog.js","components/dialog/org-admin-invite-user-dialog.js","models/org-user.js","pages/org-admin/org-users-users.js","pages/org-admin/org-users-search-users.js","pages/org-admin/org-admin-list.js","components/dialog/org-add-admin-dialog.js","pages/org-admin/org-users-admins.js","components/org-admin-user-nav.js","components/dialog/set-org-user-name.js","components/dialog/set-org-user-contact-email.js","components/dialog/set-org-user-quota.js","pages/org-admin/org-user-profile.js","pages/org-admin/org-user-repos.js","pages/org-admin/org-user-shared-repos.js","models/org-group.js","pages/org-admin/org-groups.js","pages/org-admin/org-groups-search-groups.js","components/org-admin-group-nav.js","pages/org-admin/org-group-info.js","pages/org-admin/org-group-repos.js","pages/org-admin/org-group-members.js","models/org-admin-repo.js","pages/org-admin/org-libraries.js","pages/org-admin/org-info.js","components/dialog/view-link-dialog.js","pages/org-admin/org-links.js","pages/org-admin/org-departments.js","components/dialog/org-add-department-dialog.js","components/dialog/org-delete-department-dialog.js","components/dialog/org-set-group-quota-dialog.js","components/dialog/org-rename-department-dialog.js","pages/org-admin/org-departments-list.js","components/dialog/org-add-member-dialog.js","components/dialog/org-delete-member-dialog.js","components/dialog/org-add-repo-dialog.js","components/dialog/org-delete-repo-dialog.js","pages/org-admin/org-department-item.js","pages/org-admin/org-logs.js","models/org-logs-file-audit.js","pages/org-admin/org-logs-file-audit.js","models/org-logs-file-update.js","components/dialog/org-logs-file-update-detail.js","pages/org-admin/org-logs-file-update.js","models/org-logs-perm-audit.js","pages/org-admin/org-logs-perm-audit.js","pages/org-admin/section.js","pages/org-admin/input-item.js","pages/org-admin/file-item.js","pages/org-admin/org-saml-config.js","pages/org-admin/index.js","../node_modules/lodash/_ListCache.js","../node_modules/lodash/_assocIndexOf.js","../node_modules/lodash/_Symbol.js","../node_modules/lodash/_nativeCreate.js","../node_modules/lodash/_getMapData.js","../node_modules/lodash/_toKey.js","../node_modules/lodash/_baseIsEqual.js","../node_modules/lodash/_Map.js","../node_modules/lodash/isObject.js","../node_modules/lodash/_MapCache.js","../node_modules/lodash/keys.js","../node_modules/lodash/isLength.js","../node_modules/lodash/_isKey.js","../node_modules/lodash/isSymbol.js","../node_modules/color-convert/conversions.js","../node_modules/color-name/index.js","../node_modules/lodash/_Stack.js","../node_modules/lodash/eq.js","../node_modules/lodash/isFunction.js","../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/_toSource.js","../node_modules/lodash/_equalArrays.js","../node_modules/lodash/isArguments.js","../node_modules/lodash/isBuffer.js","../node_modules/lodash/_isIndex.js","../node_modules/lodash/isTypedArray.js","../node_modules/lodash/isArrayLike.js","../node_modules/lodash/_isStrictComparable.js","../node_modules/lodash/_matchesStrictComparable.js","../node_modules/lodash/_baseGet.js","../node_modules/lodash/_castPath.js","../node_modules/react-chartjs-2/es/index.js","components/dialog/sysadmin-dialog/sysadmin-unlink-device-dialog.js","../node_modules/chart.js/src/chart.js","../node_modules/chart.js/src/core/core.js","../node_modules/chart.js/src/core/core.helpers.js","../node_modules/chartjs-color/index.js","../node_modules/color-convert/index.js","../node_modules/color-convert/route.js","../node_modules/chartjs-color-string/color-string.js","../node_modules/chart.js/src/core/core.canvasHelpers.js","../node_modules/chart.js/src/core/core.element.js","../node_modules/chart.js/src/core/core.animation.js","../node_modules/chart.js/src/core/core.controller.js","../node_modules/chart.js/src/core/core.datasetController.js","../node_modules/chart.js/src/core/core.layoutService.js","../node_modules/chart.js/src/core/core.scaleService.js","../node_modules/chart.js/src/core/core.plugin.js","../node_modules/chart.js/src/core/core.scale.js","../node_modules/chart.js/src/core/core.title.js","../node_modules/chart.js/src/core/core.legend.js","../node_modules/chart.js/src/core/core.tooltip.js","../node_modules/chart.js/src/elements/element.arc.js","../node_modules/chart.js/src/elements/element.line.js","../node_modules/chart.js/src/elements/element.point.js","../node_modules/chart.js/src/elements/element.rectangle.js","../node_modules/chart.js/src/scales/scale.linearbase.js","../node_modules/chart.js/src/scales/scale.category.js","../node_modules/chart.js/src/scales/scale.linear.js","../node_modules/chart.js/src/scales/scale.logarithmic.js","../node_modules/chart.js/src/scales/scale.radialLinear.js","../node_modules/chart.js/src/scales/scale.time.js","../node_modules/chart.js/src/controllers/controller.bar.js","../node_modules/chart.js/src/controllers/controller.bubble.js","../node_modules/chart.js/src/controllers/controller.doughnut.js","../node_modules/chart.js/src/controllers/controller.line.js","../node_modules/chart.js/src/controllers/controller.polarArea.js","../node_modules/chart.js/src/controllers/controller.radar.js","../node_modules/chart.js/src/charts/Chart.Bar.js","../node_modules/chart.js/src/charts/Chart.Bubble.js","../node_modules/chart.js/src/charts/Chart.Doughnut.js","../node_modules/chart.js/src/charts/Chart.Line.js","../node_modules/chart.js/src/charts/Chart.PolarArea.js","../node_modules/chart.js/src/charts/Chart.Radar.js","../node_modules/chart.js/src/charts/Chart.Scatter.js","../node_modules/lodash/isEqual.js","../node_modules/lodash/_baseIsEqualDeep.js","../node_modules/lodash/_listCacheClear.js","../node_modules/lodash/_listCacheDelete.js","../node_modules/lodash/_listCacheGet.js","../node_modules/lodash/_listCacheHas.js","../node_modules/lodash/_listCacheSet.js","../node_modules/lodash/_stackClear.js","../node_modules/lodash/_stackDelete.js","../node_modules/lodash/_stackGet.js","../node_modules/lodash/_stackHas.js","../node_modules/lodash/_stackSet.js","../node_modules/lodash/_baseIsNative.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_objectToString.js","../node_modules/lodash/_isMasked.js","../node_modules/lodash/_coreJsData.js","../node_modules/lodash/_getValue.js","../node_modules/lodash/_mapCacheClear.js","../node_modules/lodash/_Hash.js","../node_modules/lodash/_hashClear.js","../node_modules/lodash/_hashDelete.js","../node_modules/lodash/_hashGet.js","../node_modules/lodash/_hashHas.js","../node_modules/lodash/_hashSet.js","../node_modules/lodash/_mapCacheDelete.js","../node_modules/lodash/_isKeyable.js","../node_modules/lodash/_mapCacheGet.js","../node_modules/lodash/_mapCacheHas.js","../node_modules/lodash/_mapCacheSet.js","../node_modules/lodash/_SetCache.js","../node_modules/lodash/_setCacheAdd.js","../node_modules/lodash/_setCacheHas.js","../node_modules/lodash/_arraySome.js","../node_modules/lodash/_cacheHas.js","../node_modules/lodash/_equalByTag.js","../node_modules/lodash/_Uint8Array.js","../node_modules/lodash/_mapToArray.js","../node_modules/lodash/_setToArray.js","../node_modules/lodash/_equalObjects.js","../node_modules/lodash/_getAllKeys.js","../node_modules/lodash/_baseGetAllKeys.js","../node_modules/lodash/_arrayPush.js","../node_modules/lodash/_getSymbols.js","../node_modules/lodash/_arrayFilter.js","../node_modules/lodash/stubArray.js","../node_modules/lodash/_arrayLikeKeys.js","../node_modules/lodash/_baseTimes.js","../node_modules/lodash/_baseIsArguments.js","../node_modules/lodash/stubFalse.js","../node_modules/lodash/_baseIsTypedArray.js","../node_modules/lodash/_baseUnary.js","../node_modules/lodash/_nodeUtil.js","../node_modules/lodash/_baseKeys.js","../node_modules/lodash/_isPrototype.js","../node_modules/lodash/_nativeKeys.js","../node_modules/lodash/_overArg.js","../node_modules/lodash/_getTag.js","../node_modules/lodash/_DataView.js","../node_modules/lodash/_Promise.js","../node_modules/lodash/_Set.js","../node_modules/lodash/_WeakMap.js","../node_modules/lodash/keyBy.js","../node_modules/lodash/_baseAssignValue.js","../node_modules/lodash/_defineProperty.js","../node_modules/lodash/_createAggregator.js","../node_modules/lodash/_arrayAggregator.js","../node_modules/lodash/_baseAggregator.js","../node_modules/lodash/_baseEach.js","../node_modules/lodash/_baseForOwn.js","../node_modules/lodash/_baseFor.js","../node_modules/lodash/_createBaseFor.js","../node_modules/lodash/_createBaseEach.js","../node_modules/lodash/_baseIteratee.js","../node_modules/lodash/_baseMatches.js","../node_modules/lodash/_baseIsMatch.js","../node_modules/lodash/_getMatchData.js","../node_modules/lodash/_baseMatchesProperty.js","../node_modules/lodash/get.js","../node_modules/lodash/_stringToPath.js","../node_modules/lodash/_memoizeCapped.js","../node_modules/lodash/memoize.js","../node_modules/lodash/toString.js","../node_modules/lodash/_baseToString.js","../node_modules/lodash/_arrayMap.js","../node_modules/lodash/hasIn.js","../node_modules/lodash/_baseHasIn.js","../node_modules/lodash/_hasPath.js","../node_modules/lodash/identity.js","../node_modules/lodash/property.js","../node_modules/lodash/_baseProperty.js","../node_modules/lodash/_basePropertyDeep.js","components/dialog/op-menu.js"],"names":["freeGlobal","require","freeSelf","self","Object","root","Function","module","exports","isArray","Array","baseIsNative","getValue","object","key","value","undefined","Symbol","getRawTag","objectToString","symToStringTag","toStringTag","SidePanel","getActiveClass","tab","props","currentTab","tabItemClick","className","this","isSidePanelClosed","onCloseSidePanel","style","gettext","to","siteRoot","onClick","enableMultiADFS","React","Component","MainPanelTopbar","children","title","search","isAdminPanel","Nav","navItems","name","urlPart","text","currentItem","map","item","index","propsTypes","disabledDate","PropTypes","func","isRequired","onChange","FORMAT","Picker","defaultCalendarValue","lang","window","app","config","moment","locale","clone","calendar","defaultValue","format","translateCalendar","placeholder","tabIndex","readOnly","StatisticCommonTool","changeActive","statisticTypeName","state","statisticType","startTime","endTime","subtract","setState","getActiviesFiles","disabledStartDate","startValue","today","endValue","isBefore","disabledEndDate","field","onSubmit","bind","Button","StatisticChart","titleCallback","tooltipItem","data","datasets","datasetIndex","label","Utils","bytesToSize","yLabel","ticksCallback","values","opations","labels","filesData","isTitleCallback","isTicksCallback","suggestedMaxNumbers","isLegendStatus","chartTitle","_this","options","display","fontSize","elements","line","fill","tension","borderWidth","legend","usePointStyle","tooltips","callbacks","layout","padding","right","scales","yAxes","ticks","beginAtZero","suggestedMax","callback","xAxes","maxTicksLimit","nextProps","OrgStatisticFile","groupBy","seafileAPI","orgAdminStatisticFiles","orgID","then","res","added","deleted","visited","modified","forEach","push","datetime","addedData","borderColor","backgroundColor","visitedData","modifiedData","deletedData","isLoading","catch","err","errMessage","getErrorMsg","toaster","danger","length","OrgStatisticStorage","orgAdminStatisticStorages","totalStorage","total_storage","TrafficTable","type","sortBy","sortIcon","sortOrder","width","sortItems","TrafficTableBody","trafficName","userTrafficItem","href","email","org_name","syncUploadSize","sync_file_upload","syncDownloadSize","sync_file_download","webUploadSize","web_file_upload","webDownloadSize","web_file_download","linkUploadSize","link_file_upload","linkDownloadSize","link_file_download","UsersTraffic","getPreviousPage","getTrafficList","month","currentPage","getNextPage","handleChange","e","target","handleKeyPress","test","errorMessage","initPage","blur","preventDefault","page","perPage","orderBy","orgAdminListUserTraffic","userTrafficList","user_monthly_traffic_list","slice","hasNextPage","has_next_page","resetPerPage","newPerPage","initMonth","urlParams","URL","location","searchParams","parseInt","get","Input","onKeyPress","gotoPreviousPage","gotoNextPage","curPerPage","OrgStatisticTraffic","changeTabActive","activeName","tabActive","orgAdminStatisticSystemTraffic","total_upload","total_download","link_upload","link_download","sync_upload","sync_download","web_upload","web_download","linkData","syncData","webData","renderCommonTool","OrgStatisticUsers","orgAdminStatisticActiveUsers","count","userCount","OrgStatisticReports","onGenerateReports","url","Content","getPreviousPageDevicesList","getDevicesListByPage","pageInfo","current_page","getNextPageDevicesList","loading","errorMsg","items","emptyTip","table","Item","handleMouseOver","isOpIconShown","handleMouseOut","handleUnlink","is_desktop_client","toggleUnlinkDeviceDialog","unlinkDevice","isUnlinkDeviceDialogOpen","deleteFiles","platform","device_id","user","orgAdminUnlinkDevice","unlinked","message","success","error","onMouseEnter","onMouseLeave","user_name","client_version","device_name","last_login_ip","last_accessed","fromNow","toggleDialog","DevicesByPlatform","devicesPlatform","per_page","orgAdminListDevices","devicesData","devices","page_info","OrgDesktopDevices","MobileDevices","UserLink","encodeURIComponent","getPreviousPageDeviceErrorsList","getDeviceErrorsListByPage","getNextPageDeviceErrorsList","device_ip","repo_id","repo_name","error_msg","error_time","OrgDevicesErrors","orgAdminListDevicesErrors","devicesErrors","device_errors","isCleanBtnShown","clean","sysAdminClearDeviceErrors","Section","headingText","SettingItemBase","helpTip","displayName","mainContent","extraContent","Row","Col","md","Label","WebSettingInput","toggleBtns","isBtnsShown","hideBtns","onInputChange","trim","saveSetting","keyText","inputType","disabled","onFocus","onBlur","onMouseDown","WebSettingFile","uploadFile","fileInput","current","files","file","postFile","openFileInput","click","createRef","filePath","fileWidth","fileHeight","src","Date","getTime","alt","height","color","ref","OrgWebSettings","updateName","newOrgName","orgAdminUpdateName","config_dict","updateLogo","orgAdminUpdateLogo","logoPath","logo_path","updateFileExtWhiteList","orgAdminSetSysSettingInfo","file_ext_white_list","orgAdminGetOrgInfo","indexOf","mediaUrl","orgEnableAdminCustomName","orgEnableAdminCustomLogo","UserStatusEditor","translateStatus","userStatus","isTextMode","isEditIconShow","statusArray","currentOption","currentStatus","onOptionChanged","onStatusChanged","translateOption","UserItem","isItemFreezed","showMenu","highlight","toggleDelete","toggleResetPW","orgAdminResetOrgUserPassword","msg","replace","new_password","duration","toggleRevokeAdmin","changeStatus","isActive","notify","onDropdownToggleClick","toggleOperationMenu","stopPropagation","isItemMenuShow","onFreezedItem","onUnfreezedItem","getQuotaTotal","formatSize","bytes","is_active","isOperationMenuShow","username","quota_usage","quota_total","ctime","last_login","Dropdown","isOpen","toggle","DropdownToggle","tag","DropdownMenu","DropdownItem","OrgUsersList","onChangePageNum","num","initOrgUsersData","sortByQuotaUsage","orgUsers","pageNext","ImportOrgUsersDialog","fileInputRef","fileName","substr","lastIndexOf","importUsersInBatch","Modal","ModalHeader","ModalBody","Alert","ModalFooter","AddOrgUserDialog","handleSubmit","validateInputParams","password","isAddingUser","togglePasswordVisible","isPasswordVisible","passwdInput","passwdNewInput","generatePassword","val","Math","random","toString","passwdnew","inputEmail","inputName","inputPassword","passwd","inputPasswordNew","password1","password2","Form","FormGroup","for","id","InputGroup","innerRef","input","InputGroupAddon","addonType","InviteUserDialog","copyLink","copy","invitationLink","OrgUserInfo","contact_email","owner_contact_email","Search","handleInputChange","submit","autoComplete","OrgUsers","URLSearchParams","set","navigate","toggleImportOrgUsersDialog","isImportOrgUsersDialogOpen","toggleAddOrgUser","isShowAddOrgUserDialog","toggleInviteUserDialog","isInviteUserDialogOpen","orgAdminListOrgUsers","userList","user_list","page_next","importOrgUsers","orgAdminImportUsersViaFile","users","institution","concat","failed","errMsg","addOrgUser","orgAdminAddOrgUser","userInfo","unshift","toggleOrgUsersDelete","orgAdminDeleteOrgUser","filter","orgAdminChangeOrgUserStatus","searchItems","keyword","getSearch","topbarChildren","topBtn","OrgUsersSearchUsersResult","OrgUsersSearchUsers","getItems","orgAdminSearchUser","query","deleteUser","newUserList","updateUser","sysAdminUpdateUser","update_status_tip","checkSubmitBtnActive","isSubmitBtnActive","handleKeyDown","keyCode","org_id","params","document","row","sm","onKeyDown","size","OrgAdminList","initOrgAdmin","orgAdminUsers","AddOrgAdminDialog","handleSelectChange","option","selectedOption","addOrgAdmin","userEmail","orgAdminSetOrgAdmin","onAddedOrgAdmin","isMulti","onSelectChange","toggleAddOrgAdmin","isShowAddOrgAdminDialog","toggleOrgAdminDelete","OrgAdminUserNav","urlBase","SetOrgUserName","inputValue","formSubmit","submitBtnDisabled","orgAdminSetOrgUserName","newName","formErrorMsg","centered","Fragment","SetOrgUserContactEmail","contactEmail","orgAdminSetOrgUserContactEmail","newContactEmail","updateContactEmail","SetOrgUserQuota","quota","orgAdminSetOrgUserQuota","updateQuota","initialQuota","quotaTotal","InputGroupText","org","pageOptions","orgName","OrgUserProfile","decodeURIComponent","orgAdminGetOrgUserInfo","assign","toggleSetNameDialog","isSetNameDialogOpen","toggleSetContactEmailDialog","isSetContactEmailDialogOpen","toggleSetQuotaDialog","isSetQuotaDialogOpen","avatar_url","OrgUserOwnedRepos","orgAdminGetOrgUserOwnedRepos","repo_list","handleDeleteIconClick","toggleDeleteRepoDialog","isDeleteRepoDialogOpen","deleteRepo","repo","orgAdminDeleteOrgRepo","isRepoDeleted","onMouseOver","onMouseOut","getLibIconUrl","getLibIconTitle","last_modified","onDeleteRepo","OrgUserSharedRepos","orgAdminGetOrgUserBesharedRepos","owner_name","OrgGroupInfo","groupName","group_name","creatorName","creator_name","creatorEmail","creator_email","creatorContactEmail","creator_contact_email","OrgGroups","initData","orgAdminListOrgGroups","orgGroups","groups","deleteGroupItem","group","orgAdminDeleteOrgGroup","GroupItem","renderGroupHref","renderGroupCreator","userInfoHref","OrgGroupsSearchGroupsResult","OrgGroupsSearchGroups","orgAdminSearchGroup","groupList","group_list","OrgAdminGroupNav","groupID","orgAdminGetGroup","OrgGroupRepos","orgAdminListGroupRepos","libraries","shared_by","shared_by_name","OrgGroupMembers","orgAdminListGroupMembers","members","role","getRoleText","OrgAdminRepo","repoID","repoName","ownerName","ownerEmail","owner_email","file_count","encrypted","isDepartmentRepo","is_department_repo","group_id","OrgLibraries","listRepos","orgAdminListOrgRepos","orgRepos","deleteRepoItem","transferRepoItem","sortByFileCount","sortBySize","initialSortIcon","RepoItem","toggleTransfer","renderLibIcon","iconTitle","renderRepoOwnerHref","isTransferDialogShow","onTransferRepo","orgAdminTransferOrgRepo","itemName","OrgInfo","storage_quota","storage_usage","member_quota","member_usage","active_members","orgMemberQuotaEnabled","ViewLinkDialog","copyToClipBoard","currentLinkHref","OrgLinks","listOrgLinks","orgAdminListOrgLinks","linkList","link_list","event","deleteOrgLink","token","orgAdminDeleteOrgLink","openLinkDialog","link","serviceURL","toggleLinkDialog","isShowLinkDialog","created_time","view_count","OrgDepartments","AddDepartDialog","validateName","parentGroup","parentGroupID","orgAdminAddDepartGroup","departName","onDepartChanged","response","header","autoFocus","DeleteDepartDialog","deleteDepart","orgAdminDeleteDepartGroup","subtitle","HTMLescape","dangerouslySetInnerHTML","__html","SetGroupQuotaDialog","setGroupQuota","newQuota","orgAdminSetGroupQuota","RenameDepartmentDialog","isValid","orgAdminUpdateDepartGroup","departmentName","onDepartmentNameChanged","onAfterModelOpened","newInput","focus","select","onOpened","OrgDepartmentsList","listDepartGroups","orgAdminListDepartGroups","dept","showDeleteDepartDialog","showSetGroupQuotaDialog","toggleAddDepartDialog","isShowAddDepartDialog","toggleCancel","translateOperations","translateResult","onMenuItemClick","operation","toggleRenameDialog","isOpIconShow","isRenameDialogOpen","newHref","created_at","operations","AddMemberDialog","Options","refs","orgSelect","clearSelect","orgAdminAddGroupMember","onMemberChanged","DeleteMemberDialog","deleteMember","member","orgAdminDeleteGroupMember","AddRepoDialog","orgAdminAddDepartmentRepo","onRepoChanged","DeleteRepoDialog","orgAdminDeleteDepartmentRepo","OrgDepartmentItem","listOrgGroupRepo","repos","listOrgMembers","orgAdminListGroupInfo","ancestorGroups","ancestor_groups","listSubDepartGroups","showDeleteMemberDialog","showDeleteRepoDialog","onFreezedDepart","isDepartFreezed","onUnfreezedDepart","onSubDepartChanged","toggleItemFreezed","isFreezed","deletedMember","deletedRepo","toggleAddRepoDialog","isShowAddRepoDialog","toggleAddMemberDialog","isShowAddMemberDialog","subGroup","subGroupID","subGroupName","ancestor","MemberItem","toggleMemberRoleMenu","showRoleMenu","onChangeUserRole","isAdmin","orgAdminSetGroupMemberRole","roles","memberLink","currentRole","onRoleChanged","iconUrl","OrgLogs","param","OrgLogsFileAuditEvent","ip","device","file_name","file_path","user_email","user_contact_email","time","OrgLogsFileAudit","orgAdminListFileAudit","eventList","log_list","userSelected","user_selected","repoSelected","repo_selected","filterUser","filterRepo","fileEvent","FileAuditItem","toggleUserDropdown","userDropdownOpen","renderUser","renderType","toggleRepoDropdown","repoDropdownOpen","renderRepo","OrgLogsFileUpdateEvent","description","repo_encrypted","repo_commit_id","FileUpdateDetailDialog","renderContentItem","con","i","len","renderContent","newfile","removed","renamed","newdir","deldir","orgAdminGetFileUpdateDetail","commitID","date_time","new","OrgLogsFileUpdate","orgAdminListFileUpdate","toggleCancelDetail","showDetails","onDetails","FileUpdateItem","renderAction","OrgLogsPermAuditEvent","from_user_name","from_user_email","from_user_contact_email","to_user_email","to_user_name","to_user_contact_email","to_group_name","to_group_id","folder_name","folder_path","permission","orgAdminListPermAudit","OrgLogsFilePermEvent","permEvent","PermAuditItem","renderFromUser","renderToUser","renderFolder","folderName","sharePerms","OrgSamlConfigInput","changeValue","OrgSamlConfigPostFile","OrgSAMLConfig","newUrlPrefix","orgUrlPrefix","updateUrlPrefix","inputOrgUrlPrefix","inputMetadataUrl","metadataUrl","inputSingleSignOnService","singleSignOnService","inputSingleLogoutService","singleLogoutService","orgAdminUpdateUrlPrefix","org_url_prefix","postIdpCertificate","orgAdminUploadIdpCertificate","addSamlConfig","orgAdminAddSamlConfig","samlConfigID","saml_config","metadata_url","updateSamlConfig","orgAdminUpdateSamlConfig","deleteSamlConfig","orgAdminDeleteSamlConfig","orgAdminGetUrlPrefix","orgAdminGetSamlConfig","Org","split","path","ReactDom","render","getElementById","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","entries","clear","entry","prototype","has","eq","array","nativeCreate","getNative","isKeyable","__data__","isSymbol","result","baseIsEqualDeep","isObjectLike","baseIsEqual","other","bitmask","customizer","stack","Map","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","arrayLikeKeys","baseKeys","isArrayLike","reIsDeepProp","reIsPlainProp","baseGetTag","cssKeywords","reverseKeywords","hasOwnProperty","convert","rgb","channels","hsl","hsv","hwb","cmyk","xyz","lab","lch","hex","ansi16","ansi256","hcg","apple","gray","model","Error","defineProperty","h","l","r","g","b","min","max","delta","rdif","gdif","bdif","s","v","diff","diffc","c","k","reversed","currentClosestKeyword","x","y","currentClosestDistance","Infinity","distance","pow","z","t1","t2","t3","smin","lmin","hi","floor","f","p","q","t","sl","vmin","n","wh","bl","ratio","m","y2","x2","z2","a","atan2","PI","sqrt","hr","cos","sin","args","arguments","round","ansi","mult","rem","string","toUpperCase","substring","match","colorString","char","join","integer","hue","chroma","mg","pure","w","stackClear","stackDelete","stackGet","stackHas","stackSet","Stack","isObject","global","funcToString","call","SetCache","arraySome","cacheHas","equalFunc","isPartial","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","baseIsArguments","objectProto","propertyIsEnumerable","isArguments","stubFalse","freeExports","nodeType","freeModule","Buffer","isBuffer","reIsUint","baseIsTypedArray","baseUnary","nodeUtil","nodeIsTypedArray","isTypedArray","isFunction","isLength","srcValue","castPath","toKey","isKey","stringToPath","enumerable","_chart","defaults","Scatter","Bubble","Polar","Radar","HorizontalBar","Bar","Line","Pie","Doughnut","_react","_interopRequireDefault","_propTypes","_isEqual","_keyBy","obj","__esModule","default","_extends","source","apply","_typeof","iterator","constructor","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","ownKeys","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","_classCallCheck","instance","Constructor","TypeError","_defineProperties","descriptor","configurable","writable","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","o","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","getPrototypeOf","NODE_ENV","process","ChartComponent","_React$Component","_super","chartInstance","_this$props","getDatasetAtEvent","getElementAtEvent","getElementsAtEvent","onElementsClick","element","renderChart","redraw","destroyChart","updateChart","_this$props2","plugins","nextData","transformDataProp","shadowDataProp","saveCurrentDatasets","isDev","usingCustomKeyProvider","datasetKeyProvider","getLabelAsKey","multipleDatasets","shouldWarn","dataset","console","_this2","getCurrentDatasets","d","_this3","memoizeDataProps","helpers","configMerge","currentDatasets","nextDatasets","checkDatasets","currentDatasetsIndexed","next","splice","point","pid","otherProps","rest","update","_this$props3","node","defaultProps","destroy","_this$props4","createElement","handleOnClick","oneOfType","number","arrayOf","bool","propName","componentName","controllers","position","_default","_React$Component2","_super2","_this4","_ref","_React$Component3","_super3","_this5","_ref2","_React$Component4","_super4","_this6","_ref3","_React$Component5","_super5","_this7","_ref4","_React$Component6","_super6","_this8","_ref5","_React$Component7","_super7","_this9","_ref6","_React$Component8","_super8","_this10","_ref7","_React$Component9","_super9","_this11","_ref8","_React$Component10","_super10","_this12","_ref9","SysAdminUnlinkDevice","inputChecked","checked","isPro","htmlFor","Chart","context","me","getContext","ctx","canvas","getStyle","getMaximumWidth","getMaximumHeight","aspectRatio","isNaN","isFinite","originalCanvasStyleWidth","originalCanvasStyleHeight","retinaScale","controller","Controller","addResizeListener","parentNode","responsive","resize","responsiveAnimationDuration","maintainAspectRatio","events","hover","onHover","mode","animationDuration","defaultColor","defaultFontColor","defaultFontFamily","defaultFontSize","defaultFontStyle","showLines","legendCallback","chart","each","loopable","reverse","objClone","extend","base","setFn","ilen","_base","extension","scaleMerge","scaleService","getScaleDefaults","baseArray","valueObj","axisType","getValueOrDefault","axisDefaults","getValueAtIndexOrDefault","where","collection","filterCallback","filtered","findIndex","scope","findNextWhere","arrayToSearch","startIndex","findPreviousWhere","inherits","extensions","ChartElement","Surrogate","__super__","noop","uid","isNumber","parseFloat","almostEquals","epsilon","abs","reduce","Number","NEGATIVE_INFINITY","POSITIVE_INFINITY","sign","log10","log","LN10","toRadians","degrees","toDegrees","radians","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","angle","aliasPixel","pixelWidth","splineCurve","firstPoint","middlePoint","afterPoint","previous","skip","d01","d12","s01","s12","fa","fb","EPSILON","splineCurveMonotone","points","pointBefore","pointCurrent","pointAfter","alphaK","betaK","tauK","squaredMagnitude","deltaX","pointsWithTangents","_model","deltaK","mK","pointsLen","controlPointPreviousX","controlPointPreviousY","controlPointNextX","controlPointNextY","nextItem","loop","previousItem","niceNum","range","exponent","fraction","easingEffects","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","asin","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","parseMaxStyle","styleValue","parentProperty","valueInPixels","isConstrainedValue","getConstraintDimension","domNode","maxStyle","percentageProperty","view","defaultView","constrainedNode","getComputedStyle","constrainedContainer","hasCNode","hasCContainer","infinity","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","setTimeout","cancelAnimFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","msCancelAnimationFrame","clearTimeout","getRelativePosition","evt","mouseX","mouseY","originalEvent","currentTarget","srcElement","boundingRect","getBoundingClientRect","touches","clientX","clientY","paddingLeft","paddingTop","paddingRight","paddingBottom","left","bottom","top","currentDevicePixelRatio","addEvent","eventType","method","addEventListener","attachEvent","removeEvent","handler","removeEventListener","detachEvent","bindEvents","arrayOfEvents","eventName","unbindEvents","getConstraintWidth","getConstraintHeight","container","clientWidth","cw","clientHeight","ch","el","property","currentStyle","getPropertyValue","pixelRatio","devicePixelRatio","scale","originalDevicePixelRatio","clearRect","fontString","pixelSize","fontStyle","fontFamily","longestText","font","arrayOfThings","cache","gc","garbageCollect","longest","thing","measureText","nestedThing","gcLen","textWidth","numberOfLabelLines","numberOfLines","drawRoundedRectangle","radius","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","CanvasGradient","hiddenIframe","hiddenIframeClass","classlist","add","setAttribute","border","margin","insertBefore","firstChild","contentWindow","onresize","removeResizeListener","querySelector","removeChild","arrayEquals","a0","a1","v0","v1","callCallback","fn","_tArg","getHoverColor","colorValue","CanvasPattern","saturate","darken","rgbString","Color","valid","alpha","vals","getRgba","setValues","getHsla","getHwb","red","lightness","whiteness","cyan","setSpace","rgbArray","hslArray","hsvArray","hwbArray","cmykArray","rgbaArray","hslaArray","setChannel","green","blue","saturation","saturationv","blackness","magenta","yellow","black","hexString","rgbaString","percentString","hslString","hslaString","hwbString","rgbNumber","luminosity","lum","chan","contrast","color2","lum1","lum2","level","contrastRatio","dark","light","negate","lighten","desaturate","whiten","blacken","greyscale","clearer","opaquer","rotate","mix","mixinColor","weight","color1","w1","w2","toJSON","prop","spaces","maxes","getValues","space","charAt","capped","chans","sname","svalues","conversions","route","fromModel","routes","toModel","wrappedFn","conversion","wrapRounded","raw","wrapRaw","deriveBFS","graph","models","parent","buildGraph","queue","pop","adjacents","adjacent","from","wrapConversion","cur","colorNames","hexAlpha","rgba","percentaString","hsla","hexDouble","str","getRgb","getHsl","getAlpha","reverseNames","canvasHelpers","drawPoint","pointStyle","edgeLength","xOffset","yOffset","arc","SQRT2","fillRect","strokeRect","stroke","drawImage","Element","configuration","initialize","hidden","pivot","_view","_start","transition","ease","startVal","tooltipPosition","hasValue","animation","easing","onProgress","onComplete","Animation","currentStep","numSteps","onAnimationProgress","onAnimationComplete","animationService","frameDuration","animations","dropFrames","request","addAnimation","animationObject","lazy","animating","cancelAnimation","animationWrapper","startDigest","now","framesToDrop","types","instances","ensureScalesHaveIDs","buildOrUpdateControllers","buildScales","updateLayout","resetElements","initToolTip","stop","silent","newWidth","newHeight","newSize","onResize","scalesOptions","scaleOptions","xAxisOptions","yAxisOptions","dtype","isDefault","scaleType","scaleClass","getScaleConstructor","addScalesToLayout","layoutService","newControllers","meta","getDatasetMeta","updateIndex","isCombo","reset","tooltip","_data","buildOrUpdateElements","updateDatasets","animationOptions","easingFunction","stepDecimal","easeDecimal","draw","easingDecimal","boxes","box","chartArea","isDatasetVisible","eventPosition","elementsArray","inRange","found","j","_index","getElementsAtXAxis","inLabelRange","it","getElementsAtEventForMode","_datasetIndex","_meta","xAxisID","yAxisID","getVisibleDatasetCount","generateLegend","toBase64Image","toDataURL","Tooltip","_chartInstance","_options","eventHandler","updateHoverStyle","enabled","hoverOptions","tooltipsOptions","lastActive","lastTooltipActive","active","tooltipActive","handleEvent","custom","_active","DatasetController","datasetElementType","dataElementType","linkScales","addElements","getMeta","getDataset","getScaleForId","scaleID","createMetaDataset","createMetaData","metaData","addElementAndReset","updateElement","numData","numMetaData","removeHoverStyle","elementOpts","valueOrDefault","setHoverStyle","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","addBox","removeBox","leftBoxes","rightBoxes","topBoxes","bottomBoxes","chartAreaBoxes","sort","fullWidth","chartWidth","chartHeight","chartAreaHeight","verticalBoxWidth","horizontalBoxHeight","maxChartAreaWidth","maxChartAreaHeight","minBoxSizes","minSize","isHorizontal","horizontal","totalLeftBoxesWidth","totalRightBoxesWidth","totalTopBoxesHeight","totalBottomBoxesHeight","fitBox","minBoxSize","scaleMargin","newMaxChartAreaHeight","newMaxChartAreaWidth","placeBox","minBox","constructors","registerScaleType","scaleConstructor","updateScaleDefaults","additions","_plugins","register","plugin","unregister","idx","getAll","PluginBase","beforeInit","afterInit","beforeUpdate","afterUpdate","beforeDraw","afterDraw","pluginService","gridLines","lineWidth","drawBorder","drawOnChartArea","drawTicks","tickMarkLength","zeroLineWidth","zeroLineColor","offsetGridLines","borderDash","borderDashOffset","scaleLabel","labelString","minRotation","maxRotation","mirror","autoSkip","autoSkipPadding","labelOffset","Scale","maxWidth","maxHeight","margins","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","beforeBuildTicks","buildTicks","afterBuildTicks","beforeTickToLabelConversion","convertTicksToLabels","afterTickToLabelConversion","beforeCalculateTickRotation","calculateTickRotation","afterCalculateTickRotation","beforeFit","fit","afterFit","numericalTick","userCallback","globalDefaults","optionTicks","tickFontSize","tickFontStyle","tickFontFamily","tickLabelFont","firstRotated","firstWidth","lastWidth","labelRotation","longestTextCache","cosRotation","sinRotation","originalLabelWidth","labelWidth","tickWidth","getPixelForTick","yLabelWidth","opts","tickOpts","scaleLabelOpts","gridLineOpts","scaleLabelFontSize","isFullWidth","largestTextWidth","tallestLabelHeightInLines","lineSpace","longestLabelWidth","labelHeight","firstLabelWidth","lastLabelWidth","maxLabelWidth","getRightValue","rawValue","NaN","getLabelForIndex","getPixelForValue","getValueForPixel","includeOffset","pixel","finalVal","innerHeight","getPixelForDecimal","decimal","valueOffset","getBasePixel","skipRatio","maxTicks","isRotated","useAutoskipper","tickFontColor","fontColor","tl","scaleLabelFontColor","scaleLabelFontStyle","scaleLabelFontFamily","scaleLabelFont","labelRotationRadians","longestRotatedLabel","fillStyle","itemsToDraw","xTickStart","xTickEnd","yTickStart","yTickEnd","isLastTick","lineColor","tx1","ty1","tx2","ty2","x1","y1","labelX","labelY","zeroLineIndex","textAlign","textBaseline","xLineValue","yLineValue","glWidth","glColor","glBorderDash","glBorderDashOffset","rotation","itemToDraw","save","strokeStyle","setLineDash","lineDashOffset","restore","translate","fillText","scaleLabelX","scaleLabelY","isLeft","Title","legendHitBoxes","chartOpts","beforeBuildLabels","buildLabels","afterBuildLabels","pos","titleX","titleY","titleFont","titleOpts","titleBlock","legendItem","ci","boxWidth","generateLabels","lineCap","borderCapStyle","lineDash","lineJoin","borderJoinStyle","Legend","doughnutMode","legendItems","labelOpts","globalDefault","itemOrDefault","labelFont","hitboxes","lineWidths","totalHeight","vPadding","columnWidths","totalWidth","currentColWidth","currentColHeight","itemHeight","itemWidth","lineDefault","legendWidth","cursor","isLineWidthZero","offSet","centerX","centerY","drawLegendBox","lh","hitBox","legendOpts","pushOrConcat","toPush","createTooltipItem","xScale","_xScale","yScale","_yScale","_scale","xLabel","titleFontStyle","titleSpacing","titleMarginBottom","titleFontColor","titleAlign","bodySpacing","bodyFontColor","bodyAlign","footerFontStyle","footerSpacing","footerMarginTop","footerFontColor","footerAlign","yPadding","xPadding","yAlign","xAlign","caretSize","cornerRadius","multiKeyBackground","beforeTitle","tooltipItems","labelCount","afterTitle","beforeBody","beforeLabel","labelColor","afterLabel","afterBody","beforeFooter","footer","afterFooter","tooltipOpts","_bodyFontFamily","bodyFontFamily","_bodyFontStyle","bodyFontStyle","_bodyAlign","bodyFontSize","_titleFontFamily","titleFontFamily","_titleFontStyle","titleFontSize","_titleAlign","_footerFontFamily","footerFontFamily","_footerFontStyle","footerFontSize","_footerAlign","opacity","legendColorBackground","getTitle","lines","getBeforeBody","getBody","bodyItems","bodyItem","before","after","getAfterBody","getFooter","changed","labelColors","xPositions","yPositions","getAveragePosition","itemSort","body","caretPadding","tooltipSize","getTooltipSize","determineAlignment","getBackgroundPoint","vm","combinedBodyLength","titleLineCount","footerLineCount","widthPadding","maxLineWidth","lf","rf","olf","orf","yf","midX","midY","pt","paddingAndSize","radiusAndPadding","drawCaret","tooltipPoint","x3","y3","ptX","ptY","bgColor","drawTitle","drawBody","textColor","xLinePadding","fillLineOfText","drawColorBoxes","drawFooter","globalOpts","Arc","hoverRadius","chartX","chartY","pointRelativePosition","startAngle","endAngle","betweenAngles","withinRadius","innerRadius","outerRadius","centreAngle","rangeFromCentre","sA","eA","capBezierPoints","spanGaps","scaleZero","_loop","lineToPoint","previousPoint","pointVM","steppedLine","bezierCurveTo","currentVM","_children","lastDrawnIndex","globalOptionLineElements","hitRadius","Point","rectangle","borderSkipped","Rectangle","halfWidth","leftX","rightX","halfStroke","corners","startCorner","cornerAt","LinearScaleBase","handleTickRangeOptions","minSign","maxSign","suggestedMin","getTickLimit","handleDirectionalChanges","spacing","fixedStepSize","stepSize","niceRange","niceMin","niceMax","ceil","numSpaces","start","end","ticksAsNumbers","DatasetScale","getLabels","xLabels","yLabels","minIndex","maxIndex","offsetAmt","valueWidth","widthOffset","valueHeight","heightOffset","horz","valueDimension","defaultConfig","tickValue","logDelta","tickString","numDecimal","toFixed","LinearScale","IDMatches","stacked","valuesPerType","positiveValues","negativeValues","relativePoints","valuesForType","minVal","maxVal","innerDimension","rightValue","offset","arr","remain","toExponential","LogarithmicScale","minNotZero","tickVal","exp","significand","lastTick","tickValues","newVal","LinearRadialScale","getValueCount","xCenter","yCenter","drawingArea","backdropPaddingY","pointLabels","pointPosition","halfTextWidth","furthestRightIndex","furthestRightAngle","furthestLeftIndex","furthestLeftAngle","xProtrusionLeft","xProtrusionRight","radiusReductionRight","radiusReductionLeft","pointLabelFontSize","pointLabeFontStyle","pointLabeFontFamily","pointLabeFont","largestPossibleRadius","furthestRight","furthestLeft","getPointPosition","getIndexAngle","setCenterPoint","leftMovement","rightMovement","maxRight","maxLeft","angleMultiplier","startAngleRadians","getDistanceFromCenterForValue","scalingFactor","distanceFromCenter","thisAngle","getPointPositionForValue","getBasePosition","angleLineOpts","angleLines","pointLabelOpts","yCenterOffset","yHeight","lineArc","showLabelBackdrop","backdropColor","backdropPaddingX","outerDistance","outerPosition","pointLabelPosition","pointLabelFontColor","animate","units","steps","maxStep","TimeScale","getLabelMoment","labelMoments","getLabelDiff","labelDiffs","buildLabelDiffs","getMomentStartOf","tick","unit","isoWeekday","startOf","tickUnit","scaleLabelMoments","labelMoment","parseTime","firstTick","momentsForDataset","datasetVisible","scaleLabelDiffs","diffsForDataset","roundedStart","unitScale","scaleSizeInUnits","displayFormat","displayFormats","unitStepSize","innerWidth","tempFirstLabel","tickFormatFunction","tickLabelWidth","labelCapacity","minUnit","unitDefinitionIndex","unitDefinition","leadingUnitBuffer","trailingUnitBuffer","roundedEnd","newTick","tooltipFormat","formattedTick","tickMoments","asSeconds","parser","getMonth","warn","millisecond","second","minute","hour","day","week","quarter","year","bar","categoryPercentage","barPercentage","getBarCount","barCount","scaleBase","rectangleElementOptions","calculateBarX","calculateBarY","datasetLabel","calculateBarBase","calculateBarWidth","currentDs","currentDsMeta","currentVal","getRuler","datasetCount","categoryWidth","categorySpacing","fullBarWidth","barWidth","barSpacing","barThickness","ruler","getBarIndex","barIndex","leftTick","sumPos","sumNeg","ds","dsMeta","stackedVal","horizontalBar","calculateBarHeight","halfHeight","topY","bottomY","cornerIndex","tickHeight","categoryHeight","fullBarHeight","barHeight","topTick","bubble","dataPoint","pointElementOptions","dsIndex","getRadius","dataVal","doughnut","animateRotate","animateScale","arcOpts","cutoutPercentage","circumference","pie","getRingIndex","ringIndex","availableWidth","availableHeight","contains0","contains90","contains180","contains270","cutout","getMaxBorderWidth","radiusLength","offsetX","offsetY","total","calculateTotal","animationOpts","calculateCircumference","valueAtIndexOrDefault","hoverWidth","lineEnabled","showLine","updateBezierControlPoints","lineElementOptions","lineTension","stepped","cubicInterpolationMode","scaleTop","scaleBottom","getPointBackgroundColor","pointBackgroundColor","getPointBorderColor","pointBorderColor","getPointBorderWidth","pointBorderWidth","pointOptions","pointRadius","pointHitRadius","calculatePointY","stackedRightValue","controlPoints","area","capControlPoint","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","polarArea","countVisibleElements","visibleCount","datasetStartAngle","resetRadius","radar","PolarArea","scatter","equalArrays","equalByTag","equalObjects","getTag","argsTag","arrayTag","objectTag","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","assocIndexOf","pairs","LARGE_ARRAY_SIZE","isMasked","toSource","reIsHostCtor","funcProto","reIsNative","RegExp","nativeObjectToString","isOwn","unmasked","coreJsData","maskSrcKey","exec","IE_PROTO","Hash","hashClear","hashDelete","hashGet","hashHas","hashSet","getMapData","setCacheAdd","setCacheHas","predicate","Uint8Array","mapToArray","setToArray","symbolProto","symbolValueOf","valueOf","byteLength","byteOffset","buffer","getAllKeys","objProps","objLength","objStacked","skipCtor","objValue","objCtor","othCtor","baseGetAllKeys","getSymbols","arrayPush","keysFunc","symbolsFunc","arrayFilter","stubArray","nativeGetSymbols","symbol","resIndex","baseTimes","isIndex","inherited","isArr","isArg","isBuff","isType","skipIndexes","String","iteratee","typedArrayTags","freeProcess","binding","isPrototype","nativeKeys","Ctor","overArg","transform","arg","DataView","Promise","Set","WeakMap","mapTag","promiseTag","setTag","weakMapTag","dataViewTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","ArrayBuffer","resolve","ctorString","baseAssignValue","keyBy","createAggregator","arrayAggregator","baseAggregator","baseIteratee","setter","initializer","accumulator","baseEach","baseForOwn","createBaseEach","baseFor","createBaseFor","fromRight","iterable","eachFunc","baseMatches","baseMatchesProperty","identity","baseIsMatch","getMatchData","matchesStrictComparable","matchData","noCustomizer","COMPARE_PARTIAL_FLAG","isStrictComparable","hasIn","baseGet","memoizeCapped","rePropName","reEscapeChar","charCodeAt","quote","subString","memoize","resolver","memoized","Cache","baseToString","arrayMap","symbolToString","baseHasIn","hasPath","hasFunc","baseProperty","basePropertyDeep","OpMenu","getEventData"],"mappings":"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","file":"static/js/orgAdmin.chunk.js","sourcesContent":["var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport Logo from '../../components/logo';\nimport { gettext, siteRoot, enableMultiADFS } from '../../utils/constants';\n\nconst propTypes = {\n  isSidePanelClosed: PropTypes.bool.isRequired,\n  onCloseSidePanel: PropTypes.func.isRequired,\n  currentTab: PropTypes.string.isRequired,\n  tabItemClick: PropTypes.func.isRequired\n};\n\nclass SidePanel extends React.Component {\n\n  getActiveClass = (tab) => {\n    return this.props.currentTab == tab ? 'active' : '';\n  }\n\n  tabItemClick = (tab) => {\n    this.props.tabItemClick(tab);\n  }\n\n  render() {\n    return (\n      <div className={`side-panel ${this.props.isSidePanelClosed ? '' : 'left-zero'}`}>\n        <div className=\"side-panel-north\">\n          <Logo onCloseSidePanel={this.props.onCloseSidePanel}/>\n        </div>\n        <div className=\"side-panel-center\">\n          <div className=\"side-nav\">\n            <div className=\"side-nav-con\">\n              <h3 className=\"sf-heading\" style={{ 'color': '#f7941d' }}>{gettext('Admin')}</h3>\n              <ul className=\"nav nav-pills flex-column nav-container\">\n                <li className=\"nav-item\">\n                  <Link className={`nav-link ellipsis ${this.getActiveClass('info')}`} to={siteRoot + 'org/info/'} onClick={() => this.tabItemClick('info')} >\n                    <span className=\"sf2-icon-info\"></span>\n                    <span className=\"nav-text\">{gettext('Info')}</span>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link className={`nav-link ellipsis ${this.getActiveClass('statistics-admin')}`} to={siteRoot + 'org/statistics-admin/file/'} onClick={() => this.tabItemClick('statistics-admin')} >\n                    <span className=\"sf2-icon-histogram\"></span>\n                    <span className=\"nav-text\">{gettext('Statistic')}</span>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link className={`nav-link ellipsis ${this.getActiveClass('deviceadmin')}`} to={siteRoot + 'org/deviceadmin/desktop-devices/'} onClick={() => this.tabItemClick('deviceadmin')} >\n                    <span className=\"sf2-icon-monitor\"></span>\n                    <span className=\"nav-text\">{gettext('Devices')}</span>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link className={`nav-link ellipsis ${this.getActiveClass('web-settings')}`} to={siteRoot + 'org/web-settings/'} onClick={() => this.tabItemClick('web-settings')} >\n                    <span className=\"sf2-icon-cog2\"></span>\n                    <span className=\"nav-text\">{gettext('Settings')}</span>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link className={`nav-link ellipsis ${this.getActiveClass('repoadmin')}`} to={siteRoot + 'org/repoadmin/'} onClick={() => this.tabItemClick('repoadmin')} >\n                    <span className=\"sf2-icon-library\"></span>\n                    <span className=\"nav-text\">{gettext('Libraries')}</span>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link className={`nav-link ellipsis ${this.getActiveClass('users') || this.getActiveClass('admins')}`} to={siteRoot + 'org/useradmin/'} onClick={() => this.tabItemClick('users')} >\n                    <span className=\"sf2-icon-user\"></span>\n                    <span className=\"nav-text\">{gettext('Users')}</span>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link className={`nav-link ellipsis ${this.getActiveClass('groupadmin')}`} to={siteRoot + 'org/groupadmin/'} onClick={() => this.tabItemClick('groupadmin')}>\n                    <span className=\"sf2-icon-group\"></span>\n                    <span className=\"nav-text\">{gettext('Groups')}</span>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link className={`nav-link ellipsis ${this.getActiveClass('departmentadmin')}`} to={siteRoot + 'org/departmentadmin/'} onClick={() => this.tabItemClick('departmentadmin')} >\n                    <span className=\"sf2-icon-organization\"></span>\n                    <span className=\"nav-text\">{gettext('Departments')}</span>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link className={`nav-link ellipsis ${this.getActiveClass('publinkadmin')}`} to={siteRoot + 'org/publinkadmin/'} onClick={() => this.tabItemClick('publinkadmin')} >\n                    <span className=\"sf2-icon-link\"></span>\n                    <span className=\"nav-text\">{gettext('Links')}</span>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link className={`nav-link ellipsis ${this.getActiveClass('logadmin') || this.getActiveClass('file-update') || this.getActiveClass('perm-audit')}`} to={siteRoot + 'org/logadmin/'} onClick={() => this.tabItemClick('logadmin')} >\n                    <span className=\"sf2-icon-clock\"></span>\n                    <span className=\"nav-text\">{gettext('Logs')}</span>\n                  </Link>\n                </li>\n                {enableMultiADFS &&\n                  <li className=\"nav-item\">\n                    <Link className={`nav-link ellipsis ${this.getActiveClass('SAML config')}`} to={siteRoot + 'org/samlconfig/'} onClick={() => this.tabItemClick('SAML config')} >\n                      <span className=\"sf2-icon-cog2\"></span>\n                      <span className=\"nav-text\">{gettext('SAML config')}</span>\n                    </Link>\n                  </li>\n                }\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nSidePanel.propTypes = propTypes;\n\nexport default SidePanel;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Account from '../../components/common/account';\n\nconst propTypes = {\n  children: PropTypes.object,\n};\n\nclass MainPanelTopbar extends Component {\n\n  render() {\n    return (\n      <div className={`main-panel-north ${this.props.children ? 'border-left-show' : ''}`}>\n        <div className=\"cur-view-toolbar\">\n          <span className=\"sf2-icon-menu side-nav-toggle hidden-md-up d-md-none\" title=\"Side Nav Menu\"></span>\n          <div className=\"operation\">\n            {this.props.children}\n          </div>\n        </div>\n        <div className=\"common-toolbar\">\n          {this.props.search && this.props.search}\n          <Account isAdminPanel={true}/>\n        </div>\n      </div>\n    );\n  }\n}\n\nMainPanelTopbar.propTypes = propTypes;\n\nexport default MainPanelTopbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'fileStatistic', urlPart: 'statistics-admin/file', text: gettext('File')},\n      {name: 'storageStatistic', urlPart: 'statistics-admin/total-storage', text: gettext('Storage')},\n      {name: 'usersStatistic', urlPart: 'statistics-admin/active-users', text: gettext('Users')},\n      {name: 'trafficStatistic', urlPart: 'statistics-admin/traffic', text: gettext('Traffic')},\n      {name: 'reportsStatistic', urlPart: 'statistics-admin/reports', text: gettext('Reports')},\n    ];\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}org/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport Calendar from '@seafile/seafile-calendar';\nimport DatePicker from '@seafile/seafile-calendar/lib/Picker';\nimport { translateCalendar } from '../../../utils/date-format-utils';\n\nimport '@seafile/seafile-calendar/assets/index.css';\n\nconst propsTypes = {\n  disabledDate: PropTypes.func.isRequired,\n  value: PropTypes.object,\n  onChange: PropTypes.func.isRequired,\n};\n\nconst FORMAT = 'YYYY-MM-DD';\n\nclass Picker extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.defaultCalendarValue = null;\n  }\n\n  componentDidMount() {\n    let lang = window.app.config.lang;\n    this.defaultCalendarValue = moment().locale(lang).clone();\n  }\n\n  render() {\n    const props = this.props;\n    const calendar = (<Calendar\n      defaultValue={this.defaultCalendarValue}\n      disabledDate={props.disabledDate}\n      format={FORMAT}\n      locale={translateCalendar()}\n    />);\n    return (\n      <DatePicker\n        calendar={calendar}\n        value={props.value}\n        onChange={props.onChange}\n      >\n        {\n          ({value}) => {\n            return (\n              <span>\n                <input\n                  placeholder=\"yyyy-mm-dd\"\n                  tabIndex=\"-1\"\n                  readOnly\n                  value={value && value.format(FORMAT) || ''}\n                  className=\"form-control system-statistic-input\"\n                />\n              </span>\n            );\n          }\n        }\n      </DatePicker>\n    );\n  }\n}\n\nPicker.propsTypes = propsTypes;\n\nexport default Picker;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport moment from 'moment';\nimport { gettext } from '../../../utils/constants';\nimport Picker from './picker';\n\nconst propTypes = {\n  getActiviesFiles: PropTypes.func.isRequired,\n  children: PropTypes.object,\n};\n\nclass StatisticCommonTool extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      statisticType: 'oneWeek',\n      startValue: null,\n      endValue: null,\n    };\n  }\n\n  componentDidMount() {\n    let today = moment().format('YYYY-MM-DD 00:00:00');\n    let endTime = today;\n    let startTime = moment().subtract(6,'d').format('YYYY-MM-DD 00:00:00');\n    let group_by = 'day';\n    this.props.getActiviesFiles(startTime, endTime, group_by);\n  }\n\n  changeActive = (statisticTypeName) => {\n    let { statisticType } = this.state;\n    if (statisticType === statisticTypeName) {\n      return;\n    }\n    let today = moment().format('YYYY-MM-DD 00:00:00');\n    let endTime = today;\n    let startTime;\n    switch(statisticTypeName) {\n      case 'oneWeek' :\n        startTime = moment().subtract(6,'d').format('YYYY-MM-DD 00:00:00');\n        break;\n      case 'oneMonth' :\n        startTime = moment().subtract(29,'d').format('YYYY-MM-DD 00:00:00');\n        break;\n      case 'oneYear' :\n        startTime = moment().subtract(364,'d').format('YYYY-MM-DD 00:00:00');\n        break;\n    }\n    this.setState({\n      statisticType: statisticTypeName,\n    });\n    let group_by = 'day';\n    this.props.getActiviesFiles(startTime, endTime, group_by);\n  }\n\n  disabledStartDate = (startValue) => {\n    if (!startValue) {\n      return false;\n    }\n    let today = moment().format();\n\n    const endValue = this.state.endValue;\n    if (!endValue) {\n      let startTime = moment(startValue).format();\n      return today < startTime;\n    }\n    return endValue.isBefore(startValue) || moment(startValue).format() > today;\n  }\n\n  disabledEndDate = (endValue) => {\n    if (!endValue) {\n      return false;\n    }\n    let today = moment().format();\n    const startValue = this.state.startValue;\n    if (!startValue) {\n      let endTime = moment(endValue).format();\n      return today < endTime;\n    }\n    return endValue.isBefore(startValue) || moment(endValue).format() > today;\n  }\n\n  onChange = (field, value) => {\n    this.setState({\n      [field]: value,\n    });\n  }\n\n  onSubmit = () => {\n    let { startValue, endValue } = this.state;\n    if(!startValue || !endValue) {\n      return;\n    }\n    this.setState({\n      statisticType: 'itemButton',\n    });\n    let startTime = moment(startValue).format('YYYY-MM-DD 00:00:00');\n    let endTime = moment(endValue).format('YYYY-MM-DD 00:00:00');\n    let group_by = 'day';\n    this.props.getActiviesFiles(startTime, endTime, group_by);\n  }\n\n  render() {\n    let { statisticType, endValue, startValue } = this.state;\n    return(\n      <Fragment>\n        {this.props.children}\n        <div className=\"system-statistic-time-range\">\n          <div className=\"sys-stat-tool\">\n            <div className={`system-statistic-item border-right-0 rounded-left ${statisticType === 'oneWeek' ? 'item-active' : ''}`} onClick={this.changeActive.bind(this, 'oneWeek')}>{gettext('7 Days')}</div>\n            <div className={`system-statistic-item border-right-0 ${statisticType === 'oneMonth' ? 'item-active' : ''}`}  onClick={this.changeActive.bind(this, 'oneMonth')}>{gettext('30 Days')}</div>\n            <div className={`system-statistic-item rounded-right ${statisticType === 'oneYear' ? 'item-active' : ''}`}  onClick={this.changeActive.bind(this, 'oneYear')}>{gettext('1 Year')}</div>\n          </div>\n          <div className=\"system-statistic-input-container\">\n            <Picker\n              disabledDate={this.disabledStartDate}\n              value={startValue}\n              onChange={this.onChange.bind(this, 'startValue')}\n            />\n            <span className=\"system-statistic-connect\">-</span>\n            <Picker\n              disabledDate={this.disabledEndDate}\n              value={endValue}\n              onChange={this.onChange.bind(this, 'endValue')}\n            />\n            <Button className=\"operation-item system-statistic-button\" onClick={this.onSubmit}>{gettext('Submit')}</Button>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nStatisticCommonTool.propTypes = propTypes;\n\nexport default StatisticCommonTool;\n","import React from 'react';\nimport { Line } from 'react-chartjs-2';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\n\nconst propTypes = {\n  labels: PropTypes.array.isRequired,\n  filesData: PropTypes.array.isRequired,\n  suggestedMaxNumbers: PropTypes.number.isRequired,\n  isLegendStatus: PropTypes.bool.isRequired,\n  chartTitle: PropTypes.string.isRequired,\n  isTitleCallback: PropTypes.bool,\n  isTicksCallback: PropTypes.bool,\n};\n\nclass StatisticChart extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {},\n      opations: {}\n    };\n  }\n\n  componentDidMount() {\n    let { labels, filesData, isTitleCallback, isTicksCallback, suggestedMaxNumbers, isLegendStatus, chartTitle } = this.props;\n    let _this = this;\n    let data = {\n      labels: labels,\n      datasets: filesData\n    };\n    let options = {\n      title: {\n        display: true,\n        fontSize: 14,\n        text: chartTitle,\n      },\n      elements: {\n        line: {\n          fill: false,\n          tension: 0, // disable bezier curves, i.e, draw straight lines\n          borderWidth: 2\n        }\n      },\n      legend: {\n        display: isLegendStatus,\n        labels: {\n          usePointStyle: true\n        }\n      },\n      tooltips: {\n        callbacks: {\n          label: function(tooltipItem, data) {\n            if (isTitleCallback) {\n              return _this.titleCallback(tooltipItem, data);\n            }\n            return data.datasets[tooltipItem.datasetIndex].label + ': ' + tooltipItem.yLabel;\n          }\n        }\n      },\n      layout: {\n        padding: {\n          right: 100,\n        }\n      },\n      scales: {\n        yAxes: [{\n          ticks: {\n            beginAtZero: true,\n            suggestedMax: suggestedMaxNumbers,\n            callback: function(value, index, values) {\n              if (isTicksCallback) {\n                return _this.ticksCallback(value, index, values);\n              }\n              return value;\n            }\n          }\n        }],\n        xAxes: [{\n          ticks: {\n            maxTicksLimit: 20\n          }\n        }]\n      }\n    };\n    this.setState({\n      data: data,\n      options: options\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    let data = {\n      labels: nextProps.labels,\n      datasets: nextProps.filesData\n    };\n    this.setState({data: data});\n  }\n\n  titleCallback = (tooltipItem, data) => {\n    return data.datasets[tooltipItem.datasetIndex].label + ': ' + Utils.bytesToSize(tooltipItem.yLabel);\n  }\n\n  ticksCallback = (value, index, values) => {\n    return Utils.bytesToSize(value);\n  }\n\n  render() {\n\n    let { data, options } = this.state;\n    return (\n      <Line\n        data={data}\n        options={options}\n      />\n    );\n  }\n}\n\nStatisticChart.propTypes = propTypes;\n\nexport default StatisticChart;\n","import React, { Fragment } from 'react';\nimport moment from 'moment';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport StatisticNav from './statistic-nav';\nimport StatisticCommonTool from './statistic-common-tool';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport StatisticChart from './statistic-chart';\nimport Loading from '../../../components/loading';\nimport { gettext, orgID } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nimport '../../../css/system-stat.css';\n\nclass OrgStatisticFile extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      filesData: [],\n      labels: [],\n      isLoading: true\n    };\n  }\n\n  getActiviesFiles = (startTime, endTime, groupBy) => {\n    let { filesData } = this.state;\n\n    seafileAPI.orgAdminStatisticFiles(orgID, startTime, endTime, groupBy).then((res) => {\n      let labels = [],\n        added = [],\n        deleted = [],\n        visited = [],\n        modified = [];\n      let data = res.data;\n      if (Array.isArray(data)) {\n        data.forEach(item => {\n          labels.push(moment(item.datetime).format('YYYY-MM-DD'));\n          added.push(item.added);\n          deleted.push(item.deleted);\n          modified.push(item.modified);\n          visited.push(item.visited);\n        });\n        let addedData = {\n          label: gettext('Added'),\n          data: added,\n          borderColor: '#57cd6b',\n          backgroundColor: '#57cd6b'};\n        let visitedData = {\n          label: gettext('Visited'),\n          data: visited,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        let modifiedData = {\n          label: gettext('Modified'),\n          data: modified,\n          borderColor: '#72c3fc',\n          backgroundColor: '#72c3fc'};\n        let deletedData = {\n          label: gettext('Deleted'),\n          data: deleted,\n          borderColor: '#f75356',\n          backgroundColor: '#f75356'};\n        filesData = [visitedData, addedData, modifiedData, deletedData];\n      }\n      this.setState({\n        filesData: filesData,\n        labels: labels,\n        isLoading: false\n      });\n    }).catch(err => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    let { labels, filesData, isLoading } = this.state;\n\n    return(\n      <Fragment>\n        <MainPanelTopbar />\n        <div className=\"cur-view-container\">\n          <StatisticNav currentItem=\"fileStatistic\" />\n          <div className=\"cur-view-content\">\n            <StatisticCommonTool getActiviesFiles={this.getActiviesFiles} />\n            {isLoading && <Loading />}\n            {!isLoading && labels.length > 0 &&\n              <StatisticChart\n                labels={labels}\n                filesData={filesData}\n                suggestedMaxNumbers={10}\n                isLegendStatus={true}\n                chartTitle={gettext('File Operations')}\n              />\n            }\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default OrgStatisticFile;\n","import React, { Fragment } from 'react';\nimport moment from 'moment';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport StatisticNav from './statistic-nav';\nimport StatisticCommonTool from './statistic-common-tool';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport StatisticChart from './statistic-chart';\nimport Loading from '../../../components/loading';\nimport { gettext, orgID } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nclass OrgStatisticStorage extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      filesData: [],\n      labels: [],\n      isLoading: true\n    };\n  }\n\n  getActiviesFiles = (startTime, endTime, groupBy) => {\n    let { filesData } = this.state;\n    seafileAPI.orgAdminStatisticStorages(orgID, startTime, endTime, groupBy).then((res) => {\n      let labels = [],\n        totalStorage = [];\n      let data = res.data;\n      if (Array.isArray(data)) {\n        data.forEach(item => {\n          labels.push(moment(item.datetime).format('YYYY-MM-DD'));\n          totalStorage.push(item.total_storage);\n        });\n        let total_storage = {\n          label: gettext('Total Storage'),\n          data: totalStorage,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        filesData = [total_storage];\n      }\n      this.setState({\n        filesData: filesData,\n        labels: labels,\n        isLoading: false\n      });\n    }).catch(err => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    let { labels, filesData, isLoading } = this.state;\n    return(\n      <Fragment>\n        <MainPanelTopbar />\n        <div className=\"cur-view-container\">\n          <StatisticNav currentItem=\"storageStatistic\" />\n          <div className=\"cur-view-content\">\n            <StatisticCommonTool getActiviesFiles={this.getActiviesFiles} />\n            {isLoading && <Loading />}\n            {!isLoading && labels.length > 0 &&\n              <StatisticChart\n                labels={labels}\n                filesData={filesData}\n                suggestedMaxNumbers={10*1000*1000}\n                isTitleCallback={true}\n                isTicksCallback={true}\n                isLegendStatus={false}\n                chartTitle={gettext('Total Storage')}\n              />\n            }\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default OrgStatisticStorage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  type: PropTypes.string.isRequired,\n  sortBy: PropTypes.string.isRequired,\n  sortOrder: PropTypes.string.isRequired,\n  sortItems: PropTypes.func.isRequired,\n  children: PropTypes.oneOfType([PropTypes.bool, PropTypes.array]),\n};\n\nclass TrafficTable extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { type, sortBy, sortOrder } = this.props;\n    const sortIcon = sortOrder == 'asc' ? <span className=\"fas fa-caret-up\"></span> : <span className=\"fas fa-caret-down\"></span>;\n\n    return (\n      <table className=\"table-hover\">\n        <thead>\n          <tr>\n            <th width=\"16%\">{type == 'user' ? gettext('User') : gettext('Organization')}</th>\n            <th width=\"11%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'sync_file_upload')}>{gettext('Sync Upload')} {sortBy === 'sync_file_upload' && sortIcon}</div></th>\n            <th width=\"14%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'sync_file_download')}>{gettext('Sync Download')} {sortBy === 'sync_file_download' && sortIcon}</div></th>\n            <th width=\"11%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'web_file_upload')}>{gettext('Web Upload')} {sortBy === 'web_file_upload' && sortIcon}</div></th>\n            <th width=\"14%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'web_file_download')}>{gettext('Web Download')} {sortBy === 'web_file_download' && sortIcon}</div></th>\n            <th width=\"17%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'link_file_upload')}>{gettext('Share link upload')} {sortBy === 'link_file_upload' && sortIcon}</div></th>\n            <th width=\"17%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'link_file_download')}>{gettext('Share link download')} {sortBy === 'link_file_download' && sortIcon}</div></th>\n          </tr>\n        </thead>\n        <tbody>\n          {this.props.children}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nTrafficTable.propTypes = propTypes;\n\nexport default TrafficTable;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\nimport { siteRoot } from '../../../utils/constants';\n\nconst propTypes = {\n  type: PropTypes.string.isRequired,\n  userTrafficItem: PropTypes.object.isRequired,\n};\n\nclass TrafficTableBody extends React.Component {\n\n  trafficName = () => {\n    let { userTrafficItem, type } = this.props;\n    switch(type) {\n      case 'user':\n        if (userTrafficItem.name) {\n          return (\n            <a href={siteRoot + 'useradmin/info/' + userTrafficItem.email + '/'}>{userTrafficItem.name}</a>\n          );\n        }\n        return(<span>{'--'}</span>);\n      case 'org':\n        return(<span>{userTrafficItem.org_name}</span>);\n    }\n  }\n\n  render() {\n    let { userTrafficItem } = this.props;\n\n    let syncUploadSize = Utils.bytesToSize(userTrafficItem.sync_file_upload);\n    let syncDownloadSize = Utils.bytesToSize(userTrafficItem.sync_file_download);\n    let webUploadSize = Utils.bytesToSize(userTrafficItem.web_file_upload);\n    let webDownloadSize = Utils.bytesToSize(userTrafficItem.web_file_download);\n    let linkUploadSize = Utils.bytesToSize(userTrafficItem.link_file_upload);\n    let linkDownloadSize = Utils.bytesToSize(userTrafficItem.link_file_download);\n\n    return(\n      <tr>\n        <td>{this.trafficName()}</td>\n        <td>{syncUploadSize}</td>\n        <td>{syncDownloadSize}</td>\n        <td>{webUploadSize}</td>\n        <td>{webDownloadSize}</td>\n        <td>{linkUploadSize}</td>\n        <td>{linkDownloadSize}</td>\n      </tr>\n    );\n  }\n}\n\nTrafficTableBody.propTypes = propTypes;\n\nexport default TrafficTableBody;\n","import React, { Fragment } from 'react';\nimport { Input } from 'reactstrap';\nimport TrafficTable from './traffic-table';\nimport TrafficTableBody from './traffic-table-body';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport Paginator from '../../../components/paginator';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport { gettext, orgID } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nclass UsersTraffic extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      userTrafficList: [],\n      hasNextPage: false,\n      perPage: 25,\n      currentPage: 1,\n      month: moment().format('YYYYMM'),\n      isLoading: false,\n      errorMessage: '',\n      sortBy: 'link_file_download',\n      sortOrder: 'desc'\n    };\n    this.initPage = 1;\n    this.initMonth = moment().format('YYYYMM');\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getTrafficList(this.initMonth, this.state.currentPage);\n    });\n  }\n\n  getPreviousPage = () => {\n    this.getTrafficList(this.state.month, this.state.currentPage - 1);\n  }\n\n  getNextPage = () => {\n    this.getTrafficList(this.state.month, this.state.currentPage + 1);\n  }\n\n  handleChange = (e) => {\n    let month = e.target.value;\n    this.setState({\n      month: month\n    });\n  }\n\n  handleKeyPress = (e) => {\n    let { month } = this.state;\n    if (e.key === 'Enter') {\n      let pattern = /^([012]\\d{3})(0[1-9]|1[012])$/;\n      if (!pattern.test(month)) {\n        let errorMessage = gettext('Invalid month, should be yyyymm.');\n        this.setState({\n          errorMessage: errorMessage\n        });\n        return;\n      }\n      this.getTrafficList(month, this.initPage);\n      e.target.blur();\n      e.preventDefault();\n    }\n  }\n\n  getTrafficList = (month, page) => {\n    const { perPage, sortBy, sortOrder } = this.state;\n    const orderBy = sortOrder == 'asc' ? sortBy : `${sortBy}_${sortOrder}`;\n    this.setState({\n      isLoading: true,\n      errorMessage: ''\n    });\n    seafileAPI.orgAdminListUserTraffic(orgID, month, page, perPage, orderBy).then(res => {\n      let userTrafficList = res.data.user_monthly_traffic_list.slice(0);\n      this.setState({\n        month: month,\n        currentPage: page,\n        userTrafficList: userTrafficList,\n        hasNextPage: res.data.has_next_page,\n        isLoading: false\n      });\n    }).catch(err => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  }\n\n  sortItems = (sortBy) => {\n    this.setState({\n      sortBy: sortBy,\n      sortOrder: this.state.sortOrder == 'asc' ? 'desc' : 'asc'\n    }, () => {\n      const { month, currentPage } = this.state;\n      this.getTrafficList(month, currentPage);\n    });\n  }\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getTrafficList(this.initMonth, this.initPage));\n  }\n\n  render() {\n    const {\n      isLoading, errorMessage, userTrafficList,\n      currentPage, hasNextPage, perPage,\n      sortBy, sortOrder\n    } = this.state;\n    return (\n      <Fragment>\n        <div className=\"d-flex align-items-center mt-4\">\n          <span className=\"statistic-reports-tip\">{gettext('Month:')}</span>\n          <Input\n            className=\"statistic-reports-input\"\n            defaultValue={moment().format('YYYYMM')}\n            onChange={this.handleChange}\n            onKeyPress={this.handleKeyPress}\n          />\n          {errorMessage && <div className=\"error\">{errorMessage}</div>}\n        </div>\n        {isLoading && <Loading />}\n        {!isLoading &&\n          <TrafficTable type={'user'} sortItems={this.sortItems} sortBy={sortBy} sortOrder={sortOrder}>\n            {userTrafficList.length > 0 && userTrafficList.map((item, index) => {\n              return(\n                <TrafficTableBody\n                  key={index}\n                  userTrafficItem={item}\n                  type={'user'}\n                />\n              );\n            })}\n          </TrafficTable>\n        }\n        <Paginator\n          gotoPreviousPage={this.getPreviousPage}\n          gotoNextPage={this.getNextPage}\n          currentPage={currentPage}\n          hasNextPage={hasNextPage}\n          curPerPage={perPage}\n          resetPerPage={this.resetPerPage}\n        />\n      </Fragment>\n    );\n  }\n}\n\nexport default UsersTraffic;\n","import React, { Fragment } from 'react';\nimport moment from 'moment';\nimport { gettext, orgID } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport StatisticNav from './statistic-nav';\nimport StatisticCommonTool from './statistic-common-tool';\nimport Loading from '../../../components/loading';\nimport UsersTraffic from './statistic-traffic-users';\nimport StatisticChart from './statistic-chart';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nclass OrgStatisticTraffic extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      filesData: [],\n      linkData: [],\n      syncData: [],\n      webData: [],\n      labels: [],\n      isLoading: true,\n      tabActive: 'system'\n    };\n  }\n\n  changeTabActive = activeName => {\n    this.setState({tabActive: activeName});\n  }\n\n  getActiviesFiles = (startTime, endTime, groupBy) => {\n    seafileAPI.orgAdminStatisticSystemTraffic(orgID, startTime, endTime, groupBy).then((res) => {\n      let labels = [];\n      let total_upload = [],\n        total_download = [],\n        link_upload = [],\n        link_download = [],\n        sync_upload = [],\n        sync_download = [],\n        web_upload = [],\n        web_download = [];\n      let data = res.data;\n      if (Array.isArray(data)) {\n        data.forEach(item => {\n          labels.push(moment(item.datetime).format('YYYY-MM-DD'));\n          link_upload.push(item['link-file-upload']);\n          link_download.push(item['link-file-download']);\n          sync_upload.push(item['sync-file-upload']);\n          sync_download.push(item['sync-file-download']);\n          web_upload.push(item['web-file-upload']);\n          web_download.push(item['web-file-download']);\n          total_upload.push(item['link-file-upload'] + item['sync-file-upload'] + item['web-file-upload']);\n          total_download.push(item['link-file-download'] + item['sync-file-download'] + item['web-file-download']);\n        });\n        let linkUpload = {\n          label: gettext('Upload'),\n          data: link_upload,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        let linkDownload = {\n          label: gettext('Download'),\n          data: link_download,\n          borderColor: '#57cd6b',\n          backgroundColor: '#57cd6b'};\n        let syncUpload = {\n          label: gettext('Upload'),\n          data: sync_upload,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        let syncDownload = {\n          label: gettext('Download'),\n          data: sync_download,\n          borderColor: '#57cd6b',\n          backgroundColor: '#57cd6b'};\n        let webUpload = {\n          label: gettext('Upload'),\n          data: web_upload,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        let webDownload = {\n          label: gettext('Download'),\n          data: web_download,\n          borderColor: '#57cd6b',\n          backgroundColor: '#57cd6b'};\n        let totalUpload = {\n          label: gettext('Upload'),\n          data: total_upload,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        let totalDownload = {\n          label: gettext('Download'),\n          data: total_download,\n          borderColor: '#57cd6b',\n          backgroundColor: '#57cd6b'};\n        let linkData = [linkUpload, linkDownload];\n        let syncData = [syncUpload, syncDownload];\n        let webData = [webUpload, webDownload];\n        let filesData = [totalUpload, totalDownload];\n        this.setState({\n          linkData: linkData,\n          syncData: syncData,\n          webData: webData,\n          filesData: filesData,\n          labels: labels,\n          isLoading: false\n        });\n      }\n    }).catch(err => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  }\n\n  renderCommonTool = () => {\n    let { tabActive } = this.state;\n    if (tabActive === 'system') {\n      return (\n        <StatisticCommonTool getActiviesFiles={this.getActiviesFiles}>\n          <div className=\"statistic-traffic-tab\">\n            <div className={`statistic-traffic-tab-item ${tabActive === 'system' ? 'active' : ''}`} onClick={this.changeTabActive.bind(this, 'system')}>{gettext('System')}</div>\n            <div className={`statistic-traffic-tab-item ${tabActive === 'user' ? 'active' : ''}`} onClick={this.changeTabActive.bind(this, 'user')}>{gettext('Users')}</div>\n          </div>\n        </StatisticCommonTool>\n      );\n    }\n    return (\n      <div className=\"statistic-traffic-tab\">\n        <div className={`statistic-traffic-tab-item ${tabActive === 'system' ? 'active' : ''}`} onClick={this.changeTabActive.bind(this, 'system')}>{gettext('System')}</div>\n        <div className={`statistic-traffic-tab-item ${tabActive === 'user' ? 'active' : ''}`} onClick={this.changeTabActive.bind(this, 'user')}>{gettext('Users')}</div>\n      </div>\n    );\n  }\n\n  render() {\n    let { labels, filesData, linkData, syncData, webData, isLoading, tabActive } = this.state;\n\n    return (\n      <Fragment>\n        <MainPanelTopbar />\n        <div className=\"cur-view-container\">\n          <StatisticNav currentItem=\"trafficStatistic\" />\n          <div className=\"cur-view-content\">\n            {this.renderCommonTool()}\n            {isLoading && <Loading />}\n            {!isLoading && tabActive === 'system' &&\n              <div className=\"statistic-traffic-chart-container\">\n                <div className=\"mb-4\">\n                  {labels.length > 0 &&\n                    <StatisticChart\n                      labels={labels}\n                      filesData={filesData}\n                      chartTitle={gettext('Total Traffic')}\n                      suggestedMaxNumbers={10*1000*1000}\n                      isTitleCallback={true}\n                      isTicksCallback={true}\n                      isLegendStatus={true}\n                    />\n                  }\n                </div>\n                <div className=\"mb-4\">\n                  {labels.length > 0 &&\n                    <StatisticChart\n                      labels={labels}\n                      filesData={webData}\n                      chartTitle={gettext('Web Traffic')}\n                      suggestedMaxNumbers={10*1000*1000}\n                      isTitleCallback={true}\n                      isTicksCallback={true}\n                      isLegendStatus={true}\n                    />\n                  }\n                </div>\n                <div className=\"mb-4\">\n                  {labels.length > 0 &&\n                    <StatisticChart\n                      labels={labels}\n                      filesData={linkData}\n                      chartTitle={gettext('Share Link Traffic')}\n                      suggestedMaxNumbers={10*1000*1000}\n                      isTitleCallback={true}\n                      isTicksCallback={true}\n                      isLegendStatus={true}\n                    />\n                  }\n                </div>\n                <div className=\"mb-4\">\n                  {labels.length > 0 &&\n                    <StatisticChart\n                      labels={labels}\n                      filesData={syncData}\n                      chartTitle={gettext('Sync Traffic')}\n                      suggestedMaxNumbers={10*1000*1000}\n                      isTitleCallback={true}\n                      isTicksCallback={true}\n                      isLegendStatus={true}\n                    />\n                  }\n                </div>\n              </div>\n            }\n            {!isLoading && tabActive === 'user' &&\n              <UsersTraffic />\n            }\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default OrgStatisticTraffic;\n","import React, { Fragment } from 'react';\nimport moment from 'moment';\nimport { gettext, orgID } from '../../../utils/constants';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport StatisticNav from './statistic-nav';\nimport StatisticCommonTool from './statistic-common-tool';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport StatisticChart from './statistic-chart';\nimport Loading from '../../../components/loading';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nclass OrgStatisticUsers extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      filesData: [],\n      labels: [],\n      isLoading: true,\n    };\n  }\n\n  getActiviesFiles = (startTime, endTime, groupBy) => {\n    let { filesData } = this.state;\n    seafileAPI.orgAdminStatisticActiveUsers(orgID, startTime, endTime, groupBy).then((res) => {\n      let labels = [],\n        count = [];\n      let data = res.data;\n      if (Array.isArray(data)) {\n        data.forEach(item => {\n          labels.push(moment(item.datetime).format('YYYY-MM-DD'));\n          count.push(item.count);\n        });\n        let userCount = {\n          label: gettext('Active Users'),\n          data: count,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        filesData = [userCount];\n      }\n      this.setState({\n        filesData: filesData,\n        labels: labels,\n        isLoading: false\n      });\n    }).catch(err => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    let { labels, filesData, isLoading } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar />\n        <div className=\"cur-view-container\">\n          <StatisticNav currentItem=\"usersStatistic\" />\n          <div className=\"cur-view-content\">\n            <StatisticCommonTool getActiviesFiles={this.getActiviesFiles} />\n            {isLoading && <Loading />}\n            {!isLoading && labels.length > 0 &&\n              <StatisticChart\n                labels={labels}\n                filesData={filesData}\n                suggestedMaxNumbers={10}\n                isLegendStatus={false}\n                chartTitle={gettext('Active Users')}\n              />\n            }\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default OrgStatisticUsers;\n","import React, { Fragment } from 'react';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport moment from 'moment';\nimport StatisticNav from './statistic-nav';\nimport { Button, Input } from 'reactstrap';\nimport { siteRoot, gettext, orgID } from '../../../utils/constants';\n\nclass OrgStatisticReports extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      month: moment().format('YYYYMM'),\n      errorMessage: ''\n    };\n  }\n\n  handleChange = (e) => {\n    let month = e.target.value;\n    this.setState({\n      month: month\n    });\n  }\n\n  onGenerateReports = (type) => {\n    let url = siteRoot + 'api/v2.1/org/' + orgID + '/admin/statistics/';\n    let { month } = this.state;\n    if (!month) {\n      let errorMessage = gettext('It is required.');\n      this.setState({\n        errorMessage: errorMessage\n      });\n      return;\n    }\n    if (type === 'month') {\n      let pattern = /^([012]\\d{3})(0[1-9]|1[012])$/;\n      if (!pattern.test(month)) {\n        let errorMessage = gettext('Invalid month, should be yyyymm.');\n        this.setState({\n          errorMessage: errorMessage\n        });\n        return;\n      }\n    }\n    switch(type) {\n      case 'month':\n        url += 'user-traffic/excel/?month=' + month;\n        break;\n      case 'storage':\n        url += 'user-storage/excel/?';\n        break;\n    }\n    this.setState({\n      errorMessage: ''\n    });\n    window.location.href = url;\n  }\n\n  render() {\n\n    let { errorMessage } = this.state;\n    return(\n      <Fragment>\n        <MainPanelTopbar />\n        <div className=\"cur-view-container\">\n          <StatisticNav currentItem=\"reportsStatistic\" />\n          <div className=\"cur-view-content\">\n            <div className=\"statistic-reports\">\n              <div className=\"statistic-reports-title\">{gettext('Monthly User Traffic')}</div>\n              <div className=\"d-flex align-items-center mt-4\">\n                <span className=\"statistic-reports-tip\">{gettext('Month:')}</span>\n                <Input className=\"statistic-reports-input\" defaultValue={moment().format('YYYYMM')} onChange={this.handleChange} />\n                <Button className=\"statistic-reports-submit operation-item\" onClick={this.onGenerateReports.bind(this, 'month')}>{gettext('Create Report')}</Button>\n              </div>\n              {errorMessage && <div className=\"error\">{errorMessage}</div>}\n            </div>\n            <div className=\"statistic-reports\">\n              <div className=\"statistic-reports-title\">{gettext('User Storage')}</div>\n              <Button className=\"mt-4 operation-item\" onClick={this.onGenerateReports.bind(this, 'storage')}>{gettext('Create Report')}</Button>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default OrgStatisticReports;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'desktop', urlPart:'desktop-devices', text: gettext('Desktop')},\n      {name: 'mobile', urlPart:'mobile-devices', text: gettext('Mobile')},\n      {name: 'errors', urlPart:'devices-errors', text: gettext('Errors')}\n    ];\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}org/deviceadmin/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { orgID, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport SysAdminUnlinkDevice from '../../../components/dialog/sysadmin-dialog/sysadmin-unlink-device-dialog';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPageDevicesList = () => {\n    this.props.getDevicesListByPage(this.props.pageInfo.current_page - 1);\n  }\n\n  getNextPageDevicesList = () => {\n    this.props.getDevicesListByPage(this.props.pageInfo.current_page + 1);\n  }\n\n  render() {\n    const { loading, errorMsg, items, pageInfo, curPerPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No connected devices')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"19%\">{gettext('User')}</th>\n                <th width=\"19%\">{gettext('Platform')}{' / '}{gettext('Version')}</th>\n                <th width=\"19%\">{gettext('Device Name')}</th>\n                <th width=\"19%\">{gettext('IP')}</th>\n                <th width=\"19%\">{gettext('Last Access')}</th>\n                <th width=\"5%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item key={index} item={item} />);\n              })}\n            </tbody>\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPageDevicesList}\n            gotoNextPage={this.getNextPageDevicesList}\n            currentPage={pageInfo.current_page}\n            hasNextPage={pageInfo.has_next_page}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      unlinked: false,\n      isOpIconShown: false,\n      isUnlinkDeviceDialogOpen: false\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({isOpIconShown: true});\n  }\n\n  handleMouseOut = () => {\n    this.setState({isOpIconShown: false});\n  }\n\n  handleUnlink = (e) => {\n    e.preventDefault();\n    if (this.props.item.is_desktop_client) {\n      this.toggleUnlinkDeviceDialog();\n    } else {\n      this.unlinkDevice(true);\n    }\n  }\n\n  toggleUnlinkDeviceDialog = () => {\n    this.setState({isUnlinkDeviceDialogOpen: !this.state.isUnlinkDeviceDialogOpen});\n  }\n\n  unlinkDevice = (deleteFiles) => {\n    const { platform, device_id, user } = this.props.item;\n    seafileAPI.orgAdminUnlinkDevice(orgID, platform, device_id, user, deleteFiles).then((res) => {\n      this.setState({unlinked: true});\n      let message = gettext('Successfully unlinked the device.');\n      toaster.success(message);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    const item = this.props.item;\n    const { unlinked, isUnlinkDeviceDialogOpen, isOpIconShown } = this.state;\n\n    if (unlinked) {\n      return null;\n    }\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseOver} onMouseLeave={this.handleMouseOut}>\n          <td>{item.user_name}</td>\n          <td>{item.platform}{' / '}{item.client_version}</td>\n          <td>{item.device_name}</td>\n          <td>{item.last_login_ip}</td>\n          <td>\n            <span title={moment(item.last_accessed).format('llll')}>{moment(item.last_accessed).fromNow()}</span>\n          </td>\n          <td>\n            <a href=\"#\" className={`sf2-icon-delete action-icon ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Unlink')} onClick={this.handleUnlink}></a>\n          </td>\n        </tr>\n        {isUnlinkDeviceDialogOpen &&\n          <SysAdminUnlinkDevice\n            unlinkDevice={this.unlinkDevice}\n            toggleDialog={this.toggleUnlinkDeviceDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nclass DevicesByPlatform extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      devicesData: {},\n      pageInfo: {},\n      perPage: 25\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage = 1, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getDevicesListByPage(this.state.currentPage);\n    });\n  }\n\n  getDevicesListByPage = (page) => {\n    let platform = this.props.devicesPlatform;\n    let per_page = this.state.perPage;\n    seafileAPI.orgAdminListDevices(orgID, platform, page, per_page).then((res) => {\n      this.setState({\n        devicesData: res.data.devices,\n        pageInfo: res.data.page_info,\n        loading: false\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getDevicesListByPage(1);\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"cur-view-content\">\n        <Content\n          loading={this.state.loading}\n          errorMsg={this.state.errorMsg}\n          items={this.state.devicesData}\n          getDevicesListByPage={this.getDevicesListByPage}\n          curPerPage={this.state.perPage}\n          resetPerPage={this.resetPerPage}\n          pageInfo={this.state.pageInfo}\n        />\n      </div>\n    );\n  }\n}\n\nexport default DevicesByPlatform;\n","import React, { Component, Fragment } from 'react';\nimport DevicesNav from './devices-nav';\nimport DevicesByPlatform from './devices-by-platform';\nimport MainPanelTopbar from '../main-panel-topbar';\n\nclass OrgDesktopDevices extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <DevicesNav currentItem=\"desktop\" />\n            <DevicesByPlatform\n              devicesPlatform={'desktop'}\n            />\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default OrgDesktopDevices;\n","import React, { Component, Fragment } from 'react';\nimport DevicesNav from './devices-nav';\nimport DevicesByPlatform from './devices-by-platform';\nimport MainPanelTopbar from '../main-panel-topbar';\n\nclass MobileDevices extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <DevicesNav currentItem=\"mobile\" />\n            <DevicesByPlatform\n              devicesPlatform={'mobile'}\n            />\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default MobileDevices;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, orgID } from '../../utils/constants';\n\nconst propTypes = {\n  email: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired\n};\n\nclass UserLink extends Component {\n\n  render() {\n    return <Link to={`${siteRoot}org/useradmin/info/${encodeURIComponent(this.props.email)}/`}>{this.props.name}</Link>;\n  }\n}\n\nUserLink.propTypes = propTypes;\n\nexport default UserLink;\n","import React, { Component, Fragment } from 'react';\nimport { Button } from 'reactstrap';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext, orgID } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport { Link } from '@gatsbyjs/reach-router';\nimport DevicesNav from './devices-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport Paginator from '../../../components/paginator';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPageDeviceErrorsList = () => {\n    this.props.getDeviceErrorsListByPage(this.props.pageInfo.current_page - 1);\n  }\n\n  getNextPageDeviceErrorsList = () => {\n    this.props.getDeviceErrorsListByPage(this.props.pageInfo.current_page + 1);\n  }\n\n  render() {\n    const { loading, errorMsg, items, pageInfo, curPerPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No sync errors')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"16%\">{gettext('User')}</th>\n                <th width=\"20%\">{gettext('Device')}{' / '}{gettext('Version')}</th>\n                <th width=\"16%\">{gettext('IP')}</th>\n                <th width=\"16%\">{gettext('Library')}</th>\n                <th width=\"16%\">{gettext('Error')}</th>\n                <th width=\"16%\">{gettext('Time')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item key={index} item={item} />);\n              })}\n            </tbody>\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPageDeviceErrorsList}\n            gotoNextPage={this.getNextPageDeviceErrorsList}\n            currentPage={pageInfo.current_page}\n            hasNextPage={pageInfo.has_next_page}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({isOpIconShown: true});\n  }\n\n  handleMouseOut = () => {\n    this.setState({isOpIconShown: false});\n  }\n\n  render() {\n    let item = this.props.item;\n    return (\n      <tr onMouseEnter={this.handleMouseOver} onMouseLeave={this.handleMouseOut}>\n        <td><UserLink email={item.email} name={item.name} /></td>\n        <td>{item.device_name}{' / '}{item.client_version}</td>\n        <td>{item.device_ip}</td>\n        <td><Link to={`${siteRoot}sysadmin/#libs/${item.repo_id}`}>{item.repo_name}</Link></td>\n        <td>{item.error_msg}</td>\n        <td>\n          <span className=\"item-meta-info\" title={moment(item.last_accessed).format('llll')}>{moment(item.error_time).fromNow()}</span>\n        </td>\n      </tr>\n    );\n  }\n}\n\nclass OrgDevicesErrors extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      devicesErrors: [],\n      isCleanBtnShown: false,\n      pageInfo: {},\n      perPage: 25\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage = 1, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getDeviceErrorsListByPage(this.state.currentPage);\n    });\n  }\n\n  getDeviceErrorsListByPage = (page) => {\n    let per_page = this.state.perPage;\n    seafileAPI.orgAdminListDevicesErrors(orgID, page, per_page).then((res) => {\n      this.setState({\n        loading: false,\n        devicesErrors: res.data.device_errors,\n        pageInfo: res.data.page_info,\n        isCleanBtnShown: res.data.length > 0\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  clean = () => {\n    seafileAPI.sysAdminClearDeviceErrors().then((res) => {\n      this.setState({\n        devicesErrors: [],\n        isCleanBtnShown: false\n      });\n      let message = gettext('Successfully cleaned all errors.');\n      toaster.success(message);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getDeviceErrorsListByPage(1);\n    });\n  }\n  render() {\n    return (\n      <Fragment>\n        {this.state.isCleanBtnShown ? (\n          <MainPanelTopbar>\n            <Button className=\"operation-item\" onClick={this.clean}>{gettext('Clean')}</Button>\n          </MainPanelTopbar>\n        ) : (\n          <MainPanelTopbar />\n        )}\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <DevicesNav currentItem=\"errors\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.devicesErrors}\n                getDeviceErrorsListByPage={this.getDeviceErrorsListByPage}\n                curPerPage={this.state.perPage}\n                resetPerPage={this.resetPerPage}\n                pageInfo={this.state.pageInfo}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default OrgDevicesErrors;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  headingText: PropTypes.string.isRequired,\n  children: PropTypes.object.isRequired\n};\n\nclass Section extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { headingText, children} = this.props;\n    return (\n      <div className=\"mb-4\">\n        <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{headingText}</h4>\n        {children}\n      </div>\n    );\n  }\n}\n\nSection.propTypes = propTypes;\n\nexport default Section;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Row, Col, Label } from 'reactstrap';\n\nconst propTypes = {\n  displayName: PropTypes.string.isRequired,\n  helpTip: PropTypes.string,\n  mainContent: PropTypes.object.isRequired,\n  extraContent: PropTypes.object\n};\n\nclass SettingItemBase extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { helpTip, displayName, mainContent, extraContent } = this.props;\n    return (\n      <Fragment>\n        <Row className=\"my-4\">\n          <Col md=\"3\">\n            <Label className=\"web-setting-label\">{displayName}</Label>\n          </Col>\n          <Col md=\"5\">\n            {mainContent}\n            {helpTip && <p className=\"small text-secondary mt-1\">{helpTip}</p>}\n          </Col>\n          <Col md=\"4\">\n            {extraContent}\n          </Col>\n        </Row>\n      </Fragment>\n    );\n  }\n}\n\nSettingItemBase.propTypes = propTypes;\n\nexport default SettingItemBase;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Input, Button } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport SettingItemBase from './setting-item-base';\n\nconst propTypes = {\n  inputType: PropTypes.string,\n  saveSetting: PropTypes.func.isRequired,\n  keyText: PropTypes.string.isRequired,\n  value: PropTypes.oneOfType([PropTypes.string,PropTypes.number]),\n  helpTip: PropTypes.string.isRequired,\n  displayName: PropTypes.string.isRequired,\n  disabled: PropTypes.bool.isRequired,\n};\n\nclass WebSettingInput extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isBtnsShown: false,\n      value: this.props.value\n    };\n  }\n\n  toggleBtns = () => {\n    this.setState({isBtnsShown: !this.state.isBtnsShown});\n  }\n\n  hideBtns = (e) => {\n    if (!this.state.isBtnsShown) {\n      return;\n    }\n    if (this.props.value != this.state.value) {\n      this.setState({value: this.props.value});\n    }\n    this.toggleBtns();\n  }\n\n  onInputChange = (e) => {\n    this.setState({ value: e.target.value });\n  }\n\n  onSubmit = (e) => {\n    const value = this.state.value.trim();\n    if (value != this.props.value) {\n      this.props.saveSetting(this.props.keyText, value);\n    }\n    this.toggleBtns();\n  }\n\n  render() {\n    const { isBtnsShown, value } = this.state;\n    const { helpTip, displayName, inputType, disabled } = this.props;\n    return (\n      <SettingItemBase\n        displayName={displayName}\n        helpTip={helpTip}\n        mainContent={\n          disabled ?\n          <Input type={inputType || 'text'} className={inputType == 'textarea' ? 'web-setting-textarea' : ''} value={value} disabled /> :\n          <Input type={inputType || 'text'} className={inputType == 'textarea' ? 'web-setting-textarea' : ''} onChange={this.onInputChange} onFocus={this.toggleBtns} onBlur={this.hideBtns} value={value} />\n        }\n        extraContent={\n          isBtnsShown ?\n            <Fragment>\n              <Button className=\"sf2-icon-tick web-setting-icon-btn web-setting-icon-btn-submit\" onMouseDown={this.onSubmit} title={gettext('Submit')}></Button>\n              <Button className=\"ml-1 sf2-icon-x2 web-setting-icon-btn web-setting-icon-btn-cancel\" title={gettext('Cancel')}></Button>\n            </Fragment> : null\n        }\n      />\n    );\n  }\n}\n\nWebSettingInput.propTypes = propTypes;\n\nexport default WebSettingInput;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport SettingItemBase from './setting-item-base';\n\nconst propTypes = {\n  postFile: PropTypes.func.isRequired,\n  keyText: PropTypes.string.isRequired,\n  filePath: PropTypes.string.isRequired,\n  helpTip: PropTypes.string.isRequired,\n  fileWidth: PropTypes.number.isRequired,\n  fileHeight: PropTypes.number.isRequired,\n  displayName: PropTypes.string.isRequired\n};\n\nclass WebSettingFile extends Component {\n\n  constructor(props) {\n    super(props);\n    this.fileInput = React.createRef();\n  }\n\n  uploadFile = () => {\n    if (!this.fileInput.current.files.length) {\n      return;\n    }\n    const file = this.fileInput.current.files[0];\n    this.props.postFile(file, this.props.keyText);\n  }\n\n  openFileInput = () => {\n    this.fileInput.current.click();\n  }\n\n  render() {\n    const { helpTip, filePath, fileWidth, fileHeight, displayName } = this.props;\n    return (\n      <SettingItemBase\n        displayName={displayName}\n        helpTip={helpTip}\n        mainContent={\n          <img src={filePath + '?t=' + new Date().getTime()} alt={displayName} width={fileWidth} height={fileHeight} className=\"mb-1\" />\n        }\n        extraContent={\n          <Fragment>\n            <Button color=\"secondary\" onClick={this.openFileInput}>{gettext('Change')}</Button>\n            <input className=\"d-none\" type=\"file\" onChange={this.uploadFile} ref={this.fileInput} />\n          </Fragment>\n        }\n      />\n    );\n  }\n}\n\nWebSettingFile.propTypes = propTypes;\n\nexport default WebSettingFile;\n","import React, { Component, Fragment } from 'react';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, isPro, mediaUrl, logoPath, orgID, orgEnableAdminCustomLogo, orgEnableAdminCustomName } from '../../../utils/constants';\nimport Loading from '../../../components/loading';\nimport toaster from '../../../components/toast';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Section from './section';\nimport InputItem from './input-item';\nimport FileItem from './file-item';\nimport CheckboxItem from './checkbox-item';\n\nimport '../../../css/system-admin-web-settings.css';\n\nclass OrgWebSettings extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      config_dict: null,\n      logoPath: logoPath,\n      file_ext_white_list: '',\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.orgAdminGetOrgInfo().then((res) => {\n      this.setState({\n        loading: false,\n        config_dict: res.data,\n        file_ext_white_list: res.data.file_ext_white_list\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  updateName= (key, newOrgName) => {\n     seafileAPI.orgAdminUpdateName(orgID, newOrgName).then((res) => {\n       this.setState({\n         config_dict: res.data\n       });\n       toaster.success(gettext('Success'));\n     }).catch((error) => {\n       let errMessage = Utils.getErrorMsg(error);\n       toaster.danger(errMessage);\n     });\n  }\n\n  updateLogo = (file) => {\n    seafileAPI.orgAdminUpdateLogo(orgID, file).then((res) => {\n      this.setState({\n        logoPath: res.data.logo_path\n      });\n      toaster.success(gettext('Success'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  updateFileExtWhiteList = (key, value) => {\n    seafileAPI.orgAdminSetSysSettingInfo(orgID, key, value).then((res) => {\n      this.setState({\n        file_ext_white_list: res.data.file_ext_white_list\n      });\n      toaster.success(gettext('Success'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    const { loading, errorMsg, config_dict, file_ext_white_list } = this.state;\n    let logoPath = this.state.logoPath;\n    logoPath = logoPath.indexOf('image-view') != -1 ? logoPath : mediaUrl + logoPath;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Settings')}</h3>\n            </div>\n            <div className=\"cur-view-content container mw-100\">\n              {loading && <Loading />}\n              {errorMsg && <p className=\"error text-center mt-4\">{errorMsg}</p>}\n              {(!loading && !errorMsg) && config_dict &&\n              <Fragment>\n                <p className=\"small text-secondary my-4\"></p>\n\n                <Section headingText={gettext('Info')}>\n                  <Fragment>\n                    <InputItem\n                      saveSetting={this.updateName}\n                      displayName={gettext('Team name')}\n                      keyText='orgName'\n                      value={config_dict['org_name']}\n                      helpTip={''}\n                      disabled={!orgEnableAdminCustomName}\n                    />\n                    { orgEnableAdminCustomLogo && <FileItem\n                      postFile={this.updateLogo}\n                      displayName='Logo'\n                      keyText='Logo'\n                      filePath={logoPath}\n                      fileWidth={256}\n                      fileHeight={64}\n                      helpTip='logo.png, 256px * 64px'\n                    />\n                    }\n                  </Fragment>\n                </Section>\n                <Section headingText={gettext('File Upload')}>\n                  <Fragment>\n                    <InputItem\n                      saveSetting={this.updateFileExtWhiteList}\n                      displayName={gettext('File extension white list')}\n                      keyText='file_ext_white_list'\n                      value={file_ext_white_list}\n                      helpTip={gettext('File extension white list for file upload via web UI and API. For example, \"md;txt;docx\". Empty means no limit.')}\n                    />\n                  </Fragment>\n                </Section>\n              </Fragment>\n              }\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default OrgWebSettings;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Input } from 'reactstrap';\nimport SettingItemBase from './setting-item-base';\n\nconst propTypes = {\n  saveSetting: PropTypes.func.isRequired,\n  keyText: PropTypes.string.isRequired,\n  value: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n  helpTip: PropTypes.string.isRequired,\n  displayName: PropTypes.string.isRequired\n};\n\nclass WebSettingCheckbox extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      inputChecked: this.props.value\n    };\n  }\n\n  onInputChange = (e) => {\n    const checked = e.target.checked;\n    const valueToNum = checked ? 1 : 0;\n    this.setState({\n      inputChecked: checked\n    });\n    this.props.saveSetting(this.props.keyText, valueToNum);\n  }\n\n  render() {\n    const { inputChecked } = this.state;\n    const { helpTip, displayName } = this.props;\n    return (\n      <SettingItemBase\n        displayName={displayName}\n        mainContent={\n          <Fragment>\n            <Input className=\"ml-0\" checked={inputChecked} type='checkbox' onChange={this.onInputChange} />\n            <p className=\"ml-4\">{helpTip}</p>\n          </Fragment>\n        }\n      />\n    );\n  }\n}\n\nWebSettingCheckbox.propTypes = propTypes;\n\nexport default WebSettingCheckbox;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'all', urlPart: 'useradmin', text: gettext('All')},\n      {name: 'admins', urlPart: 'useradmin/admins', text: gettext('Admin')}\n    ];\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}org/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport SelectEditor from './select-editor';\n\nconst propTypes = {\n  isTextMode: PropTypes.bool.isRequired,\n  isEditIconShow: PropTypes.bool.isRequired,\n  statusArray: PropTypes.array.isRequired,\n  currentStatus: PropTypes.string.isRequired,\n  onStatusChanged: PropTypes.func.isRequired\n};\n\nclass UserStatusEditor extends React.Component {\n\n  translateStatus = (userStatus) => {\n    if (userStatus === 'active') {\n      return gettext('Active');\n    }\n\n    if (userStatus === 'inactive') {\n      return gettext('Inactive');\n    }\n  }\n\n  render() {\n    return (\n      <SelectEditor\n        isTextMode={this.props.isTextMode}\n        isEditIconShow={this.props.isEditIconShow}\n        options={this.props.statusArray}\n        currentOption={this.props.currentStatus}\n        onOptionChanged={this.props.onStatusChanged}\n        translateOption={this.translateStatus}\n      />\n    );\n  }\n\n}\n\nUserStatusEditor.propTypes = propTypes;\n\nexport default UserStatusEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport { gettext, siteRoot, orgID, username } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../../components/toast';\nimport UserStatusEditor from '../../components/select-editor/user-status-editor';\n\nconst propTypes = {\n  user: PropTypes.object,\n  currentTab: PropTypes.string,\n  toggleRevokeAdmin: PropTypes.func,\n  isItemFreezed: PropTypes.bool.isRequired,\n  toggleDelete: PropTypes.func.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n};\n\nclass UserItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      showMenu: false,\n      currentStatus: this.props.user.is_active ? 'active' : 'inactive',\n      isItemMenuShow: false\n    };\n\n    this.statusArray = ['active', 'inactive'];\n  }\n\n  onMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        showMenu: true,\n        highlight: true,\n      });\n    }\n  }\n\n  onMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        showMenu: false,\n        highlight: false\n      });\n    }\n  }\n\n  toggleDelete = () => {\n    const email = this.props.user.email;\n    this.props.toggleDelete(email);\n  }\n\n  toggleResetPW = () => {\n    const { email, name } = this.props.user;\n    toaster.success(gettext('Resetting user\\'s password, please wait for a moment.'));\n    seafileAPI.orgAdminResetOrgUserPassword(orgID, email).then(res => {\n      let msg;\n      msg = gettext('Successfully reset password to %(passwd)s for user %(user)s.');\n      msg = msg.replace('%(passwd)s', res.data.new_password);\n      msg = msg.replace('%(user)s', name);\n      toaster.success(msg, {\n        duration: 15\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  toggleRevokeAdmin = () => {\n    const email = this.props.user.email;\n    this.props.toggleRevokeAdmin(email);\n  }\n\n  changeStatus = (value) => {\n    const isActive = value == 'active';\n    if (isActive) {\n      toaster.notify(gettext('It may take some time, please wait.'));\n    }\n    this.props.changeStatus(this.props.user.email, isActive);\n  }\n\n  onDropdownToggleClick = (e) => {\n    e.preventDefault();\n    this.toggleOperationMenu(e);\n  }\n\n  toggleOperationMenu = (e) => {\n    e.stopPropagation();\n    this.setState(\n      {isItemMenuShow: !this.state.isItemMenuShow }, () => {\n        if (this.state.isItemMenuShow) {\n          this.props.onFreezedItem();\n        } else {\n          this.setState({\n            highlight: false,\n            showMenu: false,\n          });\n          this.props.onUnfreezedItem();\n        }\n      }\n    );\n  }\n\n  getQuotaTotal = (data) => {\n    switch (data) {\n      case -1: // failed to fetch quota\n        return gettext('Failed');\n      case -2:\n        return '--';\n      default: // data > 0\n        return Utils.formatSize({bytes: data});\n    }\n  }\n\n  render() {\n    let { user, currentTab } = this.props;\n    let href = siteRoot + 'org/useradmin/info/' + encodeURIComponent(user.email) + '/';\n    let isOperationMenuShow = (user.email !== username)  && this.state.showMenu;\n    let isEditIconShow = isOperationMenuShow;\n    return (\n      <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td>\n          <a href={href}>{user.name}</a>\n        </td>\n        <td>\n          <UserStatusEditor\n            isTextMode={true}\n            isEditIconShow={isEditIconShow}\n            currentStatus={user.is_active ? 'active' : 'inactive'}\n            statusArray={this.statusArray}\n            onStatusChanged={this.changeStatus}\n          />\n        </td>\n        <td>{`${Utils.formatSize({bytes: user.quota_usage})} / ${this.getQuotaTotal(user.quota_total)}`}</td>\n        <td>\n          {user.ctime} /\n          <br />\n          {user.last_login ? user.last_login : '--'}\n        </td>\n        <td className=\"text-center cursor-pointer\">\n          {isOperationMenuShow && (\n            <Dropdown isOpen={this.state.isItemMenuShow} toggle={this.toggleOperationMenu}>\n              <DropdownToggle\n                tag=\"a\"\n                className=\"attr-action-icon fas fa-ellipsis-v\"\n                title={gettext('More Operations')}\n                data-toggle=\"dropdown\"\n                aria-expanded={this.state.isItemMenuShow}\n                onClick={this.onDropdownToggleClick}\n              />\n              <DropdownMenu>\n                <DropdownItem onClick={this.toggleDelete}>{gettext('Delete')}</DropdownItem>\n                <DropdownItem onClick={this.toggleResetPW}>{gettext('ResetPwd')}</DropdownItem>\n                {currentTab == 'admins' && <DropdownItem onClick={this.toggleRevokeAdmin}>{gettext('Revoke Admin')}</DropdownItem>}\n              </DropdownMenu>\n            </Dropdown>\n          )}\n        </td>\n      </tr>\n    );\n  }\n}\n\nUserItem.propTypes = propTypes;\n\nexport default UserItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport UserItem from './org-user-item';\n\nconst propTypes = {\n  initOrgUsersData: PropTypes.func.isRequired,\n  toggleDelete: PropTypes.func.isRequired,\n  changeStatus: PropTypes.func.isRequired,\n  orgUsers: PropTypes.array.isRequired,\n  page: PropTypes.number.isRequired,\n  pageNext: PropTypes.bool.isRequired,\n};\n\nclass OrgUsersList extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  onChangePageNum = (e, num) => {\n    e.preventDefault();\n    let page = this.props.page;\n\n    if (num == 1) {\n      page = page + 1;\n    } else {\n      page = page - 1;\n    }\n\n    this.props.initOrgUsersData(page);\n  }\n\n  sortByQuotaUsage = (e) => {\n    e.preventDefault();\n    this.props.sortByQuotaUsage();\n  }\n\n  render() {\n    const { sortBy, sortOrder } = this.props;\n    let sortIcon;\n    if (sortBy == '') {\n      // initial sort icon\n      sortIcon = <span className=\"fas fa-sort\"></span>;\n    } else {\n      sortIcon = <span className={`fas ${sortOrder == 'asc' ? 'fa-caret-up' : 'fa-caret-down'}`}></span>;\n    }\n    let { orgUsers, page, pageNext } = this.props;\n    return (\n      <div className=\"cur-view-content\">\n        <table>\n          <thead>\n            <tr>\n              <th width=\"30%\">{gettext('Name')}</th>\n              <th width=\"15%\">{gettext('Status')}</th>\n              <th width=\"20%\">\n                <a className=\"d-inline-block table-sort-op\" href=\"#\" onClick={this.sortByQuotaUsage}>{gettext('Space Used')} {sortIcon}</a> / {gettext('Quota')}\n              </th>\n              <th width=\"25%\">{gettext('Created At')} / {gettext('Last Login')}</th>\n              <th width=\"10%\">{/*Operations*/}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {orgUsers.map((item, index) => {\n              return (\n                <UserItem\n                  key={index}\n                  user={item}\n                  currentTab=\"users\"\n                  isItemFreezed={this.state.isItemFreezed}\n                  toggleDelete={this.props.toggleDelete}\n                  changeStatus={this.props.changeStatus}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                />\n              );})}\n          </tbody>\n        </table>\n        <div className=\"paginator\">\n          {page !=1 && <a href=\"#\" onClick={(e) => this.onChangePageNum(e, -1)}>{gettext('Previous')}</a>}\n          {(page != 1 && pageNext) && <span> | </span>}\n          {pageNext && <a href=\"#\" onClick={(e) => this.onChangePageNum(e, 1)}>{gettext('Next')}</a>}\n        </div>\n      </div>\n    );\n  }\n}\n\nOrgUsersList.propTypes = propTypes;\n\nexport default OrgUsersList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert, Modal, ModalHeader, ModalBody, ModalFooter, Button } from 'reactstrap';\nimport { gettext, siteRoot } from '../../utils/constants';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  importUsersInBatch: PropTypes.func.isRequired,\n};\n\nclass ImportOrgUsersDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      errorMsg: ''\n    };\n    this.fileInputRef = React.createRef();\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  }\n\n  openFileInput = () => {\n    this.fileInputRef.current.click();\n  }\n\n  uploadFile = (e) => {\n    // no file selected\n    if (!this.fileInputRef.current.files.length) {\n      return;\n    }\n    // check file extension\n    let fileName = this.fileInputRef.current.files[0].name;\n    if(fileName.substr(fileName.lastIndexOf('.') + 1) != 'xlsx') {\n      this.setState({\n        errorMsg: gettext('Please choose a .xlsx file.')\n      });\n      return;\n    }\n    const file = this.fileInputRef.current.files[0];\n    this.props.importUsersInBatch(file);\n    this.toggle();\n  }\n\n  render() {\n    let { errorMsg } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Import users from a .xlsx file')}</ModalHeader>\n        <ModalBody>\n          <p><a className=\"text-secondary small\" href={`${siteRoot}useradmin/batchadduser/example/`}>{gettext('Download an example file')}</a></p>\n          <button className=\"btn btn-outline-primary\" onClick={this.openFileInput}>{gettext('Upload file')}</button>\n          <input className=\"d-none\" type=\"file\" onChange={this.uploadFile} ref={this.fileInputRef} />\n          {errorMsg && <Alert color=\"danger\">{errorMsg}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nImportOrgUsersDialog.propTypes = propTypes;\n\nexport default ImportOrgUsersDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, Input, ModalHeader, ModalBody, ModalFooter, Label, Form, InputGroup, InputGroupAddon, FormGroup } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n};\n\nclass AddOrgUserDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isPasswordVisible: true,\n      email: '',\n      name: '',\n      password: '',\n      passwdnew: '',\n      errMessage: '',\n      isAddingUser: false,\n    };\n    this.passwdInput = React.createRef();\n    this.passwdNewInput = React.createRef();\n  }\n\n  handleSubmit = () => {\n    let isValid = this.validateInputParams();\n    if (isValid) {\n      let { email, name, password } = this.state;\n      this.setState({isAddingUser: true});\n      this.props.handleSubmit(email, name.trim(), password);\n    }\n  }\n\n  handleKeyPress = (e) => {\n    e.preventDefault();\n    if (e.key == 'Enter') {\n      this.handleSubmit(e);\n    }\n  };\n\n  togglePasswordVisible = () => {\n    this.setState({isPasswordVisible: !this.state.isPasswordVisible}, () => {\n      if (this.state.isPasswordVisible) {\n        this.passwdInput.type = 'password';\n        this.passwdNewInput.type = 'password';\n      } else {\n        this.passwdInput.type = 'text';\n        this.passwdNewInput.type = 'text';\n      }\n    });\n  }\n\n  generatePassword = () => {\n    let val = Math.random().toString(36).substr(5);\n    this.setState({\n      password: val,\n      passwdnew: val,\n      isPasswordVisible: false\n    }, () => {\n      this.passwdInput.type = 'text';\n      this.passwdNewInput.type = 'text';\n    });\n  }\n\n  inputEmail = (e) => {\n    let email = e.target.value.trim();\n    this.setState({email: email});\n  }\n\n  inputName = (e) => {\n    let name = e.target.value;\n    this.setState({name: name});\n  }\n\n  inputPassword = (e) => {\n    let passwd = e.target.value.trim();\n    this.setState({password: passwd}, () => {\n      if (this.state.isPasswordVisible) {\n        this.passwdInput.type = 'password';\n        this.passwdNewInput.type = 'password';\n      }\n    });\n  }\n\n  inputPasswordNew = (e) => {\n    let passwd = e.target.value.trim();\n    this.setState({passwdnew: passwd}, () => {\n      if (this.state.isPasswordVisible) {\n        this.passwdInput.type = 'password';\n        this.passwdNewInput.type = 'password';\n      }\n    });\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  }\n\n  validateInputParams() {\n    let errMessage;\n    let email = this.state.email;\n    if (!email.length) {\n      errMessage = gettext('email is required');\n      this.setState({errMessage: errMessage});\n      return false;\n    }\n    let name = this.state.name.trim();\n    if (!name.length) {\n      errMessage = gettext('Name is required');\n      this.setState({errMessage: errMessage});\n      return false;\n    }\n\n    let password1 = this.state.password;\n    let password2 = this.state.passwdnew;\n    if (!password1.length) {\n      errMessage = gettext('Please enter password');\n      this.setState({errMessage: errMessage});\n      return false;\n    }\n    if (!password2.length) {\n      errMessage = gettext('Please enter the password again');\n      this.setState({errMessage: errMessage});\n      return false;\n    }\n    if (password1 !== password2) {\n      errMessage = gettext('Passwords don\\'t match');\n      this.setState({errMessage: errMessage});\n      return false;\n    }\n    return true;\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Add User')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"userEmail\">{gettext('Email')}</Label>\n              <Input id=\"userEmail\"  value={this.state.email || ''} onChange={this.inputEmail} />\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"userName\">{gettext('Name')}</Label>\n              <Input id=\"userName\" value={this.state.name || ''} onChange={this.inputName} />\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"userPwd\">{gettext('Password')}</Label>\n              <InputGroup className=\"passwd\">\n                <Input id=\"userPwd\" innerRef={input => {this.passwdInput = input;}} value={this.state.password || ''} onChange={this.inputPassword} />\n                <InputGroupAddon addonType=\"append\">\n                  <Button onClick={this.togglePasswordVisible}><i className={`link-operation-icon fas ${this.state.isPasswordVisible ? 'fa-eye-slash' : 'fa-eye'}`}></i></Button>\n                  <Button onClick={this.generatePassword}><i className=\"link-operation-icon fas fa-magic\"></i></Button>\n                </InputGroupAddon>\n              </InputGroup>\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"userPwdNew\">{gettext('Confirm Password')}</Label>\n              <Input id=\"userPwdNew\" innerRef={input => {this.passwdNewInput = input;}}  className=\"passwd\"   value={this.state.passwdnew || ''} onChange={this.inputPasswordNew} />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <Label className=\"err-message\">{this.state.errMessage}</Label>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" disabled={this.state.isAddingUser} onClick={this.handleSubmit} className={this.state.isAddingUser ? 'btn-loading' : ''}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nAddOrgUserDialog.propTypes = propTypes;\n\nexport default AddOrgUserDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport toaster from '../toast';\nimport copy from '../copy-to-clipboard';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  invitationLink: PropTypes.string.isRequired\n};\n\nclass InviteUserDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  copyLink = () => {\n    copy(this.props.invitationLink);\n    this.props.toggle();\n    const message = gettext('Internal link has been copied to clipboard');\n    toaster.success(message), {\n      duration: 2\n    };\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Invite user')}</ModalHeader>\n        <ModalBody>\n          <p>{gettext('Send the invitation link to the others, and they will be able to join the organization via scanning the QR code.')}</p>\n          <p>{this.props.invitationLink}</p>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.copyLink}>{gettext('Copy')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nInviteUserDialog.propTypes = propTypes;\n\nexport default InviteUserDialog;\n","import { Utils } from '../utils/utils';\nimport { lang } from '../utils/constants';\nimport moment from 'moment';\n\nmoment.locale(lang);\n\nclass OrgUserInfo {\n  constructor(object) {\n    this.id = object.id;\n    this.name = object.name;\n    this.email = object.email;\n    this.contact_email = object.owner_contact_email;\n    this.is_active = object.is_active;\n    this.quota_usage = object.quota_usage;\n    this.quota_total = object.quota_total;\n    this.last_login = object.last_login ? moment(object.last_login).fromNow() : '--';\n    this.ctime = moment(object.ctime).format('YYYY-MM-DD HH:mm:ss');\n  }\n}\n\nexport default OrgUserInfo;\n","import React, { Component, Fragment } from 'react';\nimport { navigate } from '@gatsbyjs/reach-router';\nimport Nav from './org-users-nav';\nimport OrgUsersList from './org-users-list';\nimport MainPanelTopbar from './main-panel-topbar';\nimport ModalPortal from '../../components/modal-portal';\nimport ImportOrgUsersDialog from '../../components/dialog/org-import-users-dialog';\nimport AddOrgUserDialog from '../../components/dialog/org-add-user-dialog';\nimport InviteUserDialog from '../../components/dialog/org-admin-invite-user-dialog';\nimport toaster from '../../components/toast';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport OrgUserInfo from '../../models/org-user';\nimport { gettext, invitationLink, orgID, siteRoot } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nclass Search extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: ''\n    };\n  }\n\n  handleInputChange = (e) => {\n    this.setState({\n      value: e.target.value\n    });\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key == 'Enter') {\n      e.preventDefault();\n      this.handleSubmit();\n    }\n  }\n\n  handleSubmit = () => {\n    const value = this.state.value.trim();\n    if (!value) {\n      return false;\n    }\n    this.props.submit(value);\n  }\n\n  render() {\n    return (\n      <div className=\"input-icon\">\n        <i className=\"d-flex input-icon-addon fas fa-search\"></i>\n        <input\n          type=\"text\"\n          className=\"form-control search-input h-6 mr-1\"\n          style={{width: '15rem'}}\n          placeholder={this.props.placeholder}\n          value={this.state.value}\n          onChange={this.handleInputChange}\n          onKeyPress={this.handleKeyPress}\n          autoComplete=\"off\"\n        />\n      </div>\n    );\n  }\n}\n\nclass OrgUsers extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      orgUsers: [],\n      page: 1,\n      pageNext: false,\n      sortBy: '',\n      sortOrder: 'asc',\n      isShowAddOrgUserDialog: false,\n      isImportOrgUsersDialogOpen: false,\n      isInviteUserDialogOpen: false\n    };\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { page, sortBy, sortOrder } = this.state;\n    this.setState({\n      /*\n        perPage: parseInt(urlParams.get('per_page') || perPage),\n        currentPage: parseInt(urlParams.get('page') || currentPage),\n        */\n      page: parseInt(urlParams.get('page') || page),\n      sortBy: urlParams.get('order_by') || sortBy,\n      sortOrder: urlParams.get('direction') || sortOrder\n    }, () => {\n      this.initOrgUsersData(this.state.page);\n    });\n  }\n\n  sortByQuotaUsage = () => {\n    this.setState({\n      sortBy: 'quota_usage',\n      sortOrder: this.state.sortOrder == 'asc' ? 'desc' : 'asc',\n      page: 1\n    }, () => {\n      let url = new URL(location.href);\n      let searchParams = new URLSearchParams(url.search);\n      const { page, sortBy, sortOrder } = this.state;\n      searchParams.set('page', page);\n      searchParams.set('order_by', sortBy);\n      searchParams.set('direction', sortOrder);\n      url.search = searchParams.toString();\n      navigate(url.toString());\n      this.initOrgUsersData(page);\n    });\n  }\n\n  toggleImportOrgUsersDialog = () => {\n    this.setState({isImportOrgUsersDialogOpen: !this.state.isImportOrgUsersDialogOpen});\n  }\n\n  toggleAddOrgUser = () => {\n    this.setState({isShowAddOrgUserDialog: !this.state.isShowAddOrgUserDialog});\n  }\n\n  toggleInviteUserDialog = () => {\n    this.setState({isInviteUserDialogOpen: !this.state.isInviteUserDialogOpen});\n  }\n\n  initOrgUsersData = (page) => {\n    const { sortBy, sortOrder } = this.state;\n    seafileAPI.orgAdminListOrgUsers(orgID, '', page, sortBy, sortOrder).then(res => {\n      let userList = res.data.user_list.map(item => {\n        return new OrgUserInfo(item);\n      });\n      this.setState({\n        orgUsers: userList,\n        pageNext: res.data.page_next,\n        page: res.data.page,\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  importOrgUsers = (file) => {\n    toaster.notify(gettext('It may take some time, please wait.'));\n    seafileAPI.orgAdminImportUsersViaFile(orgID, file).then((res) => {\n      if (res.data.success.length) {\n        const users = res.data.success.map(item => {\n          if (item.institution == undefined) {\n            item.institution = '';\n          }\n          return new OrgUserInfo(item);\n        });\n        this.setState({\n          orgUsers: users.concat(this.state.orgUsers)\n        });\n      }\n      res.data.failed.map(item => {\n        const msg = `${item.email}: ${item.error_msg}`;\n        toaster.danger(msg);\n      });\n    }).catch((error) => {\n      let errMsg = Utils.getErrorMsg(error);\n      toaster.danger(errMsg);\n    });\n  }\n\n  addOrgUser = (email, name, password) => {\n    seafileAPI.orgAdminAddOrgUser(orgID, email, name, password).then(res => {\n      let userInfo = new OrgUserInfo(res.data);\n      this.state.orgUsers.unshift(userInfo);\n      this.setState({\n        orgUsers: this.state.orgUsers\n      });\n      this.toggleAddOrgUser();\n      let msg = gettext('successfully added user %s.');\n      msg = msg.replace('%s', email);\n      toaster.success(msg);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n      this.toggleAddOrgUser();\n    });\n  }\n\n  toggleOrgUsersDelete = (email) => {\n    seafileAPI.orgAdminDeleteOrgUser(orgID, email).then(res => {\n      let users = this.state.orgUsers.filter(item => item.email != email);\n      this.setState({orgUsers: users});\n      let msg = gettext('Successfully deleted %s');\n      msg = msg.replace('%s', email);\n      toaster.success(msg);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  changeStatus= (email, isActive) => {\n    seafileAPI.orgAdminChangeOrgUserStatus(orgID, email, isActive).then(res => {\n      let users = this.state.orgUsers.map(item => {\n        if (item.email == email) {\n          item['is_active']= res.data['is_active'];\n        }\n        return item;\n      });\n      this.setState({orgUsers: users});\n      toaster.success(gettext('Edit succeeded.'));\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  searchItems = (keyword) => {\n    navigate(`${siteRoot}org/useradmin/search-users/?query=${encodeURIComponent(keyword)}`);\n  }\n\n  getSearch = () => {\n    return <Search\n      placeholder={gettext('Search users')}\n      submit={this.searchItems}\n    />;\n  }\n\n  render() {\n    const topBtn = 'btn btn-secondary operation-item';\n    let topbarChildren;\n    topbarChildren = (\n      <Fragment>\n        <button className=\"btn btn-secondary operation-item\" onClick={this.toggleImportOrgUsersDialog}>{gettext('Import Users')}</button>\n        <button className={topBtn} title={gettext('Add User')} onClick={this.toggleAddOrgUser}>\n          <i className=\"fas fa-plus-square text-secondary mr-1\"></i>{gettext('Add User')}</button>\n        {invitationLink &&\n        <button className={topBtn} title={gettext('Invite user')} onClick={this.toggleInviteUserDialog}>\n          <i className=\"fas fa-plus-square text-secondary mr-1\"></i>{gettext('Invite user')}</button>\n        }\n        {this.state.isImportOrgUsersDialogOpen &&\n        <ModalPortal>\n          <ImportOrgUsersDialog importUsersInBatch={this.importOrgUsers} toggle={this.toggleImportOrgUsersDialog}/>\n        </ModalPortal>\n        }\n        {this.state.isShowAddOrgUserDialog &&\n        <ModalPortal>\n          <AddOrgUserDialog handleSubmit={this.addOrgUser} toggle={this.toggleAddOrgUser}/>\n        </ModalPortal>\n        }\n        {this.state.isInviteUserDialogOpen &&\n        <ModalPortal>\n          <InviteUserDialog invitationLink={invitationLink} toggle={this.toggleInviteUserDialog}/>\n        </ModalPortal>\n        }\n      </Fragment>\n    );\n\n    return (\n      <Fragment>\n        <MainPanelTopbar children={topbarChildren} search={this.getSearch()}/>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"all\" />\n            <OrgUsersList\n              initOrgUsersData={this.initOrgUsersData}\n              toggleDelete={this.toggleOrgUsersDelete}\n              changeStatus={this.changeStatus}\n              orgUsers={this.state.orgUsers}\n              page={this.state.page}\n              pageNext={this.state.pageNext}\n              sortBy={this.state.sortBy}\n              sortOrder={this.state.sortOrder}\n              sortByQuotaUsage={this.sortByQuotaUsage}\n            />\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default OrgUsers;\n","import React, { Component, Fragment } from 'react';\nimport { Button, Form, FormGroup, Input, Col } from 'reactstrap';\nimport { Utils } from '../../utils/utils';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext, orgID } from '../../utils/constants';\nimport toaster from '../../components/toast';\nimport UserItem from './org-user-item';\nimport OrgUserInfo from '../../models/org-user';\n\nclass OrgUsersSearchUsersResult extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  render() {\n    let { orgUsers } = this.props;\n    return (\n      <div className=\"cur-view-content\">\n        <table>\n          <thead>\n            <tr>\n              <th width=\"30%\">{gettext('Name')}</th>\n              <th width=\"15%\">{gettext('Status')}</th>\n              <th width=\"20%\">\n                <a className=\"d-inline-block table-sort-op\" href=\"#\" >{gettext('Space Used')}</a> / {gettext('Quota')}\n              </th>\n              <th width=\"25%\">{gettext('Created At')} / {gettext('Last Login')}</th>\n              <th width=\"10%\">{/*Operations*/}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {orgUsers.map((item, index) => {\n              return (\n                <UserItem\n                  key={index}\n                  user={item}\n                  currentTab=\"users\"\n                  isItemFreezed={this.state.isItemFreezed}\n                  toggleDelete={this.props.toggleDelete}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                />\n              );})}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nclass OrgUsersSearchUsers extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: '',\n      orgUsers: [],\n      org_id: '',\n      isSubmitBtnActive: false,\n      loading: true,\n      errorMsg: '',\n    };\n  }\n\n  componentDidMount () {\n    let params = (new URL(document.location)).searchParams;\n    this.setState({\n      query: params.get('query') || '',\n    }, () => {this.getItems();});\n  }\n\n  getItems = () => {\n    seafileAPI.orgAdminSearchUser(orgID, this.state.query.trim()).then(res => {\n      let userList = res.data.user_list.map(item => {\n        return new OrgUserInfo(item);\n      });\n      this.setState({\n        orgUsers: userList,\n        loading: false,\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  deleteUser = (email) => {\n    seafileAPI.orgAdminDeleteOrgUser(orgID, email).then(res => {\n      let newUserList = this.state.orgUsers.filter(item => {\n        return item.email != email;\n      });\n      this.setState({orgUsers: newUserList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  updateUser = (email, key, value) => {\n    seafileAPI.sysAdminUpdateUser(email, key, value).then(res => {\n      let newUserList = this.state.orgUsers.map(item => {\n        if (item.email == email) {\n          item[key]= res.data[key];\n        }\n        return item;\n      });\n      this.setState({orgUsers: newUserList});\n      const msg = (key == 'is_active' && value) ?\n        res.data.update_status_tip : gettext('Edit succeeded');\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  handleInputChange = (e) => {\n    this.setState({\n      query: e.target.value\n    }, this.checkSubmitBtnActive);\n  }\n\n  checkSubmitBtnActive = () => {\n    const { query } = this.state;\n    this.setState({\n      isSubmitBtnActive: query.trim()\n    });\n  }\n\n  handleKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      const { isSubmitBtnActive } = this.state;\n      if (isSubmitBtnActive) {\n        this.getItems();\n      }\n    }\n  }\n\n  render() {\n    const { query, isSubmitBtnActive } = this.state;\n\n    return (\n      <Fragment>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Users')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Search Users')}</h4>\n                <Form tag={'div'}>\n                  <FormGroup row>\n                    <Col sm={5}>\n                      <Input type=\"text\" name=\"query\" value={query} placeholder={gettext('Search users')} onChange={this.handleInputChange} onKeyDown={this.handleKeyDown} />\n                    </Col>\n                  </FormGroup>\n                  <FormGroup row>\n                    <Col sm={{size: 5}}>\n                      <button className=\"btn btn-outline-primary\" disabled={!isSubmitBtnActive} onClick={this.getItems}>{gettext('Submit')}</button>\n                    </Col>\n                  </FormGroup>\n                </Form>\n              </div>\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Result')}</h4>\n                <OrgUsersSearchUsersResult\n                  toggleDelete={this.deleteUser}\n                  orgUsers={this.state.orgUsers}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default OrgUsersSearchUsers;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport UserItem from './org-user-item';\n\nimport '../../css/org-admin-paginator.css';\n\nconst propTypes = {\n  currentTab: PropTypes.string.isRequired,\n  toggleDelete: PropTypes.func.isRequired,\n  toggleRevokeAdmin: PropTypes.func.isRequired,\n  orgAdminUsers: PropTypes.array.isRequired,\n  initOrgAdmin: PropTypes.func.isRequired\n};\n\nclass OrgAdminList extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  componentDidMount() {\n    this.props.initOrgAdmin();\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  render() {\n    let orgAdminUsers = this.props.orgAdminUsers;\n\n    return (\n      <div className=\"cur-view-content\">\n        <table>\n          <thead>\n            <tr>\n              <th width=\"30%\">{gettext('Name')}</th>\n              <th width=\"15%\">{gettext('Status')}</th>\n              <th width=\"20%\">{gettext('Space Used')} / {gettext('Quota')}</th>\n              <th width=\"25%\">{gettext('Created At')} / {gettext('Last Login')}</th>\n              <th width=\"10%\">{/*Operations*/}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {orgAdminUsers.map(item => {\n              return (\n                <UserItem\n                  key={item.index}\n                  user={item}\n                  currentTab=\"admins\"\n                  isItemFreezed={this.state.isItemFreezed}\n                  toggleDelete={this.props.toggleDelete}\n                  toggleRevokeAdmin={this.props.toggleRevokeAdmin}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                />\n              );\n            })}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nOrgAdminList.propTypes = propTypes;\n\nexport default OrgAdminList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Alert } from 'reactstrap';\nimport { gettext, orgID } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../toast';\nimport UserSelect from '../user-select';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport OrgUserInfo from '../../models/org-user';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  onAddedOrgAdmin: PropTypes.func.isRequired,\n};\n\nclass AddOrgAdminDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: null,\n      errMessage: '',\n    };\n    this.options = [];\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({\n      selectedOption: option,\n      errMessage: ''\n    });\n    this.options = [];\n  }\n\n  addOrgAdmin = () => {\n    if (!this.state.selectedOption) return;\n    const userEmail = this.state.selectedOption.email;\n    seafileAPI.orgAdminSetOrgAdmin(orgID, userEmail, true).then(res => {\n      let userInfo = new OrgUserInfo(res.data);\n      this.props.onAddedOrgAdmin(userInfo);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Add Admins')}</ModalHeader>\n        <ModalBody>\n          <UserSelect\n            ref=\"userSelect\"\n            isMulti={false}\n            className=\"reviewer-select\"\n            placeholder={gettext('Select a user as admin...')}\n            onSelectChange={this.handleSelectChange}\n          />\n          {this.state.errMessage && <Alert color=\"danger\" className=\"mt-2\">{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Close')}</Button>\n          <Button color=\"primary\" onClick={this.addOrgAdmin}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nAddOrgAdminDialog.propTypes = propTypes;\n\nexport default AddOrgAdminDialog;\n","import React, { Component, Fragment } from 'react';\nimport Nav from './org-users-nav';\nimport OrgAdminList from './org-admin-list';\nimport MainPanelTopbar from './main-panel-topbar';\nimport AddOrgAdminDialog from '../../components/dialog/org-add-admin-dialog';\nimport ModalPortal from '../../components/modal-portal';\nimport toaster from '../../components/toast';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport OrgUserInfo from '../../models/org-user';\nimport { gettext, orgID } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nclass OrgUsers extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      orgAdminUsers: [],\n      isShowAddOrgAdminDialog: false\n    };\n  }\n\n  toggleAddOrgAdmin = () => {\n    this.setState({isShowAddOrgAdminDialog: !this.state.isShowAddOrgAdminDialog});\n  }\n\n  initOrgAdmin = () => {\n    seafileAPI.orgAdminListOrgUsers(orgID, true).then(res => {\n      let userList = res.data.user_list.map(item => {\n        return new OrgUserInfo(item);\n      });\n      this.setState({orgAdminUsers: userList});\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  toggleOrgAdminDelete = (email) => {\n    seafileAPI.orgAdminDeleteOrgUser(orgID, email).then(res => {\n      this.setState({\n        orgAdminUsers: this.state.orgAdminUsers.filter(item => item.email != email)\n      });\n      let msg = gettext('Successfully deleted %s');\n      msg = msg.replace('%s', email);\n      toaster.success(msg);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  toggleRevokeAdmin = (email) => {\n    seafileAPI.orgAdminSetOrgAdmin(orgID, email, false).then(res => {\n      this.setState({\n        orgAdminUsers: this.state.orgAdminUsers.filter(item => item.email != email)\n      });\n      let msg = gettext('Successfully revoke the admin permission of %s');\n      msg = msg.replace('%s', res.data.name);\n      toaster.success(msg);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  onAddedOrgAdmin = (userInfo) => {\n    this.state.orgAdminUsers.unshift(userInfo);\n    this.setState({\n      orgAdminUsers: this.state.orgAdminUsers\n    });\n    let msg = gettext('Successfully set %s as admin.');\n    msg = msg.replace('%s', userInfo.email);\n    toaster.success(msg);\n    this.toggleAddOrgAdmin();\n  }\n\n  render() {\n    const topBtn = 'btn btn-secondary operation-item';\n    let topbarChildren;\n    topbarChildren = (\n      <Fragment>\n        <button className={topBtn} title={gettext('Add admin')} onClick={this.toggleAddOrgAdmin}>\n          <i className=\"fas fa-plus-square text-secondary mr-1\"></i>{gettext('Add admin')}\n        </button>\n        {this.state.isShowAddOrgAdminDialog &&\n        <ModalPortal>\n          <AddOrgAdminDialog toggle={this.toggleAddOrgAdmin} onAddedOrgAdmin={this.onAddedOrgAdmin}/>\n        </ModalPortal>\n        }\n      </Fragment>\n    );\n\n    return (\n      <Fragment>\n        <MainPanelTopbar children={topbarChildren}/>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"admins\" />\n            <OrgAdminList\n              currentTab=\"admins\"\n              toggleDelete={this.toggleOrgAdminDelete}\n              toggleRevokeAdmin={this.toggleRevokeAdmin}\n              orgAdminUsers={this.state.orgAdminUsers}\n              initOrgAdmin={this.initOrgAdmin}\n            />\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default OrgUsers;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../utils/constants';\n\nconst propTypes = {\n  email: PropTypes.string.isRequired,\n  currentItem: PropTypes.string.isRequired\n};\n\nclass OrgAdminUserNav extends React.Component {\n\n  render() {\n    const { email, currentItem } = this.props;\n    const urlBase = `${siteRoot}org/useradmin/info/${encodeURIComponent(email)}/`;\n    return (\n      <div className=\"cur-view-path org-admin-user-nav\">\n        <ul className=\"nav\">\n          <li className=\"nav-item\">\n            <Link to={urlBase} className={`nav-link${currentItem == 'profile' ? ' active' : ''}`}>{gettext('Profile')}</Link>\n          </li>\n          <li className=\"nav-item\">\n            <Link to={`${urlBase}repos/`} className={`nav-link${currentItem == 'owned-repos' ? ' active' : ''}`}>{gettext('Owned Libraries')}</Link>\n          </li>\n          <li className=\"nav-item\">\n            <Link to={`${urlBase}shared-repos/`} className={`nav-link${currentItem == 'shared-repos' ? ' active' : ''}`}>{gettext('Shared Libraries')}</Link>\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n\nOrgAdminUserNav.propTypes = propTypes;\n\nexport default OrgAdminUserNav;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  orgID: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  updateName: PropTypes.func.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass SetOrgUserName extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      inputValue: this.props.name,\n      submitBtnDisabled: false\n    };\n  }\n\n  handleInputChange = (e) => {\n    this.setState({\n      inputValue: e.target.value\n    });\n  }\n\n  formSubmit = () => {\n    const { orgID, email } = this.props;\n    const name = this.state.inputValue.trim();\n\n    this.setState({\n      submitBtnDisabled: true\n    });\n\n    // when name is '', api returns the previous name\n    // but newName needs to be ''\n    seafileAPI.orgAdminSetOrgUserName(orgID, email, name).then((res) => {\n      const newName = name ? res.data.name : '';\n      this.props.updateName(newName);\n      this.props.toggleDialog();\n    }).catch((error) => {\n      let errorMsg = Utils.getErrorMsg(error);\n      this.setState({\n        formErrorMsg: errorMsg,\n        submitBtnDisabled: false\n      });\n    });\n  }\n\n  render() {\n    const { inputValue, formErrorMsg, submitBtnDisabled } = this.state;\n    return (\n      <Modal isOpen={true} centered={true} toggle={this.props.toggleDialog}>\n        <ModalHeader toggle={this.props.toggleDialog}>{gettext('Set user name')}</ModalHeader>\n        <ModalBody>\n          <React.Fragment>\n            <input type=\"text\" className=\"form-control\" value={inputValue} onChange={this.handleInputChange} />\n            {formErrorMsg && <p className=\"error m-0 mt-2\">{formErrorMsg}</p>}\n          </React.Fragment>\n        </ModalBody>\n        <ModalFooter>\n          <button className=\"btn btn-secondary\" onClick={this.props.toggleDialog}>{gettext('Cancel')}</button>\n          <button className=\"btn btn-primary\" disabled={submitBtnDisabled} onClick={this.formSubmit}>{gettext('Submit')}</button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSetOrgUserName.propTypes = propTypes;\n\nexport default SetOrgUserName;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  orgID: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n  contactEmail: PropTypes.string.isRequired,\n  updateContactEmail: PropTypes.func.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass SetOrgUserContactEmail extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      inputValue: this.props.contactEmail,\n      submitBtnDisabled: false\n    };\n  }\n\n  handleInputChange = (e) => {\n    this.setState({\n      inputValue: e.target.value\n    });\n  }\n\n  formSubmit = () => {\n    const { orgID, email } = this.props;\n    const contactEmail = this.state.inputValue.trim();\n\n    this.setState({\n      submitBtnDisabled: true\n    });\n\n    seafileAPI.orgAdminSetOrgUserContactEmail(orgID, email, contactEmail).then((res) => {\n      const newContactEmail = contactEmail ? res.data.contact_email : '';\n      this.props.updateContactEmail(newContactEmail);\n      this.props.toggleDialog();\n    }).catch((error) => {\n      let errorMsg = Utils.getErrorMsg(error);\n      this.setState({\n        formErrorMsg: errorMsg,\n        submitBtnDisabled: false\n      });\n    });\n  }\n\n  render() {\n    const { inputValue, formErrorMsg, submitBtnDisabled } = this.state;\n    return (\n      <Modal isOpen={true} centered={true} toggle={this.props.toggleDialog}>\n        <ModalHeader toggle={this.props.toggleDialog}>{gettext('Set user contact email')}</ModalHeader>\n        <ModalBody>\n          <React.Fragment>\n            <input type=\"text\" className=\"form-control\" value={inputValue} onChange={this.handleInputChange} />\n            {formErrorMsg && <p className=\"error m-0 mt-2\">{formErrorMsg}</p>}\n          </React.Fragment>\n        </ModalBody>\n        <ModalFooter>\n          <button className=\"btn btn-secondary\" onClick={this.props.toggleDialog}>{gettext('Cancel')}</button>\n          <button className=\"btn btn-primary\" disabled={submitBtnDisabled} onClick={this.formSubmit}>{gettext('Submit')}</button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSetOrgUserContactEmail.propTypes = propTypes;\n\nexport default SetOrgUserContactEmail;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, InputGroup, InputGroupAddon, InputGroupText } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  orgID: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n  quotaTotal: PropTypes.string.isRequired,\n  updateQuota: PropTypes.func.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass SetOrgUserQuota extends React.Component {\n\n  constructor(props) {\n    super(props);\n    const initialQuota = this.props.quotaTotal < 0 ? '' :\n      this.props.quotaTotal / (1000 * 1000);\n    this.state = {\n      inputValue: initialQuota,\n      submitBtnDisabled: false\n    };\n  }\n\n  handleInputChange = (e) => {\n    this.setState({\n      inputValue: e.target.value\n    });\n  }\n\n  formSubmit = () => {\n    const { orgID, email } = this.props;\n    const quota = this.state.inputValue.trim();\n\n    if (!quota) {\n      this.setState({\n        formErrorMsg: gettext('It is required.')\n      });\n      return false;\n    }\n\n    this.setState({\n      submitBtnDisabled: true\n    });\n\n    seafileAPI.orgAdminSetOrgUserQuota(orgID, email, quota).then((res) => {\n      this.props.updateQuota(res.data.quota_total);\n      this.props.toggleDialog();\n    }).catch((error) => {\n      let errorMsg = Utils.getErrorMsg(error);\n      this.setState({\n        formErrorMsg: errorMsg,\n        submitBtnDisabled: false\n      });\n    });\n  }\n\n  render() {\n    const { inputValue, formErrorMsg, submitBtnDisabled } = this.state;\n    return (\n      <Modal isOpen={true} centered={true} toggle={this.props.toggleDialog}>\n        <ModalHeader toggle={this.props.toggleDialog}>{gettext('Set user quota')}</ModalHeader>\n        <ModalBody>\n          <React.Fragment>\n            <InputGroup>\n              <input type=\"text\" className=\"form-control\" value={inputValue} onChange={this.handleInputChange} />\n              <InputGroupAddon addonType=\"append\">\n                <InputGroupText>MB</InputGroupText>\n              </InputGroupAddon>\n            </InputGroup>\n            <p className=\"small text-secondary mt-2 mb-2\">{gettext('Tip: 0 means default limit')}</p>\n            {formErrorMsg && <p className=\"error m-0 mt-2\">{formErrorMsg}</p>}\n          </React.Fragment>\n        </ModalBody>\n        <ModalFooter>\n          <button className=\"btn btn-secondary\" onClick={this.props.toggleDialog}>{gettext('Cancel')}</button>\n          <button className=\"btn btn-primary\" disabled={submitBtnDisabled} onClick={this.formSubmit}>{gettext('Submit')}</button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSetOrgUserQuota.propTypes = propTypes;\n\nexport default SetOrgUserQuota;\n","import React, { Component, Fragment } from 'react';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport Loading from '../../components/loading';\nimport OrgAdminUserNav from '../../components/org-admin-user-nav';\nimport SetOrgUserName from '../../components/dialog/set-org-user-name';\nimport SetOrgUserContactEmail from '../../components/dialog/set-org-user-contact-email';\nimport SetOrgUserQuota from '../../components/dialog/set-org-user-quota';\nimport MainPanelTopbar from './main-panel-topbar';\n\nimport '../../css/org-admin-user.css';\n\nconst { orgID, orgName } = window.org.pageOptions;\n\nclass OrgUserProfile extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: ''\n    };\n  }\n\n  componentDidMount() {\n    const email = decodeURIComponent(this.props.email);\n    seafileAPI.orgAdminGetOrgUserInfo(orgID, email).then((res) => {\n      this.setState(Object.assign({\n        loading: false\n      }, res.data));\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  updateName = (name) => {\n    this.setState({\n      name: name\n    });\n  }\n\n  updateContactEmail = (contactEmail) => {\n    this.setState({\n      contact_email: contactEmail\n    });\n  }\n\n  updateQuota = (quota) => {\n    this.setState({\n      quota_total: quota\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar/>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <OrgAdminUserNav email={this.props.email} currentItem='profile' />\n            <div className=\"cur-view-content\">\n              <Content\n                data={this.state}\n                updateName={this.updateName}\n                updateContactEmail={this.updateContactEmail}\n                updateQuota={this.updateQuota}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isSetNameDialogOpen: false,\n      isSetContactEmailDialogOpen: false,\n      isSetQuotaDialogOpen: false\n    };\n  }\n\n  toggleSetNameDialog = () => {\n    this.setState({\n      isSetNameDialogOpen: !this.state.isSetNameDialogOpen\n    });\n  }\n\n  toggleSetContactEmailDialog = () => {\n    this.setState({\n      isSetContactEmailDialogOpen: !this.state.isSetContactEmailDialogOpen\n    });\n  }\n\n  toggleSetQuotaDialog = () => {\n    this.setState({\n      isSetQuotaDialogOpen: !this.state.isSetQuotaDialogOpen\n    });\n  }\n\n  render() {\n    const {\n      loading, errorMsg,\n      avatar_url, email, contact_email,\n      name, quota_total, quota_usage\n    } = this.props.data;\n    const { isSetNameDialogOpen, isSetContactEmailDialogOpen, isSetQuotaDialogOpen } = this.state;\n\n    if (loading) {\n      return <Loading />;\n    }\n    if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    }\n\n    return (\n      <Fragment>\n        <dl>\n          <dt>{gettext('Avatar')}</dt>\n          <dd>\n            <img src={avatar_url} width=\"48\" height=\"48\" className=\"rounded\" alt=\"\" />\n          </dd>\n\n          <dt>ID</dt>\n          <dd>{email}</dd>\n\n          <dt>{gettext('Name')}</dt>\n          <dd>\n            {name || '--'}\n            <span title={gettext('Edit')} className=\"attr-action-icon fa fa-pencil-alt\" onClick={this.toggleSetNameDialog}></span>\n          </dd>\n\n          <dt>{gettext('Contact Email')}</dt>\n          <dd>\n            {contact_email || '--'}\n            <span title={gettext('Edit')} className=\"attr-action-icon fa fa-pencil-alt\" onClick={this.toggleSetContactEmailDialog}></span>\n          </dd>\n\n          <dt>{gettext('Organization')}</dt>\n          <dd>{orgName}</dd>\n\n          <dt>{gettext('Space Used / Quota')}</dt>\n          <dd>\n            {`${Utils.bytesToSize(quota_usage)}${quota_total > 0 ? ' / ' + Utils.bytesToSize(quota_total) : ''}`}\n            <span title={gettext('Edit')} className=\"attr-action-icon fa fa-pencil-alt\" onClick={this.toggleSetQuotaDialog}></span>\n          </dd>\n        </dl>\n        {isSetNameDialogOpen &&\n        <SetOrgUserName\n          orgID={orgID}\n          email={email}\n          name={name}\n          updateName={this.props.updateName}\n          toggleDialog={this.toggleSetNameDialog}\n        />\n        }\n        {isSetContactEmailDialogOpen &&\n        <SetOrgUserContactEmail\n          orgID={orgID}\n          email={email}\n          contactEmail={contact_email}\n          updateContactEmail={this.props.updateContactEmail}\n          toggleDialog={this.toggleSetContactEmailDialog}\n        />\n        }\n        {isSetQuotaDialogOpen &&\n        <SetOrgUserQuota\n          orgID={orgID}\n          email={email}\n          quotaTotal={quota_total}\n          updateQuota={this.props.updateQuota}\n          toggleDialog={this.toggleSetQuotaDialog}\n        />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default OrgUserProfile;\n","import React, { Component, Fragment } from 'react';\nimport moment from 'moment';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport Loading from '../../components/loading';\nimport toaster from '../../components/toast';\nimport OrgAdminUserNav from '../../components/org-admin-user-nav';\nimport DeleteRepoDialog from '../../components/dialog/delete-repo-dialog';\nimport MainPanelTopbar from './main-panel-topbar';\n\nimport '../../css/org-admin-user.css';\n\nconst { orgID } = window.org.pageOptions;\n\nclass OrgUserOwnedRepos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: ''\n    };\n  }\n\n  componentDidMount() {\n    const email = decodeURIComponent(this.props.email);\n    seafileAPI.orgAdminGetOrgUserOwnedRepos(orgID, email).then((res) => {\n      this.setState(Object.assign({\n        loading: false\n      }, res.data));\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar/>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <OrgAdminUserNav email={this.props.email} currentItem='owned-repos' />\n            <div className=\"cur-view-content\">\n              <Content\n                data={this.state}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {\n      loading, errorMsg, repo_list\n    } = this.props.data;\n\n    if (loading) {\n      return <Loading />;\n    }\n    if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    }\n\n    return (\n      <Fragment>\n        <table className=\"table-hover\">\n          <thead>\n            <tr>\n              <th width=\"4%\">{/*icon*/}</th>\n              <th width=\"35%\">{gettext('Name')}</th>\n              <th width=\"16%\">{gettext('Size')}</th>\n              <th width=\"25%\">{gettext('Last Update')}</th>\n              <th width=\"20%\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            {repo_list.map((item, index) => {\n              return <Item key={index} data={item} />;\n            })}\n          </tbody>\n        </table>\n      </Fragment>\n    );\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      deleted: false,\n      isDeleteRepoDialogOpen: false,\n      isRepoDeleted: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      isOpIconShown: true\n    });\n  }\n\n  handleMouseOut = () => {\n    this.setState({\n      isOpIconShown: false\n    });\n  }\n\n  handleDeleteIconClick = (e) => {\n    e.preventDefault();\n    this.toggleDeleteRepoDialog();\n  }\n\n  toggleDeleteRepoDialog = () => {\n    this.setState({\n      isDeleteRepoDialogOpen: !this.state.isDeleteRepoDialogOpen\n    });\n  }\n\n  deleteRepo = () => {\n    const repo = this.props.data;\n    seafileAPI.orgAdminDeleteOrgRepo(orgID, repo.repo_id).then((res) => {\n      this.setState({\n        deleted: true,\n        isRepoDeleted: true,\n      });\n      const msg = gettext('Successfully deleted {name}.').replace('{name}', repo.repo_name);\n      toaster.success(msg);\n    }).catch((error) => {\n      const errorMsg = Utils.getErrorMsg(error);\n      toaster.danger(errorMsg);\n\n      this.setState({isRepoDeleted: false});\n    });\n  }\n\n  render() {\n    const { deleted, isOpIconShown, isDeleteRepoDialogOpen } = this.state;\n    const repo = this.props.data;\n\n    if (deleted) {\n      return null;\n    }\n\n    return (\n      <Fragment>\n        <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n          <td>\n            <img src={Utils.getLibIconUrl(repo, false)} alt={Utils.getLibIconTitle(repo)} title={Utils.getLibIconTitle(repo)} width=\"24\" />\n          </td>\n          <td>{repo.repo_name}</td>\n          <td>{Utils.bytesToSize(repo.size)}</td>\n          <td title={moment(repo.last_modified).format('LLLL')}>{moment(repo.last_modified).format('YYYY-MM-DD')}</td>\n          <td>\n            <a href=\"#\" className={`action-icon sf2-icon-delete${isOpIconShown ? '' : ' invisible'}`} title={gettext('Delete')} onClick={this.handleDeleteIconClick}></a>\n          </td>\n        </tr>\n        {isDeleteRepoDialogOpen && (\n          <DeleteRepoDialog\n            repo={repo}\n            isRepoDeleted={this.state.isRepoDeleted}\n            onDeleteRepo={this.deleteRepo}\n            toggle={this.toggleDeleteRepoDialog}\n          />\n        )}\n      </Fragment>\n    );\n  }\n}\n\nexport default OrgUserOwnedRepos;\n","import React, { Component, Fragment } from 'react';\nimport moment from 'moment';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport Loading from '../../components/loading';\nimport OrgAdminUserNav from '../../components/org-admin-user-nav';\nimport MainPanelTopbar from './main-panel-topbar';\n\nimport '../../css/org-admin-user.css';\n\nconst { orgID } = window.org.pageOptions;\n\nclass OrgUserSharedRepos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: ''\n    };\n  }\n\n  componentDidMount() {\n    const email = decodeURIComponent(this.props.email);\n    seafileAPI.orgAdminGetOrgUserBesharedRepos(orgID, email).then((res) => {\n      this.setState(Object.assign({\n        loading: false\n      }, res.data));\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar/>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <OrgAdminUserNav email={this.props.email} currentItem='shared-repos' />\n            <div className=\"cur-view-content\">\n              <Content\n                data={this.state}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {\n      loading, errorMsg, repo_list\n    } = this.props.data;\n\n    if (loading) {\n      return <Loading />;\n    }\n    if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    }\n\n    return (\n      <table className=\"table-hover\">\n        <thead>\n          <tr>\n            <th width=\"4%\">{/*icon*/}</th>\n            <th width=\"30%\">{gettext('Name')}</th>\n            <th width=\"26%\">{gettext('Owner')}</th>\n            <th width=\"15%\">{gettext('Size')}</th>\n            <th width=\"25%\">{gettext('Last Update')}</th>\n          </tr>\n        </thead>\n        <tbody>\n          {repo_list.map((item, index) => {\n            return <Item key={index} data={item} />;\n          })}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const repo = this.props.data;\n    return (\n      <tr>\n        <td>\n          <img src={Utils.getLibIconUrl(repo, false)} alt={Utils.getLibIconTitle(repo)} title={Utils.getLibIconTitle(repo)} width=\"24\" />\n        </td>\n        <td>{repo.repo_name}</td>\n        <td>{repo.owner_name}</td>\n        <td>{Utils.bytesToSize(repo.size)}</td>\n        <td title={moment(repo.last_modified).format('LLLL')}>{moment(repo.last_modified).format('YYYY-MM-DD')}</td>\n      </tr>\n    );\n  }\n}\n\nexport default OrgUserSharedRepos;\n","import { lang } from '../utils/constants';\nimport moment from 'moment';\n\nmoment.locale(lang);\n\nclass OrgGroupInfo {\n  constructor(object) {\n    this.id = object.id;\n    this.groupName = object.group_name;\n    this.creatorName = object.creator_name;\n    this.creatorEmail = object.creator_email;\n    this.creatorContactEmail = object.creator_contact_email;\n    this.ctime = moment(object.ctime).format('YYYY-MM-DD HH:mm:ss');\n  }\n}\n\nexport default OrgGroupInfo;\n","import React, { Component, Fragment } from 'react';\nimport { navigate } from '@gatsbyjs/reach-router';\nimport PropTypes from 'prop-types';\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport { siteRoot, gettext, orgID } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../../components/toast';\nimport OrgGroupInfo from '../../models/org-group';\nimport MainPanelTopbar from './main-panel-topbar';\n\nclass Search extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: ''\n    };\n  }\n\n  handleInputChange = (e) => {\n    this.setState({\n      value: e.target.value\n    });\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key == 'Enter') {\n      e.preventDefault();\n      this.handleSubmit();\n    }\n  }\n\n  handleSubmit = () => {\n    const value = this.state.value.trim();\n    if (!value) {\n      return false;\n    }\n    this.props.submit(value);\n  }\n\n  render() {\n    return (\n      <div className=\"input-icon\">\n        <i className=\"d-flex input-icon-addon fas fa-search\"></i>\n        <input\n          type=\"text\"\n          className=\"form-control search-input h-6 mr-1\"\n          style={{width: '15rem'}}\n          placeholder={this.props.placeholder}\n          value={this.state.value}\n          onChange={this.handleInputChange}\n          onKeyPress={this.handleKeyPress}\n          autoComplete=\"off\"\n        />\n      </div>\n    );\n  }\n}\n\nclass OrgGroups extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      page: 1,\n      pageNext: false,\n      orgGroups: [],\n      isItemFreezed: false\n    };\n  }\n\n  componentDidMount() {\n    let page = this.state.page;\n    this.initData(page);\n  }\n\n  initData = (page) => {\n    seafileAPI.orgAdminListOrgGroups(orgID, page).then(res => {\n      let orgGroups = res.data.groups.map(item => {\n        return new OrgGroupInfo(item);\n      });\n\n      this.setState({\n        orgGroups: orgGroups,\n        pageNext: res.data.page_next,\n        page: res.data.page,\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n\n  onChangePageNum = (e, num) => {\n    e.preventDefault();\n    let page = this.state.page;\n\n    if (num == 1) {\n      page = page + 1;\n    } else {\n      page = page - 1;\n    }\n    this.initData(page);\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  deleteGroupItem = (group) => {\n    seafileAPI.orgAdminDeleteOrgGroup(orgID, group.id).then(res => {\n      this.setState({\n        orgGroups: this.state.orgGroups.filter(item => item.id != group.id)\n      });\n      let msg = gettext('Successfully deleted {name}');\n      msg = msg.replace('{name}', group.groupName);\n      toaster.success(msg);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  searchItems = (keyword) => {\n    navigate(`${siteRoot}org/groupadmin/search-groups/?query=${encodeURIComponent(keyword)}`);\n  }\n\n  getSearch = () => {\n    return <Search\n      placeholder={gettext('Search groups by name')}\n      submit={this.searchItems}\n    />;\n  }\n\n  render() {\n    let groups = this.state.orgGroups;\n    return (\n      <Fragment>\n        <MainPanelTopbar search={this.getSearch()}/>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('All Groups')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <table>\n                <thead>\n                  <tr>\n                    <th width=\"30%\">{gettext('Name')}</th>\n                    <th width=\"35%\">{gettext('Creator')}</th>\n                    <th width=\"23%\">{gettext('Created At')}</th>\n                    <th width=\"12%\" className=\"text-center\">{gettext('Operations')}</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {groups.map(item => {\n                    return (\n                      <GroupItem\n                        key={item.id}\n                        group={item}\n                        isItemFreezed={this.state.isItemFreezed}\n                        onFreezedItem={this.onFreezedItem}\n                        onUnfreezedItem={this.onUnfreezedItem}\n                        deleteGroupItem={this.deleteGroupItem}\n                      />\n                    );\n                  })}\n                </tbody>\n              </table>\n              <div className=\"paginator\">\n                {this.state.page != 1 && <a href=\"#\" onClick={(e) => this.onChangePageNum(e, -1)}>{gettext('Previous')}</a>}\n                {(this.state.page != 1 && this.state.pageNext) && <span> | </span>}\n                {this.state.pageNext && <a href=\"#\" onClick={(e) => this.onChangePageNum(e, 1)}>{gettext('Next')}</a>}\n              </div>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nconst GroupItemPropTypes = {\n  group: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteGroupItem: PropTypes.func.isRequired,\n};\n\nclass GroupItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      showMenu: false,\n      isItemMenuShow: false\n    };\n  }\n\n  onMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        showMenu: true,\n        highlight: true,\n      });\n    }\n  }\n\n  onMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        showMenu: false,\n        highlight: false\n      });\n    }\n  }\n\n  onDropdownToggleClick = (e) => {\n    e.preventDefault();\n    this.toggleOperationMenu(e);\n  }\n\n  toggleOperationMenu = (e) => {\n    e.stopPropagation();\n    this.setState(\n      {isItemMenuShow: !this.state.isItemMenuShow }, () => {\n        if (this.state.isItemMenuShow) {\n          this.props.onFreezedItem();\n        } else {\n          this.setState({\n            highlight: false,\n            showMenu: false,\n          });\n          this.props.onUnfreezedItem();\n        }\n      }\n    );\n  }\n\n  toggleDelete = () => {\n    this.props.deleteGroupItem(this.props.group);\n  }\n\n  renderGroupHref = (group) => {\n    let groupInfoHref;\n    if (group.creatorName == 'system admin') {\n      groupInfoHref = siteRoot + 'org/departmentadmin/groups/' + group.id + '/';\n    } else {\n      groupInfoHref = siteRoot + 'org/groupadmin/' + group.id + '/';\n    }\n\n    return groupInfoHref;\n  }\n\n  renderGroupCreator = (group) => {\n    let userInfoHref = siteRoot + 'org/useradmin/info/' + group.creatorEmail + '/';\n    if (group.creatorName == 'system admin') {\n      return (\n        <td> -- </td>\n      );\n    } else {\n      return(\n        <td>\n          <a href={userInfoHref} className=\"font-weight-normal\">{group.creatorName}</a>\n        </td>\n      );\n    }\n  }\n\n  render() {\n    let { group } = this.props;\n    let isOperationMenuShow = (group.creatorName != 'system admin') && this.state.showMenu;\n    return (\n      <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td>\n          <a href={this.renderGroupHref(group)} className=\"font-weight-normal\">{group.groupName}</a>\n        </td>\n        {this.renderGroupCreator(group)}\n        <td>{group.ctime}</td>\n        <td className=\"text-center cursor-pointer\">\n          {isOperationMenuShow &&\n            <Dropdown isOpen={this.state.isItemMenuShow} toggle={this.toggleOperationMenu}>\n              <DropdownToggle\n                tag=\"a\"\n                className=\"attr-action-icon fas fa-ellipsis-v\"\n                title={gettext('More Operations')}\n                data-toggle=\"dropdown\"\n                aria-expanded={this.state.isItemMenuShow}\n                onClick={this.onDropdownToggleClick}\n              />\n              <DropdownMenu>\n                <DropdownItem onClick={this.toggleDelete}>{gettext('Delete')}</DropdownItem>\n              </DropdownMenu>\n            </Dropdown>\n          }\n        </td>\n      </tr>\n    );\n  }\n\n}\n\nGroupItem.propTypes = GroupItemPropTypes;\n\nexport default OrgGroups;\n","import React, { Component, Fragment } from 'react';\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport { Button, Form, FormGroup, Input, Col } from 'reactstrap';\nimport { Utils } from '../../utils/utils';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext, orgID, siteRoot } from '../../utils/constants';\nimport toaster from '../../components/toast';\nimport OrgGroupInfo from '../../models/org-group';\n\nclass GroupItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      showMenu: false,\n      isItemMenuShow: false\n    };\n  }\n\n  onMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        showMenu: true,\n        highlight: true,\n      });\n    }\n  }\n\n  onMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        showMenu: false,\n        highlight: false\n      });\n    }\n  }\n\n  onDropdownToggleClick = (e) => {\n    e.preventDefault();\n    this.toggleOperationMenu(e);\n  }\n\n  toggleOperationMenu = (e) => {\n    e.stopPropagation();\n    this.setState(\n      {isItemMenuShow: !this.state.isItemMenuShow }, () => {\n        if (this.state.isItemMenuShow) {\n          this.props.onFreezedItem();\n        } else {\n          this.setState({\n            highlight: false,\n            showMenu: false,\n          });\n          this.props.onUnfreezedItem();\n        }\n      }\n    );\n  }\n\n  toggleDelete = () => {\n    this.props.deleteGroupItem(this.props.group);\n  }\n\n  renderGroupHref = (group) => {\n    let groupInfoHref;\n    if (group.creatorName == 'system admin') {\n      groupInfoHref = siteRoot + 'org/departmentadmin/groups/' + group.id + '/';\n    } else {\n      groupInfoHref = siteRoot + 'org/groupadmin/' + group.id + '/';\n    }\n\n    return groupInfoHref;\n  }\n\n  renderGroupCreator = (group) => {\n    let userInfoHref = siteRoot + 'org/useradmin/info/' + group.creatorEmail + '/';\n    if (group.creatorName == 'system admin') {\n      return (\n        <td> -- </td>\n      );\n    } else {\n      return(\n        <td>\n          <a href={userInfoHref} className=\"font-weight-normal\">{group.creatorName}</a>\n        </td>\n      );\n    }\n  }\n\n  render() {\n    let { group } = this.props;\n    let isOperationMenuShow = (group.creatorName != 'system admin') && this.state.showMenu;\n    return (\n      <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td>\n          <a href={this.renderGroupHref(group)} className=\"font-weight-normal\">{group.groupName}</a>\n        </td>\n        {this.renderGroupCreator(group)}\n        <td>{group.ctime}</td>\n        <td className=\"text-center cursor-pointer\">\n          {isOperationMenuShow &&\n            <Dropdown isOpen={this.state.isItemMenuShow} toggle={this.toggleOperationMenu}>\n              <DropdownToggle\n                tag=\"a\"\n                className=\"attr-action-icon fas fa-ellipsis-v\"\n                title={gettext('More Operations')}\n                data-toggle=\"dropdown\"\n                aria-expanded={this.state.isItemMenuShow}\n                onClick={this.onDropdownToggleClick}\n              />\n              <DropdownMenu>\n                <DropdownItem onClick={this.toggleDelete}>{gettext('Delete')}</DropdownItem>\n              </DropdownMenu>\n            </Dropdown>\n          }\n        </td>\n      </tr>\n    );\n  }\n}\n\n\nclass OrgGroupsSearchGroupsResult extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  render() {\n    let { orgGroups } = this.props;\n    return (\n      <div className=\"cur-view-content\">\n        <table>\n          <thead>\n            <tr>\n              <th width=\"30%\">{gettext('Name')}</th>\n              <th width=\"35%\">{gettext('Creator')}</th>\n              <th width=\"23%\">{gettext('Created At')}</th>\n              <th width=\"12%\" className=\"text-center\">{gettext('Operations')}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {orgGroups.map(item => {\n              return (\n                <GroupItem\n                  key={item.id}\n                  group={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  deleteGroupItem={this.props.toggleDelete}\n                />\n              );\n            })}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nclass OrgGroupsSearchGroups extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: '',\n      orgGroups: [],\n      isSubmitBtnActive: false,\n      loading: true,\n      errorMsg: '',\n    };\n  }\n\n  componentDidMount () {\n    let params = (new URL(document.location)).searchParams;\n    this.setState({\n      query: params.get('query') || '',\n    }, () => {this.getItems();});\n  }\n\n  getItems = () => {\n    seafileAPI.orgAdminSearchGroup(orgID, this.state.query.trim()).then(res => {\n      let groupList = res.data.group_list.map(item => {\n        return new OrgGroupInfo(item);\n      });\n      this.setState({\n        orgGroups: groupList,\n        loading: false,\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  deleteGroupItem = (group) => {\n    seafileAPI.orgAdminDeleteOrgGroup(orgID, group.id).then(res => {\n      this.setState({\n        orgGroups: this.state.orgGroups.filter(item => item.id != group.id)\n      });\n      let msg = gettext('Successfully deleted {name}');\n      msg = msg.replace('{name}', group.groupName);\n      toaster.success(msg);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  handleInputChange = (e) => {\n    this.setState({\n      query: e.target.value\n    }, this.checkSubmitBtnActive);\n  }\n\n  checkSubmitBtnActive = () => {\n    const { query } = this.state;\n    this.setState({\n      isSubmitBtnActive: query.trim()\n    });\n  }\n\n  handleKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      const { isSubmitBtnActive } = this.state;\n      if (isSubmitBtnActive) {\n        this.getItems();\n      }\n    }\n  }\n\n  render() {\n    const { query, isSubmitBtnActive } = this.state;\n\n    return (\n      <Fragment>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Groups')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Search Groups')}</h4>\n                <Form tag={'div'}>\n                  <FormGroup row>\n                    <Col sm={5}>\n                      <Input type=\"text\" name=\"query\" value={query} placeholder={gettext('Search groups')} onChange={this.handleInputChange} onKeyDown={this.handleKeyDown} />\n                    </Col>\n                  </FormGroup>\n                  <FormGroup row>\n                    <Col sm={{size: 5}}>\n                      <button className=\"btn btn-outline-primary\" disabled={!isSubmitBtnActive} onClick={this.getItems}>{gettext('Submit')}</button>\n                    </Col>\n                  </FormGroup>\n                </Form>\n              </div>\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Result')}</h4>\n                <OrgGroupsSearchGroupsResult\n                  toggleDelete={this.deleteGroupItem}\n                  orgGroups={this.state.orgGroups}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default OrgGroupsSearchGroups;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../utils/constants';\n\nconst propTypes = {\n  groupID: PropTypes.string.isRequired,\n  currentItem: PropTypes.string.isRequired\n};\n\nclass OrgAdminGroupNav extends React.Component {\n\n  render() {\n    const { groupID, currentItem } = this.props;\n    const urlBase = `${siteRoot}org/groupadmin/${groupID}/`;\n    return (\n      <div className=\"cur-view-path org-admin-user-nav\">\n        <ul className=\"nav\">\n          <li className=\"nav-item\">\n            <Link to={urlBase} className={`nav-link${currentItem == 'info' ? ' active' : ''}`}>{gettext('Group Info')}</Link>\n          </li>\n          <li className=\"nav-item\">\n            <Link to={`${urlBase}repos/`} className={`nav-link${currentItem == 'repos' ? ' active' : ''}`}>{gettext('Libraries')}</Link>\n          </li>\n          <li className=\"nav-item\">\n            <Link to={`${urlBase}members/`} className={`nav-link${currentItem == 'members' ? ' active' : ''}`}>{gettext('Members')}</Link>\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n\nOrgAdminGroupNav.propTypes = propTypes;\n\nexport default OrgAdminGroupNav;\n","import React, { Component, Fragment } from 'react';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport Loading from '../../components/loading';\nimport OrgAdminGroupNav from '../../components/org-admin-group-nav';\nimport MainPanelTopbar from './main-panel-topbar';\n\nimport '../../css/org-admin-user.css';\n\nconst { orgID } = window.org.pageOptions;\n\nclass OrgGroupInfo extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: ''\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.orgAdminGetGroup(orgID, this.props.groupID).then((res) => {\n      this.setState(Object.assign({\n        loading: false\n      }, res.data));\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar/>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <OrgAdminGroupNav groupID={this.props.groupID} currentItem='info' />\n            <div className=\"cur-view-content\">\n              <Content\n                data={this.state}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n    };\n  }\n\n  render() {\n    const {\n      loading, errorMsg,\n      group_name, creator_email, creator_name\n    } = this.props.data;\n\n    if (loading) {\n      return <Loading />;\n    }\n    if (errorMsg) {\n      return <p className=\"error text-center mt-2\">{errorMsg}</p>;\n    }\n\n    return (\n      <dl>\n        <dt>{gettext('Name')}</dt>\n        <dd>{group_name}</dd>\n\n        <dt>{gettext('Creator')}</dt>\n        <dd>\n          <Link to={`${siteRoot}org/useradmin/info/${encodeURIComponent(creator_email)}/`}>{creator_name}</Link>\n        </dd>\n      </dl>\n    );\n  }\n}\n\nexport default OrgGroupInfo;\n","import React, { Component, Fragment } from 'react';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport Loading from '../../components/loading';\nimport toaster from '../../components/toast';\nimport OrgAdminGroupNav from '../../components/org-admin-group-nav';\nimport DeleteRepoDialog from '../../components/dialog/delete-repo-dialog';\nimport MainPanelTopbar from './main-panel-topbar';\n\nimport '../../css/org-admin-user.css';\n\nconst { orgID } = window.org.pageOptions;\n\nclass OrgGroupRepos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: ''\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.orgAdminListGroupRepos(orgID, this.props.groupID).then((res) => {\n      this.setState(Object.assign({\n        loading: false\n      }, res.data));\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar/>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <OrgAdminGroupNav groupID={this.props.groupID} currentItem='repos' />\n            <div className=\"cur-view-content\">\n              <Content\n                data={this.state}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {\n      loading, errorMsg, libraries\n    } = this.props.data;\n\n    if (loading) {\n      return <Loading />;\n    }\n    if (errorMsg) {\n      return <p className=\"error text-center mt-2\">{errorMsg}</p>;\n    }\n\n    return (\n      <Fragment>\n        <table className=\"table-hover\">\n          <thead>\n            <tr>\n              <th width=\"4%\">{/*icon*/}</th>\n              <th width=\"35%\">{gettext('Name')}</th>\n              <th width=\"20%\">{gettext('Size')}</th>\n              <th width=\"26%\">{gettext('Shared By')}</th>\n              <th width=\"15%\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            {libraries.map((item, index) => {\n              return <Item key={index} data={item} />;\n            })}\n          </tbody>\n        </table>\n      </Fragment>\n    );\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      deleted: false,\n      isDeleteRepoDialogOpen: false,\n      isRepoDeleted: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      isOpIconShown: true\n    });\n  }\n\n  handleMouseOut = () => {\n    this.setState({\n      isOpIconShown: false\n    });\n  }\n\n  handleDeleteIconClick = (e) => {\n    e.preventDefault();\n    this.toggleDeleteRepoDialog();\n  }\n\n  toggleDeleteRepoDialog = () => {\n    this.setState({\n      isDeleteRepoDialogOpen: !this.state.isDeleteRepoDialogOpen\n    });\n  }\n\n  deleteRepo = () => {\n    const repo = this.props.data;\n    seafileAPI.orgAdminDeleteOrgRepo(orgID, repo.repo_id).then((res) => {\n      this.setState({\n        deleted: true,\n        isRepoDeleted: true,\n      });\n      const msg = gettext('Successfully deleted {name}.').replace('{name}', repo.name);\n      toaster.success(msg);\n    }).catch((error) => {\n      const errorMsg = Utils.getErrorMsg(error);\n      toaster.danger(errorMsg);\n\n      this.setState({isRepoDeleted: false});\n    });\n  }\n\n  render() {\n    const { deleted, isOpIconShown, isDeleteRepoDialogOpen } = this.state;\n    const repo = this.props.data;\n\n    if (deleted) {\n      return null;\n    }\n\n    return (\n      <Fragment>\n        <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n          <td>\n            <img src={Utils.getLibIconUrl(repo, false)} alt={Utils.getLibIconTitle(repo)} title={Utils.getLibIconTitle(repo)} width=\"24\" />\n          </td>\n          <td>{repo.name}</td>\n          <td>{Utils.bytesToSize(repo.size)}</td>\n          <td><Link to={`${siteRoot}org/useradmin/info/${encodeURIComponent(repo.shared_by)}/`}>{repo.shared_by_name}</Link></td>\n          <td>\n            <a href=\"#\" className={`action-icon sf2-icon-delete${isOpIconShown ? '' : ' invisible'}`} title={gettext('Delete')} onClick={this.handleDeleteIconClick}></a>\n          </td>\n        </tr>\n        {isDeleteRepoDialogOpen && (\n          <DeleteRepoDialog\n            repo={repo}\n            isRepoDeleted={this.state.isRepoDeleted}\n            onDeleteRepo={this.deleteRepo}\n            toggle={this.toggleDeleteRepoDialog}\n          />\n        )}\n      </Fragment>\n    );\n  }\n}\n\nexport default OrgGroupRepos;\n","import React, { Component, Fragment } from 'react';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport Loading from '../../components/loading';\nimport OrgAdminGroupNav from '../../components/org-admin-group-nav';\nimport MainPanelTopbar from './main-panel-topbar';\n\nimport '../../css/org-admin-user.css';\n\nconst { orgID } = window.org.pageOptions;\n\nclass OrgGroupMembers extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: ''\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.orgAdminListGroupMembers(orgID, this.props.groupID).then((res) => {\n      this.setState(Object.assign({\n        loading: false\n      }, res.data));\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar/>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <OrgAdminGroupNav groupID={this.props.groupID} currentItem='members' />\n            <div className=\"cur-view-content\">\n              <Content\n                data={this.state}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {\n      loading, errorMsg, members\n    } = this.props.data;\n\n    if (loading) {\n      return <Loading />;\n    }\n    if (errorMsg) {\n      return <p className=\"error text-center mt-2\">{errorMsg}</p>;\n    }\n\n    return (\n      <Fragment>\n        <table className=\"table-hover\">\n          <thead>\n            <tr>\n              <th width=\"10%\"></th>\n              <th width=\"50%\">{gettext('Name')}</th>\n              <th width=\"40%\">{gettext('Role')}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {members.map((item, index) => {\n              return <Item key={index} data={item} />;\n            })}\n          </tbody>\n        </table>\n      </Fragment>\n    );\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getRoleText() {\n    switch (this.props.data.role) {\n      case 'Owner':\n        return gettext('Owner');\n      case 'Admin':\n        return gettext('Admin');\n      case 'Member':\n        return gettext('Member');\n    }\n  }\n\n  render() {\n    const item = this.props.data;\n    return (\n      <Fragment>\n        <tr>\n          <td className=\"text-center\">\n            <img src={item.avatar_url} alt=\"\" className=\"avatar\" width=\"32\" />\n          </td>\n          <td>\n            <Link to={`${siteRoot}org/useradmin/info/${encodeURIComponent(item.email)}/`}>{item.name}</Link>\n          </td>\n          <td>\n            {this.getRoleText()}\n          </td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\nexport default OrgGroupMembers;\n","class OrgAdminRepo {\n  constructor(object) {\n    this.repoID = object.repo_id;\n    this.repoName = object.repo_name;\n    this.ownerName = object.owner_name;\n    this.ownerEmail = object.owner_email;\n    this.size = object.size;\n    this.file_count = object.file_count;\n    this.encrypted = object.encrypted;\n    this.isDepartmentRepo = object.is_department_repo;\n    this.groupID = object.group_id;\n  }\n}\n\nexport default OrgAdminRepo;\n","import React, { Fragment, Component } from 'react';\nimport { navigate } from '@gatsbyjs/reach-router';\nimport PropTypes from 'prop-types';\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport MainPanelTopbar from './main-panel-topbar';\nimport OrgAdminRepo from '../../models/org-admin-repo';\nimport toaster from '../../components/toast';\nimport TransferDialog from '../../components/dialog/transfer-dialog';\nimport ModalPortal from '../../components/modal-portal';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport { mediaUrl, siteRoot, gettext, orgID } from '../../utils/constants';\n\nclass OrgLibraries extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      page: 1,\n      pageNext: false,\n      orgRepos: [],\n      sortBy: '',\n      isItemFreezed: false\n    };\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { page, /*currentPage = 1, perPage, */sortBy } = this.state;\n    this.setState({\n      sortBy: urlParams.get('order_by') || sortBy,\n      //perPage: parseInt(urlParams.get('per_page') || perPage),\n      //currentPage: parseInt(urlParams.get('page') || currentPage)\n      page: parseInt(urlParams.get('page') || page)\n    }, () => {\n      this.listRepos(this.state.page);\n    });\n  }\n\n  listRepos = (page) => {\n    seafileAPI.orgAdminListOrgRepos(orgID, page, this.state.sortBy).then(res => {\n      let orgRepos = res.data.repo_list.map(item => {\n        return new OrgAdminRepo(item);\n      });\n\n      this.setState({\n        orgRepos: orgRepos,\n        pageNext: res.data.page_next,\n        page: res.data.page,\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n\n  onChangePageNum = (e, num) => {\n    e.preventDefault();\n    let page = this.state.page;\n\n    if (num == 1) {\n      page = page + 1;\n    } else {\n      page = page - 1;\n    }\n    this.listRepos(page);\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  deleteRepoItem = (repo) => {\n    seafileAPI.orgAdminDeleteOrgRepo(orgID, repo.repoID).then(res => {\n      this.setState({\n        orgRepos: this.state.orgRepos.filter(item => item.repoID != repo.repoID)\n      });\n      let msg = gettext('Successfully deleted {name}');\n      msg = msg.replace('{name}', repo.repoName);\n      toaster.success(msg);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  transferRepoItem = (repoID, user) => {\n    this.setState({\n      orgRepos: this.state.orgRepos.map(item =>{\n        if (item.repoID == repoID) {\n          item.ownerEmail = user.email;\n          item.ownerName = user.value;\n        }\n        return item;\n      })\n    });\n  }\n\n  sortItems = (sortBy) => {\n    this.setState({\n      page: 1,\n      sortBy: sortBy\n    }, () => {\n      let url = new URL(location.href);\n      let searchParams = new URLSearchParams(url.search);\n      const { page, sortBy } = this.state;\n      searchParams.set('page', page);\n      searchParams.set('order_by', sortBy);\n      url.search = searchParams.toString();\n      navigate(url.toString());\n      this.listRepos(page);\n    });\n  }\n\n  sortByFileCount = (e) => {\n    e.preventDefault();\n    this.sortItems('file_count');\n  }\n\n  sortBySize = (e) => {\n    e.preventDefault();\n    this.sortItems('size');\n  }\n\n  render() {\n    const { orgRepos, sortBy } = this.state;\n    const initialSortIcon = <span className=\"fas fa-sort\"></span>;\n    const sortIcon = <span className=\"fas fa-caret-down\"></span>;\n    return (\n      <Fragment>\n        <MainPanelTopbar />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('All Libraries')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <table>\n                <thead>\n                  <tr>\n                    <th width=\"5%\">{/*icon*/}</th>\n                    <th width=\"25%\">{gettext('Name')}</th>\n                    <th width=\"15%\">\n                      <a className=\"d-inline-block table-sort-op\" href=\"#\" onClick={this.sortByFileCount}>{gettext('Files')} {sortBy == 'file_count' ? sortIcon : initialSortIcon}</a>{' / '}\n                      <a className=\"d-inline-block table-sort-op\" href=\"#\" onClick={this.sortBySize}>{gettext('Size')} {sortBy == 'size' ? sortIcon : initialSortIcon}</a>\n                    </th>\n                    <th width=\"32%\">ID</th>\n                    <th width=\"18%\">{gettext('Owner')}</th>\n                    <th width=\"5%\">{/*Operations*/}</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {orgRepos.map(item => {\n                    return (\n                      <RepoItem\n                        key={item.repoID}\n                        repo={item}\n                        isItemFreezed={this.state.isItemFreezed}\n                        onFreezedItem={this.onFreezedItem}\n                        onUnfreezedItem={this.onUnfreezedItem}\n                        deleteRepoItem={this.deleteRepoItem}\n                        transferRepoItem={this.transferRepoItem}\n                      />\n                    );}\n                  )}\n                </tbody>\n              </table>\n              <div className=\"paginator\">\n                {this.state.page != 1 && <a href=\"#\" onClick={(e) => this.onChangePageNum(e, -1)}>{gettext('Previous')}</a>}\n                {(this.state.page != 1 && this.state.pageNext) && <span> | </span>}\n                {this.state.pageNext && <a href=\"#\" onClick={(e) => this.onChangePageNum(e, 1)}>{gettext('Next')}</a>}\n              </div>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nconst propTypes = {\n  repo: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteRepoItem: PropTypes.func.isRequired,\n  transferRepoItem: PropTypes.func.isRequired,\n};\n\nclass RepoItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      showMenu: false,\n      isItemMenuShow: false,\n      isTransferDialogShow: false\n    };\n  }\n\n  onMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        showMenu: true,\n        highlight: true,\n      });\n    }\n  }\n\n  onMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        showMenu: false,\n        highlight: false\n      });\n    }\n  }\n\n  onDropdownToggleClick = (e) => {\n    e.preventDefault();\n    this.toggleOperationMenu(e);\n  }\n\n  toggleOperationMenu = (e) => {\n    e.stopPropagation();\n    this.setState(\n      {isItemMenuShow: !this.state.isItemMenuShow }, () => {\n        if (this.state.isItemMenuShow) {\n          this.props.onFreezedItem();\n        } else {\n          this.setState({\n            highlight: false,\n            showMenu: false,\n          });\n          this.props.onUnfreezedItem();\n        }\n      }\n    );\n  }\n\n  toggleDelete = () => {\n    this.props.deleteRepoItem(this.props.repo);\n  }\n\n  toggleTransfer = () => {\n    this.props.transferRepoItem(this.props.repo);\n  }\n\n  renderLibIcon = (repo) => {\n    let href;\n    let iconTitle;\n    if (repo.encrypted) {\n      href = mediaUrl + 'img/lib/48/lib-encrypted.png';\n      iconTitle = gettext('Encrypted library');\n    } else {\n      href = mediaUrl + 'img/lib/48/lib.png';\n      iconTitle = gettext('Read-Write library');\n    }\n    return <img src={href} title={iconTitle} alt={iconTitle} width=\"24\" />;\n  }\n\n  renderRepoOwnerHref = (repo) => {\n    let href;\n    if (repo.isDepartmentRepo) {\n      href = siteRoot + 'org/admin/#address-book/groups/' + repo.groupID + '/';\n    } else {\n      href = siteRoot + 'org/useradmin/info/' + repo.ownerEmail + '/';\n    }\n    return href;\n  }\n\n  toggleTransfer = () => {\n    this.setState({isTransferDialogShow: !this.state.isTransferDialogShow});\n  }\n\n  onTransferRepo = (user) => {\n    let repo = this.props.repo;\n    seafileAPI.orgAdminTransferOrgRepo(orgID, repo.repoID, user.email).then(res => {\n      this.props.transferRepoItem(repo.repoID, user);\n      let msg = gettext('Successfully transferred the library.');\n      toaster.success(msg);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n    this.toggleTransfer();\n  }\n\n  render() {\n    let { repo } = this.props;\n\n    let isOperationMenuShow = this.state.showMenu && !repo.isDepartmentRepo;\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n          <td>{this.renderLibIcon(repo)}</td>\n          <td>{repo.repoName}</td>\n          <td>{`${repo.file_count} / ${Utils.bytesToSize(repo.size)}`}</td>\n          <td>{repo.repoID}</td>\n          <td><a href={this.renderRepoOwnerHref(repo)}>{repo.ownerName}</a></td>\n          <td className=\"text-center cursor-pointer\">\n            {isOperationMenuShow &&\n              <Dropdown isOpen={this.state.isItemMenuShow} toggle={this.toggleOperationMenu}>\n                <DropdownToggle\n                  tag=\"a\"\n                  className=\"attr-action-icon fas fa-ellipsis-v\"\n                  title={gettext('More Operations')}\n                  data-toggle=\"dropdown\"\n                  aria-expanded={this.state.isItemMenuShow}\n                  onClick={this.onDropdownToggleClick}\n                />\n                <DropdownMenu>\n                  <DropdownItem onClick={this.toggleDelete}>{gettext('Delete')}</DropdownItem>\n                  <DropdownItem onClick={this.toggleTransfer}>{gettext('Transfer')}</DropdownItem>\n                </DropdownMenu>\n              </Dropdown>\n            }\n          </td>\n        </tr>\n        {this.state.isTransferDialogShow && (\n          <ModalPortal>\n            <TransferDialog\n              itemName={repo.repoName}\n              submit={this.onTransferRepo}\n              toggleDialog={this.toggleTransfer}\n            />\n          </ModalPortal>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nRepoItem.propTypes = propTypes;\n\nexport default OrgLibraries;\n","import React, { Component, Fragment } from 'react';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext, orgMemberQuotaEnabled} from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport MainPanelTopbar from './main-panel-topbar';\n\nclass OrgInfo extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      org_name: '',\n      storage_quota: 0,\n      storage_usage: 0,\n      member_quota: 0,\n      member_usage: 0,\n      active_members: 0\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.orgAdminGetOrgInfo().then(res => {\n      this.setState({\n        org_name: res.data.org_name,\n        storage_quota: res.data.storage_quota,\n        storage_usage: res.data.storage_usage,\n        member_quota: res.data.member_quota,\n        member_usage: res.data.member_usage,\n        active_members: res.data.active_members\n      });\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar/>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Info')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <dl>\n                <strong>{this.state.org_name}</strong>\n                <dt>{gettext('Space Used')}</dt>\n\n                {(this.state.storage_quota > 0) ? <dd>{Utils.bytesToSize(this.state.storage_usage)} / {Utils.bytesToSize(this.state.storage_quota)}</dd> : <dd>{Utils.bytesToSize(this.state.storage_usage)}</dd>}\n\n                {orgMemberQuotaEnabled ? <dt>{gettext('Active Users')} / {gettext('Total Users')} / {gettext('Limits')}</dt> : <dt>{gettext('Active Users')} / {gettext('Total Users')}</dt>}\n\n                {orgMemberQuotaEnabled ? <dd>{(this.state.active_members > 0) ? this.state.active_members : '--'} / {(this.state.member_usage > 0) ? this.state.member_usage : '--'} / {(this.state.member_quota > 0) ? this.state.member_quota : '--'}</dd> : <dd>{this.state.active_members > 0 ? this.state.active_members : '--'} / {this.state.member_usage > 0 ? this.state.member_usage : '--'}</dd>}\n\n              </dl>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default OrgInfo;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport toaster from '../toast';\nimport copy from '../copy-to-clipboard';\nimport { gettext } from '../../utils/constants';\n\nconst propTypes = {\n  currentLinkHref: PropTypes.string.isRequired,\n  toggle: PropTypes.func.isRequired,\n};\n\nclass ViewLinkDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  copyToClipBoard = () => {\n    copy(this.props.currentLinkHref);\n    let message = gettext('Link has been copied to clipboard');\n    toaster.success(message), {\n      duration: 2\n    };\n    this.props.toggle();\n  }\n\n  render() {\n    const href = this.props.currentLinkHref;\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Link')}</ModalHeader>\n        <ModalBody>\n          <p><a target=\"_blank\" href={href}>{href}</a></p>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>{' '}\n          <Button color=\"primary\" onClick={this.copyToClipBoard}>{gettext('Copy')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nViewLinkDialog.propTypes = propTypes;\n\nexport default ViewLinkDialog;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { siteRoot, gettext, serviceURL } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../../components/toast';\nimport MainPanelTopbar from './main-panel-topbar';\nimport ViewLinkDialog from '../../components/dialog/view-link-dialog';\n\nclass OrgLinks extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      linkList: null,\n      page: 1,\n      pageNext: false,\n      isItemFreezed: false,\n      isShowLinkDialog: false,\n      currentLinkHref: '',\n    };\n  }\n\n  listOrgLinks = (page) => {\n    seafileAPI.orgAdminListOrgLinks(this.state.page).then(res => {\n      const data = res.data;\n      this.setState({\n        linkList: data.link_list,\n        page: data.page,\n        pageNext: data.page_next,\n      });\n    });\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  onChangePageNum = (event, num) => {\n    event.preventDefault();\n    let page = this.state.page;\n    if (num == 1) {\n      page = page + 1;\n    } else {\n      page = page - 1;\n    }\n    this.listOrgLinks(page);\n  }\n\n  deleteOrgLink = (token) => {\n    seafileAPI.orgAdminDeleteOrgLink(token).then(res => {\n      if (res.data.success === true) {\n        this.listOrgLinks(this.state.page);\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  openLinkDialog = (link) => {\n    let href;\n    if (link.name.indexOf('/') > -1) {\n      href = serviceURL + '/d/' + link.token + '/';\n    } else {\n      href = serviceURL + '/f/' + link.token + '/';\n    }\n    this.setState({ currentLinkHref: href });\n    this.toggleLinkDialog();\n  }\n\n  toggleLinkDialog = () => {\n    this.setState({isShowLinkDialog: !this.state.isShowLinkDialog});\n  }\n\n  componentDidMount() {\n    this.listOrgLinks(this.state.page);\n  }\n\n  render() {\n    const linkList = this.state.linkList;\n    return (\n      <Fragment>\n        <MainPanelTopbar/>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('All Public Links')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <table>\n                <thead>\n                  <tr>\n                    <th width=\"50%\">{gettext('Name')}</th>\n                    <th width=\"15%\">{gettext('Owner')}</th>\n                    <th width=\"15%\">{gettext('Created At')}</th>\n                    <th width=\"10%\">{gettext('Count')}</th>\n                    <th width=\"10%\"></th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {linkList && linkList.map((item, index) => {\n                    return(\n                      <React.Fragment key={index}>\n                        <RepoItem\n                          link={item}\n                          isItemFreezed={this.state.isItemFreezed}\n                          onFreezedItem={this.onFreezedItem}\n                          onUnfreezedItem={this.onUnfreezedItem}\n                          deleteOrgLink={this.deleteOrgLink}\n                          openLinkDialog={this.openLinkDialog}\n                        />\n                      </React.Fragment>\n                    );\n                  })}\n                </tbody>\n              </table>\n              <div className=\"paginator\">\n                {this.state.page != 1 && <a href=\"#\" onClick={(e) => this.onChangePageNum(e, -1)}>{gettext('Previous')}</a>}\n                {(this.state.page != 1 && this.state.pageNext) && <span> | </span>}\n                {this.state.pageNext && <a href=\"#\" onClick={(e) => this.onChangePageNum(e, 1)}>{gettext('Next')}</a>}\n              </div>\n            </div>\n          </div>\n        </div>\n        {this.state.isShowLinkDialog &&\n          <ViewLinkDialog currentLinkHref={this.state.currentLinkHref} toggle={this.toggleLinkDialog}/>\n        }\n      </Fragment>\n    );\n  }\n}\n\nconst propTypes = {\n  link: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteOrgLink: PropTypes.func.isRequired,\n  openLinkDialog: PropTypes.func.isRequired,\n};\n\nclass RepoItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      showMenu: false,\n      isItemMenuShow: false,\n    };\n  }\n\n  onMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({ showMenu: true, highlight: true });\n    }\n  }\n\n  onMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({ showMenu: false, highlight: false });\n    }\n  }\n\n  onDropdownToggleClick = (e) => {\n    e.preventDefault();\n    this.toggleOperationMenu(e);\n  }\n\n  toggleOperationMenu = (e) => {\n    e.stopPropagation();\n    this.setState(\n      {isItemMenuShow: !this.state.isItemMenuShow }, () => {\n        if (this.state.isItemMenuShow) {\n          this.props.onFreezedItem();\n        } else {\n          this.setState({\n            highlight: false,\n            showMenu: false,\n          });\n          this.props.onUnfreezedItem();\n        }\n      }\n    );\n  }\n\n  render() {\n    const { link, deleteOrgLink } = this.props;\n    const href = siteRoot + 'org/useradmin/info/' + encodeURIComponent(link.owner_email) + '/';\n    return (\n      <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave} >\n        <td>{link.name}</td>\n        <td><a href={href}>{link.owner_name}</a></td>\n        <td>{moment(link.created_time).fromNow()}</td>\n        <td>{link.view_count}</td>\n        <td className=\"cursor-pointer text-center\">\n          {this.state.showMenu &&\n            <Dropdown isOpen={this.state.isItemMenuShow} toggle={this.toggleOperationMenu}>\n              <DropdownToggle\n                tag=\"a\"\n                className=\"attr-action-icon fas fa-ellipsis-v\"\n                title={gettext('More Operations')}\n                data-toggle=\"dropdown\"\n                aria-expanded={this.state.isItemMenuShow}\n                onClick={this.onDropdownToggleClick}\n              />\n              <DropdownMenu>\n                <DropdownItem onClick={deleteOrgLink.bind(this, link.token)}>{gettext('Delete')}</DropdownItem>\n                <DropdownItem onClick={this.props.openLinkDialog.bind(this, link)}>{gettext('View Link')}</DropdownItem>\n              </DropdownMenu>\n            </Dropdown>\n          }\n        </td>\n      </tr>\n    );\n  }\n}\n\nRepoItem.propTypes = propTypes;\n\nexport default OrgLinks;\n","import React from 'react';\nimport '../../css/org-department-item.css';\n\nclass OrgDepartments extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div className=\"h-100 org-departments\">\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nexport default OrgDepartments;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, Form, FormGroup, Label } from 'reactstrap';\nimport { gettext, orgID } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\n\nconst propTypes = {\n  groupID: PropTypes.string,\n  parentGroupID: PropTypes.string,\n  toggle: PropTypes.func.isRequired,\n  onDepartChanged: PropTypes.func.isRequired,\n};\n\nclass AddDepartDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      departName: '',\n      errMessage: '',\n    };\n  }\n\n  handleSubmit = () => {\n    let isValid = this.validateName();\n    if (isValid) {\n      let parentGroup = -1;\n      if (this.props.parentGroupID) {\n        parentGroup = this.props.parentGroupID;\n      }\n      seafileAPI.orgAdminAddDepartGroup(orgID, parentGroup, this.state.departName.trim()).then((res) => {\n        this.props.toggle();\n        this.props.onDepartChanged();\n      }).catch(error => {\n        let errorMsg = gettext(error.response.data.error_msg);\n        this.setState({ errMessage: errorMsg });\n      });\n    }\n  }\n\n  validateName = () => {\n    let errMessage = '';\n    const name = this.state.departName.trim();\n    if (!name.length) {\n      errMessage = gettext('Name is required');\n      this.setState({ errMessage: errMessage });\n      return false;\n    }\n    return true;\n  }\n\n  handleChange = (e) => {\n    this.setState({\n      departName: e.target.value,\n    });\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  }\n\n  render() {\n    let header = this.props.parentGroupID ? gettext('New Sub-department') : gettext('New Department');\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.props.toggle}>{header}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"departName\">{gettext('Name')}</Label>\n              <Input\n                id=\"departName\"\n                onKeyPress={this.handleKeyPress}\n                value={this.state.departName}\n                onChange={this.handleChange}\n                autoFocus={true}\n              />\n            </FormGroup>\n          </Form>\n          { this.state.errMessage && <p className=\"error\">{this.state.errMessage}</p> }\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nAddDepartDialog.propTypes = propTypes;\n\nexport default AddDepartDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext, orgID } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../../components/toast';\n\nconst propTypes = {\n  groupName: PropTypes.string,\n  groupID: PropTypes.number.isRequired,\n  toggle: PropTypes.func.isRequired,\n  onDepartChanged: PropTypes.func.isRequired\n};\n\nclass DeleteDepartDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  deleteDepart = () => {\n    this.props.toggle();\n    seafileAPI.orgAdminDeleteDepartGroup(orgID, this.props.groupID).then((res) => {\n      this.props.onDepartChanged();\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    let subtitle = gettext('Are you sure you want to delete {placeholder} ?');\n    subtitle = subtitle.replace('{placeholder}', '<span class=\"op-target\">' + Utils.HTMLescape(this.props.groupName) + '</span>');\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Delete Department')}</ModalHeader>\n        <ModalBody>\n          <p dangerouslySetInnerHTML={{__html: subtitle}}></p>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.deleteDepart}>{gettext('Delete')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nDeleteDepartDialog.propTypes = propTypes;\n\nexport default DeleteDepartDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, InputGroupAddon, InputGroup } from 'reactstrap';\nimport { gettext, orgID } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../toast';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  groupID: PropTypes.number.isRequired,\n  onDepartChanged: PropTypes.func.isRequired,\n};\n\nclass SetGroupQuotaDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      quota: '',\n      errMessage: '',\n    };\n  }\n\n  setGroupQuota = () => {\n    const myReg = /^[1-9]\\d*$/im;\n    let quota = this.state.quota;\n    if ((quota.length && myReg.test(quota)) || quota == -2) {\n      this.setState({ errMessage: '' });\n      let newQuota = this.state.quota == -2 ? this.state.quota : this.state.quota * 1000000;\n      seafileAPI.orgAdminSetGroupQuota(orgID, this.props.groupID, newQuota).then((res) => {\n        this.props.toggle();\n        this.props.onDepartChanged();\n      }).catch(error => {\n        let errMessage = Utils.getErrorMsg(error);\n        toaster.danger(errMessage);\n      });\n    } else {\n      const err = gettext('Quota is invalid.');\n      this.setState({ errMessage: err });\n    }\n  }\n\n  handleChange = (e) => {\n    const quota = e.target.value.trim();\n    this.setState({ quota: quota });\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.setGroupQuota();\n      e.preventDefault();\n    }\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Set Quota')}</ModalHeader>\n        <ModalBody>\n          <InputGroup>\n            <Input\n              onKeyPress={this.handleKeyPress}\n              value={this.state.quota}\n              onChange={this.handleChange}\n              autoFocus={true}\n            />\n            <InputGroupAddon addonType=\"append\">{'MB'}</InputGroupAddon>\n          </InputGroup>\n          <p className=\"tip\">\n            <br/><span>{gettext('An integer that is greater than 0 or equal to -2.')}</span><br/>\n            <span>{gettext('Tip: -2 means no limit.')}</span>\n          </p>\n          { this.state.errMessage && <p className=\"error\">{this.state.errMessage}</p> }\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.setGroupQuota}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSetGroupQuotaDialog.propTypes = propTypes;\n\nexport default SetGroupQuotaDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, Form, FormGroup, Label } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../toast';\n\nconst propTypes = {\n  groupID: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number\n  ]).isRequired,\n  orgID: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number\n  ]).isRequired,\n  name: PropTypes.string.isRequired,\n  toggle: PropTypes.func.isRequired,\n  onDepartmentNameChanged: PropTypes.func.isRequired\n};\n\nclass RenameDepartmentDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      departmentName: this.props.name,\n      errMessage: ''\n    };\n    this.newInput = React.createRef();\n  }\n\n  handleSubmit = () => {\n    let isValid = this.validateName();\n    const { orgID, groupID } = this.props;\n    if (isValid) {\n      seafileAPI.orgAdminUpdateDepartGroup(orgID, groupID, this.state.departmentName.trim()).then((res) => {\n        this.props.toggle();\n        this.props.onDepartmentNameChanged(res.data);\n        toaster.success(gettext('Success'));\n      }).catch(error => {\n        let errorMsg = Utils.getErrorMsg(error);\n        this.setState({ errMessage: errorMsg });\n      });\n    }\n  }\n\n  validateName = () => {\n    let errMessage = '';\n    const name = this.state.departmentName.trim();\n    if (!name.length) {\n      errMessage = gettext('Name is required');\n      this.setState({ errMessage: errMessage });\n      return false;\n    }\n    return true;\n  }\n\n  handleChange = (e) => {\n    this.setState({\n      departmentName: e.target.value\n    });\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  }\n\n  onAfterModelOpened = () => {\n    if (!this.newInput.current) return;\n    this.newInput.current.focus();\n    this.newInput.current.select();\n  }\n\n  render() {\n    let header = gettext('Rename Department');\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle} onOpened={this.onAfterModelOpened}>\n        <ModalHeader toggle={this.props.toggle}>{header}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"departmentName\">{gettext('Name')}</Label>\n              <Input\n                id=\"departmentName\"\n                onKeyPress={this.handleKeyPress}\n                value={this.state.departmentName}\n                onChange={this.handleChange}\n                innerRef={this.newInput}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <p className=\"error\">{this.state.errMessage}</p>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nRenameDepartmentDialog.propTypes = propTypes;\n\nexport default RenameDepartmentDialog;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { Utils } from '../../utils/utils.js';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport MainPanelTopbar from './main-panel-topbar';\nimport ModalPortal from '../../components/modal-portal';\nimport AddDepartDialog from '../../components/dialog/org-add-department-dialog';\nimport DeleteDepartDialog from '../../components/dialog/org-delete-department-dialog';\nimport SetGroupQuotaDialog from '../../components/dialog/org-set-group-quota-dialog';\nimport RenameDepartmentDialog from '../../components/dialog/org-rename-department-dialog';\nimport OpMenu from '../../components/dialog/op-menu';\nimport { siteRoot, gettext, orgID, lang } from '../../utils/constants';\nimport '../../css/org-department-item.css';\n\nmoment.locale(lang);\n\nclass OrgDepartmentsList extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      groups: null,\n      groupID: '',\n      groupName: '',\n      showDeleteDepartDialog: false,\n      showSetGroupQuotaDialog: false,\n      isShowAddDepartDialog: false,\n      isItemFreezed: false,\n    };\n  }\n\n  componentDidMount() {\n    this.listDepartGroups();\n  }\n\n  listDepartGroups = () => {\n    seafileAPI.orgAdminListDepartGroups(orgID).then(res => {\n      this.setState({ groups: res.data.data });\n    });\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  onDepartmentNameChanged = (dept) => {\n    this.setState({\n      groups: this.state.groups.map(item => {\n        if (item.id == dept.id) {\n          item.name = dept.name;\n        }\n        return item;\n      })\n    });\n  }\n\n  showDeleteDepartDialog = (group) => {\n    this.setState({ showDeleteDepartDialog: true, groupID: group.id, groupName: group.name });\n  }\n\n  showSetGroupQuotaDialog = (groupID) => {\n    this.setState({ showSetGroupQuotaDialog: true, groupID: groupID });\n  }\n\n  toggleAddDepartDialog = () => {\n    this.setState({ isShowAddDepartDialog: !this.state.isShowAddDepartDialog});\n  }\n\n  toggleCancel = () => {\n    this.setState({\n      showDeleteDepartDialog: false,\n      showSetGroupQuotaDialog: false,\n    });\n  }\n\n  onDepartChanged = () => {\n    this.listDepartGroups();\n  }\n\n  render() {\n    const groups = this.state.groups;\n    const topbarChildren = (\n      <Fragment>\n        <button className='btn btn-secondary operation-item' title={gettext('New Department')} onClick={this.toggleAddDepartDialog}>{gettext('New Department')}\n        </button>\n        {this.state.isShowAddDepartDialog && (\n          <ModalPortal>\n            <AddDepartDialog\n              onDepartChanged={this.onDepartChanged}\n              groupID={this.state.groupID}\n              toggle={this.toggleAddDepartDialog}\n            />\n          </ModalPortal>\n        )}\n      </Fragment>\n    );\n    return (\n      <Fragment>\n        <MainPanelTopbar children={topbarChildren}/>\n        <div className=\"main-panel-center flex-row h-100\">\n          <div className=\"cur-view-container o-auto\">\n            <div className=\"cur-view-path\">\n              <div className=\"fleft\">\n                <h3 className=\"sf-heading\">{gettext('Departments')}</h3>\n              </div>\n            </div>\n            <div className=\"cur-view-content\">\n              {groups && groups.length > 0 ?\n                <table>\n                  <thead>\n                    <tr>\n                      <th width=\"40%\">{gettext('Name')}</th>\n                      <th width=\"25%\">{gettext('Created At')}</th>\n                      <th width=\"20%\">{gettext('Quota')}</th>\n                      <th width=\"15%\"></th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {groups.map((group, index) => {\n                      return(\n                        <React.Fragment key={group.id}>\n                          <GroupItem\n                            group={group}\n                            isItemFreezed={this.state.isItemFreezed}\n                            onFreezedItem={this.onFreezedItem}\n                            onUnfreezedItem={this.onUnfreezedItem}\n                            onDepartmentNameChanged={this.onDepartmentNameChanged}\n                            showDeleteDepartDialog={this.showDeleteDepartDialog}\n                            showSetGroupQuotaDialog={this.showSetGroupQuotaDialog}\n                          />\n                        </React.Fragment>\n                      );\n                    })}\n                  </tbody>\n                </table>\n                :\n                <p className=\"no-group\">{gettext('No departments')}</p>\n              }\n            </div>\n            <React.Fragment>\n              {this.state.showDeleteDepartDialog && (\n                <ModalPortal>\n                  <DeleteDepartDialog\n                    toggle={this.toggleCancel}\n                    groupID={this.state.groupID}\n                    groupName={this.state.groupName}\n                    onDepartChanged={this.onDepartChanged}\n                  />\n                </ModalPortal>\n              )}\n              {this.state.showSetGroupQuotaDialog && (\n                <ModalPortal>\n                  <SetGroupQuotaDialog\n                    toggle={this.toggleCancel}\n                    groupID={this.state.groupID}\n                    onDepartChanged={this.onDepartChanged}\n                  />\n                </ModalPortal>\n              )}\n            </React.Fragment>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nclass GroupItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      isOpIconShown: false,\n      isRenameDialogOpen: false,\n    };\n  }\n\n  onMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  }\n\n  onMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  }\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Rename':\n        translateResult = gettext('Rename');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      default:\n        break;\n    }\n\n    return translateResult;\n  }\n\n  onMenuItemClick = (operation) => {\n    const { group } = this.props;\n    switch(operation) {\n      case 'Rename':\n        this.toggleRenameDialog();\n        break;\n      case 'Delete':\n        this.props.showDeleteDepartDialog(group);\n        break;\n      default:\n        break;\n    }\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  }\n\n  toggleRenameDialog = () => {\n    this.setState({\n      isRenameDialogOpen: !this.state.isRenameDialogOpen\n    });\n  }\n\n  render() {\n    const group = this.props.group;\n    const { highlight, isOpIconShown, isRenameDialogOpen } = this.state;\n    const newHref = siteRoot+ 'org/departmentadmin/groups/' + group.id + '/';\n    return (\n      <Fragment>\n        <tr className={highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n          <td><Link to={newHref}>{group.name}</Link></td>\n          <td>{moment(group.created_at).fromNow()}</td>\n          <td onClick={this.props.showSetGroupQuotaDialog.bind(this, group.id)}>\n            {Utils.bytesToSize(group.quota)}{' '}\n            <span title=\"Edit Quota\" className={`fa fa-pencil-alt attr-action-icon ${highlight ? '' : 'vh'}`}></span>\n          </td>\n          <td>\n            {isOpIconShown &&\n              <OpMenu\n                operations={['Rename', 'Delete']}\n                translateOperations={this.translateOperations}\n                onMenuItemClick={this.onMenuItemClick}\n                onFreezedItem={this.props.onFreezedItem}\n                onUnfreezedItem={this.onUnfreezedItem}\n              />\n            }\n          </td>\n        </tr>\n        {isRenameDialogOpen && (\n          <RenameDepartmentDialog\n            orgID={orgID}\n            groupID={group.id}\n            name={group.name}\n            toggle={this.toggleRenameDialog}\n            onDepartmentNameChanged={this.props.onDepartmentNameChanged}\n          />\n        )}\n      </Fragment>\n    );\n  }\n}\n\nconst GroupItemPropTypes = {\n  group: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  onDepartmentNameChanged: PropTypes.func.isRequired,\n  showSetGroupQuotaDialog: PropTypes.func.isRequired,\n  showDeleteDepartDialog: PropTypes.func.isRequired,\n};\n\nGroupItem.propTypes = GroupItemPropTypes;\n\nexport default OrgDepartmentsList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext, orgID } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../toast';\nimport UserSelect from '../user-select.js';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  groupID:  PropTypes.string.isRequired,\n  onMemberChanged: PropTypes.func.isRequired\n};\n\nclass AddMemberDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: null,\n      errMessage: '',\n    };\n    this.Options = [];\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({ selectedOption: option });\n    this.Options = [];\n  }\n\n  handleSubmit = () => {\n    if (!this.state.selectedOption) return;\n    const email = this.state.selectedOption.email;\n    this.refs.orgSelect.clearSelect();\n    this.setState({ errMessage: [] });\n    seafileAPI.orgAdminAddGroupMember(orgID, this.props.groupID, email).then((res) => {\n      this.setState({ selectedOption: null });\n      if (res.data.failed.length > 0) {\n        this.setState({ errMessage: res.data.failed[0].error_msg });\n      }\n      if (res.data.success.length > 0) {\n        this.props.onMemberChanged();\n        this.props.toggle();\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Add Member')}</ModalHeader>\n        <ModalBody>\n          <UserSelect\n            placeholder={gettext('Search users...')}\n            onSelectChange={this.handleSelectChange}\n            ref=\"orgSelect\"\n            isMulti={false}\n            className='org-add-member-select'\n          />\n          { this.state.errMessage && <p className=\"error\">{this.state.errMessage}</p> }\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nAddMemberDialog.propTypes = propTypes;\n\nexport default AddMemberDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext, orgID } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../toast';\n\nconst propTypes = {\n  member: PropTypes.object.isRequired,\n  groupID: PropTypes.string.isRequired,\n  toggle: PropTypes.func.isRequired,\n  onMemberChanged: PropTypes.func.isRequired\n};\n\nclass DeleteMemberDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  deleteMember = () => {\n    const userEmail = this.props.member.email;\n    seafileAPI.orgAdminDeleteGroupMember(orgID, this.props.groupID, userEmail).then((res) => {\n      if (res.data.success) {\n        this.props.onMemberChanged();\n        this.props.toggle();\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    let subtitle = gettext('Are you sure you want to delete {placeholder} ?');\n    subtitle = subtitle.replace('{placeholder}', '<span class=\"op-target\">' + Utils.HTMLescape(this.props.member.name) + '</span>');\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Delete Member')}</ModalHeader>\n        <ModalBody>\n          <div dangerouslySetInnerHTML={{__html: subtitle}}></div>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.deleteMember}>{gettext('Delete')}</Button>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nDeleteMemberDialog.propTypes = propTypes;\n\nexport default DeleteMemberDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, Form, FormGroup, Label } from 'reactstrap';\nimport { gettext, orgID } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  groupID: PropTypes.string.isRequired,\n  onRepoChanged: PropTypes.func.isRequired,\n};\n\nclass AddRepoDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      repoName: '',\n      errMessage: '',\n    };\n  }\n\n  handleSubmit = () => {\n    let isValid = this.validateName();\n    if (isValid) {\n      seafileAPI.orgAdminAddDepartmentRepo(orgID, this.props.groupID, this.state.repoName.trim()).then((res) => {\n        this.props.toggle();\n        this.props.onRepoChanged();\n      }).catch(error => {\n        let errorMsg = Utils.getErrorMsg(error);\n        this.setState({ errMessage: errorMsg });\n      });\n    }\n  }\n\n  validateName = () => {\n    let errMessage = '';\n    const name = this.state.repoName.trim();\n    if (!name.length) {\n      errMessage = gettext('Name is required');\n      this.setState({ errMessage: errMessage });\n      return false;\n    }\n    return true;\n  }\n\n  handleChange = (e) => {\n    this.setState({\n      repoName: e.target.value,\n    });\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('New Library')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"repoName\">{gettext('Name')}</Label>\n              <Input\n                id=\"repoName\"\n                onKeyPress={this.handleKeyPress}\n                value={this.state.repoName}\n                onChange={this.handleChange}\n                autoFocus={true}\n              />\n            </FormGroup>\n          </Form>\n          { this.state.errMessage && <p className=\"error\">{this.state.errMessage}</p> }\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nAddRepoDialog.propTypes = propTypes;\n\nexport default AddRepoDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext, orgID } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../toast';\n\nclass DeleteRepoDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  deleteRepo = () => {\n    seafileAPI.orgAdminDeleteDepartmentRepo(orgID, this.props.groupID, this.props.repo.repo_id).then((res) => {\n      if (res.data.success) {\n        this.props.onRepoChanged();\n        this.props.toggle();\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    let subtitle = gettext('Are you sure you want to delete {placeholder} ?');\n    subtitle = subtitle.replace('{placeholder}', '<span class=\"op-target\">' + Utils.HTMLescape(this.props.repo.name) + '</span>');\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Delete Library')}</ModalHeader>\n        <ModalBody>\n          <div dangerouslySetInnerHTML={{__html: subtitle}}></div>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.deleteRepo}>{gettext('Delete')}</Button>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nconst propTypes = {\n  repo: PropTypes.object.isRequired,\n  toggle: PropTypes.func.isRequired,\n  groupID: PropTypes.string.isRequired,\n  onRepoChanged: PropTypes.func.isRequired\n};\n\nDeleteRepoDialog.propTypes = propTypes;\n\nexport default DeleteRepoDialog;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils.js';\nimport toaster from '../../components/toast';\nimport MainPanelTopbar from './main-panel-topbar';\nimport ModalPortal from '../../components/modal-portal';\nimport RoleEditor from '../../components/select-editor/role-editor';\nimport AddDepartDialog from '../../components/dialog/org-add-department-dialog';\nimport AddMemberDialog from '../../components/dialog/org-add-member-dialog';\nimport DeleteMemberDialog from '../../components/dialog/org-delete-member-dialog';\nimport AddRepoDialog from '../../components/dialog/org-add-repo-dialog';\nimport DeleteRepoDialog from '../../components/dialog/org-delete-repo-dialog';\nimport DeleteDepartDialog from '../../components/dialog/org-delete-department-dialog';\nimport SetGroupQuotaDialog from '../../components/dialog/org-set-group-quota-dialog';\nimport RenameDepartmentDialog from '../../components/dialog/org-rename-department-dialog';\nimport OpMenu from '../../components/dialog/op-menu';\nimport { serviceURL, siteRoot, gettext, orgID, lang } from '../../utils/constants';\nimport '../../css/org-department-item.css';\n\nmoment.locale(lang);\n\nclass OrgDepartmentItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      groupName: '',\n      isItemFreezed: false,\n      isDepartFreezed: false,\n      ancestorGroups: [],\n      members: [],\n      deletedMember: {},\n      isShowAddMemberDialog: false,\n      showDeleteMemberDialog: false,\n      repos: [],\n      deletedRepo: {},\n      isShowAddRepoDialog: false,\n      showDeleteRepoDialog: false,\n      groups: [],\n      subGroupID: '',\n      subGroupName: '',\n      isShowAddDepartDialog: false,\n      showDeleteDepartDialog: false,\n      showSetGroupQuotaDialog: false,\n    };\n  }\n\n  componentDidMount() {\n    const groupID = this.props.groupID;\n    this.listOrgGroupRepo(groupID);\n    this.listOrgMembers(groupID);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.groupID !== nextProps.groupID) {\n      this.listOrgGroupRepo(nextProps.groupID);\n      this.listOrgMembers(nextProps.groupID);\n    }\n  }\n\n  listOrgGroupRepo = (groupID) => {\n    seafileAPI.orgAdminListGroupRepos(orgID, groupID).then(res => {\n      this.setState({ repos: res.data.libraries });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  listOrgMembers = (groupID) => {\n    seafileAPI.orgAdminListGroupInfo(orgID, groupID, true).then(res => {\n      this.setState({\n        members: res.data.members,\n        groups: res.data.groups,\n        ancestorGroups: res.data.ancestor_groups,\n        groupName: res.data.name,\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  listSubDepartGroups = (groupID) => {\n    seafileAPI.orgAdminListGroupInfo(orgID, groupID, true).then(res => {\n      this.setState({ groups: res.data.groups });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  toggleCancel = () => {\n    this.setState({\n      showDeleteMemberDialog: false,\n      showDeleteRepoDialog: false,\n      showDeleteDepartDialog: false,\n      showSetGroupQuotaDialog: false,\n    });\n  }\n\n  onFreezedDepart = () => {\n    this.setState({isDepartFreezed: true});\n  }\n\n  onUnfreezedDepart = () => {\n    this.setState({isDepartFreezed: false});\n  }\n\n  onDepartmentNameChanged = (dept) => {\n    this.setState({\n      groups: this.state.groups.map(item => {\n        if (item.id == dept.id) {\n          item.name = dept.name;\n        }\n        return item;\n      })\n    });\n  }\n\n  onSubDepartChanged = () => {\n    this.listSubDepartGroups(this.props.groupID);\n  }\n\n  onRepoChanged = () => {\n    this.listOrgGroupRepo(this.props.groupID);\n  }\n\n  onMemberChanged = () => {\n    this.listOrgMembers(this.props.groupID);\n  }\n\n  toggleItemFreezed = (isFreezed) => {\n    this.setState({ isItemFreezed: isFreezed });\n  }\n\n  showDeleteMemberDialog = (member) => {\n    this.setState({ showDeleteMemberDialog: true, deletedMember: member });\n  }\n\n  showDeleteRepoDialog = (repo) => {\n    this.setState({ showDeleteRepoDialog: true, deletedRepo: repo });\n  }\n\n  toggleAddRepoDialog = () => {\n    this.setState({ isShowAddRepoDialog: !this.state.isShowAddRepoDialog });\n  }\n\n  toggleAddMemberDialog = () => {\n    this.setState({ isShowAddMemberDialog: !this.state.isShowAddMemberDialog });\n  }\n\n  toggleAddDepartDialog = () => {\n    this.setState({ isShowAddDepartDialog: !this.state.isShowAddDepartDialog});\n  }\n\n  showDeleteDepartDialog = (subGroup) => {\n    this.setState({\n      showDeleteDepartDialog: true,\n      subGroupID: subGroup.id,\n      subGroupName: subGroup.name\n    });\n  }\n\n  showSetGroupQuotaDialog = (subGroupID) => {\n    this.setState({\n      showSetGroupQuotaDialog: true,\n      subGroupID: subGroupID\n    });\n  }\n\n  render() {\n    const { members, repos, groups } = this.state;\n    const groupID = this.props.groupID;\n    const topBtn = 'btn btn-secondary operation-item';\n    const topbarChildren = (\n      <Fragment>\n        {groupID &&\n          <button className={topBtn} title={gettext('New Sub-department')} onClick={this.toggleAddDepartDialog}>{gettext('New Sub-department')}</button>\n        }\n        {groupID &&\n          <button className={topBtn} title={gettext('Add Member')} onClick={this.toggleAddMemberDialog}>{gettext('Add Member')}</button>\n        }\n        {groupID &&\n          <button className={topBtn} onClick={this.toggleAddRepoDialog} title={gettext('New Library')}>{gettext('New Library')}</button>\n        }\n        {this.state.isShowAddMemberDialog && (\n          <ModalPortal>\n            <AddMemberDialog\n              toggle={this.toggleAddMemberDialog}\n              onMemberChanged={this.onMemberChanged}\n              groupID={groupID}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isShowAddRepoDialog && (\n          <ModalPortal>\n            <AddRepoDialog\n              toggle={this.toggleAddRepoDialog}\n              onRepoChanged={this.onRepoChanged}\n              groupID={groupID}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isShowAddDepartDialog && (\n          <ModalPortal>\n            <AddDepartDialog\n              onDepartChanged={this.onSubDepartChanged}\n              parentGroupID={groupID}\n              toggle={this.toggleAddDepartDialog}\n            />\n          </ModalPortal>\n        )}\n      </Fragment>\n    );\n\n    return (\n      <Fragment>\n        <MainPanelTopbar children={topbarChildren} />\n        <div className=\"main-panel-center flex-row h-100\">\n          <div className=\"cur-view-container o-auto\">\n            <div className=\"cur-view-path\">\n              <div className=\"fleft\">\n                <h3 className=\"sf-heading\">\n                  {groupID ?\n                    <Link to={siteRoot + 'org/departmentadmin/'}>{gettext('Departments')}</Link>\n                    : <span>{gettext('Departments')}</span>\n                  }\n                  {this.state.ancestorGroups.map(ancestor => {\n                    let newHref = siteRoot + 'org/departmentadmin/groups/' + ancestor.id + '/';\n                    return <span key={ancestor.id}>{' / '}<Link to={newHref}>{ancestor.name}</Link></span>;\n                  })}\n                  {groupID && <span>{' / '}{this.state.groupName}</span>}\n                </h3>\n              </div>\n            </div>\n\n            <div className=\"cur-view-subcontainer org-groups\">\n              <div className=\"cur-view-path\">\n                <div className=\"fleft\"><h3 className=\"sf-heading\">{gettext('Sub-departments')}</h3></div>\n              </div>\n              <div className=\"cur-view-content\">\n                {groups && groups.length > 0 ?\n                  <table>\n                    <thead>\n                      <tr>\n                        <th width=\"40%\">{gettext('Name')}</th>\n                        <th width=\"25%\">{gettext('Created At')}</th>\n                        <th width=\"20%\">{gettext('Quota')}</th>\n                        <th width=\"15%\"></th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {groups.map((group, index) => {\n                        return(\n                          <React.Fragment key={group.id}>\n                            <GroupItem\n                              group={group}\n                              isItemFreezed={this.state.isDepartFreezed}\n                              onFreezedItem={this.onFreezedDepart}\n                              onUnfreezedItem={this.onUnfreezedDepart}\n                              onDepartmentNameChanged={this.onDepartmentNameChanged}\n                              showDeleteDepartDialog={this.showDeleteDepartDialog}\n                              showSetGroupQuotaDialog={this.showSetGroupQuotaDialog}\n                            />\n                          </React.Fragment>\n                        );\n                      })}\n                    </tbody>\n                  </table>\n                  : <p className=\"no-group\">{gettext('No sub-departments')}</p>\n                }\n              </div>\n            </div>\n\n            <div className=\"cur-view-subcontainer org-members\">\n              <div className=\"cur-view-path\">\n                <div className=\"fleft\"><h3 className=\"sf-heading\">{gettext('Members')}</h3></div>\n              </div>\n              <div className=\"cur-view-content\">\n                {(!members || members.length === 0) ?\n                  <p className=\"no-member\">{gettext('No members')}</p> :\n                  <table>\n                    <thead>\n                      <tr>\n                        <th width=\"5%\"></th>\n                        <th width=\"50%\">{gettext('Name')}</th>\n                        <th width=\"15%\">{gettext('Role')}</th>\n                        <th width=\"30%\"></th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {members.map((member, index) => {\n                        return (\n                          <React.Fragment key={index}>\n                            <MemberItem\n                              member={member}\n                              showDeleteMemberDialog={this.showDeleteMemberDialog}\n                              isItemFreezed={this.state.isItemFreezed}\n                              onMemberChanged={this.onMemberChanged}\n                              toggleItemFreezed={this.toggleItemFreezed}\n                              groupID={groupID}\n                            />\n                          </React.Fragment>\n                        );\n                      })}\n                    </tbody>\n                  </table>\n                }\n              </div>\n            </div>\n\n            <div className=\"cur-view-subcontainer org-libriries\">\n              <div className=\"cur-view-path\">\n                <div className=\"fleft\"><h3 className=\"sf-heading\">{gettext('Libraries')}</h3></div>\n              </div>\n              { repos.length > 0 ?\n                <div className=\"cur-view-content\">\n                  <table>\n                    <thead>\n                      <tr>\n                        <th width=\"5%\"></th>\n                        <th width=\"50%\">{gettext('Name')}</th>\n                        <th width=\"30%\">{gettext('Size')}</th>\n                        <th width=\"15%\"></th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {repos.map((repo, index) => {\n                        return(\n                          <React.Fragment key={index}>\n                            <RepoItem repo={repo} showDeleteRepoDialog={this.showDeleteRepoDialog}/>\n                          </React.Fragment>\n                        );\n                      })}\n                    </tbody>\n                  </table>\n                </div>\n                : <p className=\"no-libraty\">{gettext('No libraries')}</p>\n              }\n            </div>\n\n          </div>\n          <React.Fragment>\n            {this.state.showDeleteMemberDialog && (\n              <ModalPortal>\n                <DeleteMemberDialog\n                  toggle={this.toggleCancel}\n                  onMemberChanged={this.onMemberChanged}\n                  member={this.state.deletedMember}\n                  groupID={groupID}\n                />\n              </ModalPortal>\n            )}\n            {this.state.showDeleteRepoDialog && (\n              <ModalPortal>\n                <DeleteRepoDialog\n                  toggle={this.toggleCancel}\n                  onRepoChanged={this.onRepoChanged}\n                  repo={this.state.deletedRepo}\n                  groupID={groupID}\n                />\n              </ModalPortal>\n            )}\n            {this.state.showDeleteDepartDialog && (\n              <ModalPortal>\n                <DeleteDepartDialog\n                  toggle={this.toggleCancel}\n                  groupID={this.state.subGroupID}\n                  groupName={this.state.subGroupName}\n                  onDepartChanged={this.onSubDepartChanged}\n                />\n              </ModalPortal>\n            )}\n            {this.state.showSetGroupQuotaDialog && (\n              <ModalPortal>\n                <SetGroupQuotaDialog\n                  toggle={this.toggleCancel}\n                  groupID={this.state.subGroupID}\n                  onDepartChanged={this.onSubDepartChanged}\n                />\n              </ModalPortal>\n            )}\n          </React.Fragment>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nclass MemberItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      showRoleMenu: false,\n    };\n    this.roles = ['Admin', 'Member'];\n  }\n\n  onMouseEnter = () => {\n    if (this.props.isItemFreezed) return;\n    this.setState({ highlight: true });\n  }\n\n  onMouseLeave = () => {\n    if (this.props.isItemFreezed) return;\n    this.setState({ highlight: false });\n  }\n\n  toggleMemberRoleMenu = () => {\n    this.setState({ showRoleMenu: !this.state.showRoleMenu });\n  }\n\n  onChangeUserRole = (role) => {\n    let isAdmin = role === 'Admin' ? true : false;\n    seafileAPI.orgAdminSetGroupMemberRole(orgID, this.props.groupID, this.props.member.email, isAdmin).then((res) => {\n      this.props.onMemberChanged();\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n    this.setState({\n      highlight: false,\n    });\n  }\n\n  render() {\n    const member = this.props.member;\n    const highlight = this.state.highlight;\n    let memberLink = serviceURL + '/org/useradmin/info/' + member.email + '/';\n    if (member.role === 'Owner') return null;\n    return (\n      <tr className={highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td><img src={member.avatar_url} alt=\"member-header\" width=\"24\" className=\"avatar\"/></td>\n        <td><a href={memberLink}>{member.name}</a></td>\n        <td>\n          <RoleEditor\n            isTextMode={true}\n            isEditIconShow={highlight}\n            currentRole={member.role}\n            roles={this.roles}\n            onRoleChanged={this.onChangeUserRole}\n            toggleItemFreezed={this.props.toggleItemFreezed}\n          />\n        </td>\n        {!this.props.isItemFreezed ?\n          <td className=\"cursor-pointer text-center\" onClick={this.props.showDeleteMemberDialog.bind(this, member)}>\n            <span className={`sf2-icon-x3 action-icon ${highlight ? '' : 'vh'}`} title=\"Delete\"></span>\n          </td> : <td></td>\n        }\n      </tr>\n    );\n  }\n}\n\nconst MemberItemPropTypes = {\n  groupID: PropTypes.string.isRequired,\n  member: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onMemberChanged: PropTypes.func.isRequired,\n  showDeleteMemberDialog: PropTypes.func.isRequired,\n  toggleItemFreezed: PropTypes.func.isRequired,\n};\n\nMemberItem.propTypes = MemberItemPropTypes;\n\nclass RepoItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n    };\n  }\n\n  onMouseEnter = () => {\n    this.setState({ highlight: true });\n  }\n\n  onMouseLeave = () => {\n    this.setState({ highlight: false });\n  }\n\n  render() {\n    const repo = this.props.repo;\n    const highlight = this.state.highlight;\n    let iconUrl = Utils.getLibIconUrl(repo);\n    return (\n      <tr className={highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td><img src={iconUrl} width=\"24\" alt={gettext('icon')}/></td>\n        <td>{repo.name}</td>\n        <td>{Utils.bytesToSize(repo.size)}{' '}</td>\n        <td className=\"cursor-pointer text-center\" onClick={this.props.showDeleteRepoDialog.bind(this, repo)}>\n          <span className={`sf2-icon-delete action-icon ${highlight ? '' : 'vh'}`} title=\"Delete\"></span>\n        </td>\n      </tr>\n    );\n  }\n}\n\nconst RepoItemPropTypes = {\n  repo: PropTypes.object.isRequired,\n  showDeleteRepoDialog: PropTypes.func.isRequired,\n};\n\nRepoItem.propTypes = RepoItemPropTypes;\n\nclass GroupItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      isOpIconShown: false,\n      isRenameDialogOpen: false,\n    };\n  }\n\n  onMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  }\n\n  onMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  }\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Rename':\n        translateResult = gettext('Rename');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      default:\n        break;\n    }\n\n    return translateResult;\n  }\n\n  onMenuItemClick = (operation) => {\n    const { group } = this.props;\n    switch(operation) {\n      case 'Rename':\n        this.toggleRenameDialog();\n        break;\n      case 'Delete':\n        this.props.showDeleteDepartDialog(group);\n        break;\n      default:\n        break;\n    }\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  }\n\n  toggleRenameDialog = () => {\n    this.setState({\n      isRenameDialogOpen: !this.state.isRenameDialogOpen\n    });\n  }\n\n  render() {\n    const group = this.props.group;\n    const { highlight, isOpIconShown, isRenameDialogOpen } = this.state;\n    const newHref = siteRoot+ 'org/departmentadmin/groups/' + group.id + '/';\n    return (\n      <Fragment>\n        <tr className={highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n          <td><Link to={newHref}>{group.name}</Link></td>\n          <td>{moment(group.created_at).fromNow()}</td>\n          <td onClick={this.props.showSetGroupQuotaDialog.bind(this, group.id)}>\n            {Utils.bytesToSize(group.quota)}{' '}\n            <span title=\"Edit Quota\" className={`fa fa-pencil-alt attr-action-icon ${highlight ? '' : 'vh'}`}></span>\n          </td>\n          <td>\n            {isOpIconShown &&\n              <OpMenu\n                operations={['Rename', 'Delete']}\n                translateOperations={this.translateOperations}\n                onMenuItemClick={this.onMenuItemClick}\n                onFreezedItem={this.props.onFreezedItem}\n                onUnfreezedItem={this.onUnfreezedItem}\n              />\n            }\n          </td>\n        </tr>\n        {isRenameDialogOpen && (\n          <RenameDepartmentDialog\n            orgID={orgID}\n            groupID={group.id}\n            name={group.name}\n            toggle={this.toggleRenameDialog}\n            onDepartmentNameChanged={this.props.onDepartmentNameChanged}\n          />\n        )}\n      </Fragment>\n    );\n  }\n}\n\nconst GroupItemPropTypes = {\n  group: PropTypes.object.isRequired,\n  groupID: PropTypes.string,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  onDepartmentNameChanged: PropTypes.func.isRequired,\n  showSetGroupQuotaDialog: PropTypes.func.isRequired,\n  showDeleteDepartDialog: PropTypes.func.isRequired,\n  isSubdepartChanged: PropTypes.bool,\n};\n\nGroupItem.propTypes = GroupItemPropTypes;\n\n\nconst OrgDepartmentItemPropTypes = {\n  groupID: PropTypes.string,\n};\n\nOrgDepartmentItem.propTypes = OrgDepartmentItemPropTypes;\n\nexport default OrgDepartmentItem;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../utils/constants';\nimport MainPanelTopbar from './main-panel-topbar';\n\nclass OrgLogs extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  tabItemClick = (param) => {\n    this.props.tabItemClick(param);\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar/>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path org-user-nav\">\n              <ul className=\"nav\">\n                <li className=\"nav-item\" onClick={() => this.tabItemClick('logadmin')}>\n                  <Link\n                    className={`nav-link ${this.props.currentTab === 'logadmin' ? 'active': ''}`}\n                    to={siteRoot + 'org/logadmin/'} title={gettext('File Access')}>{gettext('File Access')}\n                  </Link>\n                </li>\n                <li className=\"nav-item\" onClick={() => this.tabItemClick('file-update')}>\n                  <Link\n                    className={`nav-link ${this.props.currentTab === 'file-update' ? 'active': ''}`}\n                    to={siteRoot + 'org/logadmin/file-update/'} title={gettext('File Update')}>{gettext('File Update')}\n                  </Link>\n                </li>\n                <li className=\"nav-item\" onClick={() => this.tabItemClick('perm-audit')}>\n                  <Link\n                    className={`nav-link ${this.props.currentTab === 'perm-audit' ? 'active': ''}`}\n                    to={siteRoot + 'org/logadmin/perm-audit/'} title={gettext('Permission')}>{gettext('Permission')}\n                  </Link>\n                </li>\n              </ul>\n            </div>\n            {this.props.children}\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nconst propTypes = {\n  currentTab: PropTypes.string.isRequired,\n  tabItemClick: PropTypes.func.isRequired,\n};\n\nOrgLogs.propTypes = propTypes;\n\nexport default OrgLogs;\n","import { lang } from '../utils/constants';\nimport moment from 'moment';\n\nmoment.locale(lang);\n\nclass OrgLogsFileAuditEvent {\n  constructor(object) {\n    this.ip = object.ip;\n    this.type = object.type;\n    this.device = object.device;\n    this.repo_id = object.repo_id;\n    this.repo_name = object.repo_name;\n    this.file_name = object.file_name;\n    this.file_path = object.file_path;\n    this.user_name = object.user_name;\n    this.user_email = object.user_email;\n    this.user_contact_email = object.user_contact_email;\n    this.time = moment(object.time).format('YYYY-MM-DD HH:mm:ss');\n  }\n}\n\nexport default OrgLogsFileAuditEvent;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { siteRoot, gettext, lang } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../../components/toast';\nimport OrgLogsFileAuditEvent from '../../models/org-logs-file-audit';\nimport '../../css/org-logs.css';\n\nmoment.locale(lang);\n\nclass OrgLogsFileAudit extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      page: 1,\n      pageNext: false,\n      eventList: [],\n      userSelected: '',\n      repoSelected: '',\n      isItemFreezed: false\n    };\n  }\n\n  componentDidMount() {\n    let page = this.state.page;\n    let email = this.state.userSelected;\n    let repoID = this.state.repoSelected;\n    this.initData(email, repoID, page);\n  }\n\n  initData = (email, repoID, page) => {\n    seafileAPI.orgAdminListFileAudit(email, repoID, page).then(res => {\n      let eventList = res.data.log_list.map(item => {\n        return new OrgLogsFileAuditEvent(item);\n      });\n\n      this.setState({\n        eventList: eventList,\n        pageNext: res.data.page_next,\n        page: res.data.page,\n        userSelected: res.data.user_selected,\n        repoSelected: res.data.repo_selected\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n\n  onChangePageNum = (e, num) => {\n    e.preventDefault();\n    let page = this.state.page;\n\n    if (num == 1) {\n      page = page + 1;\n    } else {\n      page = page - 1;\n    }\n    let email = this.state.userSelected;\n    let repoID = this.state.repoSelected;\n    this.initData(email, repoID, page);\n  }\n\n  filterUser = (userSelected) => {\n    this.setState({ userSelected: userSelected });\n  }\n\n  filterRepo = (repoSelected) => {\n    this.setState({ repoSelected: repoSelected });\n  }\n\n  render() {\n    let eventList = this.state.eventList;\n    return (\n      <div className=\"cur-view-content\">\n        {\n          (this.state.userSelected || this.state.repoSelected) &&\n          <React.Fragment>\n            {this.state.userSelected &&\n              <span className=\"audit-unselect-item\" onClick={this.filterUser.bind(this, null)}>\n                <span className=\"no-deco\">{this.state.userSelected}</span>{' '}\n              </span>\n            }\n            {this.state.repoSelected &&\n              <span className=\"audit-unselect-item\" onClick={this.filterRepo.bind(this, null)}>\n                <span className=\"no-deco\">{this.state.repoSelected}</span>{' '}\n              </span>\n            }\n          </React.Fragment>\n        }\n        <table>\n          <thead>\n            <tr>\n              <th width=\"24%\">{gettext('User')}</th>\n              <th width=\"10%\">{gettext('Type')}</th>\n              <th width=\"13%\">{gettext('IP')}</th>\n              <th width=\"17%\">{gettext('Date')}</th>\n              <th width=\"18%\">{gettext('Library')}</th>\n              <th width=\"18%\">{gettext('File')}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {eventList.map((item, index) => {\n              return (\n                <FileAuditItem\n                  key={index}\n                  fileEvent={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  filterUser={this.filterUser}\n                  filterRepo={this.filterRepo}\n                  userSelected={this.state.userSelected}\n                  repoSelected={this.state.repoSelected}\n                />\n              );\n            })}\n          </tbody>\n        </table>\n        <div className=\"paginator\">\n          {this.state.page != 1 && <a href=\"#\" onClick={(e) => this.onChangePageNum(e, -1)}>{gettext('Previous')}</a>}\n          {(this.state.page != 1 && this.state.pageNext) && <span> | </span>}\n          {this.state.pageNext && <a href=\"#\" onClick={(e) => this.onChangePageNum(e, 1)}>{gettext('Next')}</a>}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst propTypes = {\n  filterUser: PropTypes.func.isRequired,\n  filterRepo: PropTypes.func.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  fileEvent: PropTypes.object.isRequired,\n  userSelected: PropTypes.string,\n  repoSelected: PropTypes.string,\n};\n\nclass FileAuditItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      showMenu: false,\n      isItemMenuShow: false,\n      userDropdownOpen: false,\n      repoDropdownOpen: false,\n    };\n  }\n\n  onMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        showMenu: true,\n        highlight: true,\n      });\n    }\n  }\n\n  onMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        showMenu: false,\n        highlight: false\n      });\n    }\n  }\n\n  toggleUserDropdown = () => {\n    this.setState({ userDropdownOpen: !this.state.userDropdownOpen });\n  }\n\n  renderUser = (fileEvent) => {\n    if (!fileEvent.user_email) {\n      return gettext('Anonymous User');\n    }\n\n    return (\n      <span>\n        <a href={siteRoot + 'org/useradmin/info/' + fileEvent.user_email + '/'}>{fileEvent.user_name}</a>{' '}\n        <Dropdown size='sm' isOpen={this.state.userDropdownOpen} toggle={this.toggleUserDropdown}\n          className={this.state.highlight ? '' : 'vh'} tag=\"span\">\n          <DropdownToggle tag=\"i\" className=\"sf-dropdown-toggle sf2-icon-caret-down\"></DropdownToggle>\n          <DropdownMenu>\n            <DropdownItem onClick={this.props.filterUser.bind(this, fileEvent.user_email)}>\n              {gettext('Only Show')}{' '}\n              <span className=\"font-weight-bold\">{fileEvent.user_name}</span>\n            </DropdownItem>\n          </DropdownMenu>\n        </Dropdown>\n      </span>\n    );\n\n  }\n\n  renderType = (type) => {\n    if (type.indexOf('web') != -1) {\n      type = 'web';\n    }\n    if (type.indexOf('api') != -1) {\n      type = 'api';\n    }\n    if (type.indexOf('share-link') != -1) {\n      type = 'share link';\n    }\n    return type;\n  }\n\n  toggleRepoDropdown = () => {\n    this.setState({ repoDropdownOpen: !this.state.repoDropdownOpen });\n  }\n\n  renderRepo = (fileEvent) => {\n    let repoName = 'Deleted';\n    if (fileEvent.repo_name) {\n      repoName = fileEvent.repo_name;\n    }\n    return (\n      <span>\n        <span>{repoName}</span>\n        { fileEvent.repo_name &&\n          <Dropdown size='sm' isOpen={this.state.repoDropdownOpen} toggle={this.toggleRepoDropdown}\n            className={this.state.highlight ? '' : 'vh'} >\n            <DropdownToggle tag=\"i\" className=\"sf-dropdown-toggle sf2-icon-caret-down\"></DropdownToggle>\n            <DropdownMenu>\n              <DropdownItem size='sm' onClick={this.props.filterRepo.bind(this, fileEvent.repo_name)}>\n                {gettext('Only Show')}{' '}<span className=\"font-weight-bold\">{fileEvent.repo_name}</span></DropdownItem>\n            </DropdownMenu>\n          </Dropdown>\n        }\n      </span>\n    );\n  }\n\n  render() {\n    let { fileEvent } = this.props;\n    if (this.props.userSelected && fileEvent.user_email !== this.props.userSelected ) {\n      return null;\n    } else if (this.props.repoSelected && fileEvent.repo_name !== this.props.repoSelected) {\n      return null;\n    } else {\n      return (\n        <tr className={this.state.highlight ? 'tr-highlight' : ''}\n          onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n          <td>{this.renderUser(fileEvent)}</td>\n          <td>{this.renderType(fileEvent.type)}</td>\n          <td>{fileEvent.ip}</td>\n          <td>{moment(fileEvent.time).format('YYYY-MM-DD HH:mm:ss')}</td>\n          <td>{this.renderRepo(fileEvent)}</td>\n          <td><span title={fileEvent.file_path}>{fileEvent.file_name}</span></td>\n        </tr>\n      );\n    }\n  }\n}\n\nFileAuditItem.propTypes = propTypes;\n\nexport default OrgLogsFileAudit;\n","import { lang } from '../utils/constants';\nimport moment from 'moment';\n\nmoment.locale(lang);\n\nclass OrgLogsFileUpdateEvent {\n  constructor(object) {\n    this.repo_id = object.repo_id;\n    this.description = object.description;\n    this.repo_name = object.repo_name;\n    this.user_name = object.user_name;\n    this.user_email = object.user_email;\n    this.repo_encrypted = object.repo_encrypted;\n    this.repo_commit_id = object.repo_commit_id;\n    this.user_contact_email = object.user_contact_email;\n    this.time = moment(object.time).format('YYYY-MM-DD HH:mm:ss');\n  }\n}\n\nexport default OrgLogsFileUpdateEvent;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../toast';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  commitID: PropTypes.string.isRequired,\n  toggleCancel: PropTypes.func.isRequired,\n};\n\nclass FileUpdateDetailDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      time: '',\n      renamed: [],\n      deldir: [],\n      modified: [],\n      newdir: [],\n      newfile: [],\n      removed: [],\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.orgAdminGetFileUpdateDetail(this.props.repoID, this.props.commitID).then(res => {\n      this.setState({\n        time: res.data.date_time,\n        renamed: this.state.renamed.concat(res.data.renamed),\n        deldir: this.state.deldir.concat(res.data.deldir),\n        modified: this.state.modified.concat(res.data.modified),\n        newdir: this.state.newdir.concat(res.data.newdir),\n        newfile: this.state.newfile.concat(res.data.new),\n        removed: this.state.removed.concat(res.data.removed),\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  renderContentItem = (items) => {\n    let con = '';\n    con += '<ul class=\"list-group list-group-flush\">';\n    for (var i = 0, len = items.length; i < len; i++) {\n      con += '<li class=\"list-group-item\">' + items[i] + '</li>';\n    }\n    con += '</ul>';\n    return {__html: con};\n  }\n\n  renderContent = () => {\n    if (this.state.newfile.length > 0) {\n      return (\n        <div>\n          <h4>{gettext('New files')}</h4>\n          <p>{this.state.time}</p>\n          <div dangerouslySetInnerHTML= {this.renderContentItem(this.state.newfile)} />\n        </div>\n      );\n    }\n\n    if (this.state.removed.length > 0) {\n      return (\n        <div>\n          <h4>{gettext('Deleted files')}</h4>\n          <p>{this.state.time}</p>\n          <div dangerouslySetInnerHTML= {this.renderContentItem(this.state.removed)} />\n        </div>\n      );\n    }\n\n    if (this.state.renamed.length > 0) {\n      return (\n        <div>\n          <h4>{gettext('Renamed or Moved files')}</h4>\n          <p>{this.state.time}</p>\n          <div dangerouslySetInnerHTML= {this.renderContentItem(this.state.renamed)} />\n        </div>\n      );\n    }\n\n    if (this.state.modified.length > 0) {\n      return (\n        <div>\n          <h4>{gettext('Modified files')}</h4>\n          <p>{this.state.time}</p>\n          <div dangerouslySetInnerHTML= {this.renderContentItem(this.state.modified)} />\n        </div>\n      );\n    }\n\n    if (this.state.newdir.length > 0) {\n      return (\n        <div>\n          <h4>{gettext('New directories')}</h4>\n          <p>{this.state.time}</p>\n          <div dangerouslySetInnerHTML= {this.renderContentItem(this.state.newdir)} />\n        </div>\n      );\n    }\n\n    if (this.state.deldir.length > 0) {\n      return (\n        <div>\n          <h4>{gettext('Deleted directories')}</h4>\n          <p>{this.state.time}</p>\n          <div dangerouslySetInnerHTML= {this.renderContentItem(this.state.deldir)} />\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.props.toggleCancel}>\n        <ModalHeader toggle={this.props.toggleCancel}>\n          {gettext('Modification Details')}\n        </ModalHeader>\n        <ModalBody>\n          {this.renderContent()}\n        </ModalBody>\n      </Modal>\n    );\n  }\n}\n\nFileUpdateDetailDialog.propTypes = propTypes;\n\nexport default FileUpdateDetailDialog;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { siteRoot, gettext, lang } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../../components/toast';\nimport OrgLogsFileUpdateEvent from '../../models/org-logs-file-update';\nimport ModalPortal from '../../components/modal-portal';\nimport FileUpdateDetailDialog from '../../components/dialog/org-logs-file-update-detail';\nimport '../../css/org-logs.css';\n\nmoment.locale(lang);\n\nclass OrgLogsFileUpdate extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      page: 1,\n      pageNext: false,\n      eventList: [],\n      userSelected: '',\n      repoSelected: '',\n      isItemFreezed: false,\n      showDetails: false,\n      repoID: '',\n      commitID: ''\n    };\n  }\n\n  componentDidMount() {\n    let page = this.state.page;\n    let email = this.state.userSelected;\n    let repoID = this.state.repoSelected;\n    this.initData(email, repoID, page);\n  }\n\n  initData = (email, repoID, page) => {\n    seafileAPI.orgAdminListFileUpdate(email, repoID, page).then(res => {\n      let eventList = res.data.log_list.map(item => {\n        return new OrgLogsFileUpdateEvent(item);\n      });\n      this.setState({\n        eventList: eventList,\n        pageNext: res.data.page_next,\n        page: res.data.page,\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  onChangePageNum = (e, num) => {\n    e.preventDefault();\n    let page = this.state.page;\n\n    if (num == 1) {\n      page = page + 1;\n    } else {\n      page = page - 1;\n    }\n    let email = this.state.userSelected;\n    let repoID = this.state.repoSelected;\n    this.initData(email, repoID, page);\n  }\n\n  toggleCancelDetail = () => {\n    this.setState({\n      showDetails: !this.state.showDetails\n    });\n  }\n\n  onDetails = (e, fileEvent) => {\n    e.preventDefault();\n    this.setState({\n      showDetails: !this.state.showDetails,\n      repoID: fileEvent.repo_id,\n      commitID: fileEvent.repo_commit_id\n    });\n  }\n\n  filterUser = (userSelected) => {\n    this.setState({ userSelected: userSelected });\n  }\n\n  filterRepo = (repoSelected) => {\n    this.setState({ repoSelected: repoSelected });\n  }\n\n  render() {\n    let eventList = this.state.eventList;\n    return (\n      <div className=\"cur-view-content\">\n        {\n          (this.state.userSelected || this.state.repoSelected) &&\n          <React.Fragment>\n            {this.state.userSelected &&\n              <span className=\"audit-unselect-item\" onClick={this.filterUser.bind(this, null)}>\n                <span className=\"no-deco\">{this.state.userSelected}</span>{' '}\n              </span>\n            }\n            {this.state.repoSelected &&\n              <span className=\"audit-unselect-item\" onClick={this.filterRepo.bind(this, null)}>\n                <span className=\"no-deco\">{this.state.repoSelected}</span>{' '}\n              </span>\n            }\n          </React.Fragment>\n        }\n        <table>\n          <thead>\n            <tr>\n              <th width=\"25%\">{gettext('User')}</th>\n              <th width=\"17%\">{gettext('Date')}</th>\n              <th width=\"25%\">{gettext('Library')}</th>\n              <th width=\"33%\">{gettext('Action')}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {eventList.map((item, index) => {\n              return (\n                <FileUpdateItem\n                  key={index}\n                  fileEvent={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onDetails={this.onDetails}\n                  filterUser={this.filterUser}\n                  filterRepo={this.filterRepo}\n                  userSelected={this.state.userSelected}\n                  repoSelected={this.state.repoSelected}\n                />\n              );\n            })}\n          </tbody>\n        </table>\n        <div className=\"paginator\">\n          {this.state.page != 1 && <a href=\"#\" onClick={(e) => this.onChangePageNum(e, -1)}>{gettext('Previous')}</a>}\n          {(this.state.page != 1 && this.state.pageNext) && <span> | </span>}\n          {this.state.pageNext && <a href=\"#\" onClick={(e) => this.onChangePageNum(e, 1)}>{gettext('Next')}</a>}\n        </div>\n        {this.state.showDetails &&\n          <ModalPortal>\n            <FileUpdateDetailDialog\n              repoID={this.state.repoID}\n              commitID={this.state.commitID}\n              toggleCancel={this.toggleCancelDetail}\n            />\n          </ModalPortal>\n        }\n      </div>\n    );\n  }\n}\n\nconst propTypes = {\n  filterUser: PropTypes.func.isRequired,\n  filterRepo: PropTypes.func.isRequired,\n  onDetails: PropTypes.func.isRequired,\n  userSelected: PropTypes.string.isRequired,\n  repoSelected: PropTypes.string.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n};\n\n\nclass FileUpdateItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      showMenu: false,\n      isItemMenuShow: false,\n      userDropdownOpen: false,\n      repoDropdownOpen: false,\n    };\n  }\n\n  onMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        showMenu: true,\n        highlight: true,\n      });\n    }\n  }\n\n  onMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        showMenu: false,\n        highlight: false\n      });\n    }\n  }\n\n  toggleUserDropdown = () => {\n    this.setState({ userDropdownOpen: !this.state.userDropdownOpen });\n  }\n\n  renderUser = (fileEvent) => {\n    if (!fileEvent.user_email) {\n      return gettext('Anonymous User');\n    }\n\n    return (\n      <span>\n        <a href={siteRoot + 'org/useradmin/info/' + fileEvent.user_email + '/'}>{fileEvent.user_name}</a>{' '}\n        <Dropdown size='sm' isOpen={this.state.userDropdownOpen} toggle={this.toggleUserDropdown}\n          className={this.state.highlight ? '' : 'vh'} tag=\"span\">\n          <DropdownToggle tag=\"i\" className=\"sf-dropdown-toggle sf2-icon-caret-down\"></DropdownToggle>\n          <DropdownMenu>\n            <DropdownItem onClick={this.props.filterUser.bind(this, fileEvent.user_email)}>\n              {gettext('Only Show')}{' '}<span className=\"font-weight-bold\">{fileEvent.user_name}</span>\n            </DropdownItem>\n          </DropdownMenu>\n        </Dropdown>\n      </span>\n    );\n  }\n\n  toggleRepoDropdown = () => {\n    this.setState({ repoDropdownOpen: !this.state.repoDropdownOpen });\n  }\n\n  renderRepo = (fileEvent) => {\n    let repoName = 'Deleted';\n    if (fileEvent.repo_name) {\n      repoName = fileEvent.repo_name;\n    }\n    return (\n      <span>\n        <span>{repoName}</span>\n        { fileEvent.repo_name &&\n          <Dropdown size='sm' isOpen={this.state.repoDropdownOpen} toggle={this.toggleRepoDropdown}\n            className={this.state.highlight ? '' : 'vh'} >\n            <DropdownToggle tag=\"i\" className=\"sf-dropdown-toggle sf2-icon-caret-down\"></DropdownToggle>\n            <DropdownMenu>\n              <DropdownItem size='sm' onClick={this.props.filterRepo.bind(this, fileEvent.repo_name)}>\n                {gettext('Only Show')}{' '}\n                <span className=\"font-weight-bold\">{fileEvent.repo_name}</span>\n              </DropdownItem>\n            </DropdownMenu>\n          </Dropdown>\n        }\n      </span>\n    );\n  }\n\n  renderAction = (fileEvent) => {\n    if (fileEvent.repo_encrypted || !fileEvent.repo_id) {\n      return <td>{fileEvent.description}</td>;\n    }\n\n    return (\n      <td>{fileEvent.description}\n        <a className=\"font-weight-normal text-muted ml-1\" href='#'\n          onClick={(e) => this.props.onDetails(e, fileEvent)}>{gettext('Details')}</a>\n      </td>\n    );\n  }\n\n  render() {\n    let { fileEvent } = this.props;\n    if (this.props.userSelected && fileEvent.user_email !== this.props.userSelected ) {\n      return null;\n    } else if (this.props.repoSelected && fileEvent.repo_name !== this.props.repoSelected) {\n      return null;\n    } else {\n      return (\n        <tr className={this.state.highlight ? 'tr-highlight' : ''}\n          onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n          <td>{this.renderUser(fileEvent)}</td>\n          <td>{moment(fileEvent.time).format('YYYY-MM-DD HH:mm:ss')}</td>\n          <td>{this.renderRepo(fileEvent)}</td>\n          {this.renderAction(fileEvent)}\n        </tr>\n      );\n    }\n  }\n}\n\nFileUpdateItem.propTypes = propTypes;\n\nexport default OrgLogsFileUpdate;\n","import { lang } from '../utils/constants';\nimport moment from 'moment';\n\nmoment.locale(lang);\n\nclass OrgLogsPermAuditEvent {\n  constructor(object) {\n    this.from_user_name = object.from_user_name;\n    this.from_user_email = object.from_user_email;\n    this.from_user_contact_email = object.from_user_contact_email;\n    this.to_user_email = object.to_user_email;\n    this.to_user_name = object.to_user_name;\n    this.to_user_contact_email = object.to_user_contact_email;\n    this.to_group_name = object.to_group_name;\n    this.to_group_id = object.to_group_id;\n    this.type = object.type;\n    this.repo_id = object.repo_id;\n    this.repo_name = object.repo_name;\n    this.folder_name = object.folder_name;\n    this.folder_path = object.folder_path;\n    this.time = moment(object.time).format('YYYY-MM-DD HH:mm:ss');\n    this.permission = object.permission;\n  }\n}\n\nexport default OrgLogsPermAuditEvent;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { siteRoot, gettext, lang } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../../components/toast';\nimport OrgLogsFilePermEvent from '../../models/org-logs-perm-audit';\nimport '../../css/org-logs.css';\n\nmoment.locale(lang);\n\nclass OrgLogsFileUpdate extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      page: 1,\n      pageNext: false,\n      eventList: [],\n      userSelected: '',\n      repoSelected: '',\n      isItemFreezed: false\n    };\n  }\n\n  componentDidMount() {\n    let page = this.state.page;\n    let email = this.state.userSelected;\n    let repoID = this.state.repoSelected;\n    this.initData(email, repoID, page);\n  }\n\n  initData = (email, repoID, page) => {\n    seafileAPI.orgAdminListPermAudit(email, repoID, page).then(res => {\n      let eventList = res.data.log_list.map(item => {\n        return new OrgLogsFilePermEvent(item);\n      });\n\n      this.setState({\n        eventList: eventList,\n        pageNext: res.data.page_next,\n        page: res.data.page,\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  onChangePageNum = (e, num) => {\n    e.preventDefault();\n    let page = this.state.page;\n\n    if (num == 1) {\n      page = page + 1;\n    } else {\n      page = page - 1;\n    }\n    this.initData(page);\n  }\n\n  filterUser = (userSelected) => {\n    this.setState({ userSelected: userSelected });\n  }\n\n  render() {\n    let eventList = this.state.eventList;\n    return (\n      <div className=\"cur-view-content\">\n        {this.state.userSelected &&\n          <span className=\"audit-unselect-item\" onClick={this.filterUser.bind(this, null)}>\n            <span className=\"no-deco\">{this.state.userSelected}</span>{' '}\n          </span>\n        }\n        <table>\n          <thead>\n            <tr>\n              <th width=\"18%\">{gettext('Share From')}</th>\n              <th width=\"15%\">{gettext('Share To')}</th>\n              <th width=\"8%\">{gettext('Actions')}</th>\n              <th width=\"13%\">{gettext('Permission')}</th>\n              <th width=\"15%\">{gettext('Library')}</th>\n              <th width=\"15%\">{gettext('Folder')}</th>\n              <th width=\"16%\">{gettext('Date')}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {eventList.map((item, index) => {\n              return (\n                <PermAuditItem\n                  key={index}\n                  permEvent={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  filterUser={this.filterUser}\n                  userSelected={this.state.userSelected}\n                />\n              );\n            })}\n          </tbody>\n        </table>\n        <div className=\"paginator\">\n          {this.state.page != 1 && <a href=\"#\" onClick={(e) => this.onChangePageNum(e, -1)}>{gettext('Previous')}</a>}\n          {(this.state.page != 1 && this.state.pageNext) && <span> | </span>}\n          {this.state.pageNext && <a href=\"#\" onClick={(e) => this.onChangePageNum(e, 1)}>{gettext('Next')}</a>}\n        </div>\n      </div>\n    );\n  }\n}\n\n\nconst propTypes = {\n  filterUser: PropTypes.func.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  userSelected: PropTypes.string.isRequired,\n  permEvent: PropTypes.object.isRequired,\n};\n\nclass PermAuditItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      showMenu: false,\n      isItemMenuShow: false,\n      userDropdownOpen: false,\n    };\n  }\n\n  onMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        showMenu: true,\n        highlight: true,\n      });\n    }\n  }\n\n  onMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        showMenu: false,\n        highlight: false\n      });\n    }\n  }\n\n  renderFromUser = (permEvent) => {\n    if (!permEvent.from_user_email) {\n      return gettext('Anonymous User');\n    }\n    return (\n      <span>\n        <a href={siteRoot + 'org/useradmin/info/' + permEvent.from_user_email + '/'}>{permEvent.from_user_name}</a>{' '}\n        <Dropdown size='sm' isOpen={this.state.userDropdownOpen} toggle={this.toggleUserDropdown}\n          className={this.state.highlight ? '' : 'vh'} tag=\"span\">\n          <DropdownToggle tag=\"i\" className=\"sf-dropdown-toggle sf2-icon-caret-down\"></DropdownToggle>\n          <DropdownMenu>\n            <DropdownItem onClick={this.props.filterUser.bind(this, permEvent.from_user_email)}>\n              {gettext('Only Show')}{' '}\n              <span className=\"font-weight-bold\">{permEvent.from_user_name}</span>\n            </DropdownItem>\n          </DropdownMenu>\n        </Dropdown>\n      </span>\n    );\n  }\n\n  toggleUserDropdown = () => {\n    this.setState({ userDropdownOpen: !this.state.userDropdownOpen });\n  }\n\n  renderToUser = (permEvent) => {\n    if (permEvent.type.indexOf('public') != -1) {\n      return <a href={siteRoot + 'org/'}>{gettext('Organization')}</a>;\n    }\n\n    if (permEvent.type.indexOf('group') != -1) {\n      if (permEvent.to_group_name) {\n        return <a href={siteRoot + 'org/groupadmin/' + permEvent.to_group_id + '/'}>{permEvent.to_group_name}</a>;\n      }\n      return 'Deleted';\n    }\n\n    if (permEvent.type.indexOf('user') != -1) {\n      return <a href={siteRoot + 'org/useradmin/info/' + permEvent.to_user_email + '/'}>{permEvent.to_user_name}</a>;\n    }\n\n  }\n\n  renderType = (type) => {\n    if (type.indexOf('add') != -1) {\n      type = 'Add';\n    }\n    if (type.indexOf('modify') != -1) {\n      type = 'Modify';\n    }\n    if (type.indexOf('delete') != -1) {\n      type = 'Delete';\n    }\n    return type;\n  }\n\n  renderRepo = (permEvent) => {\n    let repoName = 'Deleted';\n    if (permEvent.repo_name) {\n      repoName = permEvent.repo_name;\n    }\n    return repoName;\n  }\n\n  renderFolder = (name) => {\n    let folderName = '/';\n    if (name) {\n      folderName = name;\n    }\n    return folderName;\n  }\n\n  render() {\n    let { permEvent } = this.props;\n    if (this.props.userSelected && permEvent.from_user_email !== this.props.userSelected ) {\n      return null;\n    } else {\n      return (\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n          <td>{this.renderFromUser(permEvent)}</td>\n          <td>{this.renderToUser(permEvent)}</td>\n          <td>{this.renderType(permEvent.type)}</td>\n          <td>{Utils.sharePerms(permEvent.permission)}</td>\n          <td>{this.renderRepo(permEvent)}</td>\n          <td>{this.renderFolder(permEvent.folder_name)}</td>\n          <td>{moment(permEvent.time).format('YYYY-MM-DD HH:mm:ss')}</td>\n        </tr>\n      );\n    }\n  }\n}\n\nPermAuditItem.propTypes = propTypes;\n\nexport default OrgLogsFileUpdate;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  headingText: PropTypes.string.isRequired,\n  children: PropTypes.object.isRequired\n};\n\nclass Section extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { headingText, children} = this.props;\n    return (\n      <div className=\"mb-4\">\n        <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{headingText}</h4>\n        {children}\n      </div>\n    );\n  }\n}\n\nSection.propTypes = propTypes;\n\nexport default Section;\n","import React, { Component, Fragment } from 'react';\nimport { Input, Row, Col, Label } from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  changeValue: PropTypes.func.isRequired,\n  displayName: PropTypes.string.isRequired,\n};\n\nclass OrgSamlConfigInput extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  inputValue = (e) => {\n    this.props.changeValue(e);\n  }\n\n  render() {\n    const { value, displayName } = this.props;\n    return (\n      <Fragment>\n        <Row className=\"my-4\">\n          <Col md=\"3\">\n            <Label className=\"web-setting-label\">{displayName}</Label>\n          </Col>\n          <Col md=\"5\">\n            <Input innerRef={input => {this.newInput = input;}} value={value} onChange={this.inputValue}/>\n          </Col>\n        </Row>\n      </Fragment>\n    );\n  }\n}\n\nOrgSamlConfigInput.propTypes = propTypes;\n\nexport default OrgSamlConfigInput;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Row, Col, Label, Button } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\n\nconst propTypes = {\n  postFile: PropTypes.func.isRequired,\n  displayName: PropTypes.string.isRequired,\n};\n\nclass OrgSamlConfigPostFile extends Component {\n\n  constructor(props) {\n    super(props);\n    this.fileInput = React.createRef();\n  }\n\n  uploadFile = () => {\n    if (!this.fileInput.current.files.length) {\n      return;\n    }\n    const file = this.fileInput.current.files[0];\n    this.props.postFile(file);\n  }\n\n  openFileInput = () => {\n    this.fileInput.current.click();\n  }\n\n  render() {\n    const { displayName } = this.props;\n    return (\n      <Fragment>\n        <Row className=\"my-4\">\n          <Col md=\"3\">\n            <Label className=\"web-setting-label\">{displayName}</Label>\n          </Col>\n          <Col md=\"5\">\n            <Button color=\"secondary\" onClick={this.openFileInput}>{gettext('Upload')}</Button>\n            <input className=\"d-none\" type=\"file\" onChange={this.uploadFile} ref={this.fileInput} />\n          </Col>\n        </Row>\n      </Fragment>\n    );\n  }\n}\n\nOrgSamlConfigPostFile.propTypes = propTypes;\n\nexport default OrgSamlConfigPostFile;\n","import React, { Fragment, Component } from 'react';\nimport { Row, Col, Label, Button } from 'reactstrap';\nimport MainPanelTopbar from './main-panel-topbar';\nimport toaster from '../../components/toast';\nimport Loading from '../../components/loading';\nimport { gettext, orgID, serviceURL } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport Section from './section';\nimport InputItem from './input-item';\nimport FileItem from './file-item';\n\nclass OrgSAMLConfig extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      samlConfigID: '',\n      newUrlPrefix: '',\n      orgUrlPrefix: '',\n      metadataUrl: '',\n      isBtnsShown: false,\n    };\n  }\n\n  toggleBtns = () => {\n    this.setState({isBtnsShown: !this.state.isBtnsShown});\n  }\n\n  hideBtns = () => {\n    if (!this.state.isBtnsShown) return;\n    if (this.state.newUrlPrefix !== this.state.orgUrlPrefix) {\n      this.setState({newUrlPrefix: this.state.orgUrlPrefix});\n    }\n    this.toggleBtns();\n  }\n\n  onSubmit = () => {\n    const newUrlPrefix = this.state.newUrlPrefix.trim();\n    if (newUrlPrefix !== this.state.orgUrlPrefix) {\n      this.updateUrlPrefix(newUrlPrefix);\n    }\n    this.toggleBtns();\n  }\n\n  inputOrgUrlPrefix = (e) => {\n    this.setState({newUrlPrefix: e.target.value});\n  }\n\n  inputMetadataUrl = (e) => {\n    this.setState({metadataUrl: e.target.value});\n  }\n\n  inputSingleSignOnService = (e) => {\n    this.setState({singleSignOnService: e.target.value});\n  }\n\n  inputSingleLogoutService = (e) => {\n    this.setState({singleLogoutService: e.target.value});\n  }\n\n  componentDidMount() {\n    seafileAPI.orgAdminGetUrlPrefix(orgID).then((res) => {\n      this.setState({\n        newUrlPrefix: res.data.org_url_prefix,\n        orgUrlPrefix: res.data.org_url_prefix,\n      });\n      seafileAPI.orgAdminGetSamlConfig(orgID).then((res) => {\n        this.setState({\n          loading: false,\n          samlConfigID: res.data.saml_config.id || '',\n          metadataUrl: res.data.saml_config.metadata_url || '',\n        });\n      }).catch(error => {\n        this.setState({\n          loading: false,\n          errorMsg: Utils.getErrorMsg(error, true),\n        });\n      });\n    }).catch(error => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true),\n      });\n    });\n  }\n\n  updateUrlPrefix = (newUrlPrefix) => {\n    seafileAPI.orgAdminUpdateUrlPrefix(orgID, newUrlPrefix).then((res) => {\n      this.setState({\n        newUrlPrefix: res.data.org_url_prefix,\n        orgUrlPrefix: res.data.org_url_prefix,\n      });\n      toaster.success(gettext('Success'));\n    }).catch((error) => {\n      this.setState({newUrlPrefix: this.state.orgUrlPrefix});\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  postIdpCertificate = (file) => {\n    seafileAPI.orgAdminUploadIdpCertificate(orgID, file).then(() => {\n      toaster.success(gettext('Success'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  addSamlConfig = () => {\n    const { metadataUrl } = this.state;\n    seafileAPI.orgAdminAddSamlConfig(orgID, metadataUrl).then((res) => {\n      this.setState({\n        samlConfigID: res.data.saml_config.id,\n        metadataUrl: res.data.saml_config.metadata_url,\n      });\n      toaster.success(gettext('Success'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  updateSamlConfig = () => {\n    const { metadataUrl } = this.state;\n    seafileAPI.orgAdminUpdateSamlConfig(orgID, metadataUrl).then((res) => {\n      this.setState({\n        samlConfigID: res.data.saml_config.id,\n        metadataUrl: res.data.saml_config.metadata_url,\n      });\n      toaster.success(gettext('Success'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  deleteSamlConfig = () => {\n    seafileAPI.orgAdminDeleteSamlConfig(orgID).then(() => {\n      this.setState({\n        samlConfigID: '',\n        metadataUrl: '',\n      });\n      toaster.success(gettext('Success'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    const { loading, errorMsg, samlConfigID, newUrlPrefix, metadataUrl, isBtnsShown } = this.state;\n\n    return (\n      <Fragment>\n        <MainPanelTopbar />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('SAML config')}</h3>\n            </div>\n            <div className=\"cur-view-content container mw-100\">\n              {loading && <Loading />}\n              {errorMsg && <p className=\"error text-center mt-4\">{errorMsg}</p>}\n              {(!loading && !errorMsg) &&\n                <Fragment>\n                  <Section headingText={gettext('Custom Login URL')}>\n                    <Fragment>\n                      <Row className=\"my-4\">\n                        <Col md=\"3\">\n                          <Label className=\"web-setting-label\">{gettext('Your custom login URL')}</Label>\n                        </Col>\n                        <Col md=\"5\">\n                          {`${serviceURL}/org/custom/`}<input innerRef={input => {this.newInput = input;}} value={newUrlPrefix} onChange={this.inputOrgUrlPrefix} onFocus={this.toggleBtns} onBlur={this.hideBtns}></input>\n                          <p className=\"small text-secondary mt-1\">\n                            {gettext('The custom part of the URL should be 6 to 20 characters, and can only contain alphanumeric characters and hyphens.')}\n                          </p>\n                        </Col>\n                        {isBtnsShown &&\n                          <Col md=\"4\">\n                            <Button className=\"sf2-icon-tick web-setting-icon-btn web-setting-icon-btn-submit\" onMouseDown={this.onSubmit} title={gettext('Submit')}></Button>\n                            <Button className=\"ml-1 sf2-icon-x2 web-setting-icon-btn web-setting-icon-btn-cancel\" title={gettext('Cancel')}></Button>\n                          </Col>\n                        }\n                      </Row>\n                    </Fragment>\n                  </Section>\n                  <Section headingText={gettext('Manage SAML Config')}>\n                    <Fragment>\n                      <InputItem\n                        value={metadataUrl}\n                        changeValue={this.inputMetadataUrl}\n                        displayName={gettext('App Federation Metadata URL')}\n                      />\n                      <Row className=\"my-4\">\n                        {samlConfigID ?\n                          <Fragment>\n                            <Col md=\"1\">\n                              <Button color=\"secondary\" onClick={this.updateSamlConfig}>{gettext('Update')}</Button>\n                            </Col>\n                            <Col md=\"1\">\n                              <Button color=\"primary\" onClick={this.deleteSamlConfig}>{gettext('Delete')}</Button>\n                            </Col>\n                          </Fragment> :\n                          <Col md=\"1\">\n                            <Button color=\"secondary\" onClick={this.addSamlConfig}>{gettext('Save')}</Button>\n                          </Col>}\n                      </Row>\n                    </Fragment>\n                  </Section>\n                  <Section headingText={gettext('Upload IdP Files')}>\n                    <FileItem\n                      postFile={this.postIdpCertificate}\n                      displayName={gettext('IdP Certificate')}\n                    />\n                  </Section>\n                </Fragment>\n              }\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default OrgSAMLConfig;\n","import React from 'react';\nimport ReactDom from 'react-dom';\nimport { Router } from '@gatsbyjs/reach-router';\nimport { siteRoot } from '../../utils/constants';\nimport SidePanel from './side-panel';\n\nimport OrgStatisticFile from './statistic/statistic-file';\nimport OrgStatisticStorage from './statistic/statistic-storage';\nimport OrgStatisticTraffic from './statistic/statistic-traffic';\nimport OrgStatisticUsers from './statistic/statistic-users';\nimport OrgStatisticReport from './statistic/statistic-reports';\nimport OrgDesktopDevices from './devices/desktop-devices.js';\nimport OrgMobileDevices from './devices/mobile-devices.js';\nimport OrgDevicesErrors from './devices/devices-errors.js';\nimport OrgWebSettings from './web-settings/web-settings';\nimport OrgUsers from './org-users-users';\nimport OrgUsersSearchUsers from './org-users-search-users';\nimport OrgAdmins from './org-users-admins';\nimport OrgUserProfile from './org-user-profile';\nimport OrgUserRepos from './org-user-repos';\nimport OrgUserSharedRepos from './org-user-shared-repos';\nimport OrgGroups from './org-groups';\nimport OrgGroupsSearchGroups from './org-groups-search-groups';\nimport OrgGroupInfo from './org-group-info';\nimport OrgGroupRepos from './org-group-repos';\nimport OrgGroupMembers from './org-group-members';\nimport OrgLibraries from './org-libraries';\nimport OrgInfo from './org-info';\nimport OrgLinks from './org-links';\nimport OrgDepartments from './org-departments';\nimport OrgDepartmentsList from './org-departments-list';\nimport OrgDepartmentItem from './org-department-item';\nimport OrgLogs from './org-logs';\nimport OrgLogsFileAudit from './org-logs-file-audit';\nimport OrgLogsFileUpdate from './org-logs-file-update';\nimport OrgLogsPermAudit from './org-logs-perm-audit';\nimport OrgSAMLConfig from './org-saml-config';\n\nimport '../../css/layout.css';\nimport '../../css/toolbar.css';\n\nclass Org extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isSidePanelClosed: false,\n      currentTab: 'users'\n    };\n  }\n\n  componentDidMount() {\n    let href = window.location.href.split('/');\n    let currentTab = href[href.length - 2];\n\n    if (location.href.indexOf(`${siteRoot}org/useradmin`) != -1) {\n      currentTab = 'users';\n    }\n    if (location.href.indexOf(`${siteRoot}org/statistics-admin/`) != -1) {\n      currentTab = 'statistics-admin';\n    }\n    if (location.href.indexOf(`${siteRoot}org/deviceadmin/`) != -1) {\n      currentTab = 'deviceadmin';\n    }\n    if (location.href.indexOf(`${siteRoot}org/groupadmin`) != -1) {\n      currentTab = 'groupadmin';\n    }\n    if (location.href.indexOf(`${siteRoot}org/departmentadmin`) != -1) {\n      currentTab = 'departmentadmin';\n    }\n    this.setState({currentTab: currentTab});\n  }\n\n  onCloseSidePanel = () => {\n    this.setState({isSidePanelClosed: !this.state.isSidePanelClosed});\n  }\n\n  tabItemClick = (param) => {\n    this.setState({currentTab: param});\n  }\n\n  render() {\n    let { isSidePanelClosed, currentTab } = this.state;\n    return (\n      <div id=\"main\">\n        <SidePanel isSidePanelClosed={isSidePanelClosed} onCloseSidePanel={this.onCloseSidePanel} currentTab={currentTab} tabItemClick={this.tabItemClick}/>\n        <div className=\"main-panel\">\n          <Router className=\"reach-router\">\n            <OrgInfo path={siteRoot + 'org/info/'} />\n            <OrgStatisticFile path={siteRoot + 'org/statistics-admin/file/'} />\n            <OrgStatisticStorage path={siteRoot + 'org/statistics-admin/total-storage/'} />\n            <OrgStatisticUsers path={siteRoot + 'org/statistics-admin/active-users/'} />\n            <OrgStatisticTraffic path={siteRoot + 'org/statistics-admin/traffic/'} />\n            <OrgStatisticReport path={siteRoot + 'org/statistics-admin/reports/'} />\n            <OrgDesktopDevices path={siteRoot + 'org/deviceadmin/desktop-devices/'} />\n            <OrgMobileDevices path={siteRoot + 'org/deviceadmin/mobile-devices/'} />\n            <OrgDevicesErrors path={siteRoot + 'org/deviceadmin/devices-errors/'} />\n            <OrgWebSettings path={siteRoot + 'org/web-settings'} />\n            <OrgUsers path={siteRoot + 'org/useradmin'} />\n            <OrgUsersSearchUsers path={siteRoot + 'org/useradmin/search-users'} />\n            <OrgAdmins path={siteRoot + 'org/useradmin/admins/'} />\n            <OrgUserProfile path={siteRoot + 'org/useradmin/info/:email/'} />\n            <OrgUserRepos path={siteRoot + 'org/useradmin/info/:email/repos/'} />\n            <OrgUserSharedRepos path={siteRoot + 'org/useradmin/info/:email/shared-repos/'} />\n            <OrgGroups path={siteRoot + 'org/groupadmin'} />\n            <OrgGroupsSearchGroups path={siteRoot + 'org/groupadmin/search-groups'} />\n            <OrgGroupInfo path={siteRoot + 'org/groupadmin/:groupID/'} />\n            <OrgGroupRepos path={siteRoot + 'org/groupadmin/:groupID/repos/'} />\n            <OrgGroupMembers path={siteRoot + 'org/groupadmin/:groupID/members/'} />\n            <OrgLibraries path={siteRoot + 'org/repoadmin'}/>\n            <OrgLinks path={siteRoot + 'org/publinkadmin'}/>\n            <OrgDepartments path={siteRoot + 'org/departmentadmin'}>\n              <OrgDepartmentsList path='/'/>\n              <OrgDepartmentItem path='groups/:groupID'/>\n            </OrgDepartments>\n            <OrgLogs path={siteRoot + 'org/logadmin'} currentTab={currentTab} tabItemClick={this.tabItemClick}>\n              <OrgLogsFileAudit path='/' />\n              <OrgLogsFileUpdate path='file-update' />\n              <OrgLogsPermAudit path='perm-audit' />\n            </OrgLogs>\n            <OrgSAMLConfig path={siteRoot + 'org/samlconfig/'}/>\n          </Router>\n        </div>\n      </div>\n    );\n  }\n}\n\nReactDom.render(<Org />, document.getElementById('wrapper'));\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","/* MIT license */\nvar cssKeywords = require('color-name');\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nvar reverseKeywords = {};\nfor (var key in cssKeywords) {\n\tif (cssKeywords.hasOwnProperty(key)) {\n\t\treverseKeywords[cssKeywords[key]] = key;\n\t}\n}\n\nvar convert = module.exports = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\tlch: {channels: 3, labels: 'lch'},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']}\n};\n\n// hide .channels and .labels properties\nfor (var model in convert) {\n\tif (convert.hasOwnProperty(model)) {\n\t\tif (!('channels' in convert[model])) {\n\t\t\tthrow new Error('missing channels property: ' + model);\n\t\t}\n\n\t\tif (!('labels' in convert[model])) {\n\t\t\tthrow new Error('missing channel labels property: ' + model);\n\t\t}\n\n\t\tif (convert[model].labels.length !== convert[model].channels) {\n\t\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t\t}\n\n\t\tvar channels = convert[model].channels;\n\t\tvar labels = convert[model].labels;\n\t\tdelete convert[model].channels;\n\t\tdelete convert[model].labels;\n\t\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\t\tObject.defineProperty(convert[model], 'labels', {value: labels});\n\t}\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar min = Math.min(r, g, b);\n\tvar max = Math.max(r, g, b);\n\tvar delta = max - min;\n\tvar h;\n\tvar s;\n\tvar l;\n\n\tif (max === min) {\n\t\th = 0;\n\t} else if (r === max) {\n\t\th = (g - b) / delta;\n\t} else if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t} else if (b === max) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tl = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tvar rdif;\n\tvar gdif;\n\tvar bdif;\n\tvar h;\n\tvar s;\n\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar v = Math.max(r, g, b);\n\tvar diff = v - Math.min(r, g, b);\n\tvar diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = s = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tif (r === v) {\n\t\t\th = bdif - gdif;\n\t\t} else if (g === v) {\n\t\t\th = (1 / 3) + rdif - bdif;\n\t\t} else if (b === v) {\n\t\t\th = (2 / 3) + gdif - rdif;\n\t\t}\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tvar r = rgb[0];\n\tvar g = rgb[1];\n\tvar b = rgb[2];\n\tvar h = convert.rgb.hsl(rgb)[0];\n\tvar w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar c;\n\tvar m;\n\tvar y;\n\tvar k;\n\n\tk = Math.min(1 - r, 1 - g, 1 - b);\n\tc = (1 - r - k) / (1 - k) || 0;\n\tm = (1 - g - k) / (1 - k) || 0;\n\ty = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\n/**\n * See https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n * */\nfunction comparativeDistance(x, y) {\n\treturn (\n\t\tMath.pow(x[0] - y[0], 2) +\n\t\tMath.pow(x[1] - y[1], 2) +\n\t\tMath.pow(x[2] - y[2], 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tvar reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tvar currentClosestDistance = Infinity;\n\tvar currentClosestKeyword;\n\n\tfor (var keyword in cssKeywords) {\n\t\tif (cssKeywords.hasOwnProperty(keyword)) {\n\t\t\tvar value = cssKeywords[keyword];\n\n\t\t\t// Compute comparative distance\n\t\t\tvar distance = comparativeDistance(rgb, value);\n\n\t\t\t// Check if its less, if so set as closest\n\t\t\tif (distance < currentClosestDistance) {\n\t\t\t\tcurrentClosestDistance = distance;\n\t\t\t\tcurrentClosestKeyword = keyword;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn cssKeywords[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\n\t// assume sRGB\n\tr = r > 0.04045 ? Math.pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? Math.pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? Math.pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);\n\n\tvar x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tvar y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tvar z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tvar xyz = convert.rgb.xyz(rgb);\n\tvar x = xyz[0];\n\tvar y = xyz[1];\n\tvar z = xyz[2];\n\tvar l;\n\tvar a;\n\tvar b;\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\tl = (116 * y) - 16;\n\ta = 500 * (x - y);\n\tb = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tvar h = hsl[0] / 360;\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar t1;\n\tvar t2;\n\tvar t3;\n\tvar rgb;\n\tvar val;\n\n\tif (s === 0) {\n\t\tval = l * 255;\n\t\treturn [val, val, val];\n\t}\n\n\tif (l < 0.5) {\n\t\tt2 = l * (1 + s);\n\t} else {\n\t\tt2 = l + s - l * s;\n\t}\n\n\tt1 = 2 * l - t2;\n\n\trgb = [0, 0, 0];\n\tfor (var i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tval = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tval = t1;\n\t\t}\n\n\t\trgb[i] = val * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tvar h = hsl[0];\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar smin = s;\n\tvar lmin = Math.max(l, 0.01);\n\tvar sv;\n\tvar v;\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tv = (l + s) / 2;\n\tsv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tvar h = hsv[0] / 60;\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\tvar hi = Math.floor(h) % 6;\n\n\tvar f = h - Math.floor(h);\n\tvar p = 255 * v * (1 - s);\n\tvar q = 255 * v * (1 - (s * f));\n\tvar t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0:\n\t\t\treturn [v, t, p];\n\t\tcase 1:\n\t\t\treturn [q, v, p];\n\t\tcase 2:\n\t\t\treturn [p, v, t];\n\t\tcase 3:\n\t\t\treturn [p, q, v];\n\t\tcase 4:\n\t\t\treturn [t, p, v];\n\t\tcase 5:\n\t\t\treturn [v, p, q];\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tvar h = hsv[0];\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\tvar vmin = Math.max(v, 0.01);\n\tvar lmin;\n\tvar sl;\n\tvar l;\n\n\tl = (2 - s) * v;\n\tlmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tvar h = hwb[0] / 360;\n\tvar wh = hwb[1] / 100;\n\tvar bl = hwb[2] / 100;\n\tvar ratio = wh + bl;\n\tvar i;\n\tvar v;\n\tvar f;\n\tvar n;\n\n\t// wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\ti = Math.floor(6 * h);\n\tv = 1 - bl;\n\tf = 6 * h - i;\n\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tn = wh + f * (v - wh); // linear interpolation\n\n\tvar r;\n\tvar g;\n\tvar b;\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: r = v; g = n; b = wh; break;\n\t\tcase 1: r = n; g = v; b = wh; break;\n\t\tcase 2: r = wh; g = v; b = n; break;\n\t\tcase 3: r = wh; g = n; b = v; break;\n\t\tcase 4: r = n; g = wh; b = v; break;\n\t\tcase 5: r = v; g = wh; b = n; break;\n\t}\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tvar c = cmyk[0] / 100;\n\tvar m = cmyk[1] / 100;\n\tvar y = cmyk[2] / 100;\n\tvar k = cmyk[3] / 100;\n\tvar r;\n\tvar g;\n\tvar b;\n\n\tr = 1 - Math.min(1, c * (1 - k) + k);\n\tg = 1 - Math.min(1, m * (1 - k) + k);\n\tb = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tvar x = xyz[0] / 100;\n\tvar y = xyz[1] / 100;\n\tvar z = xyz[2] / 100;\n\tvar r;\n\tvar g;\n\tvar b;\n\n\tr = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n\tg = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n\tb = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n\t// assume sRGB\n\tr = r > 0.0031308\n\t\t? ((1.055 * Math.pow(r, 1.0 / 2.4)) - 0.055)\n\t\t: r * 12.92;\n\n\tg = g > 0.0031308\n\t\t? ((1.055 * Math.pow(g, 1.0 / 2.4)) - 0.055)\n\t\t: g * 12.92;\n\n\tb = b > 0.0031308\n\t\t? ((1.055 * Math.pow(b, 1.0 / 2.4)) - 0.055)\n\t\t: b * 12.92;\n\n\tr = Math.min(Math.max(0, r), 1);\n\tg = Math.min(Math.max(0, g), 1);\n\tb = Math.min(Math.max(0, b), 1);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tvar x = xyz[0];\n\tvar y = xyz[1];\n\tvar z = xyz[2];\n\tvar l;\n\tvar a;\n\tvar b;\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\tl = (116 * y) - 16;\n\ta = 500 * (x - y);\n\tb = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.lab.xyz = function (lab) {\n\tvar l = lab[0];\n\tvar a = lab[1];\n\tvar b = lab[2];\n\tvar x;\n\tvar y;\n\tvar z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tvar y2 = Math.pow(y, 3);\n\tvar x2 = Math.pow(x, 3);\n\tvar z2 = Math.pow(z, 3);\n\ty = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tvar l = lab[0];\n\tvar a = lab[1];\n\tvar b = lab[2];\n\tvar hr;\n\tvar h;\n\tvar c;\n\n\thr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tc = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tvar l = lch[0];\n\tvar c = lch[1];\n\tvar h = lch[2];\n\tvar a;\n\tvar b;\n\tvar hr;\n\n\thr = h / 360 * 2 * Math.PI;\n\ta = c * Math.cos(hr);\n\tb = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args) {\n\tvar r = args[0];\n\tvar g = args[1];\n\tvar b = args[2];\n\tvar value = 1 in arguments ? arguments[1] : convert.rgb.hsv(args)[2]; // hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tvar ansi = 30\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tvar r = args[0];\n\tvar g = args[1];\n\tvar b = args[2];\n\n\t// we use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\tif (r === g && g === b) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tvar ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\tvar color = args % 10;\n\n\t// handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tvar mult = (~~(args > 50) + 1) * 0.5;\n\tvar r = ((color & 1) * mult) * 255;\n\tvar g = (((color >> 1) & 1) * mult) * 255;\n\tvar b = (((color >> 2) & 1) * mult) * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\t// handle greyscale\n\tif (args >= 232) {\n\t\tvar c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tvar rem;\n\tvar r = Math.floor(args / 36) / 5 * 255;\n\tvar g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tvar b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\tvar integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\n\tvar string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tvar match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tvar colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = colorString.split('').map(function (char) {\n\t\t\treturn char + char;\n\t\t}).join('');\n\t}\n\n\tvar integer = parseInt(colorString, 16);\n\tvar r = (integer >> 16) & 0xFF;\n\tvar g = (integer >> 8) & 0xFF;\n\tvar b = integer & 0xFF;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar max = Math.max(Math.max(r, g), b);\n\tvar min = Math.min(Math.min(r, g), b);\n\tvar chroma = (max - min);\n\tvar grayscale;\n\tvar hue;\n\n\tif (chroma < 1) {\n\t\tgrayscale = min / (1 - chroma);\n\t} else {\n\t\tgrayscale = 0;\n\t}\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else\n\tif (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else\n\tif (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma + 4;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar c = 1;\n\tvar f = 0;\n\n\tif (l < 0.5) {\n\t\tc = 2.0 * s * l;\n\t} else {\n\t\tc = 2.0 * s * (1.0 - l);\n\t}\n\n\tif (c < 1.0) {\n\t\tf = (l - 0.5 * c) / (1.0 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\n\tvar c = s * v;\n\tvar f = 0;\n\n\tif (c < 1.0) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tvar h = hcg[0] / 360;\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tif (c === 0.0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tvar pure = [0, 0, 0];\n\tvar hi = (h % 1) * 6;\n\tvar v = hi % 1;\n\tvar w = 1 - v;\n\tvar mg = 0;\n\n\tswitch (Math.floor(hi)) {\n\t\tcase 0:\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\tcase 1:\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\tcase 2:\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\tcase 3:\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\tcase 4:\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\tdefault:\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t}\n\n\tmg = (1.0 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tvar v = c + g * (1.0 - c);\n\tvar f = 0;\n\n\tif (v > 0.0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tvar l = g * (1.0 - c) + 0.5 * c;\n\tvar s = 0;\n\n\tif (l > 0.0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else\n\tif (l >= 0.5 && l < 1.0) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\tvar v = c + g * (1.0 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tvar w = hwb[1] / 100;\n\tvar b = hwb[2] / 100;\n\tvar v = 1 - b;\n\tvar c = v - w;\n\tvar g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = convert.gray.hsv = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\tvar val = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tvar integer = (val << 16) + (val << 8) + val;\n\n\tvar string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tvar val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [val / 255 * 100];\n};\n","'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Chart\", {\n  enumerable: true,\n  get: function get() {\n    return _chart[\"default\"];\n  }\n});\nexports.defaults = exports.Scatter = exports.Bubble = exports.Polar = exports.Radar = exports.HorizontalBar = exports.Bar = exports.Line = exports.Pie = exports.Doughnut = exports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _chart = _interopRequireDefault(require(\"chart.js\"));\n\nvar _isEqual = _interopRequireDefault(require(\"lodash/isEqual\"));\n\nvar _keyBy = _interopRequireDefault(require(\"lodash/keyBy\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar NODE_ENV = typeof process !== 'undefined' && process.env && process.env.NODE_ENV;\n\nvar ChartComponent = /*#__PURE__*/function (_React$Component) {\n  _inherits(ChartComponent, _React$Component);\n\n  var _super = _createSuper(ChartComponent);\n\n  function ChartComponent() {\n    var _this;\n\n    _classCallCheck(this, ChartComponent);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnClick\", function (event) {\n      var instance = _this.chartInstance;\n      var _this$props = _this.props,\n          getDatasetAtEvent = _this$props.getDatasetAtEvent,\n          getElementAtEvent = _this$props.getElementAtEvent,\n          getElementsAtEvent = _this$props.getElementsAtEvent,\n          onElementsClick = _this$props.onElementsClick;\n      getDatasetAtEvent && getDatasetAtEvent(instance.getDatasetAtEvent(event), event);\n      getElementAtEvent && getElementAtEvent(instance.getElementAtEvent(event), event);\n      getElementsAtEvent && getElementsAtEvent(instance.getElementsAtEvent(event), event);\n      onElementsClick && onElementsClick(instance.getElementsAtEvent(event), event); // Backward compatibility\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"ref\", function (element) {\n      _this.element = element;\n    });\n\n    _this.chartInstance = undefined;\n    return _this;\n  }\n\n  _createClass(ChartComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.renderChart();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.props.redraw) {\n        this.destroyChart();\n        this.renderChart();\n        return;\n      }\n\n      this.updateChart();\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      var _this$props2 = this.props,\n          redraw = _this$props2.redraw,\n          type = _this$props2.type,\n          options = _this$props2.options,\n          plugins = _this$props2.plugins,\n          legend = _this$props2.legend,\n          height = _this$props2.height,\n          width = _this$props2.width;\n\n      if (nextProps.redraw === true) {\n        return true;\n      }\n\n      if (height !== nextProps.height || width !== nextProps.width) {\n        return true;\n      }\n\n      if (type !== nextProps.type) {\n        return true;\n      }\n\n      if (!(0, _isEqual[\"default\"])(legend, nextProps.legend)) {\n        return true;\n      }\n\n      if (!(0, _isEqual[\"default\"])(options, nextProps.options)) {\n        return true;\n      }\n\n      var nextData = this.transformDataProp(nextProps);\n\n      if (!(0, _isEqual[\"default\"])(this.shadowDataProp, nextData)) {\n        return true;\n      }\n\n      return !(0, _isEqual[\"default\"])(plugins, nextProps.plugins);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.destroyChart();\n    }\n  }, {\n    key: \"transformDataProp\",\n    value: function transformDataProp(props) {\n      var data = props.data;\n\n      if (typeof data == 'function') {\n        var node = this.element;\n        return data(node);\n      } else {\n        return data;\n      }\n    } // Chart.js directly mutates the data.dataset objects by adding _meta proprerty\n    // this makes impossible to compare the current and next data changes\n    // therefore we memoize the data prop while sending a fake to Chart.js for mutation.\n    // see https://github.com/chartjs/Chart.js/blob/master/src/core/core.controller.js#L615-L617\n\n  }, {\n    key: \"memoizeDataProps\",\n    value: function memoizeDataProps() {\n      if (!this.props.data) {\n        return;\n      }\n\n      var data = this.transformDataProp(this.props);\n      this.shadowDataProp = _objectSpread(_objectSpread({}, data), {}, {\n        datasets: data.datasets && data.datasets.map(function (set) {\n          return _objectSpread({}, set);\n        })\n      });\n      this.saveCurrentDatasets(); // to remove the dataset metadata from this chart when the chart is destroyed\n\n      return data;\n    }\n  }, {\n    key: \"checkDatasets\",\n    value: function checkDatasets(datasets) {\n      var isDev = NODE_ENV !== 'production' && NODE_ENV !== 'prod';\n      var usingCustomKeyProvider = this.props.datasetKeyProvider !== ChartComponent.getLabelAsKey;\n      var multipleDatasets = datasets.length > 1;\n\n      if (isDev && multipleDatasets && !usingCustomKeyProvider) {\n        var shouldWarn = false;\n        datasets.forEach(function (dataset) {\n          if (!dataset.label) {\n            shouldWarn = true;\n          }\n        });\n\n        if (shouldWarn) {\n          console.error('[react-chartjs-2] Warning: Each dataset needs a unique key. By default, the \"label\" property on each dataset is used. Alternatively, you may provide a \"datasetKeyProvider\" as a prop that returns a unique key.');\n        }\n      }\n    }\n  }, {\n    key: \"getCurrentDatasets\",\n    value: function getCurrentDatasets() {\n      return this.chartInstance && this.chartInstance.config.data && this.chartInstance.config.data.datasets || [];\n    }\n  }, {\n    key: \"saveCurrentDatasets\",\n    value: function saveCurrentDatasets() {\n      var _this2 = this;\n\n      this.datasets = this.datasets || {};\n      var currentDatasets = this.getCurrentDatasets();\n      currentDatasets.forEach(function (d) {\n        _this2.datasets[_this2.props.datasetKeyProvider(d)] = d;\n      });\n    }\n  }, {\n    key: \"updateChart\",\n    value: function updateChart() {\n      var _this3 = this;\n\n      var options = this.props.options;\n      var data = this.memoizeDataProps(this.props);\n      if (!this.chartInstance) return;\n\n      if (options) {\n        this.chartInstance.options = _chart[\"default\"].helpers.configMerge(this.chartInstance.options, options);\n      } // Pipe datasets to chart instance datasets enabling\n      // seamless transitions\n\n\n      var currentDatasets = this.getCurrentDatasets();\n      var nextDatasets = data.datasets || [];\n      this.checkDatasets(currentDatasets);\n      var currentDatasetsIndexed = (0, _keyBy[\"default\"])(currentDatasets, this.props.datasetKeyProvider); // We can safely replace the dataset array, as long as we retain the _meta property\n      // on each dataset.\n\n      this.chartInstance.config.data.datasets = nextDatasets.map(function (next) {\n        var current = currentDatasetsIndexed[_this3.props.datasetKeyProvider(next)];\n\n        if (current && current.type === next.type && next.data) {\n          // Be robust to no data. Relevant for other update mechanisms as in chartjs-plugin-streaming.\n          // The data array must be edited in place. As chart.js adds listeners to it.\n          current.data.splice(next.data.length);\n          next.data.forEach(function (point, pid) {\n            current.data[pid] = next.data[pid];\n          });\n\n          var _data = next.data,\n              otherProps = _objectWithoutProperties(next, [\"data\"]); // Merge properties. Notice a weakness here. If a property is removed\n          // from next, it will be retained by current and never disappears.\n          // Workaround is to set value to null or undefined in next.\n\n\n          return _objectSpread(_objectSpread({}, current), otherProps);\n        } else {\n          return next;\n        }\n      });\n\n      var datasets = data.datasets,\n          rest = _objectWithoutProperties(data, [\"datasets\"]);\n\n      this.chartInstance.config.data = _objectSpread(_objectSpread({}, this.chartInstance.config.data), rest);\n      this.chartInstance.update();\n    }\n  }, {\n    key: \"renderChart\",\n    value: function renderChart() {\n      var _this$props3 = this.props,\n          options = _this$props3.options,\n          legend = _this$props3.legend,\n          type = _this$props3.type,\n          plugins = _this$props3.plugins;\n      var node = this.element;\n      var data = this.memoizeDataProps();\n\n      if (typeof legend !== 'undefined' && !(0, _isEqual[\"default\"])(ChartComponent.defaultProps.legend, legend)) {\n        options.legend = legend;\n      }\n\n      this.chartInstance = new _chart[\"default\"](node, {\n        type: type,\n        data: data,\n        options: options,\n        plugins: plugins\n      });\n    }\n  }, {\n    key: \"destroyChart\",\n    value: function destroyChart() {\n      if (!this.chartInstance) {\n        return;\n      } // Put all of the datasets that have existed in the chart back on the chart\n      // so that the metadata associated with this chart get destroyed.\n      // This allows the datasets to be used in another chart. This can happen,\n      // for example, in a tabbed UI where the chart gets created each time the\n      // tab gets switched to the chart and uses the same data).\n\n\n      this.saveCurrentDatasets();\n      var datasets = Object.values(this.datasets);\n      this.chartInstance.config.data.datasets = datasets;\n      this.chartInstance.destroy();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          height = _this$props4.height,\n          width = _this$props4.width,\n          id = _this$props4.id;\n      return /*#__PURE__*/_react[\"default\"].createElement(\"canvas\", {\n        ref: this.ref,\n        height: height,\n        width: width,\n        id: id,\n        onClick: this.handleOnClick\n      });\n    }\n  }]);\n\n  return ChartComponent;\n}(_react[\"default\"].Component);\n\n_defineProperty(ChartComponent, \"getLabelAsKey\", function (d) {\n  return d.label;\n});\n\n_defineProperty(ChartComponent, \"propTypes\", {\n  data: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].object, _propTypes[\"default\"].func]).isRequired,\n  getDatasetAtEvent: _propTypes[\"default\"].func,\n  getElementAtEvent: _propTypes[\"default\"].func,\n  getElementsAtEvent: _propTypes[\"default\"].func,\n  height: _propTypes[\"default\"].number,\n  legend: _propTypes[\"default\"].object,\n  onElementsClick: _propTypes[\"default\"].func,\n  options: _propTypes[\"default\"].object,\n  plugins: _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].object),\n  redraw: _propTypes[\"default\"].bool,\n  type: function type(props, propName, componentName) {\n    if (!_chart[\"default\"].controllers[props[propName]]) {\n      return new Error('Invalid chart type `' + props[propName] + '` supplied to' + ' `' + componentName + '`.');\n    }\n  },\n  width: _propTypes[\"default\"].number,\n  datasetKeyProvider: _propTypes[\"default\"].func\n});\n\n_defineProperty(ChartComponent, \"defaultProps\", {\n  legend: {\n    display: true,\n    position: 'bottom'\n  },\n  type: 'doughnut',\n  height: 150,\n  width: 300,\n  redraw: false,\n  options: {},\n  datasetKeyProvider: ChartComponent.getLabelAsKey\n});\n\nvar _default = ChartComponent;\nexports[\"default\"] = _default;\n\nvar Doughnut = /*#__PURE__*/function (_React$Component2) {\n  _inherits(Doughnut, _React$Component2);\n\n  var _super2 = _createSuper(Doughnut);\n\n  function Doughnut() {\n    _classCallCheck(this, Doughnut);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(Doughnut, [{\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref) {\n          return _this4.chartInstance = _ref && _ref.chartInstance;\n        },\n        type: \"doughnut\"\n      }));\n    }\n  }]);\n\n  return Doughnut;\n}(_react[\"default\"].Component);\n\nexports.Doughnut = Doughnut;\n\nvar Pie = /*#__PURE__*/function (_React$Component3) {\n  _inherits(Pie, _React$Component3);\n\n  var _super3 = _createSuper(Pie);\n\n  function Pie() {\n    _classCallCheck(this, Pie);\n\n    return _super3.apply(this, arguments);\n  }\n\n  _createClass(Pie, [{\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref2) {\n          return _this5.chartInstance = _ref2 && _ref2.chartInstance;\n        },\n        type: \"pie\"\n      }));\n    }\n  }]);\n\n  return Pie;\n}(_react[\"default\"].Component);\n\nexports.Pie = Pie;\n\nvar Line = /*#__PURE__*/function (_React$Component4) {\n  _inherits(Line, _React$Component4);\n\n  var _super4 = _createSuper(Line);\n\n  function Line() {\n    _classCallCheck(this, Line);\n\n    return _super4.apply(this, arguments);\n  }\n\n  _createClass(Line, [{\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref3) {\n          return _this6.chartInstance = _ref3 && _ref3.chartInstance;\n        },\n        type: \"line\"\n      }));\n    }\n  }]);\n\n  return Line;\n}(_react[\"default\"].Component);\n\nexports.Line = Line;\n\nvar Bar = /*#__PURE__*/function (_React$Component5) {\n  _inherits(Bar, _React$Component5);\n\n  var _super5 = _createSuper(Bar);\n\n  function Bar() {\n    _classCallCheck(this, Bar);\n\n    return _super5.apply(this, arguments);\n  }\n\n  _createClass(Bar, [{\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref4) {\n          return _this7.chartInstance = _ref4 && _ref4.chartInstance;\n        },\n        type: \"bar\"\n      }));\n    }\n  }]);\n\n  return Bar;\n}(_react[\"default\"].Component);\n\nexports.Bar = Bar;\n\nvar HorizontalBar = /*#__PURE__*/function (_React$Component6) {\n  _inherits(HorizontalBar, _React$Component6);\n\n  var _super6 = _createSuper(HorizontalBar);\n\n  function HorizontalBar() {\n    _classCallCheck(this, HorizontalBar);\n\n    return _super6.apply(this, arguments);\n  }\n\n  _createClass(HorizontalBar, [{\n    key: \"render\",\n    value: function render() {\n      var _this8 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref5) {\n          return _this8.chartInstance = _ref5 && _ref5.chartInstance;\n        },\n        type: \"horizontalBar\"\n      }));\n    }\n  }]);\n\n  return HorizontalBar;\n}(_react[\"default\"].Component);\n\nexports.HorizontalBar = HorizontalBar;\n\nvar Radar = /*#__PURE__*/function (_React$Component7) {\n  _inherits(Radar, _React$Component7);\n\n  var _super7 = _createSuper(Radar);\n\n  function Radar() {\n    _classCallCheck(this, Radar);\n\n    return _super7.apply(this, arguments);\n  }\n\n  _createClass(Radar, [{\n    key: \"render\",\n    value: function render() {\n      var _this9 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref6) {\n          return _this9.chartInstance = _ref6 && _ref6.chartInstance;\n        },\n        type: \"radar\"\n      }));\n    }\n  }]);\n\n  return Radar;\n}(_react[\"default\"].Component);\n\nexports.Radar = Radar;\n\nvar Polar = /*#__PURE__*/function (_React$Component8) {\n  _inherits(Polar, _React$Component8);\n\n  var _super8 = _createSuper(Polar);\n\n  function Polar() {\n    _classCallCheck(this, Polar);\n\n    return _super8.apply(this, arguments);\n  }\n\n  _createClass(Polar, [{\n    key: \"render\",\n    value: function render() {\n      var _this10 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref7) {\n          return _this10.chartInstance = _ref7 && _ref7.chartInstance;\n        },\n        type: \"polarArea\"\n      }));\n    }\n  }]);\n\n  return Polar;\n}(_react[\"default\"].Component);\n\nexports.Polar = Polar;\n\nvar Bubble = /*#__PURE__*/function (_React$Component9) {\n  _inherits(Bubble, _React$Component9);\n\n  var _super9 = _createSuper(Bubble);\n\n  function Bubble() {\n    _classCallCheck(this, Bubble);\n\n    return _super9.apply(this, arguments);\n  }\n\n  _createClass(Bubble, [{\n    key: \"render\",\n    value: function render() {\n      var _this11 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref8) {\n          return _this11.chartInstance = _ref8 && _ref8.chartInstance;\n        },\n        type: \"bubble\"\n      }));\n    }\n  }]);\n\n  return Bubble;\n}(_react[\"default\"].Component);\n\nexports.Bubble = Bubble;\n\nvar Scatter = /*#__PURE__*/function (_React$Component10) {\n  _inherits(Scatter, _React$Component10);\n\n  var _super10 = _createSuper(Scatter);\n\n  function Scatter() {\n    _classCallCheck(this, Scatter);\n\n    return _super10.apply(this, arguments);\n  }\n\n  _createClass(Scatter, [{\n    key: \"render\",\n    value: function render() {\n      var _this12 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref9) {\n          return _this12.chartInstance = _ref9 && _ref9.chartInstance;\n        },\n        type: \"scatter\"\n      }));\n    }\n  }]);\n\n  return Scatter;\n}(_react[\"default\"].Component);\n\nexports.Scatter = Scatter;\nvar defaults = _chart[\"default\"].defaults;\nexports.defaults = defaults;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext, isPro } from '../../../utils/constants';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n\nconst propTypes = {\n  unlinkDevice: PropTypes.func.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass SysAdminUnlinkDevice extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      inputChecked: false\n    };\n  }\n\n  handleInputChange = (e) => {\n    this.setState({\n      inputChecked: e.target.checked\n    });\n  }\n\n  unlinkDevice = () => {\n    this.props.toggleDialog();\n    this.props.unlinkDevice(this.state.inputChecked);\n  }\n\n  render() {\n    const { inputChecked } = this.state;\n    const toggle = this.props.toggleDialog;\n    return (\n      <Modal isOpen={true} toggle={toggle}>\n        <ModalHeader toggle={toggle}>{gettext('Unlink device')}</ModalHeader>\n        <ModalBody>\n          <p>{gettext('Are you sure you want to unlink this device?')}</p>\n          {isPro &&\n          <div className=\"d-flex align-items-center\">\n            <input id=\"delete-files\" className=\"mr-1\" type=\"checkbox\" checked={inputChecked} onChange={this.handleInputChange} />\n            <label htmlFor=\"delete-files\" className=\"m-0\">{gettext('Delete files from this device the next time it comes online.')}</label>\n          </div>\n          }\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.unlinkDevice}>{gettext('Unlink')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminUnlinkDevice.propTypes = propTypes;\n\nexport default SysAdminUnlinkDevice;\n","/**\n * @namespace Chart\n */\nvar Chart = require('./core/core.js')();\n\nrequire('./core/core.helpers')(Chart);\nrequire('./core/core.canvasHelpers')(Chart);\nrequire('./core/core.element')(Chart);\nrequire('./core/core.animation')(Chart);\nrequire('./core/core.controller')(Chart);\nrequire('./core/core.datasetController')(Chart);\nrequire('./core/core.layoutService')(Chart);\nrequire('./core/core.scaleService')(Chart);\nrequire('./core/core.plugin.js')(Chart);\nrequire('./core/core.scale')(Chart);\nrequire('./core/core.title')(Chart);\nrequire('./core/core.legend')(Chart);\nrequire('./core/core.tooltip')(Chart);\n\nrequire('./elements/element.arc')(Chart);\nrequire('./elements/element.line')(Chart);\nrequire('./elements/element.point')(Chart);\nrequire('./elements/element.rectangle')(Chart);\n\nrequire('./scales/scale.linearbase.js')(Chart);\nrequire('./scales/scale.category')(Chart);\nrequire('./scales/scale.linear')(Chart);\nrequire('./scales/scale.logarithmic')(Chart);\nrequire('./scales/scale.radialLinear')(Chart);\nrequire('./scales/scale.time')(Chart);\n\n// Controllers must be loaded after elements\n// See Chart.core.datasetController.dataElementType\nrequire('./controllers/controller.bar')(Chart);\nrequire('./controllers/controller.bubble')(Chart);\nrequire('./controllers/controller.doughnut')(Chart);\nrequire('./controllers/controller.line')(Chart);\nrequire('./controllers/controller.polarArea')(Chart);\nrequire('./controllers/controller.radar')(Chart);\n\nrequire('./charts/Chart.Bar')(Chart);\nrequire('./charts/Chart.Bubble')(Chart);\nrequire('./charts/Chart.Doughnut')(Chart);\nrequire('./charts/Chart.Line')(Chart);\nrequire('./charts/Chart.PolarArea')(Chart);\nrequire('./charts/Chart.Radar')(Chart);\nrequire('./charts/Chart.Scatter')(Chart);\n\nwindow.Chart = module.exports = Chart;\n","'use strict';\n\nmodule.exports = function() {\n\n\t// Occupy the global variable of Chart, and create a simple base class\n\tvar Chart = function(context, config) {\n\t\tvar me = this;\n\t\tvar helpers = Chart.helpers;\n\t\tme.config = config || {\n\t\t\tdata: {\n\t\t\t\tdatasets: []\n\t\t\t}\n\t\t};\n\n\t\t// Support a jQuery'd canvas element\n\t\tif (context.length && context[0].getContext) {\n\t\t\tcontext = context[0];\n\t\t}\n\n\t\t// Support a canvas domnode\n\t\tif (context.getContext) {\n\t\t\tcontext = context.getContext('2d');\n\t\t}\n\n\t\tme.ctx = context;\n\t\tme.canvas = context.canvas;\n\n\t\tcontext.canvas.style.display = context.canvas.style.display || 'block';\n\n\t\t// Figure out what the size of the chart will be.\n\t\t// If the canvas has a specified width and height, we use those else\n\t\t// we look to see if the canvas node has a CSS width and height.\n\t\t// If there is still no height, fill the parent container\n\t\tme.width = context.canvas.width || parseInt(helpers.getStyle(context.canvas, 'width'), 10) || helpers.getMaximumWidth(context.canvas);\n\t\tme.height = context.canvas.height || parseInt(helpers.getStyle(context.canvas, 'height'), 10) || helpers.getMaximumHeight(context.canvas);\n\n\t\tme.aspectRatio = me.width / me.height;\n\n\t\tif (isNaN(me.aspectRatio) || isFinite(me.aspectRatio) === false) {\n\t\t\t// If the canvas has no size, try and figure out what the aspect ratio will be.\n\t\t\t// Some charts prefer square canvases (pie, radar, etc). If that is specified, use that\n\t\t\t// else use the canvas default ratio of 2\n\t\t\tme.aspectRatio = config.aspectRatio !== undefined ? config.aspectRatio : 2;\n\t\t}\n\n\t\t// Store the original style of the element so we can set it back\n\t\tme.originalCanvasStyleWidth = context.canvas.style.width;\n\t\tme.originalCanvasStyleHeight = context.canvas.style.height;\n\n\t\t// High pixel density displays - multiply the size of the canvas height/width by the device pixel ratio, then scale.\n\t\thelpers.retinaScale(me);\n\t\tme.controller = new Chart.Controller(me);\n\n\t\t// Always bind this so that if the responsive state changes we still work\n\t\thelpers.addResizeListener(context.canvas.parentNode, function() {\n\t\t\tif (me.controller && me.controller.config.options.responsive) {\n\t\t\t\tme.controller.resize();\n\t\t\t}\n\t\t});\n\n\t\treturn me.controller ? me.controller : me;\n\n\t};\n\n\t// Globally expose the defaults to allow for user updating/changing\n\tChart.defaults = {\n\t\tglobal: {\n\t\t\tresponsive: true,\n\t\t\tresponsiveAnimationDuration: 0,\n\t\t\tmaintainAspectRatio: true,\n\t\t\tevents: ['mousemove', 'mouseout', 'click', 'touchstart', 'touchmove'],\n\t\t\thover: {\n\t\t\t\tonHover: null,\n\t\t\t\tmode: 'single',\n\t\t\t\tanimationDuration: 400\n\t\t\t},\n\t\t\tonClick: null,\n\t\t\tdefaultColor: 'rgba(0,0,0,0.1)',\n\t\t\tdefaultFontColor: '#666',\n\t\t\tdefaultFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n\t\t\tdefaultFontSize: 12,\n\t\t\tdefaultFontStyle: 'normal',\n\t\t\tshowLines: true,\n\n\t\t\t// Element defaults defined in element extensions\n\t\t\telements: {},\n\n\t\t\t// Legend callback string\n\t\t\tlegendCallback: function(chart) {\n\t\t\t\tvar text = [];\n\t\t\t\ttext.push('<ul class=\"' + chart.id + '-legend\">');\n\t\t\t\tfor (var i = 0; i < chart.data.datasets.length; i++) {\n\t\t\t\t\ttext.push('<li><span style=\"background-color:' + chart.data.datasets[i].backgroundColor + '\"></span>');\n\t\t\t\t\tif (chart.data.datasets[i].label) {\n\t\t\t\t\t\ttext.push(chart.data.datasets[i].label);\n\t\t\t\t\t}\n\t\t\t\t\ttext.push('</li>');\n\t\t\t\t}\n\t\t\t\ttext.push('</ul>');\n\n\t\t\t\treturn text.join('');\n\t\t\t}\n\t\t}\n\t};\n\n\tChart.Chart = Chart;\n\n\treturn Chart;\n\n};\n","/* global window: false */\n/* global document: false */\n'use strict';\n\nvar color = require('chartjs-color');\n\nmodule.exports = function(Chart) {\n\t// Global Chart helpers object for utility methods and classes\n\tvar helpers = Chart.helpers = {};\n\n\t// -- Basic js utility methods\n\thelpers.each = function(loopable, callback, self, reverse) {\n\t\t// Check to see if null or undefined firstly.\n\t\tvar i, len;\n\t\tif (helpers.isArray(loopable)) {\n\t\t\tlen = loopable.length;\n\t\t\tif (reverse) {\n\t\t\t\tfor (i = len - 1; i >= 0; i--) {\n\t\t\t\t\tcallback.call(self, loopable[i], i);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\t\tcallback.call(self, loopable[i], i);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (typeof loopable === 'object') {\n\t\t\tvar keys = Object.keys(loopable);\n\t\t\tlen = keys.length;\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tcallback.call(self, loopable[keys[i]], keys[i]);\n\t\t\t}\n\t\t}\n\t};\n\thelpers.clone = function(obj) {\n\t\tvar objClone = {};\n\t\thelpers.each(obj, function(value, key) {\n\t\t\tif (helpers.isArray(value)) {\n\t\t\t\tobjClone[key] = value.slice(0);\n\t\t\t} else if (typeof value === 'object' && value !== null) {\n\t\t\t\tobjClone[key] = helpers.clone(value);\n\t\t\t} else {\n\t\t\t\tobjClone[key] = value;\n\t\t\t}\n\t\t});\n\t\treturn objClone;\n\t};\n\thelpers.extend = function(base) {\n\t\tvar setFn = function(value, key) {\n\t\t\tbase[key] = value;\n\t\t};\n\t\tfor (var i = 1, ilen = arguments.length; i < ilen; i++) {\n\t\t\thelpers.each(arguments[i], setFn);\n\t\t}\n\t\treturn base;\n\t};\n\t// Need a special merge function to chart configs since they are now grouped\n\thelpers.configMerge = function(_base) {\n\t\tvar base = helpers.clone(_base);\n\t\thelpers.each(Array.prototype.slice.call(arguments, 1), function(extension) {\n\t\t\thelpers.each(extension, function(value, key) {\n\t\t\t\tif (key === 'scales') {\n\t\t\t\t\t// Scale config merging is complex. Add out own function here for that\n\t\t\t\t\tbase[key] = helpers.scaleMerge(base.hasOwnProperty(key) ? base[key] : {}, value);\n\n\t\t\t\t} else if (key === 'scale') {\n\t\t\t\t\t// Used in polar area & radar charts since there is only one scale\n\t\t\t\t\tbase[key] = helpers.configMerge(base.hasOwnProperty(key) ? base[key] : {}, Chart.scaleService.getScaleDefaults(value.type), value);\n\t\t\t\t} else if (base.hasOwnProperty(key) && helpers.isArray(base[key]) && helpers.isArray(value)) {\n\t\t\t\t\t// In this case we have an array of objects replacing another array. Rather than doing a strict replace,\n\t\t\t\t\t// merge. This allows easy scale option merging\n\t\t\t\t\tvar baseArray = base[key];\n\n\t\t\t\t\thelpers.each(value, function(valueObj, index) {\n\n\t\t\t\t\t\tif (index < baseArray.length) {\n\t\t\t\t\t\t\tif (typeof baseArray[index] === 'object' && baseArray[index] !== null && typeof valueObj === 'object' && valueObj !== null) {\n\t\t\t\t\t\t\t\t// Two objects are coming together. Do a merge of them.\n\t\t\t\t\t\t\t\tbaseArray[index] = helpers.configMerge(baseArray[index], valueObj);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// Just overwrite in this case since there is nothing to merge\n\t\t\t\t\t\t\t\tbaseArray[index] = valueObj;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbaseArray.push(valueObj); // nothing to merge\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t} else if (base.hasOwnProperty(key) && typeof base[key] === 'object' && base[key] !== null && typeof value === 'object') {\n\t\t\t\t\t// If we are overwriting an object with an object, do a merge of the properties.\n\t\t\t\t\tbase[key] = helpers.configMerge(base[key], value);\n\n\t\t\t\t} else {\n\t\t\t\t\t// can just overwrite the value in this case\n\t\t\t\t\tbase[key] = value;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\treturn base;\n\t};\n\thelpers.scaleMerge = function(_base, extension) {\n\t\tvar base = helpers.clone(_base);\n\n\t\thelpers.each(extension, function(value, key) {\n\t\t\tif (key === 'xAxes' || key === 'yAxes') {\n\t\t\t\t// These properties are arrays of items\n\t\t\t\tif (base.hasOwnProperty(key)) {\n\t\t\t\t\thelpers.each(value, function(valueObj, index) {\n\t\t\t\t\t\tvar axisType = helpers.getValueOrDefault(valueObj.type, key === 'xAxes' ? 'category' : 'linear');\n\t\t\t\t\t\tvar axisDefaults = Chart.scaleService.getScaleDefaults(axisType);\n\t\t\t\t\t\tif (index >= base[key].length || !base[key][index].type) {\n\t\t\t\t\t\t\tbase[key].push(helpers.configMerge(axisDefaults, valueObj));\n\t\t\t\t\t\t} else if (valueObj.type && valueObj.type !== base[key][index].type) {\n\t\t\t\t\t\t\t// Type changed. Bring in the new defaults before we bring in valueObj so that valueObj can override the correct scale defaults\n\t\t\t\t\t\t\tbase[key][index] = helpers.configMerge(base[key][index], axisDefaults, valueObj);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Type is the same\n\t\t\t\t\t\t\tbase[key][index] = helpers.configMerge(base[key][index], valueObj);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tbase[key] = [];\n\t\t\t\t\thelpers.each(value, function(valueObj) {\n\t\t\t\t\t\tvar axisType = helpers.getValueOrDefault(valueObj.type, key === 'xAxes' ? 'category' : 'linear');\n\t\t\t\t\t\tbase[key].push(helpers.configMerge(Chart.scaleService.getScaleDefaults(axisType), valueObj));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else if (base.hasOwnProperty(key) && typeof base[key] === 'object' && base[key] !== null && typeof value === 'object') {\n\t\t\t\t// If we are overwriting an object with an object, do a merge of the properties.\n\t\t\t\tbase[key] = helpers.configMerge(base[key], value);\n\n\t\t\t} else {\n\t\t\t\t// can just overwrite the value in this case\n\t\t\t\tbase[key] = value;\n\t\t\t}\n\t\t});\n\n\t\treturn base;\n\t};\n\thelpers.getValueAtIndexOrDefault = function(value, index, defaultValue) {\n\t\tif (value === undefined || value === null) {\n\t\t\treturn defaultValue;\n\t\t}\n\n\t\tif (helpers.isArray(value)) {\n\t\t\treturn index < value.length ? value[index] : defaultValue;\n\t\t}\n\n\t\treturn value;\n\t};\n\thelpers.getValueOrDefault = function(value, defaultValue) {\n\t\treturn value === undefined ? defaultValue : value;\n\t};\n\thelpers.indexOf = Array.prototype.indexOf?\n\t\tfunction(array, item) {\n\t\t\treturn array.indexOf(item);\n\t\t}:\n\t\tfunction(array, item) {\n\t\t\tfor (var i = 0, ilen = array.length; i < ilen; ++i) {\n\t\t\t\tif (array[i] === item) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t};\n\thelpers.where = function(collection, filterCallback) {\n\t\tif (helpers.isArray(collection) && Array.prototype.filter) {\n\t\t\treturn collection.filter(filterCallback);\n\t\t}\n\t\tvar filtered = [];\n\n\t\thelpers.each(collection, function(item) {\n\t\t\tif (filterCallback(item)) {\n\t\t\t\tfiltered.push(item);\n\t\t\t}\n\t\t});\n\n\t\treturn filtered;\n\t};\n\thelpers.findIndex = Array.prototype.findIndex?\n\t\tfunction(array, callback, scope) {\n\t\t\treturn array.findIndex(callback, scope);\n\t\t} :\n\t\tfunction(array, callback, scope) {\n\t\t\tscope = scope === undefined? array : scope;\n\t\t\tfor (var i = 0, ilen = array.length; i < ilen; ++i) {\n\t\t\t\tif (callback.call(scope, array[i], i, array)) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t};\n\thelpers.findNextWhere = function(arrayToSearch, filterCallback, startIndex) {\n\t\t// Default to start of the array\n\t\tif (startIndex === undefined || startIndex === null) {\n\t\t\tstartIndex = -1;\n\t\t}\n\t\tfor (var i = startIndex + 1; i < arrayToSearch.length; i++) {\n\t\t\tvar currentItem = arrayToSearch[i];\n\t\t\tif (filterCallback(currentItem)) {\n\t\t\t\treturn currentItem;\n\t\t\t}\n\t\t}\n\t};\n\thelpers.findPreviousWhere = function(arrayToSearch, filterCallback, startIndex) {\n\t\t// Default to end of the array\n\t\tif (startIndex === undefined || startIndex === null) {\n\t\t\tstartIndex = arrayToSearch.length;\n\t\t}\n\t\tfor (var i = startIndex - 1; i >= 0; i--) {\n\t\t\tvar currentItem = arrayToSearch[i];\n\t\t\tif (filterCallback(currentItem)) {\n\t\t\t\treturn currentItem;\n\t\t\t}\n\t\t}\n\t};\n\thelpers.inherits = function(extensions) {\n\t\t// Basic javascript inheritance based on the model created in Backbone.js\n\t\tvar me = this;\n\t\tvar ChartElement = (extensions && extensions.hasOwnProperty('constructor')) ? extensions.constructor : function() {\n\t\t\treturn me.apply(this, arguments);\n\t\t};\n\n\t\tvar Surrogate = function() {\n\t\t\tthis.constructor = ChartElement;\n\t\t};\n\t\tSurrogate.prototype = me.prototype;\n\t\tChartElement.prototype = new Surrogate();\n\n\t\tChartElement.extend = helpers.inherits;\n\n\t\tif (extensions) {\n\t\t\thelpers.extend(ChartElement.prototype, extensions);\n\t\t}\n\n\t\tChartElement.__super__ = me.prototype;\n\n\t\treturn ChartElement;\n\t};\n\thelpers.noop = function() {};\n\thelpers.uid = (function() {\n\t\tvar id = 0;\n\t\treturn function() {\n\t\t\treturn id++;\n\t\t};\n\t}());\n\t// -- Math methods\n\thelpers.isNumber = function(n) {\n\t\treturn !isNaN(parseFloat(n)) && isFinite(n);\n\t};\n\thelpers.almostEquals = function(x, y, epsilon) {\n\t\treturn Math.abs(x - y) < epsilon;\n\t};\n\thelpers.max = function(array) {\n\t\treturn array.reduce(function(max, value) {\n\t\t\tif (!isNaN(value)) {\n\t\t\t\treturn Math.max(max, value);\n\t\t\t}\n\t\t\treturn max;\n\t\t}, Number.NEGATIVE_INFINITY);\n\t};\n\thelpers.min = function(array) {\n\t\treturn array.reduce(function(min, value) {\n\t\t\tif (!isNaN(value)) {\n\t\t\t\treturn Math.min(min, value);\n\t\t\t}\n\t\t\treturn min;\n\t\t}, Number.POSITIVE_INFINITY);\n\t};\n\thelpers.sign = Math.sign?\n\t\tfunction(x) {\n\t\t\treturn Math.sign(x);\n\t\t} :\n\t\tfunction(x) {\n\t\t\tx = +x; // convert to a number\n\t\t\tif (x === 0 || isNaN(x)) {\n\t\t\t\treturn x;\n\t\t\t}\n\t\t\treturn x > 0 ? 1 : -1;\n\t\t};\n\thelpers.log10 = Math.log10?\n\t\tfunction(x) {\n\t\t\treturn Math.log10(x);\n\t\t} :\n\t\tfunction(x) {\n\t\t\treturn Math.log(x) / Math.LN10;\n\t\t};\n\thelpers.toRadians = function(degrees) {\n\t\treturn degrees * (Math.PI / 180);\n\t};\n\thelpers.toDegrees = function(radians) {\n\t\treturn radians * (180 / Math.PI);\n\t};\n\t// Gets the angle from vertical upright to the point about a centre.\n\thelpers.getAngleFromPoint = function(centrePoint, anglePoint) {\n\t\tvar distanceFromXCenter = anglePoint.x - centrePoint.x,\n\t\t\tdistanceFromYCenter = anglePoint.y - centrePoint.y,\n\t\t\tradialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n\n\t\tvar angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n\n\t\tif (angle < (-0.5 * Math.PI)) {\n\t\t\tangle += 2.0 * Math.PI; // make sure the returned angle is in the range of (-PI/2, 3PI/2]\n\t\t}\n\n\t\treturn {\n\t\t\tangle: angle,\n\t\t\tdistance: radialDistanceFromCenter\n\t\t};\n\t};\n\thelpers.aliasPixel = function(pixelWidth) {\n\t\treturn (pixelWidth % 2 === 0) ? 0 : 0.5;\n\t};\n\thelpers.splineCurve = function(firstPoint, middlePoint, afterPoint, t) {\n\t\t// Props to Rob Spencer at scaled innovation for his post on splining between points\n\t\t// http://scaledinnovation.com/analytics/splines/aboutSplines.html\n\n\t\t// This function must also respect \"skipped\" points\n\n\t\tvar previous = firstPoint.skip ? middlePoint : firstPoint,\n\t\t\tcurrent = middlePoint,\n\t\t\tnext = afterPoint.skip ? middlePoint : afterPoint;\n\n\t\tvar d01 = Math.sqrt(Math.pow(current.x - previous.x, 2) + Math.pow(current.y - previous.y, 2));\n\t\tvar d12 = Math.sqrt(Math.pow(next.x - current.x, 2) + Math.pow(next.y - current.y, 2));\n\n\t\tvar s01 = d01 / (d01 + d12);\n\t\tvar s12 = d12 / (d01 + d12);\n\n\t\t// If all points are the same, s01 & s02 will be inf\n\t\ts01 = isNaN(s01) ? 0 : s01;\n\t\ts12 = isNaN(s12) ? 0 : s12;\n\n\t\tvar fa = t * s01; // scaling factor for triangle Ta\n\t\tvar fb = t * s12;\n\n\t\treturn {\n\t\t\tprevious: {\n\t\t\t\tx: current.x - fa * (next.x - previous.x),\n\t\t\t\ty: current.y - fa * (next.y - previous.y)\n\t\t\t},\n\t\t\tnext: {\n\t\t\t\tx: current.x + fb * (next.x - previous.x),\n\t\t\t\ty: current.y + fb * (next.y - previous.y)\n\t\t\t}\n\t\t};\n\t};\n\thelpers.EPSILON = Number.EPSILON || 1e-14;\n\thelpers.splineCurveMonotone = function(points) {\n\t\t// This function calculates Bzier control points in a similar way than |splineCurve|,\n\t\t// but preserves monotonicity of the provided data and ensures no local extremums are added\n\t\t// between the dataset discrete points due to the interpolation.\n\t\t// See : https://en.wikipedia.org/wiki/Monotone_cubic_interpolation\n\n\t\tvar pointsWithTangents = (points || []).map(function(point) {\n\t\t\treturn {\n\t\t\t\tmodel: point._model,\n\t\t\t\tdeltaK: 0,\n\t\t\t\tmK: 0\n\t\t\t};\n\t\t});\n\n\t\t// Calculate slopes (deltaK) and initialize tangents (mK)\n\t\tvar pointsLen = pointsWithTangents.length;\n\t\tvar i, pointBefore, pointCurrent, pointAfter;\n\t\tfor (i = 0; i < pointsLen; ++i) {\n\t\t\tpointCurrent = pointsWithTangents[i];\n\t\t\tif (pointCurrent.model.skip) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tpointBefore = i > 0 ? pointsWithTangents[i - 1] : null;\n\t\t\tpointAfter = i < pointsLen - 1 ? pointsWithTangents[i + 1] : null;\n\t\t\tif (pointAfter && !pointAfter.model.skip) {\n\t\t\t\tpointCurrent.deltaK = (pointAfter.model.y - pointCurrent.model.y) / (pointAfter.model.x - pointCurrent.model.x);\n\t\t\t}\n\n\t\t\tif (!pointBefore || pointBefore.model.skip) {\n\t\t\t\tpointCurrent.mK = pointCurrent.deltaK;\n\t\t\t} else if (!pointAfter || pointAfter.model.skip) {\n\t\t\t\tpointCurrent.mK = pointBefore.deltaK;\n\t\t\t} else if (this.sign(pointBefore.deltaK) !== this.sign(pointCurrent.deltaK)) {\n\t\t\t\tpointCurrent.mK = 0;\n\t\t\t} else {\n\t\t\t\tpointCurrent.mK = (pointBefore.deltaK + pointCurrent.deltaK) / 2;\n\t\t\t}\n\t\t}\n\n\t\t// Adjust tangents to ensure monotonic properties\n\t\tvar alphaK, betaK, tauK, squaredMagnitude;\n\t\tfor (i = 0; i < pointsLen - 1; ++i) {\n\t\t\tpointCurrent = pointsWithTangents[i];\n\t\t\tpointAfter = pointsWithTangents[i + 1];\n\t\t\tif (pointCurrent.model.skip || pointAfter.model.skip) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (helpers.almostEquals(pointCurrent.deltaK, 0, this.EPSILON)) {\n\t\t\t\tpointCurrent.mK = pointAfter.mK = 0;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\talphaK = pointCurrent.mK / pointCurrent.deltaK;\n\t\t\tbetaK = pointAfter.mK / pointCurrent.deltaK;\n\t\t\tsquaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n\t\t\tif (squaredMagnitude <= 9) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\ttauK = 3 / Math.sqrt(squaredMagnitude);\n\t\t\tpointCurrent.mK = alphaK * tauK * pointCurrent.deltaK;\n\t\t\tpointAfter.mK = betaK * tauK * pointCurrent.deltaK;\n\t\t}\n\n\t\t// Compute control points\n\t\tvar deltaX;\n\t\tfor (i = 0; i < pointsLen; ++i) {\n\t\t\tpointCurrent = pointsWithTangents[i];\n\t\t\tif (pointCurrent.model.skip) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tpointBefore = i > 0 ? pointsWithTangents[i - 1] : null;\n\t\t\tpointAfter = i < pointsLen - 1 ? pointsWithTangents[i + 1] : null;\n\t\t\tif (pointBefore && !pointBefore.model.skip) {\n\t\t\t\tdeltaX = (pointCurrent.model.x - pointBefore.model.x) / 3;\n\t\t\t\tpointCurrent.model.controlPointPreviousX = pointCurrent.model.x - deltaX;\n\t\t\t\tpointCurrent.model.controlPointPreviousY = pointCurrent.model.y - deltaX * pointCurrent.mK;\n\t\t\t}\n\t\t\tif (pointAfter && !pointAfter.model.skip) {\n\t\t\t\tdeltaX = (pointAfter.model.x - pointCurrent.model.x) / 3;\n\t\t\t\tpointCurrent.model.controlPointNextX = pointCurrent.model.x + deltaX;\n\t\t\t\tpointCurrent.model.controlPointNextY = pointCurrent.model.y + deltaX * pointCurrent.mK;\n\t\t\t}\n\t\t}\n\t};\n\thelpers.nextItem = function(collection, index, loop) {\n\t\tif (loop) {\n\t\t\treturn index >= collection.length - 1 ? collection[0] : collection[index + 1];\n\t\t}\n\t\treturn index >= collection.length - 1 ? collection[collection.length - 1] : collection[index + 1];\n\t};\n\thelpers.previousItem = function(collection, index, loop) {\n\t\tif (loop) {\n\t\t\treturn index <= 0 ? collection[collection.length - 1] : collection[index - 1];\n\t\t}\n\t\treturn index <= 0 ? collection[0] : collection[index - 1];\n\t};\n\t// Implementation of the nice number algorithm used in determining where axis labels will go\n\thelpers.niceNum = function(range, round) {\n\t\tvar exponent = Math.floor(helpers.log10(range));\n\t\tvar fraction = range / Math.pow(10, exponent);\n\t\tvar niceFraction;\n\n\t\tif (round) {\n\t\t\tif (fraction < 1.5) {\n\t\t\t\tniceFraction = 1;\n\t\t\t} else if (fraction < 3) {\n\t\t\t\tniceFraction = 2;\n\t\t\t} else if (fraction < 7) {\n\t\t\t\tniceFraction = 5;\n\t\t\t} else {\n\t\t\t\tniceFraction = 10;\n\t\t\t}\n\t\t} else if (fraction <= 1.0) {\n\t\t\tniceFraction = 1;\n\t\t} else if (fraction <= 2) {\n\t\t\tniceFraction = 2;\n\t\t} else if (fraction <= 5) {\n\t\t\tniceFraction = 5;\n\t\t} else {\n\t\t\tniceFraction = 10;\n\t\t}\n\n\t\treturn niceFraction * Math.pow(10, exponent);\n\t};\n\t// Easing functions adapted from Robert Penner's easing equations\n\t// http://www.robertpenner.com/easing/\n\tvar easingEffects = helpers.easingEffects = {\n\t\tlinear: function(t) {\n\t\t\treturn t;\n\t\t},\n\t\teaseInQuad: function(t) {\n\t\t\treturn t * t;\n\t\t},\n\t\teaseOutQuad: function(t) {\n\t\t\treturn -1 * t * (t - 2);\n\t\t},\n\t\teaseInOutQuad: function(t) {\n\t\t\tif ((t /= 1 / 2) < 1) {\n\t\t\t\treturn 1 / 2 * t * t;\n\t\t\t}\n\t\t\treturn -1 / 2 * ((--t) * (t - 2) - 1);\n\t\t},\n\t\teaseInCubic: function(t) {\n\t\t\treturn t * t * t;\n\t\t},\n\t\teaseOutCubic: function(t) {\n\t\t\treturn 1 * ((t = t / 1 - 1) * t * t + 1);\n\t\t},\n\t\teaseInOutCubic: function(t) {\n\t\t\tif ((t /= 1 / 2) < 1) {\n\t\t\t\treturn 1 / 2 * t * t * t;\n\t\t\t}\n\t\t\treturn 1 / 2 * ((t -= 2) * t * t + 2);\n\t\t},\n\t\teaseInQuart: function(t) {\n\t\t\treturn t * t * t * t;\n\t\t},\n\t\teaseOutQuart: function(t) {\n\t\t\treturn -1 * ((t = t / 1 - 1) * t * t * t - 1);\n\t\t},\n\t\teaseInOutQuart: function(t) {\n\t\t\tif ((t /= 1 / 2) < 1) {\n\t\t\t\treturn 1 / 2 * t * t * t * t;\n\t\t\t}\n\t\t\treturn -1 / 2 * ((t -= 2) * t * t * t - 2);\n\t\t},\n\t\teaseInQuint: function(t) {\n\t\t\treturn 1 * (t /= 1) * t * t * t * t;\n\t\t},\n\t\teaseOutQuint: function(t) {\n\t\t\treturn 1 * ((t = t / 1 - 1) * t * t * t * t + 1);\n\t\t},\n\t\teaseInOutQuint: function(t) {\n\t\t\tif ((t /= 1 / 2) < 1) {\n\t\t\t\treturn 1 / 2 * t * t * t * t * t;\n\t\t\t}\n\t\t\treturn 1 / 2 * ((t -= 2) * t * t * t * t + 2);\n\t\t},\n\t\teaseInSine: function(t) {\n\t\t\treturn -1 * Math.cos(t / 1 * (Math.PI / 2)) + 1;\n\t\t},\n\t\teaseOutSine: function(t) {\n\t\t\treturn 1 * Math.sin(t / 1 * (Math.PI / 2));\n\t\t},\n\t\teaseInOutSine: function(t) {\n\t\t\treturn -1 / 2 * (Math.cos(Math.PI * t / 1) - 1);\n\t\t},\n\t\teaseInExpo: function(t) {\n\t\t\treturn (t === 0) ? 1 : 1 * Math.pow(2, 10 * (t / 1 - 1));\n\t\t},\n\t\teaseOutExpo: function(t) {\n\t\t\treturn (t === 1) ? 1 : 1 * (-Math.pow(2, -10 * t / 1) + 1);\n\t\t},\n\t\teaseInOutExpo: function(t) {\n\t\t\tif (t === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif (t === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif ((t /= 1 / 2) < 1) {\n\t\t\t\treturn 1 / 2 * Math.pow(2, 10 * (t - 1));\n\t\t\t}\n\t\t\treturn 1 / 2 * (-Math.pow(2, -10 * --t) + 2);\n\t\t},\n\t\teaseInCirc: function(t) {\n\t\t\tif (t >= 1) {\n\t\t\t\treturn t;\n\t\t\t}\n\t\t\treturn -1 * (Math.sqrt(1 - (t /= 1) * t) - 1);\n\t\t},\n\t\teaseOutCirc: function(t) {\n\t\t\treturn 1 * Math.sqrt(1 - (t = t / 1 - 1) * t);\n\t\t},\n\t\teaseInOutCirc: function(t) {\n\t\t\tif ((t /= 1 / 2) < 1) {\n\t\t\t\treturn -1 / 2 * (Math.sqrt(1 - t * t) - 1);\n\t\t\t}\n\t\t\treturn 1 / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n\t\t},\n\t\teaseInElastic: function(t) {\n\t\t\tvar s = 1.70158;\n\t\t\tvar p = 0;\n\t\t\tvar a = 1;\n\t\t\tif (t === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif ((t /= 1) === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif (!p) {\n\t\t\t\tp = 1 * 0.3;\n\t\t\t}\n\t\t\tif (a < Math.abs(1)) {\n\t\t\t\ta = 1;\n\t\t\t\ts = p / 4;\n\t\t\t} else {\n\t\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\n\t\t\t}\n\t\t\treturn -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * 1 - s) * (2 * Math.PI) / p));\n\t\t},\n\t\teaseOutElastic: function(t) {\n\t\t\tvar s = 1.70158;\n\t\t\tvar p = 0;\n\t\t\tvar a = 1;\n\t\t\tif (t === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif ((t /= 1) === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif (!p) {\n\t\t\t\tp = 1 * 0.3;\n\t\t\t}\n\t\t\tif (a < Math.abs(1)) {\n\t\t\t\ta = 1;\n\t\t\t\ts = p / 4;\n\t\t\t} else {\n\t\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\n\t\t\t}\n\t\t\treturn a * Math.pow(2, -10 * t) * Math.sin((t * 1 - s) * (2 * Math.PI) / p) + 1;\n\t\t},\n\t\teaseInOutElastic: function(t) {\n\t\t\tvar s = 1.70158;\n\t\t\tvar p = 0;\n\t\t\tvar a = 1;\n\t\t\tif (t === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif ((t /= 1 / 2) === 2) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif (!p) {\n\t\t\t\tp = 1 * (0.3 * 1.5);\n\t\t\t}\n\t\t\tif (a < Math.abs(1)) {\n\t\t\t\ta = 1;\n\t\t\t\ts = p / 4;\n\t\t\t} else {\n\t\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\n\t\t\t}\n\t\t\tif (t < 1) {\n\t\t\t\treturn -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * 1 - s) * (2 * Math.PI) / p));\n\t\t\t}\n\t\t\treturn a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * 1 - s) * (2 * Math.PI) / p) * 0.5 + 1;\n\t\t},\n\t\teaseInBack: function(t) {\n\t\t\tvar s = 1.70158;\n\t\t\treturn 1 * (t /= 1) * t * ((s + 1) * t - s);\n\t\t},\n\t\teaseOutBack: function(t) {\n\t\t\tvar s = 1.70158;\n\t\t\treturn 1 * ((t = t / 1 - 1) * t * ((s + 1) * t + s) + 1);\n\t\t},\n\t\teaseInOutBack: function(t) {\n\t\t\tvar s = 1.70158;\n\t\t\tif ((t /= 1 / 2) < 1) {\n\t\t\t\treturn 1 / 2 * (t * t * (((s *= (1.525)) + 1) * t - s));\n\t\t\t}\n\t\t\treturn 1 / 2 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\n\t\t},\n\t\teaseInBounce: function(t) {\n\t\t\treturn 1 - easingEffects.easeOutBounce(1 - t);\n\t\t},\n\t\teaseOutBounce: function(t) {\n\t\t\tif ((t /= 1) < (1 / 2.75)) {\n\t\t\t\treturn 1 * (7.5625 * t * t);\n\t\t\t} else if (t < (2 / 2.75)) {\n\t\t\t\treturn 1 * (7.5625 * (t -= (1.5 / 2.75)) * t + 0.75);\n\t\t\t} else if (t < (2.5 / 2.75)) {\n\t\t\t\treturn 1 * (7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375);\n\t\t\t}\n\t\t\treturn 1 * (7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375);\n\t\t},\n\t\teaseInOutBounce: function(t) {\n\t\t\tif (t < 1 / 2) {\n\t\t\t\treturn easingEffects.easeInBounce(t * 2) * 0.5;\n\t\t\t}\n\t\t\treturn easingEffects.easeOutBounce(t * 2 - 1) * 0.5 + 1 * 0.5;\n\t\t}\n\t};\n\t// Request animation polyfill - http://www.paulirish.com/2011/requestanimationframe-for-smart-animating/\n\thelpers.requestAnimFrame = (function() {\n\t\treturn window.requestAnimationFrame ||\n\t\t\twindow.webkitRequestAnimationFrame ||\n\t\t\twindow.mozRequestAnimationFrame ||\n\t\t\twindow.oRequestAnimationFrame ||\n\t\t\twindow.msRequestAnimationFrame ||\n\t\t\tfunction(callback) {\n\t\t\t\treturn window.setTimeout(callback, 1000 / 60);\n\t\t\t};\n\t}());\n\thelpers.cancelAnimFrame = (function() {\n\t\treturn window.cancelAnimationFrame ||\n\t\t\twindow.webkitCancelAnimationFrame ||\n\t\t\twindow.mozCancelAnimationFrame ||\n\t\t\twindow.oCancelAnimationFrame ||\n\t\t\twindow.msCancelAnimationFrame ||\n\t\t\tfunction(callback) {\n\t\t\t\treturn window.clearTimeout(callback, 1000 / 60);\n\t\t\t};\n\t}());\n\t// -- DOM methods\n\thelpers.getRelativePosition = function(evt, chart) {\n\t\tvar mouseX, mouseY;\n\t\tvar e = evt.originalEvent || evt,\n\t\t\tcanvas = evt.currentTarget || evt.srcElement,\n\t\t\tboundingRect = canvas.getBoundingClientRect();\n\n\t\tvar touches = e.touches;\n\t\tif (touches && touches.length > 0) {\n\t\t\tmouseX = touches[0].clientX;\n\t\t\tmouseY = touches[0].clientY;\n\n\t\t} else {\n\t\t\tmouseX = e.clientX;\n\t\t\tmouseY = e.clientY;\n\t\t}\n\n\t\t// Scale mouse coordinates into canvas coordinates\n\t\t// by following the pattern laid out by 'jerryj' in the comments of\n\t\t// http://www.html5canvastutorials.com/advanced/html5-canvas-mouse-coordinates/\n\t\tvar paddingLeft = parseFloat(helpers.getStyle(canvas, 'padding-left'));\n\t\tvar paddingTop = parseFloat(helpers.getStyle(canvas, 'padding-top'));\n\t\tvar paddingRight = parseFloat(helpers.getStyle(canvas, 'padding-right'));\n\t\tvar paddingBottom = parseFloat(helpers.getStyle(canvas, 'padding-bottom'));\n\t\tvar width = boundingRect.right - boundingRect.left - paddingLeft - paddingRight;\n\t\tvar height = boundingRect.bottom - boundingRect.top - paddingTop - paddingBottom;\n\n\t\t// We divide by the current device pixel ratio, because the canvas is scaled up by that amount in each direction. However\n\t\t// the backend model is in unscaled coordinates. Since we are going to deal with our model coordinates, we go back here\n\t\tmouseX = Math.round((mouseX - boundingRect.left - paddingLeft) / (width) * canvas.width / chart.currentDevicePixelRatio);\n\t\tmouseY = Math.round((mouseY - boundingRect.top - paddingTop) / (height) * canvas.height / chart.currentDevicePixelRatio);\n\n\t\treturn {\n\t\t\tx: mouseX,\n\t\t\ty: mouseY\n\t\t};\n\n\t};\n\thelpers.addEvent = function(node, eventType, method) {\n\t\tif (node.addEventListener) {\n\t\t\tnode.addEventListener(eventType, method);\n\t\t} else if (node.attachEvent) {\n\t\t\tnode.attachEvent('on' + eventType, method);\n\t\t} else {\n\t\t\tnode['on' + eventType] = method;\n\t\t}\n\t};\n\thelpers.removeEvent = function(node, eventType, handler) {\n\t\tif (node.removeEventListener) {\n\t\t\tnode.removeEventListener(eventType, handler, false);\n\t\t} else if (node.detachEvent) {\n\t\t\tnode.detachEvent('on' + eventType, handler);\n\t\t} else {\n\t\t\tnode['on' + eventType] = helpers.noop;\n\t\t}\n\t};\n\thelpers.bindEvents = function(chartInstance, arrayOfEvents, handler) {\n\t\t// Create the events object if it's not already present\n\t\tvar events = chartInstance.events = chartInstance.events || {};\n\n\t\thelpers.each(arrayOfEvents, function(eventName) {\n\t\t\tevents[eventName] = function() {\n\t\t\t\thandler.apply(chartInstance, arguments);\n\t\t\t};\n\t\t\thelpers.addEvent(chartInstance.chart.canvas, eventName, events[eventName]);\n\t\t});\n\t};\n\thelpers.unbindEvents = function(chartInstance, arrayOfEvents) {\n\t\tvar canvas = chartInstance.chart.canvas;\n\t\thelpers.each(arrayOfEvents, function(handler, eventName) {\n\t\t\thelpers.removeEvent(canvas, eventName, handler);\n\t\t});\n\t};\n\n\t// Private helper function to convert max-width/max-height values that may be percentages into a number\n\tfunction parseMaxStyle(styleValue, node, parentProperty) {\n\t\tvar valueInPixels;\n\t\tif (typeof(styleValue) === 'string') {\n\t\t\tvalueInPixels = parseInt(styleValue, 10);\n\n\t\t\tif (styleValue.indexOf('%') !== -1) {\n\t\t\t\t// percentage * size in dimension\n\t\t\t\tvalueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\n\t\t\t}\n\t\t} else {\n\t\t\tvalueInPixels = styleValue;\n\t\t}\n\n\t\treturn valueInPixels;\n\t}\n\n\t/**\n\t * Returns if the given value contains an effective constraint.\n\t * @private\n\t */\n\tfunction isConstrainedValue(value) {\n\t\treturn value !== undefined && value !== null && value !== 'none';\n\t}\n\n\t// Private helper to get a constraint dimension\n\t// @param domNode : the node to check the constraint on\n\t// @param maxStyle : the style that defines the maximum for the direction we are using (maxWidth / maxHeight)\n\t// @param percentageProperty : property of parent to use when calculating width as a percentage\n\t// @see http://www.nathanaeljones.com/blog/2013/reading-max-width-cross-browser\n\tfunction getConstraintDimension(domNode, maxStyle, percentageProperty) {\n\t\tvar view = document.defaultView;\n\t\tvar parentNode = domNode.parentNode;\n\t\tvar constrainedNode = view.getComputedStyle(domNode)[maxStyle];\n\t\tvar constrainedContainer = view.getComputedStyle(parentNode)[maxStyle];\n\t\tvar hasCNode = isConstrainedValue(constrainedNode);\n\t\tvar hasCContainer = isConstrainedValue(constrainedContainer);\n\t\tvar infinity = Number.POSITIVE_INFINITY;\n\n\t\tif (hasCNode || hasCContainer) {\n\t\t\treturn Math.min(\n\t\t\t\thasCNode? parseMaxStyle(constrainedNode, domNode, percentageProperty) : infinity,\n\t\t\t\thasCContainer? parseMaxStyle(constrainedContainer, parentNode, percentageProperty) : infinity);\n\t\t}\n\n\t\treturn 'none';\n\t}\n\t// returns Number or undefined if no constraint\n\thelpers.getConstraintWidth = function(domNode) {\n\t\treturn getConstraintDimension(domNode, 'max-width', 'clientWidth');\n\t};\n\t// returns Number or undefined if no constraint\n\thelpers.getConstraintHeight = function(domNode) {\n\t\treturn getConstraintDimension(domNode, 'max-height', 'clientHeight');\n\t};\n\thelpers.getMaximumWidth = function(domNode) {\n\t\tvar container = domNode.parentNode;\n\t\tvar paddingLeft = parseInt(helpers.getStyle(container, 'padding-left'), 10);\n\t\tvar paddingRight = parseInt(helpers.getStyle(container, 'padding-right'), 10);\n\t\tvar w = container.clientWidth - paddingLeft - paddingRight;\n\t\tvar cw = helpers.getConstraintWidth(domNode);\n\t\treturn isNaN(cw)? w : Math.min(w, cw);\n\t};\n\thelpers.getMaximumHeight = function(domNode) {\n\t\tvar container = domNode.parentNode;\n\t\tvar paddingTop = parseInt(helpers.getStyle(container, 'padding-top'), 10);\n\t\tvar paddingBottom = parseInt(helpers.getStyle(container, 'padding-bottom'), 10);\n\t\tvar h = container.clientHeight - paddingTop - paddingBottom;\n\t\tvar ch = helpers.getConstraintHeight(domNode);\n\t\treturn isNaN(ch)? h : Math.min(h, ch);\n\t};\n\thelpers.getStyle = function(el, property) {\n\t\treturn el.currentStyle ?\n\t\t\tel.currentStyle[property] :\n\t\t\tdocument.defaultView.getComputedStyle(el, null).getPropertyValue(property);\n\t};\n\thelpers.retinaScale = function(chart) {\n\t\tvar ctx = chart.ctx;\n\t\tvar canvas = chart.canvas;\n\t\tvar width = canvas.width;\n\t\tvar height = canvas.height;\n\t\tvar pixelRatio = chart.currentDevicePixelRatio = window.devicePixelRatio || 1;\n\n\t\tif (pixelRatio !== 1) {\n\t\t\tcanvas.height = height * pixelRatio;\n\t\t\tcanvas.width = width * pixelRatio;\n\t\t\tctx.scale(pixelRatio, pixelRatio);\n\n\t\t\t// Store the device pixel ratio so that we can go backwards in `destroy`.\n\t\t\t// The devicePixelRatio changes with zoom, so there are no guarantees that it is the same\n\t\t\t// when destroy is called\n\t\t\tchart.originalDevicePixelRatio = chart.originalDevicePixelRatio || pixelRatio;\n\t\t}\n\n\t\tcanvas.style.width = width + 'px';\n\t\tcanvas.style.height = height + 'px';\n\t};\n\t// -- Canvas methods\n\thelpers.clear = function(chart) {\n\t\tchart.ctx.clearRect(0, 0, chart.width, chart.height);\n\t};\n\thelpers.fontString = function(pixelSize, fontStyle, fontFamily) {\n\t\treturn fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n\t};\n\thelpers.longestText = function(ctx, font, arrayOfThings, cache) {\n\t\tcache = cache || {};\n\t\tvar data = cache.data = cache.data || {};\n\t\tvar gc = cache.garbageCollect = cache.garbageCollect || [];\n\n\t\tif (cache.font !== font) {\n\t\t\tdata = cache.data = {};\n\t\t\tgc = cache.garbageCollect = [];\n\t\t\tcache.font = font;\n\t\t}\n\n\t\tctx.font = font;\n\t\tvar longest = 0;\n\t\thelpers.each(arrayOfThings, function(thing) {\n\t\t\t// Undefined strings and arrays should not be measured\n\t\t\tif (thing !== undefined && thing !== null && helpers.isArray(thing) !== true) {\n\t\t\t\tlongest = helpers.measureText(ctx, data, gc, longest, thing);\n\t\t\t} else if (helpers.isArray(thing)) {\n\t\t\t\t// if it is an array lets measure each element\n\t\t\t\t// to do maybe simplify this function a bit so we can do this more recursively?\n\t\t\t\thelpers.each(thing, function(nestedThing) {\n\t\t\t\t\t// Undefined strings and arrays should not be measured\n\t\t\t\t\tif (nestedThing !== undefined && nestedThing !== null && !helpers.isArray(nestedThing)) {\n\t\t\t\t\t\tlongest = helpers.measureText(ctx, data, gc, longest, nestedThing);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tvar gcLen = gc.length / 2;\n\t\tif (gcLen > arrayOfThings.length) {\n\t\t\tfor (var i = 0; i < gcLen; i++) {\n\t\t\t\tdelete data[gc[i]];\n\t\t\t}\n\t\t\tgc.splice(0, gcLen);\n\t\t}\n\t\treturn longest;\n\t};\n\thelpers.measureText = function(ctx, data, gc, longest, string) {\n\t\tvar textWidth = data[string];\n\t\tif (!textWidth) {\n\t\t\ttextWidth = data[string] = ctx.measureText(string).width;\n\t\t\tgc.push(string);\n\t\t}\n\t\tif (textWidth > longest) {\n\t\t\tlongest = textWidth;\n\t\t}\n\t\treturn longest;\n\t};\n\thelpers.numberOfLabelLines = function(arrayOfThings) {\n\t\tvar numberOfLines = 1;\n\t\thelpers.each(arrayOfThings, function(thing) {\n\t\t\tif (helpers.isArray(thing)) {\n\t\t\t\tif (thing.length > numberOfLines) {\n\t\t\t\t\tnumberOfLines = thing.length;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn numberOfLines;\n\t};\n\thelpers.drawRoundedRectangle = function(ctx, x, y, width, height, radius) {\n\t\tctx.beginPath();\n\t\tctx.moveTo(x + radius, y);\n\t\tctx.lineTo(x + width - radius, y);\n\t\tctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n\t\tctx.lineTo(x + width, y + height - radius);\n\t\tctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n\t\tctx.lineTo(x + radius, y + height);\n\t\tctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n\t\tctx.lineTo(x, y + radius);\n\t\tctx.quadraticCurveTo(x, y, x + radius, y);\n\t\tctx.closePath();\n\t};\n\thelpers.color = function(c) {\n\t\tif (!color) {\n\t\t\tconsole.error('Color.js not found!');\n\t\t\treturn c;\n\t\t}\n\n\t\t/* global CanvasGradient */\n\t\tif (c instanceof CanvasGradient) {\n\t\t\treturn color(Chart.defaults.global.defaultColor);\n\t\t}\n\n\t\treturn color(c);\n\t};\n\thelpers.addResizeListener = function(node, callback) {\n\t\t// Hide an iframe before the node\n\t\tvar hiddenIframe = document.createElement('iframe');\n\t\tvar hiddenIframeClass = 'chartjs-hidden-iframe';\n\n\t\tif (hiddenIframe.classlist) {\n\t\t\t// can use classlist\n\t\t\thiddenIframe.classlist.add(hiddenIframeClass);\n\t\t} else {\n\t\t\thiddenIframe.setAttribute('class', hiddenIframeClass);\n\t\t}\n\n\t\t// Set the style\n\t\thiddenIframe.tabIndex = -1;\n\t\tvar style = hiddenIframe.style;\n\t\tstyle.width = '100%';\n\t\tstyle.display = 'block';\n\t\tstyle.border = 0;\n\t\tstyle.height = 0;\n\t\tstyle.margin = 0;\n\t\tstyle.position = 'absolute';\n\t\tstyle.left = 0;\n\t\tstyle.right = 0;\n\t\tstyle.top = 0;\n\t\tstyle.bottom = 0;\n\n\t\t// Insert the iframe so that contentWindow is available\n\t\tnode.insertBefore(hiddenIframe, node.firstChild);\n\n\t\t(hiddenIframe.contentWindow || hiddenIframe).onresize = function() {\n\t\t\tif (callback) {\n\t\t\t\treturn callback();\n\t\t\t}\n\t\t};\n\t};\n\thelpers.removeResizeListener = function(node) {\n\t\tvar hiddenIframe = node.querySelector('.chartjs-hidden-iframe');\n\n\t\t// Remove the resize detect iframe\n\t\tif (hiddenIframe) {\n\t\t\thiddenIframe.parentNode.removeChild(hiddenIframe);\n\t\t}\n\t};\n\thelpers.isArray = Array.isArray?\n\t\tfunction(obj) {\n\t\t\treturn Array.isArray(obj);\n\t\t} :\n\t\tfunction(obj) {\n\t\t\treturn Object.prototype.toString.call(obj) === '[object Array]';\n\t\t};\n\t// ! @see http://stackoverflow.com/a/14853974\n\thelpers.arrayEquals = function(a0, a1) {\n\t\tvar i, ilen, v0, v1;\n\n\t\tif (!a0 || !a1 || a0.length !== a1.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tfor (i = 0, ilen=a0.length; i < ilen; ++i) {\n\t\t\tv0 = a0[i];\n\t\t\tv1 = a1[i];\n\n\t\t\tif (v0 instanceof Array && v1 instanceof Array) {\n\t\t\t\tif (!helpers.arrayEquals(v0, v1)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else if (v0 !== v1) {\n\t\t\t\t// NOTE: two different object instances will never be equal: {x:20} != {x:20}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t};\n\thelpers.callCallback = function(fn, args, _tArg) {\n\t\tif (fn && typeof fn.call === 'function') {\n\t\t\tfn.apply(_tArg, args);\n\t\t}\n\t};\n\thelpers.getHoverColor = function(colorValue) {\n\t\t/* global CanvasPattern */\n\t\treturn (colorValue instanceof CanvasPattern) ?\n\t\t\tcolorValue :\n\t\t\thelpers.color(colorValue).saturate(0.5).darken(0.1).rgbString();\n\t};\n};\n","/* MIT license */\nvar convert = require('color-convert');\nvar string = require('chartjs-color-string');\n\nvar Color = function (obj) {\n\tif (obj instanceof Color) {\n\t\treturn obj;\n\t}\n\tif (!(this instanceof Color)) {\n\t\treturn new Color(obj);\n\t}\n\n\tthis.valid = false;\n\tthis.values = {\n\t\trgb: [0, 0, 0],\n\t\thsl: [0, 0, 0],\n\t\thsv: [0, 0, 0],\n\t\thwb: [0, 0, 0],\n\t\tcmyk: [0, 0, 0, 0],\n\t\talpha: 1\n\t};\n\n\t// parse Color() argument\n\tvar vals;\n\tif (typeof obj === 'string') {\n\t\tvals = string.getRgba(obj);\n\t\tif (vals) {\n\t\t\tthis.setValues('rgb', vals);\n\t\t} else if (vals = string.getHsla(obj)) {\n\t\t\tthis.setValues('hsl', vals);\n\t\t} else if (vals = string.getHwb(obj)) {\n\t\t\tthis.setValues('hwb', vals);\n\t\t}\n\t} else if (typeof obj === 'object') {\n\t\tvals = obj;\n\t\tif (vals.r !== undefined || vals.red !== undefined) {\n\t\t\tthis.setValues('rgb', vals);\n\t\t} else if (vals.l !== undefined || vals.lightness !== undefined) {\n\t\t\tthis.setValues('hsl', vals);\n\t\t} else if (vals.v !== undefined || vals.value !== undefined) {\n\t\t\tthis.setValues('hsv', vals);\n\t\t} else if (vals.w !== undefined || vals.whiteness !== undefined) {\n\t\t\tthis.setValues('hwb', vals);\n\t\t} else if (vals.c !== undefined || vals.cyan !== undefined) {\n\t\t\tthis.setValues('cmyk', vals);\n\t\t}\n\t}\n};\n\nColor.prototype = {\n\tisValid: function () {\n\t\treturn this.valid;\n\t},\n\trgb: function () {\n\t\treturn this.setSpace('rgb', arguments);\n\t},\n\thsl: function () {\n\t\treturn this.setSpace('hsl', arguments);\n\t},\n\thsv: function () {\n\t\treturn this.setSpace('hsv', arguments);\n\t},\n\thwb: function () {\n\t\treturn this.setSpace('hwb', arguments);\n\t},\n\tcmyk: function () {\n\t\treturn this.setSpace('cmyk', arguments);\n\t},\n\n\trgbArray: function () {\n\t\treturn this.values.rgb;\n\t},\n\thslArray: function () {\n\t\treturn this.values.hsl;\n\t},\n\thsvArray: function () {\n\t\treturn this.values.hsv;\n\t},\n\thwbArray: function () {\n\t\tvar values = this.values;\n\t\tif (values.alpha !== 1) {\n\t\t\treturn values.hwb.concat([values.alpha]);\n\t\t}\n\t\treturn values.hwb;\n\t},\n\tcmykArray: function () {\n\t\treturn this.values.cmyk;\n\t},\n\trgbaArray: function () {\n\t\tvar values = this.values;\n\t\treturn values.rgb.concat([values.alpha]);\n\t},\n\thslaArray: function () {\n\t\tvar values = this.values;\n\t\treturn values.hsl.concat([values.alpha]);\n\t},\n\talpha: function (val) {\n\t\tif (val === undefined) {\n\t\t\treturn this.values.alpha;\n\t\t}\n\t\tthis.setValues('alpha', val);\n\t\treturn this;\n\t},\n\n\tred: function (val) {\n\t\treturn this.setChannel('rgb', 0, val);\n\t},\n\tgreen: function (val) {\n\t\treturn this.setChannel('rgb', 1, val);\n\t},\n\tblue: function (val) {\n\t\treturn this.setChannel('rgb', 2, val);\n\t},\n\thue: function (val) {\n\t\tif (val) {\n\t\t\tval %= 360;\n\t\t\tval = val < 0 ? 360 + val : val;\n\t\t}\n\t\treturn this.setChannel('hsl', 0, val);\n\t},\n\tsaturation: function (val) {\n\t\treturn this.setChannel('hsl', 1, val);\n\t},\n\tlightness: function (val) {\n\t\treturn this.setChannel('hsl', 2, val);\n\t},\n\tsaturationv: function (val) {\n\t\treturn this.setChannel('hsv', 1, val);\n\t},\n\twhiteness: function (val) {\n\t\treturn this.setChannel('hwb', 1, val);\n\t},\n\tblackness: function (val) {\n\t\treturn this.setChannel('hwb', 2, val);\n\t},\n\tvalue: function (val) {\n\t\treturn this.setChannel('hsv', 2, val);\n\t},\n\tcyan: function (val) {\n\t\treturn this.setChannel('cmyk', 0, val);\n\t},\n\tmagenta: function (val) {\n\t\treturn this.setChannel('cmyk', 1, val);\n\t},\n\tyellow: function (val) {\n\t\treturn this.setChannel('cmyk', 2, val);\n\t},\n\tblack: function (val) {\n\t\treturn this.setChannel('cmyk', 3, val);\n\t},\n\n\thexString: function () {\n\t\treturn string.hexString(this.values.rgb);\n\t},\n\trgbString: function () {\n\t\treturn string.rgbString(this.values.rgb, this.values.alpha);\n\t},\n\trgbaString: function () {\n\t\treturn string.rgbaString(this.values.rgb, this.values.alpha);\n\t},\n\tpercentString: function () {\n\t\treturn string.percentString(this.values.rgb, this.values.alpha);\n\t},\n\thslString: function () {\n\t\treturn string.hslString(this.values.hsl, this.values.alpha);\n\t},\n\thslaString: function () {\n\t\treturn string.hslaString(this.values.hsl, this.values.alpha);\n\t},\n\thwbString: function () {\n\t\treturn string.hwbString(this.values.hwb, this.values.alpha);\n\t},\n\tkeyword: function () {\n\t\treturn string.keyword(this.values.rgb, this.values.alpha);\n\t},\n\n\trgbNumber: function () {\n\t\tvar rgb = this.values.rgb;\n\t\treturn (rgb[0] << 16) | (rgb[1] << 8) | rgb[2];\n\t},\n\n\tluminosity: function () {\n\t\t// http://www.w3.org/TR/WCAG20/#relativeluminancedef\n\t\tvar rgb = this.values.rgb;\n\t\tvar lum = [];\n\t\tfor (var i = 0; i < rgb.length; i++) {\n\t\t\tvar chan = rgb[i] / 255;\n\t\t\tlum[i] = (chan <= 0.03928) ? chan / 12.92 : Math.pow(((chan + 0.055) / 1.055), 2.4);\n\t\t}\n\t\treturn 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n\t},\n\n\tcontrast: function (color2) {\n\t\t// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\t\tvar lum1 = this.luminosity();\n\t\tvar lum2 = color2.luminosity();\n\t\tif (lum1 > lum2) {\n\t\t\treturn (lum1 + 0.05) / (lum2 + 0.05);\n\t\t}\n\t\treturn (lum2 + 0.05) / (lum1 + 0.05);\n\t},\n\n\tlevel: function (color2) {\n\t\tvar contrastRatio = this.contrast(color2);\n\t\tif (contrastRatio >= 7.1) {\n\t\t\treturn 'AAA';\n\t\t}\n\n\t\treturn (contrastRatio >= 4.5) ? 'AA' : '';\n\t},\n\n\tdark: function () {\n\t\t// YIQ equation from http://24ways.org/2010/calculating-color-contrast\n\t\tvar rgb = this.values.rgb;\n\t\tvar yiq = (rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1000;\n\t\treturn yiq < 128;\n\t},\n\n\tlight: function () {\n\t\treturn !this.dark();\n\t},\n\n\tnegate: function () {\n\t\tvar rgb = [];\n\t\tfor (var i = 0; i < 3; i++) {\n\t\t\trgb[i] = 255 - this.values.rgb[i];\n\t\t}\n\t\tthis.setValues('rgb', rgb);\n\t\treturn this;\n\t},\n\n\tlighten: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[2] += hsl[2] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\tdarken: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[2] -= hsl[2] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\tsaturate: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[1] += hsl[1] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\tdesaturate: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[1] -= hsl[1] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\twhiten: function (ratio) {\n\t\tvar hwb = this.values.hwb;\n\t\thwb[1] += hwb[1] * ratio;\n\t\tthis.setValues('hwb', hwb);\n\t\treturn this;\n\t},\n\n\tblacken: function (ratio) {\n\t\tvar hwb = this.values.hwb;\n\t\thwb[2] += hwb[2] * ratio;\n\t\tthis.setValues('hwb', hwb);\n\t\treturn this;\n\t},\n\n\tgreyscale: function () {\n\t\tvar rgb = this.values.rgb;\n\t\t// http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale\n\t\tvar val = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n\t\tthis.setValues('rgb', [val, val, val]);\n\t\treturn this;\n\t},\n\n\tclearer: function (ratio) {\n\t\tvar alpha = this.values.alpha;\n\t\tthis.setValues('alpha', alpha - (alpha * ratio));\n\t\treturn this;\n\t},\n\n\topaquer: function (ratio) {\n\t\tvar alpha = this.values.alpha;\n\t\tthis.setValues('alpha', alpha + (alpha * ratio));\n\t\treturn this;\n\t},\n\n\trotate: function (degrees) {\n\t\tvar hsl = this.values.hsl;\n\t\tvar hue = (hsl[0] + degrees) % 360;\n\t\thsl[0] = hue < 0 ? 360 + hue : hue;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\t/**\n\t * Ported from sass implementation in C\n\t * https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n\t */\n\tmix: function (mixinColor, weight) {\n\t\tvar color1 = this;\n\t\tvar color2 = mixinColor;\n\t\tvar p = weight === undefined ? 0.5 : weight;\n\n\t\tvar w = 2 * p - 1;\n\t\tvar a = color1.alpha() - color2.alpha();\n\n\t\tvar w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n\t\tvar w2 = 1 - w1;\n\n\t\treturn this\n\t\t\t.rgb(\n\t\t\t\tw1 * color1.red() + w2 * color2.red(),\n\t\t\t\tw1 * color1.green() + w2 * color2.green(),\n\t\t\t\tw1 * color1.blue() + w2 * color2.blue()\n\t\t\t)\n\t\t\t.alpha(color1.alpha() * p + color2.alpha() * (1 - p));\n\t},\n\n\ttoJSON: function () {\n\t\treturn this.rgb();\n\t},\n\n\tclone: function () {\n\t\t// NOTE(SB): using node-clone creates a dependency to Buffer when using browserify,\n\t\t// making the final build way to big to embed in Chart.js. So let's do it manually,\n\t\t// assuming that values to clone are 1 dimension arrays containing only numbers,\n\t\t// except 'alpha' which is a number.\n\t\tvar result = new Color();\n\t\tvar source = this.values;\n\t\tvar target = result.values;\n\t\tvar value, type;\n\n\t\tfor (var prop in source) {\n\t\t\tif (source.hasOwnProperty(prop)) {\n\t\t\t\tvalue = source[prop];\n\t\t\t\ttype = ({}).toString.call(value);\n\t\t\t\tif (type === '[object Array]') {\n\t\t\t\t\ttarget[prop] = value.slice(0);\n\t\t\t\t} else if (type === '[object Number]') {\n\t\t\t\t\ttarget[prop] = value;\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error('unexpected color value:', value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n};\n\nColor.prototype.spaces = {\n\trgb: ['red', 'green', 'blue'],\n\thsl: ['hue', 'saturation', 'lightness'],\n\thsv: ['hue', 'saturation', 'value'],\n\thwb: ['hue', 'whiteness', 'blackness'],\n\tcmyk: ['cyan', 'magenta', 'yellow', 'black']\n};\n\nColor.prototype.maxes = {\n\trgb: [255, 255, 255],\n\thsl: [360, 100, 100],\n\thsv: [360, 100, 100],\n\thwb: [360, 100, 100],\n\tcmyk: [100, 100, 100, 100]\n};\n\nColor.prototype.getValues = function (space) {\n\tvar values = this.values;\n\tvar vals = {};\n\n\tfor (var i = 0; i < space.length; i++) {\n\t\tvals[space.charAt(i)] = values[space][i];\n\t}\n\n\tif (values.alpha !== 1) {\n\t\tvals.a = values.alpha;\n\t}\n\n\t// {r: 255, g: 255, b: 255, a: 0.4}\n\treturn vals;\n};\n\nColor.prototype.setValues = function (space, vals) {\n\tvar values = this.values;\n\tvar spaces = this.spaces;\n\tvar maxes = this.maxes;\n\tvar alpha = 1;\n\tvar i;\n\n\tthis.valid = true;\n\n\tif (space === 'alpha') {\n\t\talpha = vals;\n\t} else if (vals.length) {\n\t\t// [10, 10, 10]\n\t\tvalues[space] = vals.slice(0, space.length);\n\t\talpha = vals[space.length];\n\t} else if (vals[space.charAt(0)] !== undefined) {\n\t\t// {r: 10, g: 10, b: 10}\n\t\tfor (i = 0; i < space.length; i++) {\n\t\t\tvalues[space][i] = vals[space.charAt(i)];\n\t\t}\n\n\t\talpha = vals.a;\n\t} else if (vals[spaces[space][0]] !== undefined) {\n\t\t// {red: 10, green: 10, blue: 10}\n\t\tvar chans = spaces[space];\n\n\t\tfor (i = 0; i < space.length; i++) {\n\t\t\tvalues[space][i] = vals[chans[i]];\n\t\t}\n\n\t\talpha = vals.alpha;\n\t}\n\n\tvalues.alpha = Math.max(0, Math.min(1, (alpha === undefined ? values.alpha : alpha)));\n\n\tif (space === 'alpha') {\n\t\treturn false;\n\t}\n\n\tvar capped;\n\n\t// cap values of the space prior converting all values\n\tfor (i = 0; i < space.length; i++) {\n\t\tcapped = Math.max(0, Math.min(maxes[space][i], values[space][i]));\n\t\tvalues[space][i] = Math.round(capped);\n\t}\n\n\t// convert to all the other color spaces\n\tfor (var sname in spaces) {\n\t\tif (sname !== space) {\n\t\t\tvalues[sname] = convert[space][sname](values[space]);\n\t\t}\n\t}\n\n\treturn true;\n};\n\nColor.prototype.setSpace = function (space, args) {\n\tvar vals = args[0];\n\n\tif (vals === undefined) {\n\t\t// color.rgb()\n\t\treturn this.getValues(space);\n\t}\n\n\t// color.rgb(10, 10, 10)\n\tif (typeof vals === 'number') {\n\t\tvals = Array.prototype.slice.call(args);\n\t}\n\n\tthis.setValues(space, vals);\n\treturn this;\n};\n\nColor.prototype.setChannel = function (space, index, val) {\n\tvar svalues = this.values[space];\n\tif (val === undefined) {\n\t\t// color.red()\n\t\treturn svalues[index];\n\t} else if (val === svalues[index]) {\n\t\t// color.red(color.red())\n\t\treturn this;\n\t}\n\n\t// color.red(100)\n\tsvalues[index] = val;\n\tthis.setValues(space, svalues);\n\n\treturn this;\n};\n\nif (typeof window !== 'undefined') {\n\twindow.Color = Color;\n}\n\nmodule.exports = Color;\n","var conversions = require('./conversions');\nvar route = require('./route');\n\nvar convert = {};\n\nvar models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tvar wrappedFn = function (args) {\n\t\tif (args === undefined || args === null) {\n\t\t\treturn args;\n\t\t}\n\n\t\tif (arguments.length > 1) {\n\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tvar wrappedFn = function (args) {\n\t\tif (args === undefined || args === null) {\n\t\t\treturn args;\n\t\t}\n\n\t\tif (arguments.length > 1) {\n\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t}\n\n\t\tvar result = fn(args);\n\n\t\t// we're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (var len = result.length, i = 0; i < len; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nmodels.forEach(function (fromModel) {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tvar routes = route(fromModel);\n\tvar routeModels = Object.keys(routes);\n\n\trouteModels.forEach(function (toModel) {\n\t\tvar fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t});\n});\n\nmodule.exports = convert;\n","var conversions = require('./conversions');\n\n/*\n\tthis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tvar graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tvar models = Object.keys(conversions);\n\n\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tvar graph = buildGraph();\n\tvar queue = [fromModel]; // unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length) {\n\t\tvar current = queue.pop();\n\t\tvar adjacents = Object.keys(conversions[current]);\n\n\t\tfor (var len = adjacents.length, i = 0; i < len; i++) {\n\t\t\tvar adjacent = adjacents[i];\n\t\t\tvar node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tvar path = [graph[toModel].parent, toModel];\n\tvar fn = conversions[graph[toModel].parent][toModel];\n\n\tvar cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nmodule.exports = function (fromModel) {\n\tvar graph = deriveBFS(fromModel);\n\tvar conversion = {};\n\n\tvar models = Object.keys(graph);\n\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\tvar toModel = models[i];\n\t\tvar node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// no possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n};\n\n","/* MIT license */\nvar colorNames = require('color-name');\n\nmodule.exports = {\n   getRgba: getRgba,\n   getHsla: getHsla,\n   getRgb: getRgb,\n   getHsl: getHsl,\n   getHwb: getHwb,\n   getAlpha: getAlpha,\n\n   hexString: hexString,\n   rgbString: rgbString,\n   rgbaString: rgbaString,\n   percentString: percentString,\n   percentaString: percentaString,\n   hslString: hslString,\n   hslaString: hslaString,\n   hwbString: hwbString,\n   keyword: keyword\n}\n\nfunction getRgba(string) {\n   if (!string) {\n      return;\n   }\n   var abbr =  /^#([a-fA-F0-9]{3,4})$/i,\n       hex =  /^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i,\n       rgba = /^rgba?\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/i,\n       per = /^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/i,\n       keyword = /(\\w+)/;\n\n   var rgb = [0, 0, 0],\n       a = 1,\n       match = string.match(abbr),\n       hexAlpha = \"\";\n   if (match) {\n      match = match[1];\n      hexAlpha = match[3];\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = parseInt(match[i] + match[i], 16);\n      }\n      if (hexAlpha) {\n         a = Math.round((parseInt(hexAlpha + hexAlpha, 16) / 255) * 100) / 100;\n      }\n   }\n   else if (match = string.match(hex)) {\n      hexAlpha = match[2];\n      match = match[1];\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = parseInt(match.slice(i * 2, i * 2 + 2), 16);\n      }\n      if (hexAlpha) {\n         a = Math.round((parseInt(hexAlpha, 16) / 255) * 100) / 100;\n      }\n   }\n   else if (match = string.match(rgba)) {\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = parseInt(match[i + 1]);\n      }\n      a = parseFloat(match[4]);\n   }\n   else if (match = string.match(per)) {\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);\n      }\n      a = parseFloat(match[4]);\n   }\n   else if (match = string.match(keyword)) {\n      if (match[1] == \"transparent\") {\n         return [0, 0, 0, 0];\n      }\n      rgb = colorNames[match[1]];\n      if (!rgb) {\n         return;\n      }\n   }\n\n   for (var i = 0; i < rgb.length; i++) {\n      rgb[i] = scale(rgb[i], 0, 255);\n   }\n   if (!a && a != 0) {\n      a = 1;\n   }\n   else {\n      a = scale(a, 0, 1);\n   }\n   rgb[3] = a;\n   return rgb;\n}\n\nfunction getHsla(string) {\n   if (!string) {\n      return;\n   }\n   var hsl = /^hsla?\\(\\s*([+-]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)/;\n   var match = string.match(hsl);\n   if (match) {\n      var alpha = parseFloat(match[4]);\n      var h = scale(parseInt(match[1]), 0, 360),\n          s = scale(parseFloat(match[2]), 0, 100),\n          l = scale(parseFloat(match[3]), 0, 100),\n          a = scale(isNaN(alpha) ? 1 : alpha, 0, 1);\n      return [h, s, l, a];\n   }\n}\n\nfunction getHwb(string) {\n   if (!string) {\n      return;\n   }\n   var hwb = /^hwb\\(\\s*([+-]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)/;\n   var match = string.match(hwb);\n   if (match) {\n    var alpha = parseFloat(match[4]);\n      var h = scale(parseInt(match[1]), 0, 360),\n          w = scale(parseFloat(match[2]), 0, 100),\n          b = scale(parseFloat(match[3]), 0, 100),\n          a = scale(isNaN(alpha) ? 1 : alpha, 0, 1);\n      return [h, w, b, a];\n   }\n}\n\nfunction getRgb(string) {\n   var rgba = getRgba(string);\n   return rgba && rgba.slice(0, 3);\n}\n\nfunction getHsl(string) {\n  var hsla = getHsla(string);\n  return hsla && hsla.slice(0, 3);\n}\n\nfunction getAlpha(string) {\n   var vals = getRgba(string);\n   if (vals) {\n      return vals[3];\n   }\n   else if (vals = getHsla(string)) {\n      return vals[3];\n   }\n   else if (vals = getHwb(string)) {\n      return vals[3];\n   }\n}\n\n// generators\nfunction hexString(rgba, a) {\n   var a = (a !== undefined && rgba.length === 3) ? a : rgba[3];\n   return \"#\" + hexDouble(rgba[0]) \n              + hexDouble(rgba[1])\n              + hexDouble(rgba[2])\n              + (\n                 (a >= 0 && a < 1)\n                 ? hexDouble(Math.round(a * 255))\n                 : \"\"\n              );\n}\n\nfunction rgbString(rgba, alpha) {\n   if (alpha < 1 || (rgba[3] && rgba[3] < 1)) {\n      return rgbaString(rgba, alpha);\n   }\n   return \"rgb(\" + rgba[0] + \", \" + rgba[1] + \", \" + rgba[2] + \")\";\n}\n\nfunction rgbaString(rgba, alpha) {\n   if (alpha === undefined) {\n      alpha = (rgba[3] !== undefined ? rgba[3] : 1);\n   }\n   return \"rgba(\" + rgba[0] + \", \" + rgba[1] + \", \" + rgba[2]\n           + \", \" + alpha + \")\";\n}\n\nfunction percentString(rgba, alpha) {\n   if (alpha < 1 || (rgba[3] && rgba[3] < 1)) {\n      return percentaString(rgba, alpha);\n   }\n   var r = Math.round(rgba[0]/255 * 100),\n       g = Math.round(rgba[1]/255 * 100),\n       b = Math.round(rgba[2]/255 * 100);\n\n   return \"rgb(\" + r + \"%, \" + g + \"%, \" + b + \"%)\";\n}\n\nfunction percentaString(rgba, alpha) {\n   var r = Math.round(rgba[0]/255 * 100),\n       g = Math.round(rgba[1]/255 * 100),\n       b = Math.round(rgba[2]/255 * 100);\n   return \"rgba(\" + r + \"%, \" + g + \"%, \" + b + \"%, \" + (alpha || rgba[3] || 1) + \")\";\n}\n\nfunction hslString(hsla, alpha) {\n   if (alpha < 1 || (hsla[3] && hsla[3] < 1)) {\n      return hslaString(hsla, alpha);\n   }\n   return \"hsl(\" + hsla[0] + \", \" + hsla[1] + \"%, \" + hsla[2] + \"%)\";\n}\n\nfunction hslaString(hsla, alpha) {\n   if (alpha === undefined) {\n      alpha = (hsla[3] !== undefined ? hsla[3] : 1);\n   }\n   return \"hsla(\" + hsla[0] + \", \" + hsla[1] + \"%, \" + hsla[2] + \"%, \"\n           + alpha + \")\";\n}\n\n// hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n// (hwb have alpha optional & 1 is default value)\nfunction hwbString(hwb, alpha) {\n   if (alpha === undefined) {\n      alpha = (hwb[3] !== undefined ? hwb[3] : 1);\n   }\n   return \"hwb(\" + hwb[0] + \", \" + hwb[1] + \"%, \" + hwb[2] + \"%\"\n           + (alpha !== undefined && alpha !== 1 ? \", \" + alpha : \"\") + \")\";\n}\n\nfunction keyword(rgb) {\n  return reverseNames[rgb.slice(0, 3)];\n}\n\n// helpers\nfunction scale(num, min, max) {\n   return Math.min(Math.max(min, num), max);\n}\n\nfunction hexDouble(num) {\n  var str = num.toString(16).toUpperCase();\n  return (str.length < 2) ? \"0\" + str : str;\n}\n\n\n//create a list of reverse color names\nvar reverseNames = {};\nfor (var name in colorNames) {\n   reverseNames[colorNames[name]] = name;\n}\n","'use strict';\n\nmodule.exports = function(Chart) {\n\t// Global Chart canvas helpers object for drawing items to canvas\n\tvar helpers = Chart.canvasHelpers = {};\n\n\thelpers.drawPoint = function(ctx, pointStyle, radius, x, y) {\n\t\tvar type, edgeLength, xOffset, yOffset, height, size;\n\n\t\tif (typeof pointStyle === 'object') {\n\t\t\ttype = pointStyle.toString();\n\t\t\tif (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n\t\t\t\tctx.drawImage(pointStyle, x - pointStyle.width / 2, y - pointStyle.height / 2);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (isNaN(radius) || radius <= 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tswitch (pointStyle) {\n\t\t// Default includes circle\n\t\tdefault:\n\t\t\tctx.beginPath();\n\t\t\tctx.arc(x, y, radius, 0, Math.PI * 2);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\t\t\tbreak;\n\t\tcase 'triangle':\n\t\t\tctx.beginPath();\n\t\t\tedgeLength = 3 * radius / Math.sqrt(3);\n\t\t\theight = edgeLength * Math.sqrt(3) / 2;\n\t\t\tctx.moveTo(x - edgeLength / 2, y + height / 3);\n\t\t\tctx.lineTo(x + edgeLength / 2, y + height / 3);\n\t\t\tctx.lineTo(x, y - 2 * height / 3);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\t\t\tbreak;\n\t\tcase 'rect':\n\t\t\tsize = 1 / Math.SQRT2 * radius;\n\t\t\tctx.beginPath();\n\t\t\tctx.fillRect(x - size, y - size, 2 * size, 2 * size);\n\t\t\tctx.strokeRect(x - size, y - size, 2 * size, 2 * size);\n\t\t\tbreak;\n\t\tcase 'rectRot':\n\t\t\tsize = 1 / Math.SQRT2 * radius;\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x - size, y);\n\t\t\tctx.lineTo(x, y + size);\n\t\t\tctx.lineTo(x + size, y);\n\t\t\tctx.lineTo(x, y - size);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\t\t\tbreak;\n\t\tcase 'cross':\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x, y + radius);\n\t\t\tctx.lineTo(x, y - radius);\n\t\t\tctx.moveTo(x - radius, y);\n\t\t\tctx.lineTo(x + radius, y);\n\t\t\tctx.closePath();\n\t\t\tbreak;\n\t\tcase 'crossRot':\n\t\t\tctx.beginPath();\n\t\t\txOffset = Math.cos(Math.PI / 4) * radius;\n\t\t\tyOffset = Math.sin(Math.PI / 4) * radius;\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\n\t\t\tctx.moveTo(x - xOffset, y + yOffset);\n\t\t\tctx.lineTo(x + xOffset, y - yOffset);\n\t\t\tctx.closePath();\n\t\t\tbreak;\n\t\tcase 'star':\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x, y + radius);\n\t\t\tctx.lineTo(x, y - radius);\n\t\t\tctx.moveTo(x - radius, y);\n\t\t\tctx.lineTo(x + radius, y);\n\t\t\txOffset = Math.cos(Math.PI / 4) * radius;\n\t\t\tyOffset = Math.sin(Math.PI / 4) * radius;\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\n\t\t\tctx.moveTo(x - xOffset, y + yOffset);\n\t\t\tctx.lineTo(x + xOffset, y - yOffset);\n\t\t\tctx.closePath();\n\t\t\tbreak;\n\t\tcase 'line':\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x - radius, y);\n\t\t\tctx.lineTo(x + radius, y);\n\t\t\tctx.closePath();\n\t\t\tbreak;\n\t\tcase 'dash':\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x, y);\n\t\t\tctx.lineTo(x + radius, y);\n\t\t\tctx.closePath();\n\t\t\tbreak;\n\t\t}\n\n\t\tctx.stroke();\n\t};\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.elements = {};\n\n\tChart.Element = function(configuration) {\n\t\thelpers.extend(this, configuration);\n\t\tthis.initialize.apply(this, arguments);\n\t};\n\n\thelpers.extend(Chart.Element.prototype, {\n\n\t\tinitialize: function() {\n\t\t\tthis.hidden = false;\n\t\t},\n\n\t\tpivot: function() {\n\t\t\tvar me = this;\n\t\t\tif (!me._view) {\n\t\t\t\tme._view = helpers.clone(me._model);\n\t\t\t}\n\t\t\tme._start = helpers.clone(me._view);\n\t\t\treturn me;\n\t\t},\n\n\t\ttransition: function(ease) {\n\t\t\tvar me = this;\n\n\t\t\tif (!me._view) {\n\t\t\t\tme._view = helpers.clone(me._model);\n\t\t\t}\n\n\t\t\t// No animation -> No Transition\n\t\t\tif (ease === 1) {\n\t\t\t\tme._view = me._model;\n\t\t\t\tme._start = null;\n\t\t\t\treturn me;\n\t\t\t}\n\n\t\t\tif (!me._start) {\n\t\t\t\tme.pivot();\n\t\t\t}\n\n\t\t\thelpers.each(me._model, function(value, key) {\n\n\t\t\t\tif (key[0] === '_') {\n\t\t\t\t\t// Only non-underscored properties\n\t\t\t\t// Init if doesn't exist\n\t\t\t\t} else if (!me._view.hasOwnProperty(key)) {\n\t\t\t\t\tif (typeof value === 'number' && !isNaN(me._view[key])) {\n\t\t\t\t\t\tme._view[key] = value * ease;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tme._view[key] = value;\n\t\t\t\t\t}\n\t\t\t\t// No unnecessary computations\n\t\t\t\t} else if (value === me._view[key]) {\n\t\t\t\t\t// It's the same! Woohoo!\n\t\t\t\t// Color transitions if possible\n\t\t\t\t} else if (typeof value === 'string') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar color = helpers.color(me._model[key]).mix(helpers.color(me._start[key]), ease);\n\t\t\t\t\t\tme._view[key] = color.rgbString();\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tme._view[key] = value;\n\t\t\t\t\t}\n\t\t\t\t// Number transitions\n\t\t\t\t} else if (typeof value === 'number') {\n\t\t\t\t\tvar startVal = me._start[key] !== undefined && isNaN(me._start[key]) === false ? me._start[key] : 0;\n\t\t\t\t\tme._view[key] = ((me._model[key] - startVal) * ease) + startVal;\n\t\t\t\t// Everything else\n\t\t\t\t} else {\n\t\t\t\t\tme._view[key] = value;\n\t\t\t\t}\n\t\t\t}, me);\n\n\t\t\treturn me;\n\t\t},\n\n\t\ttooltipPosition: function() {\n\t\t\treturn {\n\t\t\t\tx: this._model.x,\n\t\t\t\ty: this._model.y\n\t\t\t};\n\t\t},\n\n\t\thasValue: function() {\n\t\t\treturn helpers.isNumber(this._model.x) && helpers.isNumber(this._model.y);\n\t\t}\n\t});\n\n\tChart.Element.extend = helpers.inherits;\n\n};\n","/* global window: false */\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.global.animation = {\n\t\tduration: 1000,\n\t\teasing: 'easeOutQuart',\n\t\tonProgress: helpers.noop,\n\t\tonComplete: helpers.noop\n\t};\n\n\tChart.Animation = Chart.Element.extend({\n\t\tcurrentStep: null, // the current animation step\n\t\tnumSteps: 60, // default number of steps\n\t\teasing: '', // the easing to use for this animation\n\t\trender: null, // render function used by the animation service\n\n\t\tonAnimationProgress: null, // user specified callback to fire on each step of the animation\n\t\tonAnimationComplete: null // user specified callback to fire when the animation finishes\n\t});\n\n\tChart.animationService = {\n\t\tframeDuration: 17,\n\t\tanimations: [],\n\t\tdropFrames: 0,\n\t\trequest: null,\n\t\taddAnimation: function(chartInstance, animationObject, duration, lazy) {\n\t\t\tvar me = this;\n\n\t\t\tif (!lazy) {\n\t\t\t\tchartInstance.animating = true;\n\t\t\t}\n\n\t\t\tfor (var index = 0; index < me.animations.length; ++index) {\n\t\t\t\tif (me.animations[index].chartInstance === chartInstance) {\n\t\t\t\t\t// replacing an in progress animation\n\t\t\t\t\tme.animations[index].animationObject = animationObject;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tme.animations.push({\n\t\t\t\tchartInstance: chartInstance,\n\t\t\t\tanimationObject: animationObject\n\t\t\t});\n\n\t\t\t// If there are no animations queued, manually kickstart a digest, for lack of a better word\n\t\t\tif (me.animations.length === 1) {\n\t\t\t\tme.requestAnimationFrame();\n\t\t\t}\n\t\t},\n\t\t// Cancel the animation for a given chart instance\n\t\tcancelAnimation: function(chartInstance) {\n\t\t\tvar index = helpers.findIndex(this.animations, function(animationWrapper) {\n\t\t\t\treturn animationWrapper.chartInstance === chartInstance;\n\t\t\t});\n\n\t\t\tif (index !== -1) {\n\t\t\t\tthis.animations.splice(index, 1);\n\t\t\t\tchartInstance.animating = false;\n\t\t\t}\n\t\t},\n\t\trequestAnimationFrame: function() {\n\t\t\tvar me = this;\n\t\t\tif (me.request === null) {\n\t\t\t\t// Skip animation frame requests until the active one is executed.\n\t\t\t\t// This can happen when processing mouse events, e.g. 'mousemove'\n\t\t\t\t// and 'mouseout' events will trigger multiple renders.\n\t\t\t\tme.request = helpers.requestAnimFrame.call(window, function() {\n\t\t\t\t\tme.request = null;\n\t\t\t\t\tme.startDigest();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tstartDigest: function() {\n\t\t\tvar me = this;\n\n\t\t\tvar startTime = Date.now();\n\t\t\tvar framesToDrop = 0;\n\n\t\t\tif (me.dropFrames > 1) {\n\t\t\t\tframesToDrop = Math.floor(me.dropFrames);\n\t\t\t\tme.dropFrames = me.dropFrames % 1;\n\t\t\t}\n\n\t\t\tvar i = 0;\n\t\t\twhile (i < me.animations.length) {\n\t\t\t\tif (me.animations[i].animationObject.currentStep === null) {\n\t\t\t\t\tme.animations[i].animationObject.currentStep = 0;\n\t\t\t\t}\n\n\t\t\t\tme.animations[i].animationObject.currentStep += 1 + framesToDrop;\n\n\t\t\t\tif (me.animations[i].animationObject.currentStep > me.animations[i].animationObject.numSteps) {\n\t\t\t\t\tme.animations[i].animationObject.currentStep = me.animations[i].animationObject.numSteps;\n\t\t\t\t}\n\n\t\t\t\tme.animations[i].animationObject.render(me.animations[i].chartInstance, me.animations[i].animationObject);\n\t\t\t\tif (me.animations[i].animationObject.onAnimationProgress && me.animations[i].animationObject.onAnimationProgress.call) {\n\t\t\t\t\tme.animations[i].animationObject.onAnimationProgress.call(me.animations[i].chartInstance, me.animations[i]);\n\t\t\t\t}\n\n\t\t\t\tif (me.animations[i].animationObject.currentStep === me.animations[i].animationObject.numSteps) {\n\t\t\t\t\tif (me.animations[i].animationObject.onAnimationComplete && me.animations[i].animationObject.onAnimationComplete.call) {\n\t\t\t\t\t\tme.animations[i].animationObject.onAnimationComplete.call(me.animations[i].chartInstance, me.animations[i]);\n\t\t\t\t\t}\n\n\t\t\t\t\t// executed the last frame. Remove the animation.\n\t\t\t\t\tme.animations[i].chartInstance.animating = false;\n\n\t\t\t\t\tme.animations.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\t++i;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar endTime = Date.now();\n\t\t\tvar dropFrames = (endTime - startTime) / me.frameDuration;\n\n\t\t\tme.dropFrames += dropFrames;\n\n\t\t\t// Do we have more stuff to animate?\n\t\t\tif (me.animations.length > 0) {\n\t\t\t\tme.requestAnimationFrame();\n\t\t\t}\n\t\t}\n\t};\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\t// Create a dictionary of chart types, to allow for extension of existing types\n\tChart.types = {};\n\n\t// Store a reference to each instance - allowing us to globally resize chart instances on window resize.\n\t// Destroy method on the chart will remove the instance of the chart from this reference.\n\tChart.instances = {};\n\n\t// Controllers available for dataset visualization eg. bar, line, slice, etc.\n\tChart.controllers = {};\n\n\t/**\n\t * @class Chart.Controller\n\t * The main controller of a chart.\n\t */\n\tChart.Controller = function(instance) {\n\n\t\tthis.chart = instance;\n\t\tthis.config = instance.config;\n\t\tthis.options = this.config.options = helpers.configMerge(Chart.defaults.global, Chart.defaults[this.config.type], this.config.options || {});\n\t\tthis.id = helpers.uid();\n\n\t\tObject.defineProperty(this, 'data', {\n\t\t\tget: function() {\n\t\t\t\treturn this.config.data;\n\t\t\t}\n\t\t});\n\n\t\t// Add the chart instance to the global namespace\n\t\tChart.instances[this.id] = this;\n\n\t\tif (this.options.responsive) {\n\t\t\t// Silent resize before chart draws\n\t\t\tthis.resize(true);\n\t\t}\n\n\t\tthis.initialize();\n\n\t\treturn this;\n\t};\n\n\thelpers.extend(Chart.Controller.prototype, /** @lends Chart.Controller */ {\n\n\t\tinitialize: function() {\n\t\t\tvar me = this;\n\t\t\t// Before init plugin notification\n\t\t\tChart.plugins.notify('beforeInit', [me]);\n\n\t\t\tme.bindEvents();\n\n\t\t\t// Make sure controllers are built first so that each dataset is bound to an axis before the scales\n\t\t\t// are built\n\t\t\tme.ensureScalesHaveIDs();\n\t\t\tme.buildOrUpdateControllers();\n\t\t\tme.buildScales();\n\t\t\tme.updateLayout();\n\t\t\tme.resetElements();\n\t\t\tme.initToolTip();\n\t\t\tme.update();\n\n\t\t\t// After init plugin notification\n\t\t\tChart.plugins.notify('afterInit', [me]);\n\n\t\t\treturn me;\n\t\t},\n\n\t\tclear: function() {\n\t\t\thelpers.clear(this.chart);\n\t\t\treturn this;\n\t\t},\n\n\t\tstop: function() {\n\t\t\t// Stops any current animation loop occuring\n\t\t\tChart.animationService.cancelAnimation(this);\n\t\t\treturn this;\n\t\t},\n\n\t\tresize: function(silent) {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart;\n\t\t\tvar canvas = chart.canvas;\n\t\t\tvar newWidth = helpers.getMaximumWidth(canvas);\n\t\t\tvar aspectRatio = chart.aspectRatio;\n\t\t\tvar newHeight = (me.options.maintainAspectRatio && isNaN(aspectRatio) === false && isFinite(aspectRatio) && aspectRatio !== 0) ? newWidth / aspectRatio : helpers.getMaximumHeight(canvas);\n\n\t\t\tvar sizeChanged = chart.width !== newWidth || chart.height !== newHeight;\n\n\t\t\tif (!sizeChanged) {\n\t\t\t\treturn me;\n\t\t\t}\n\n\t\t\tcanvas.width = chart.width = newWidth;\n\t\t\tcanvas.height = chart.height = newHeight;\n\n\t\t\thelpers.retinaScale(chart);\n\n\t\t\t// Notify any plugins about the resize\n\t\t\tvar newSize = {width: newWidth, height: newHeight};\n\t\t\tChart.plugins.notify('resize', [me, newSize]);\n\n\t\t\t// Notify of resize\n\t\t\tif (me.options.onResize) {\n\t\t\t\tme.options.onResize(me, newSize);\n\t\t\t}\n\n\t\t\tif (!silent) {\n\t\t\t\tme.stop();\n\t\t\t\tme.update(me.options.responsiveAnimationDuration);\n\t\t\t}\n\n\t\t\treturn me;\n\t\t},\n\n\t\tensureScalesHaveIDs: function() {\n\t\t\tvar options = this.options;\n\t\t\tvar scalesOptions = options.scales || {};\n\t\t\tvar scaleOptions = options.scale;\n\n\t\t\thelpers.each(scalesOptions.xAxes, function(xAxisOptions, index) {\n\t\t\t\txAxisOptions.id = xAxisOptions.id || ('x-axis-' + index);\n\t\t\t});\n\n\t\t\thelpers.each(scalesOptions.yAxes, function(yAxisOptions, index) {\n\t\t\t\tyAxisOptions.id = yAxisOptions.id || ('y-axis-' + index);\n\t\t\t});\n\n\t\t\tif (scaleOptions) {\n\t\t\t\tscaleOptions.id = scaleOptions.id || 'scale';\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Builds a map of scale ID to scale object for future lookup.\n\t\t */\n\t\tbuildScales: function() {\n\t\t\tvar me = this;\n\t\t\tvar options = me.options;\n\t\t\tvar scales = me.scales = {};\n\t\t\tvar items = [];\n\n\t\t\tif (options.scales) {\n\t\t\t\titems = items.concat(\n\t\t\t\t\t(options.scales.xAxes || []).map(function(xAxisOptions) {\n\t\t\t\t\t\treturn {options: xAxisOptions, dtype: 'category'};\n\t\t\t\t\t}),\n\t\t\t\t\t(options.scales.yAxes || []).map(function(yAxisOptions) {\n\t\t\t\t\t\treturn {options: yAxisOptions, dtype: 'linear'};\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (options.scale) {\n\t\t\t\titems.push({options: options.scale, dtype: 'radialLinear', isDefault: true});\n\t\t\t}\n\n\t\t\thelpers.each(items, function(item) {\n\t\t\t\tvar scaleOptions = item.options;\n\t\t\t\tvar scaleType = helpers.getValueOrDefault(scaleOptions.type, item.dtype);\n\t\t\t\tvar scaleClass = Chart.scaleService.getScaleConstructor(scaleType);\n\t\t\t\tif (!scaleClass) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar scale = new scaleClass({\n\t\t\t\t\tid: scaleOptions.id,\n\t\t\t\t\toptions: scaleOptions,\n\t\t\t\t\tctx: me.chart.ctx,\n\t\t\t\t\tchart: me\n\t\t\t\t});\n\n\t\t\t\tscales[scale.id] = scale;\n\n\t\t\t\t// TODO(SB): I think we should be able to remove this custom case (options.scale)\n\t\t\t\t// and consider it as a regular scale part of the \"scales\"\" map only! This would\n\t\t\t\t// make the logic easier and remove some useless? custom code.\n\t\t\t\tif (item.isDefault) {\n\t\t\t\t\tme.scale = scale;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tChart.scaleService.addScalesToLayout(this);\n\t\t},\n\n\t\tupdateLayout: function() {\n\t\t\tChart.layoutService.update(this, this.chart.width, this.chart.height);\n\t\t},\n\n\t\tbuildOrUpdateControllers: function() {\n\t\t\tvar me = this;\n\t\t\tvar types = [];\n\t\t\tvar newControllers = [];\n\n\t\t\thelpers.each(me.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tvar meta = me.getDatasetMeta(datasetIndex);\n\t\t\t\tif (!meta.type) {\n\t\t\t\t\tmeta.type = dataset.type || me.config.type;\n\t\t\t\t}\n\n\t\t\t\ttypes.push(meta.type);\n\n\t\t\t\tif (meta.controller) {\n\t\t\t\t\tmeta.controller.updateIndex(datasetIndex);\n\t\t\t\t} else {\n\t\t\t\t\tmeta.controller = new Chart.controllers[meta.type](me, datasetIndex);\n\t\t\t\t\tnewControllers.push(meta.controller);\n\t\t\t\t}\n\t\t\t}, me);\n\n\t\t\tif (types.length > 1) {\n\t\t\t\tfor (var i = 1; i < types.length; i++) {\n\t\t\t\t\tif (types[i] !== types[i - 1]) {\n\t\t\t\t\t\tme.isCombo = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn newControllers;\n\t\t},\n\n\t\tresetElements: function() {\n\t\t\tvar me = this;\n\t\t\thelpers.each(me.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tme.getDatasetMeta(datasetIndex).controller.reset();\n\t\t\t}, me);\n\t\t},\n\n\t\tupdate: function(animationDuration, lazy) {\n\t\t\tvar me = this;\n\t\t\tChart.plugins.notify('beforeUpdate', [me]);\n\n\t\t\t// In case the entire data object changed\n\t\t\tme.tooltip._data = me.data;\n\n\t\t\t// Make sure dataset controllers are updated and new controllers are reset\n\t\t\tvar newControllers = me.buildOrUpdateControllers();\n\n\t\t\t// Make sure all dataset controllers have correct meta data counts\n\t\t\thelpers.each(me.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tme.getDatasetMeta(datasetIndex).controller.buildOrUpdateElements();\n\t\t\t}, me);\n\n\t\t\tChart.layoutService.update(me, me.chart.width, me.chart.height);\n\n\t\t\t// Apply changes to the dataets that require the scales to have been calculated i.e BorderColor chages\n\t\t\tChart.plugins.notify('afterScaleUpdate', [me]);\n\n\t\t\t// Can only reset the new controllers after the scales have been updated\n\t\t\thelpers.each(newControllers, function(controller) {\n\t\t\t\tcontroller.reset();\n\t\t\t});\n\n\t\t\tme.updateDatasets();\n\n\t\t\t// Do this before render so that any plugins that need final scale updates can use it\n\t\t\tChart.plugins.notify('afterUpdate', [me]);\n\n\t\t\tme.render(animationDuration, lazy);\n\t\t},\n\n\t\t/**\n\t\t * @method beforeDatasetsUpdate\n\t\t * @description Called before all datasets are updated. If a plugin returns false,\n\t\t * the datasets update will be cancelled until another chart update is triggered.\n\t\t * @param {Object} instance the chart instance being updated.\n\t\t * @returns {Boolean} false to cancel the datasets update.\n\t\t * @memberof Chart.PluginBase\n\t\t * @since version 2.1.5\n\t\t * @instance\n\t\t */\n\n\t\t/**\n\t\t * @method afterDatasetsUpdate\n\t\t * @description Called after all datasets have been updated. Note that this\n\t\t * extension will not be called if the datasets update has been cancelled.\n\t\t * @param {Object} instance the chart instance being updated.\n\t\t * @memberof Chart.PluginBase\n\t\t * @since version 2.1.5\n\t\t * @instance\n\t\t */\n\n\t\t/**\n\t\t * Updates all datasets unless a plugin returns false to the beforeDatasetsUpdate\n\t\t * extension, in which case no datasets will be updated and the afterDatasetsUpdate\n\t\t * notification will be skipped.\n\t\t * @protected\n\t\t * @instance\n\t\t */\n\t\tupdateDatasets: function() {\n\t\t\tvar me = this;\n\t\t\tvar i, ilen;\n\n\t\t\tif (Chart.plugins.notify('beforeDatasetsUpdate', [me])) {\n\t\t\t\tfor (i = 0, ilen = me.data.datasets.length; i < ilen; ++i) {\n\t\t\t\t\tme.getDatasetMeta(i).controller.update();\n\t\t\t\t}\n\n\t\t\t\tChart.plugins.notify('afterDatasetsUpdate', [me]);\n\t\t\t}\n\t\t},\n\n\t\trender: function(duration, lazy) {\n\t\t\tvar me = this;\n\t\t\tChart.plugins.notify('beforeRender', [me]);\n\n\t\t\tvar animationOptions = me.options.animation;\n\t\t\tif (animationOptions && ((typeof duration !== 'undefined' && duration !== 0) || (typeof duration === 'undefined' && animationOptions.duration !== 0))) {\n\t\t\t\tvar animation = new Chart.Animation();\n\t\t\t\tanimation.numSteps = (duration || animationOptions.duration) / 16.66; // 60 fps\n\t\t\t\tanimation.easing = animationOptions.easing;\n\n\t\t\t\t// render function\n\t\t\t\tanimation.render = function(chartInstance, animationObject) {\n\t\t\t\t\tvar easingFunction = helpers.easingEffects[animationObject.easing];\n\t\t\t\t\tvar stepDecimal = animationObject.currentStep / animationObject.numSteps;\n\t\t\t\t\tvar easeDecimal = easingFunction(stepDecimal);\n\n\t\t\t\t\tchartInstance.draw(easeDecimal, stepDecimal, animationObject.currentStep);\n\t\t\t\t};\n\n\t\t\t\t// user events\n\t\t\t\tanimation.onAnimationProgress = animationOptions.onProgress;\n\t\t\t\tanimation.onAnimationComplete = animationOptions.onComplete;\n\n\t\t\t\tChart.animationService.addAnimation(me, animation, duration, lazy);\n\t\t\t} else {\n\t\t\t\tme.draw();\n\t\t\t\tif (animationOptions && animationOptions.onComplete && animationOptions.onComplete.call) {\n\t\t\t\t\tanimationOptions.onComplete.call(me);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn me;\n\t\t},\n\n\t\tdraw: function(ease) {\n\t\t\tvar me = this;\n\t\t\tvar easingDecimal = ease || 1;\n\t\t\tme.clear();\n\n\t\t\tChart.plugins.notify('beforeDraw', [me, easingDecimal]);\n\n\t\t\t// Draw all the scales\n\t\t\thelpers.each(me.boxes, function(box) {\n\t\t\t\tbox.draw(me.chartArea);\n\t\t\t}, me);\n\t\t\tif (me.scale) {\n\t\t\t\tme.scale.draw();\n\t\t\t}\n\n\t\t\tChart.plugins.notify('beforeDatasetsDraw', [me, easingDecimal]);\n\n\t\t\t// Draw each dataset via its respective controller (reversed to support proper line stacking)\n\t\t\thelpers.each(me.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tif (me.isDatasetVisible(datasetIndex)) {\n\t\t\t\t\tme.getDatasetMeta(datasetIndex).controller.draw(ease);\n\t\t\t\t}\n\t\t\t}, me, true);\n\n\t\t\tChart.plugins.notify('afterDatasetsDraw', [me, easingDecimal]);\n\n\t\t\t// Finally draw the tooltip\n\t\t\tme.tooltip.transition(easingDecimal).draw();\n\n\t\t\tChart.plugins.notify('afterDraw', [me, easingDecimal]);\n\t\t},\n\n\t\t// Get the single element that was clicked on\n\t\t// @return : An object containing the dataset index and element index of the matching element. Also contains the rectangle that was draw\n\t\tgetElementAtEvent: function(e) {\n\t\t\tvar me = this;\n\t\t\tvar eventPosition = helpers.getRelativePosition(e, me.chart);\n\t\t\tvar elementsArray = [];\n\n\t\t\thelpers.each(me.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tif (me.isDatasetVisible(datasetIndex)) {\n\t\t\t\t\tvar meta = me.getDatasetMeta(datasetIndex);\n\t\t\t\t\thelpers.each(meta.data, function(element) {\n\t\t\t\t\t\tif (element.inRange(eventPosition.x, eventPosition.y)) {\n\t\t\t\t\t\t\telementsArray.push(element);\n\t\t\t\t\t\t\treturn elementsArray;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn elementsArray.slice(0, 1);\n\t\t},\n\n\t\tgetElementsAtEvent: function(e) {\n\t\t\tvar me = this;\n\t\t\tvar eventPosition = helpers.getRelativePosition(e, me.chart);\n\t\t\tvar elementsArray = [];\n\n\t\t\tvar found = function() {\n\t\t\t\tif (me.data.datasets) {\n\t\t\t\t\tfor (var i = 0; i < me.data.datasets.length; i++) {\n\t\t\t\t\t\tvar meta = me.getDatasetMeta(i);\n\t\t\t\t\t\tif (me.isDatasetVisible(i)) {\n\t\t\t\t\t\t\tfor (var j = 0; j < meta.data.length; j++) {\n\t\t\t\t\t\t\t\tif (meta.data[j].inRange(eventPosition.x, eventPosition.y)) {\n\t\t\t\t\t\t\t\t\treturn meta.data[j];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}.call(me);\n\n\t\t\tif (!found) {\n\t\t\t\treturn elementsArray;\n\t\t\t}\n\n\t\t\thelpers.each(me.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tif (me.isDatasetVisible(datasetIndex)) {\n\t\t\t\t\tvar meta = me.getDatasetMeta(datasetIndex),\n\t\t\t\t\t\telement = meta.data[found._index];\n\t\t\t\t\tif (element && !element._view.skip) {\n\t\t\t\t\t\telementsArray.push(element);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, me);\n\n\t\t\treturn elementsArray;\n\t\t},\n\n\t\tgetElementsAtXAxis: function(e) {\n\t\t\tvar me = this;\n\t\t\tvar eventPosition = helpers.getRelativePosition(e, me.chart);\n\t\t\tvar elementsArray = [];\n\n\t\t\tvar found = function() {\n\t\t\t\tif (me.data.datasets) {\n\t\t\t\t\tfor (var i = 0; i < me.data.datasets.length; i++) {\n\t\t\t\t\t\tvar meta = me.getDatasetMeta(i);\n\t\t\t\t\t\tif (me.isDatasetVisible(i)) {\n\t\t\t\t\t\t\tfor (var j = 0; j < meta.data.length; j++) {\n\t\t\t\t\t\t\t\tif (meta.data[j].inLabelRange(eventPosition.x, eventPosition.y)) {\n\t\t\t\t\t\t\t\t\treturn meta.data[j];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}.call(me);\n\n\t\t\tif (!found) {\n\t\t\t\treturn elementsArray;\n\t\t\t}\n\n\t\t\thelpers.each(me.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tif (me.isDatasetVisible(datasetIndex)) {\n\t\t\t\t\tvar meta = me.getDatasetMeta(datasetIndex);\n\t\t\t\t\tvar index = helpers.findIndex(meta.data, function(it) {\n\t\t\t\t\t\treturn found._model.x === it._model.x;\n\t\t\t\t\t});\n\t\t\t\t\tif (index !== -1 && !meta.data[index]._view.skip) {\n\t\t\t\t\t\telementsArray.push(meta.data[index]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, me);\n\n\t\t\treturn elementsArray;\n\t\t},\n\n\t\tgetElementsAtEventForMode: function(e, mode) {\n\t\t\tvar me = this;\n\t\t\tswitch (mode) {\n\t\t\tcase 'single':\n\t\t\t\treturn me.getElementAtEvent(e);\n\t\t\tcase 'label':\n\t\t\t\treturn me.getElementsAtEvent(e);\n\t\t\tcase 'dataset':\n\t\t\t\treturn me.getDatasetAtEvent(e);\n\t\t\tcase 'x-axis':\n\t\t\t\treturn me.getElementsAtXAxis(e);\n\t\t\tdefault:\n\t\t\t\treturn e;\n\t\t\t}\n\t\t},\n\n\t\tgetDatasetAtEvent: function(e) {\n\t\t\tvar elementsArray = this.getElementAtEvent(e);\n\n\t\t\tif (elementsArray.length > 0) {\n\t\t\t\telementsArray = this.getDatasetMeta(elementsArray[0]._datasetIndex).data;\n\t\t\t}\n\n\t\t\treturn elementsArray;\n\t\t},\n\n\t\tgetDatasetMeta: function(datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar dataset = me.data.datasets[datasetIndex];\n\t\t\tif (!dataset._meta) {\n\t\t\t\tdataset._meta = {};\n\t\t\t}\n\n\t\t\tvar meta = dataset._meta[me.id];\n\t\t\tif (!meta) {\n\t\t\t\tmeta = dataset._meta[me.id] = {\n\t\t\t\t\ttype: null,\n\t\t\t\t\tdata: [],\n\t\t\t\t\tdataset: null,\n\t\t\t\t\tcontroller: null,\n\t\t\t\t\thidden: null,\t\t\t// See isDatasetVisible() comment\n\t\t\t\t\txAxisID: null,\n\t\t\t\t\tyAxisID: null\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn meta;\n\t\t},\n\n\t\tgetVisibleDatasetCount: function() {\n\t\t\tvar count = 0;\n\t\t\tfor (var i = 0, ilen = this.data.datasets.length; i<ilen; ++i) {\n\t\t\t\tif (this.isDatasetVisible(i)) {\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn count;\n\t\t},\n\n\t\tisDatasetVisible: function(datasetIndex) {\n\t\t\tvar meta = this.getDatasetMeta(datasetIndex);\n\n\t\t\t// meta.hidden is a per chart dataset hidden flag override with 3 states: if true or false,\n\t\t\t// the dataset.hidden value is ignored, else if null, the dataset hidden state is returned.\n\t\t\treturn typeof meta.hidden === 'boolean'? !meta.hidden : !this.data.datasets[datasetIndex].hidden;\n\t\t},\n\n\t\tgenerateLegend: function() {\n\t\t\treturn this.options.legendCallback(this);\n\t\t},\n\n\t\tdestroy: function() {\n\t\t\tvar me = this;\n\t\t\tme.stop();\n\t\t\tme.clear();\n\t\t\thelpers.unbindEvents(me, me.events);\n\t\t\thelpers.removeResizeListener(me.chart.canvas.parentNode);\n\n\t\t\t// Reset canvas height/width attributes\n\t\t\tvar canvas = me.chart.canvas;\n\t\t\tcanvas.width = me.chart.width;\n\t\t\tcanvas.height = me.chart.height;\n\n\t\t\t// if we scaled the canvas in response to a devicePixelRatio !== 1, we need to undo that transform here\n\t\t\tif (me.chart.originalDevicePixelRatio !== undefined) {\n\t\t\t\tme.chart.ctx.scale(1 / me.chart.originalDevicePixelRatio, 1 / me.chart.originalDevicePixelRatio);\n\t\t\t}\n\n\t\t\t// Reset to the old style since it may have been changed by the device pixel ratio changes\n\t\t\tcanvas.style.width = me.chart.originalCanvasStyleWidth;\n\t\t\tcanvas.style.height = me.chart.originalCanvasStyleHeight;\n\n\t\t\tChart.plugins.notify('destroy', [me]);\n\n\t\t\tdelete Chart.instances[me.id];\n\t\t},\n\n\t\ttoBase64Image: function() {\n\t\t\treturn this.chart.canvas.toDataURL.apply(this.chart.canvas, arguments);\n\t\t},\n\n\t\tinitToolTip: function() {\n\t\t\tvar me = this;\n\t\t\tme.tooltip = new Chart.Tooltip({\n\t\t\t\t_chart: me.chart,\n\t\t\t\t_chartInstance: me,\n\t\t\t\t_data: me.data,\n\t\t\t\t_options: me.options.tooltips\n\t\t\t}, me);\n\t\t},\n\n\t\tbindEvents: function() {\n\t\t\tvar me = this;\n\t\t\thelpers.bindEvents(me, me.options.events, function(evt) {\n\t\t\t\tme.eventHandler(evt);\n\t\t\t});\n\t\t},\n\n\t\tupdateHoverStyle: function(elements, mode, enabled) {\n\t\t\tvar method = enabled? 'setHoverStyle' : 'removeHoverStyle';\n\t\t\tvar element, i, ilen;\n\n\t\t\tswitch (mode) {\n\t\t\tcase 'single':\n\t\t\t\telements = [elements[0]];\n\t\t\t\tbreak;\n\t\t\tcase 'label':\n\t\t\tcase 'dataset':\n\t\t\tcase 'x-axis':\n\t\t\t\t// elements = elements;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\t// unsupported mode\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (i=0, ilen=elements.length; i<ilen; ++i) {\n\t\t\t\telement = elements[i];\n\t\t\t\tif (element) {\n\t\t\t\t\tthis.getDatasetMeta(element._datasetIndex).controller[method](element);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\teventHandler: function(e) {\n\t\t\tvar me = this;\n\t\t\tvar tooltip = me.tooltip;\n\t\t\tvar options = me.options || {};\n\t\t\tvar hoverOptions = options.hover;\n\t\t\tvar tooltipsOptions = options.tooltips;\n\n\t\t\tme.lastActive = me.lastActive || [];\n\t\t\tme.lastTooltipActive = me.lastTooltipActive || [];\n\n\t\t\t// Find Active Elements for hover and tooltips\n\t\t\tif (e.type === 'mouseout') {\n\t\t\t\tme.active = [];\n\t\t\t\tme.tooltipActive = [];\n\t\t\t} else {\n\t\t\t\tme.active = me.getElementsAtEventForMode(e, hoverOptions.mode);\n\t\t\t\tme.tooltipActive = me.getElementsAtEventForMode(e, tooltipsOptions.mode);\n\t\t\t}\n\n\t\t\t// On Hover hook\n\t\t\tif (hoverOptions.onHover) {\n\t\t\t\thoverOptions.onHover.call(me, me.active);\n\t\t\t}\n\n\t\t\tif (me.legend && me.legend.handleEvent) {\n\t\t\t\tme.legend.handleEvent(e);\n\t\t\t}\n\n\t\t\tif (e.type === 'mouseup' || e.type === 'click') {\n\t\t\t\tif (options.onClick) {\n\t\t\t\t\toptions.onClick.call(me, e, me.active);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove styling for last active (even if it may still be active)\n\t\t\tif (me.lastActive.length) {\n\t\t\t\tme.updateHoverStyle(me.lastActive, hoverOptions.mode, false);\n\t\t\t}\n\n\t\t\t// Built in hover styling\n\t\t\tif (me.active.length && hoverOptions.mode) {\n\t\t\t\tme.updateHoverStyle(me.active, hoverOptions.mode, true);\n\t\t\t}\n\n\t\t\t// Built in Tooltips\n\t\t\tif (tooltipsOptions.enabled || tooltipsOptions.custom) {\n\t\t\t\ttooltip.initialize();\n\t\t\t\ttooltip._active = me.tooltipActive;\n\t\t\t\ttooltip.update(true);\n\t\t\t}\n\n\t\t\t// Hover animations\n\t\t\ttooltip.pivot();\n\n\t\t\tif (!me.animating) {\n\t\t\t\t// If entering, leaving, or changing elements, animate the change via pivot\n\t\t\t\tif (!helpers.arrayEquals(me.active, me.lastActive) ||\n\t\t\t\t\t!helpers.arrayEquals(me.tooltipActive, me.lastTooltipActive)) {\n\n\t\t\t\t\tme.stop();\n\n\t\t\t\t\tif (tooltipsOptions.enabled || tooltipsOptions.custom) {\n\t\t\t\t\t\ttooltip.update(true);\n\t\t\t\t\t}\n\n\t\t\t\t\t// We only need to render at this point. Updating will cause scales to be\n\t\t\t\t\t// recomputed generating flicker & using more memory than necessary.\n\t\t\t\t\tme.render(hoverOptions.animationDuration, true);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remember Last Actives\n\t\t\tme.lastActive = me.active;\n\t\t\tme.lastTooltipActive = me.tooltipActive;\n\t\t\treturn me;\n\t\t}\n\t});\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\tvar noop = helpers.noop;\n\n\t// Base class for all dataset controllers (line, bar, etc)\n\tChart.DatasetController = function(chart, datasetIndex) {\n\t\tthis.initialize(chart, datasetIndex);\n\t};\n\n\thelpers.extend(Chart.DatasetController.prototype, {\n\n\t\t/**\n\t\t * Element type used to generate a meta dataset (e.g. Chart.element.Line).\n\t\t * @type {Chart.core.element}\n\t\t */\n\t\tdatasetElementType: null,\n\n\t\t/**\n\t\t * Element type used to generate a meta data (e.g. Chart.element.Point).\n\t\t * @type {Chart.core.element}\n\t\t */\n\t\tdataElementType: null,\n\n\t\tinitialize: function(chart, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tme.chart = chart;\n\t\t\tme.index = datasetIndex;\n\t\t\tme.linkScales();\n\t\t\tme.addElements();\n\t\t},\n\n\t\tupdateIndex: function(datasetIndex) {\n\t\t\tthis.index = datasetIndex;\n\t\t},\n\n\t\tlinkScales: function() {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar dataset = me.getDataset();\n\n\t\t\tif (meta.xAxisID === null) {\n\t\t\t\tmeta.xAxisID = dataset.xAxisID || me.chart.options.scales.xAxes[0].id;\n\t\t\t}\n\t\t\tif (meta.yAxisID === null) {\n\t\t\t\tmeta.yAxisID = dataset.yAxisID || me.chart.options.scales.yAxes[0].id;\n\t\t\t}\n\t\t},\n\n\t\tgetDataset: function() {\n\t\t\treturn this.chart.data.datasets[this.index];\n\t\t},\n\n\t\tgetMeta: function() {\n\t\t\treturn this.chart.getDatasetMeta(this.index);\n\t\t},\n\n\t\tgetScaleForId: function(scaleID) {\n\t\t\treturn this.chart.scales[scaleID];\n\t\t},\n\n\t\treset: function() {\n\t\t\tthis.update(true);\n\t\t},\n\n\t\tcreateMetaDataset: function() {\n\t\t\tvar me = this;\n\t\t\tvar type = me.datasetElementType;\n\t\t\treturn type && new type({\n\t\t\t\t_chart: me.chart.chart,\n\t\t\t\t_datasetIndex: me.index\n\t\t\t});\n\t\t},\n\n\t\tcreateMetaData: function(index) {\n\t\t\tvar me = this;\n\t\t\tvar type = me.dataElementType;\n\t\t\treturn type && new type({\n\t\t\t\t_chart: me.chart.chart,\n\t\t\t\t_datasetIndex: me.index,\n\t\t\t\t_index: index\n\t\t\t});\n\t\t},\n\n\t\taddElements: function() {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar data = me.getDataset().data || [];\n\t\t\tvar metaData = meta.data;\n\t\t\tvar i, ilen;\n\n\t\t\tfor (i=0, ilen=data.length; i<ilen; ++i) {\n\t\t\t\tmetaData[i] = metaData[i] || me.createMetaData(meta, i);\n\t\t\t}\n\n\t\t\tmeta.dataset = meta.dataset || me.createMetaDataset();\n\t\t},\n\n\t\taddElementAndReset: function(index) {\n\t\t\tvar me = this;\n\t\t\tvar element = me.createMetaData(index);\n\t\t\tme.getMeta().data.splice(index, 0, element);\n\t\t\tme.updateElement(element, index, true);\n\t\t},\n\n\t\tbuildOrUpdateElements: function() {\n\t\t\t// Handle the number of data points changing\n\t\t\tvar meta = this.getMeta(),\n\t\t\t\tmd = meta.data,\n\t\t\t\tnumData = this.getDataset().data.length,\n\t\t\t\tnumMetaData = md.length;\n\n\t\t\t// Make sure that we handle number of datapoints changing\n\t\t\tif (numData < numMetaData) {\n\t\t\t\t// Remove excess bars for data points that have been removed\n\t\t\t\tmd.splice(numData, numMetaData - numData);\n\t\t\t} else if (numData > numMetaData) {\n\t\t\t\t// Add new elements\n\t\t\t\tfor (var index = numMetaData; index < numData; ++index) {\n\t\t\t\t\tthis.addElementAndReset(index);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tupdate: noop,\n\n\t\tdraw: function(ease) {\n\t\t\tvar easingDecimal = ease || 1;\n\t\t\thelpers.each(this.getMeta().data, function(element) {\n\t\t\t\telement.transition(easingDecimal).draw();\n\t\t\t});\n\t\t},\n\n\t\tremoveHoverStyle: function(element, elementOpts) {\n\t\t\tvar dataset = this.chart.data.datasets[element._datasetIndex],\n\t\t\t\tindex = element._index,\n\t\t\t\tcustom = element.custom || {},\n\t\t\t\tvalueOrDefault = helpers.getValueAtIndexOrDefault,\n\t\t\t\tmodel = element._model;\n\n\t\t\tmodel.backgroundColor = custom.backgroundColor ? custom.backgroundColor : valueOrDefault(dataset.backgroundColor, index, elementOpts.backgroundColor);\n\t\t\tmodel.borderColor = custom.borderColor ? custom.borderColor : valueOrDefault(dataset.borderColor, index, elementOpts.borderColor);\n\t\t\tmodel.borderWidth = custom.borderWidth ? custom.borderWidth : valueOrDefault(dataset.borderWidth, index, elementOpts.borderWidth);\n\t\t},\n\n\t\tsetHoverStyle: function(element) {\n\t\t\tvar dataset = this.chart.data.datasets[element._datasetIndex],\n\t\t\t\tindex = element._index,\n\t\t\t\tcustom = element.custom || {},\n\t\t\t\tvalueOrDefault = helpers.getValueAtIndexOrDefault,\n\t\t\t\tgetHoverColor = helpers.getHoverColor,\n\t\t\t\tmodel = element._model;\n\n\t\t\tmodel.backgroundColor = custom.hoverBackgroundColor ? custom.hoverBackgroundColor : valueOrDefault(dataset.hoverBackgroundColor, index, getHoverColor(model.backgroundColor));\n\t\t\tmodel.borderColor = custom.hoverBorderColor ? custom.hoverBorderColor : valueOrDefault(dataset.hoverBorderColor, index, getHoverColor(model.borderColor));\n\t\t\tmodel.borderWidth = custom.hoverBorderWidth ? custom.hoverBorderWidth : valueOrDefault(dataset.hoverBorderWidth, index, model.borderWidth);\n\t\t}\n\n\t});\n\n\tChart.DatasetController.extend = helpers.inherits;\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\t// The layout service is very self explanatory.  It's responsible for the layout within a chart.\n\t// Scales, Legends and Plugins all rely on the layout service and can easily register to be placed anywhere they need\n\t// It is this service's responsibility of carrying out that layout.\n\tChart.layoutService = {\n\t\tdefaults: {},\n\n\t\t// Register a box to a chartInstance. A box is simply a reference to an object that requires layout. eg. Scales, Legend, Plugins.\n\t\taddBox: function(chartInstance, box) {\n\t\t\tif (!chartInstance.boxes) {\n\t\t\t\tchartInstance.boxes = [];\n\t\t\t}\n\t\t\tchartInstance.boxes.push(box);\n\t\t},\n\n\t\tremoveBox: function(chartInstance, box) {\n\t\t\tif (!chartInstance.boxes) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tchartInstance.boxes.splice(chartInstance.boxes.indexOf(box), 1);\n\t\t},\n\n\t\t// The most important function\n\t\tupdate: function(chartInstance, width, height) {\n\n\t\t\tif (!chartInstance) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar xPadding = 0;\n\t\t\tvar yPadding = 0;\n\n\t\t\tvar leftBoxes = helpers.where(chartInstance.boxes, function(box) {\n\t\t\t\treturn box.options.position === 'left';\n\t\t\t});\n\t\t\tvar rightBoxes = helpers.where(chartInstance.boxes, function(box) {\n\t\t\t\treturn box.options.position === 'right';\n\t\t\t});\n\t\t\tvar topBoxes = helpers.where(chartInstance.boxes, function(box) {\n\t\t\t\treturn box.options.position === 'top';\n\t\t\t});\n\t\t\tvar bottomBoxes = helpers.where(chartInstance.boxes, function(box) {\n\t\t\t\treturn box.options.position === 'bottom';\n\t\t\t});\n\n\t\t\t// Boxes that overlay the chartarea such as the radialLinear scale\n\t\t\tvar chartAreaBoxes = helpers.where(chartInstance.boxes, function(box) {\n\t\t\t\treturn box.options.position === 'chartArea';\n\t\t\t});\n\n\t\t\t// Ensure that full width boxes are at the very top / bottom\n\t\t\ttopBoxes.sort(function(a, b) {\n\t\t\t\treturn (b.options.fullWidth ? 1 : 0) - (a.options.fullWidth ? 1 : 0);\n\t\t\t});\n\t\t\tbottomBoxes.sort(function(a, b) {\n\t\t\t\treturn (a.options.fullWidth ? 1 : 0) - (b.options.fullWidth ? 1 : 0);\n\t\t\t});\n\n\t\t\t// Essentially we now have any number of boxes on each of the 4 sides.\n\t\t\t// Our canvas looks like the following.\n\t\t\t// The areas L1 and L2 are the left axes. R1 is the right axis, T1 is the top axis and\n\t\t\t// B1 is the bottom axis\n\t\t\t// There are also 4 quadrant-like locations (left to right instead of clockwise) reserved for chart overlays\n\t\t\t// These locations are single-box locations only, when trying to register a chartArea location that is already taken,\n\t\t\t// an error will be thrown.\n\t\t\t//\n\t\t\t// |----------------------------------------------------|\n\t\t\t// |                  T1 (Full Width)                   |\n\t\t\t// |----------------------------------------------------|\n\t\t\t// |    |    |                 T2                  |    |\n\t\t\t// |    |----|-------------------------------------|----|\n\t\t\t// |    |    | C1 |                           | C2 |    |\n\t\t\t// |    |    |----|                           |----|    |\n\t\t\t// |    |    |                                     |    |\n\t\t\t// | L1 | L2 |           ChartArea (C0)            | R1 |\n\t\t\t// |    |    |                                     |    |\n\t\t\t// |    |    |----|                           |----|    |\n\t\t\t// |    |    | C3 |                           | C4 |    |\n\t\t\t// |    |----|-------------------------------------|----|\n\t\t\t// |    |    |                 B1                  |    |\n\t\t\t// |----------------------------------------------------|\n\t\t\t// |                  B2 (Full Width)                   |\n\t\t\t// |----------------------------------------------------|\n\t\t\t//\n\t\t\t// What we do to find the best sizing, we do the following\n\t\t\t// 1. Determine the minimum size of the chart area.\n\t\t\t// 2. Split the remaining width equally between each vertical axis\n\t\t\t// 3. Split the remaining height equally between each horizontal axis\n\t\t\t// 4. Give each layout the maximum size it can be. The layout will return it's minimum size\n\t\t\t// 5. Adjust the sizes of each axis based on it's minimum reported size.\n\t\t\t// 6. Refit each axis\n\t\t\t// 7. Position each axis in the final location\n\t\t\t// 8. Tell the chart the final location of the chart area\n\t\t\t// 9. Tell any axes that overlay the chart area the positions of the chart area\n\n\t\t\t// Step 1\n\t\t\tvar chartWidth = width - (2 * xPadding);\n\t\t\tvar chartHeight = height - (2 * yPadding);\n\t\t\tvar chartAreaWidth = chartWidth / 2; // min 50%\n\t\t\tvar chartAreaHeight = chartHeight / 2; // min 50%\n\n\t\t\t// Step 2\n\t\t\tvar verticalBoxWidth = (width - chartAreaWidth) / (leftBoxes.length + rightBoxes.length);\n\n\t\t\t// Step 3\n\t\t\tvar horizontalBoxHeight = (height - chartAreaHeight) / (topBoxes.length + bottomBoxes.length);\n\n\t\t\t// Step 4\n\t\t\tvar maxChartAreaWidth = chartWidth;\n\t\t\tvar maxChartAreaHeight = chartHeight;\n\t\t\tvar minBoxSizes = [];\n\n\t\t\tfunction getMinimumBoxSize(box) {\n\t\t\t\tvar minSize;\n\t\t\t\tvar isHorizontal = box.isHorizontal();\n\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\tminSize = box.update(box.options.fullWidth ? chartWidth : maxChartAreaWidth, horizontalBoxHeight);\n\t\t\t\t\tmaxChartAreaHeight -= minSize.height;\n\t\t\t\t} else {\n\t\t\t\t\tminSize = box.update(verticalBoxWidth, chartAreaHeight);\n\t\t\t\t\tmaxChartAreaWidth -= minSize.width;\n\t\t\t\t}\n\n\t\t\t\tminBoxSizes.push({\n\t\t\t\t\thorizontal: isHorizontal,\n\t\t\t\t\tminSize: minSize,\n\t\t\t\t\tbox: box\n\t\t\t\t});\n\t\t\t}\n\n\t\t\thelpers.each(leftBoxes.concat(rightBoxes, topBoxes, bottomBoxes), getMinimumBoxSize);\n\n\t\t\t// At this point, maxChartAreaHeight and maxChartAreaWidth are the size the chart area could\n\t\t\t// be if the axes are drawn at their minimum sizes.\n\n\t\t\t// Steps 5 & 6\n\t\t\tvar totalLeftBoxesWidth = xPadding;\n\t\t\tvar totalRightBoxesWidth = xPadding;\n\t\t\tvar totalTopBoxesHeight = yPadding;\n\t\t\tvar totalBottomBoxesHeight = yPadding;\n\n\t\t\t// Function to fit a box\n\t\t\tfunction fitBox(box) {\n\t\t\t\tvar minBoxSize = helpers.findNextWhere(minBoxSizes, function(minBox) {\n\t\t\t\t\treturn minBox.box === box;\n\t\t\t\t});\n\n\t\t\t\tif (minBoxSize) {\n\t\t\t\t\tif (box.isHorizontal()) {\n\t\t\t\t\t\tvar scaleMargin = {\n\t\t\t\t\t\t\tleft: totalLeftBoxesWidth,\n\t\t\t\t\t\t\tright: totalRightBoxesWidth,\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\tbottom: 0\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// Don't use min size here because of label rotation. When the labels are rotated, their rotation highly depends\n\t\t\t\t\t\t// on the margin. Sometimes they need to increase in size slightly\n\t\t\t\t\t\tbox.update(box.options.fullWidth ? chartWidth : maxChartAreaWidth, chartHeight / 2, scaleMargin);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbox.update(minBoxSize.minSize.width, maxChartAreaHeight);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Update, and calculate the left and right margins for the horizontal boxes\n\t\t\thelpers.each(leftBoxes.concat(rightBoxes), fitBox);\n\n\t\t\thelpers.each(leftBoxes, function(box) {\n\t\t\t\ttotalLeftBoxesWidth += box.width;\n\t\t\t});\n\n\t\t\thelpers.each(rightBoxes, function(box) {\n\t\t\t\ttotalRightBoxesWidth += box.width;\n\t\t\t});\n\n\t\t\t// Set the Left and Right margins for the horizontal boxes\n\t\t\thelpers.each(topBoxes.concat(bottomBoxes), fitBox);\n\n\t\t\t// Figure out how much margin is on the top and bottom of the vertical boxes\n\t\t\thelpers.each(topBoxes, function(box) {\n\t\t\t\ttotalTopBoxesHeight += box.height;\n\t\t\t});\n\n\t\t\thelpers.each(bottomBoxes, function(box) {\n\t\t\t\ttotalBottomBoxesHeight += box.height;\n\t\t\t});\n\n\t\t\tfunction finalFitVerticalBox(box) {\n\t\t\t\tvar minBoxSize = helpers.findNextWhere(minBoxSizes, function(minSize) {\n\t\t\t\t\treturn minSize.box === box;\n\t\t\t\t});\n\n\t\t\t\tvar scaleMargin = {\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\ttop: totalTopBoxesHeight,\n\t\t\t\t\tbottom: totalBottomBoxesHeight\n\t\t\t\t};\n\n\t\t\t\tif (minBoxSize) {\n\t\t\t\t\tbox.update(minBoxSize.minSize.width, maxChartAreaHeight, scaleMargin);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Let the left layout know the final margin\n\t\t\thelpers.each(leftBoxes.concat(rightBoxes), finalFitVerticalBox);\n\n\t\t\t// Recalculate because the size of each layout might have changed slightly due to the margins (label rotation for instance)\n\t\t\ttotalLeftBoxesWidth = xPadding;\n\t\t\ttotalRightBoxesWidth = xPadding;\n\t\t\ttotalTopBoxesHeight = yPadding;\n\t\t\ttotalBottomBoxesHeight = yPadding;\n\n\t\t\thelpers.each(leftBoxes, function(box) {\n\t\t\t\ttotalLeftBoxesWidth += box.width;\n\t\t\t});\n\n\t\t\thelpers.each(rightBoxes, function(box) {\n\t\t\t\ttotalRightBoxesWidth += box.width;\n\t\t\t});\n\n\t\t\thelpers.each(topBoxes, function(box) {\n\t\t\t\ttotalTopBoxesHeight += box.height;\n\t\t\t});\n\t\t\thelpers.each(bottomBoxes, function(box) {\n\t\t\t\ttotalBottomBoxesHeight += box.height;\n\t\t\t});\n\n\t\t\t// Figure out if our chart area changed. This would occur if the dataset layout label rotation\n\t\t\t// changed due to the application of the margins in step 6. Since we can only get bigger, this is safe to do\n\t\t\t// without calling `fit` again\n\t\t\tvar newMaxChartAreaHeight = height - totalTopBoxesHeight - totalBottomBoxesHeight;\n\t\t\tvar newMaxChartAreaWidth = width - totalLeftBoxesWidth - totalRightBoxesWidth;\n\n\t\t\tif (newMaxChartAreaWidth !== maxChartAreaWidth || newMaxChartAreaHeight !== maxChartAreaHeight) {\n\t\t\t\thelpers.each(leftBoxes, function(box) {\n\t\t\t\t\tbox.height = newMaxChartAreaHeight;\n\t\t\t\t});\n\n\t\t\t\thelpers.each(rightBoxes, function(box) {\n\t\t\t\t\tbox.height = newMaxChartAreaHeight;\n\t\t\t\t});\n\n\t\t\t\thelpers.each(topBoxes, function(box) {\n\t\t\t\t\tif (!box.options.fullWidth) {\n\t\t\t\t\t\tbox.width = newMaxChartAreaWidth;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\thelpers.each(bottomBoxes, function(box) {\n\t\t\t\t\tif (!box.options.fullWidth) {\n\t\t\t\t\t\tbox.width = newMaxChartAreaWidth;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tmaxChartAreaHeight = newMaxChartAreaHeight;\n\t\t\t\tmaxChartAreaWidth = newMaxChartAreaWidth;\n\t\t\t}\n\n\t\t\t// Step 7 - Position the boxes\n\t\t\tvar left = xPadding;\n\t\t\tvar top = yPadding;\n\n\t\t\tfunction placeBox(box) {\n\t\t\t\tif (box.isHorizontal()) {\n\t\t\t\t\tbox.left = box.options.fullWidth ? xPadding : totalLeftBoxesWidth;\n\t\t\t\t\tbox.right = box.options.fullWidth ? width - xPadding : totalLeftBoxesWidth + maxChartAreaWidth;\n\t\t\t\t\tbox.top = top;\n\t\t\t\t\tbox.bottom = top + box.height;\n\n\t\t\t\t\t// Move to next point\n\t\t\t\t\ttop = box.bottom;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbox.left = left;\n\t\t\t\t\tbox.right = left + box.width;\n\t\t\t\t\tbox.top = totalTopBoxesHeight;\n\t\t\t\t\tbox.bottom = totalTopBoxesHeight + maxChartAreaHeight;\n\n\t\t\t\t\t// Move to next point\n\t\t\t\t\tleft = box.right;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\thelpers.each(leftBoxes.concat(topBoxes), placeBox);\n\n\t\t\t// Account for chart width and height\n\t\t\tleft += maxChartAreaWidth;\n\t\t\ttop += maxChartAreaHeight;\n\n\t\t\thelpers.each(rightBoxes, placeBox);\n\t\t\thelpers.each(bottomBoxes, placeBox);\n\n\t\t\t// Step 8\n\t\t\tchartInstance.chartArea = {\n\t\t\t\tleft: totalLeftBoxesWidth,\n\t\t\t\ttop: totalTopBoxesHeight,\n\t\t\t\tright: totalLeftBoxesWidth + maxChartAreaWidth,\n\t\t\t\tbottom: totalTopBoxesHeight + maxChartAreaHeight\n\t\t\t};\n\n\t\t\t// Step 9\n\t\t\thelpers.each(chartAreaBoxes, function(box) {\n\t\t\t\tbox.left = chartInstance.chartArea.left;\n\t\t\t\tbox.top = chartInstance.chartArea.top;\n\t\t\t\tbox.right = chartInstance.chartArea.right;\n\t\t\t\tbox.bottom = chartInstance.chartArea.bottom;\n\n\t\t\t\tbox.update(maxChartAreaWidth, maxChartAreaHeight);\n\t\t\t});\n\t\t}\n\t};\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.scaleService = {\n\t\t// Scale registration object. Extensions can register new scale types (such as log or DB scales) and then\n\t\t// use the new chart options to grab the correct scale\n\t\tconstructors: {},\n\t\t// Use a registration function so that we can move to an ES6 map when we no longer need to support\n\t\t// old browsers\n\n\t\t// Scale config defaults\n\t\tdefaults: {},\n\t\tregisterScaleType: function(type, scaleConstructor, defaults) {\n\t\t\tthis.constructors[type] = scaleConstructor;\n\t\t\tthis.defaults[type] = helpers.clone(defaults);\n\t\t},\n\t\tgetScaleConstructor: function(type) {\n\t\t\treturn this.constructors.hasOwnProperty(type) ? this.constructors[type] : undefined;\n\t\t},\n\t\tgetScaleDefaults: function(type) {\n\t\t\t// Return the scale defaults merged with the global settings so that we always use the latest ones\n\t\t\treturn this.defaults.hasOwnProperty(type) ? helpers.scaleMerge(Chart.defaults.scale, this.defaults[type]) : {};\n\t\t},\n\t\tupdateScaleDefaults: function(type, additions) {\n\t\t\tvar defaults = this.defaults;\n\t\t\tif (defaults.hasOwnProperty(type)) {\n\t\t\t\tdefaults[type] = helpers.extend(defaults[type], additions);\n\t\t\t}\n\t\t},\n\t\taddScalesToLayout: function(chartInstance) {\n\t\t\t// Adds each scale to the chart.boxes array to be sized accordingly\n\t\t\thelpers.each(chartInstance.scales, function(scale) {\n\t\t\t\tChart.layoutService.addBox(chartInstance, scale);\n\t\t\t});\n\t\t}\n\t};\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar noop = Chart.helpers.noop;\n\n\t/**\n\t * The plugin service singleton\n\t * @namespace Chart.plugins\n\t * @since 2.1.0\n\t */\n\tChart.plugins = {\n\t\t_plugins: [],\n\n\t\t/**\n\t\t * Registers the given plugin(s) if not already registered.\n\t\t * @param {Array|Object} plugins plugin instance(s).\n\t\t */\n\t\tregister: function(plugins) {\n\t\t\tvar p = this._plugins;\n\t\t\t([]).concat(plugins).forEach(function(plugin) {\n\t\t\t\tif (p.indexOf(plugin) === -1) {\n\t\t\t\t\tp.push(plugin);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Unregisters the given plugin(s) only if registered.\n\t\t * @param {Array|Object} plugins plugin instance(s).\n\t\t */\n\t\tunregister: function(plugins) {\n\t\t\tvar p = this._plugins;\n\t\t\t([]).concat(plugins).forEach(function(plugin) {\n\t\t\t\tvar idx = p.indexOf(plugin);\n\t\t\t\tif (idx !== -1) {\n\t\t\t\t\tp.splice(idx, 1);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Remove all registered p^lugins.\n\t\t * @since 2.1.5\n\t\t */\n\t\tclear: function() {\n\t\t\tthis._plugins = [];\n\t\t},\n\n\t\t/**\n\t\t * Returns the number of registered plugins?\n\t\t * @returns {Number}\n\t\t * @since 2.1.5\n\t\t */\n\t\tcount: function() {\n\t\t\treturn this._plugins.length;\n\t\t},\n\n\t\t/**\n\t\t * Returns all registered plugin intances.\n\t\t * @returns {Array} array of plugin objects.\n\t\t * @since 2.1.5\n\t\t */\n\t\tgetAll: function() {\n\t\t\treturn this._plugins;\n\t\t},\n\n\t\t/**\n\t\t * Calls registered plugins on the specified extension, with the given args. This\n\t\t * method immediately returns as soon as a plugin explicitly returns false. The\n\t\t * returned value can be used, for instance, to interrupt the current action.\n\t\t * @param {String} extension the name of the plugin method to call (e.g. 'beforeUpdate').\n\t\t * @param {Array} [args] extra arguments to apply to the extension call.\n\t\t * @returns {Boolean} false if any of the plugins return false, else returns true.\n\t\t */\n\t\tnotify: function(extension, args) {\n\t\t\tvar plugins = this._plugins;\n\t\t\tvar ilen = plugins.length;\n\t\t\tvar i, plugin;\n\n\t\t\tfor (i=0; i<ilen; ++i) {\n\t\t\t\tplugin = plugins[i];\n\t\t\t\tif (typeof plugin[extension] === 'function') {\n\t\t\t\t\tif (plugin[extension].apply(plugin, args || []) === false) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t};\n\n\t/**\n\t * Plugin extension methods.\n\t * @interface Chart.PluginBase\n\t * @since 2.1.0\n\t */\n\tChart.PluginBase = Chart.Element.extend({\n\t\t// Called at start of chart init\n\t\tbeforeInit: noop,\n\n\t\t// Called at end of chart init\n\t\tafterInit: noop,\n\n\t\t// Called at start of update\n\t\tbeforeUpdate: noop,\n\n\t\t// Called at end of update\n\t\tafterUpdate: noop,\n\n\t\t// Called at start of draw\n\t\tbeforeDraw: noop,\n\n\t\t// Called at end of draw\n\t\tafterDraw: noop,\n\n\t\t// Called during destroy\n\t\tdestroy: noop\n\t});\n\n\t/**\n\t * Provided for backward compatibility, use Chart.plugins instead\n\t * @namespace Chart.pluginService\n\t * @deprecated since version 2.1.5\n\t * @todo remove me at version 3\n\t */\n\tChart.pluginService = Chart.plugins;\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.scale = {\n\t\tdisplay: true,\n\t\tposition: 'left',\n\n\t\t// grid line settings\n\t\tgridLines: {\n\t\t\tdisplay: true,\n\t\t\tcolor: 'rgba(0, 0, 0, 0.1)',\n\t\t\tlineWidth: 1,\n\t\t\tdrawBorder: true,\n\t\t\tdrawOnChartArea: true,\n\t\t\tdrawTicks: true,\n\t\t\ttickMarkLength: 10,\n\t\t\tzeroLineWidth: 1,\n\t\t\tzeroLineColor: 'rgba(0,0,0,0.25)',\n\t\t\toffsetGridLines: false,\n\t\t\tborderDash: [],\n\t\t\tborderDashOffset: 0.0\n\t\t},\n\n\t\t// scale label\n\t\tscaleLabel: {\n\t\t\t// actual label\n\t\t\tlabelString: '',\n\n\t\t\t// display property\n\t\t\tdisplay: false\n\t\t},\n\n\t\t// label settings\n\t\tticks: {\n\t\t\tbeginAtZero: false,\n\t\t\tminRotation: 0,\n\t\t\tmaxRotation: 50,\n\t\t\tmirror: false,\n\t\t\tpadding: 10,\n\t\t\treverse: false,\n\t\t\tdisplay: true,\n\t\t\tautoSkip: true,\n\t\t\tautoSkipPadding: 0,\n\t\t\tlabelOffset: 0,\n\t\t\t// We pass through arrays to be rendered as multiline labels, we convert Others to strings here.\n\t\t\tcallback: function(value) {\n\t\t\t\treturn helpers.isArray(value) ? value : '' + value;\n\t\t\t}\n\t\t}\n\t};\n\n\tChart.Scale = Chart.Element.extend({\n\n\t\t// These methods are ordered by lifecyle. Utilities then follow.\n\t\t// Any function defined here is inherited by all scale types.\n\t\t// Any function can be extended by the scale type\n\n\t\tbeforeUpdate: function() {\n\t\t\thelpers.callCallback(this.options.beforeUpdate, [this]);\n\t\t},\n\t\tupdate: function(maxWidth, maxHeight, margins) {\n\t\t\tvar me = this;\n\n\t\t\t// Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\n\t\t\tme.beforeUpdate();\n\n\t\t\t// Absorb the master measurements\n\t\t\tme.maxWidth = maxWidth;\n\t\t\tme.maxHeight = maxHeight;\n\t\t\tme.margins = helpers.extend({\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t\tbottom: 0\n\t\t\t}, margins);\n\n\t\t\t// Dimensions\n\t\t\tme.beforeSetDimensions();\n\t\t\tme.setDimensions();\n\t\t\tme.afterSetDimensions();\n\n\t\t\t// Data min/max\n\t\t\tme.beforeDataLimits();\n\t\t\tme.determineDataLimits();\n\t\t\tme.afterDataLimits();\n\n\t\t\t// Ticks\n\t\t\tme.beforeBuildTicks();\n\t\t\tme.buildTicks();\n\t\t\tme.afterBuildTicks();\n\n\t\t\tme.beforeTickToLabelConversion();\n\t\t\tme.convertTicksToLabels();\n\t\t\tme.afterTickToLabelConversion();\n\n\t\t\t// Tick Rotation\n\t\t\tme.beforeCalculateTickRotation();\n\t\t\tme.calculateTickRotation();\n\t\t\tme.afterCalculateTickRotation();\n\t\t\t// Fit\n\t\t\tme.beforeFit();\n\t\t\tme.fit();\n\t\t\tme.afterFit();\n\t\t\t//\n\t\t\tme.afterUpdate();\n\n\t\t\treturn me.minSize;\n\n\t\t},\n\t\tafterUpdate: function() {\n\t\t\thelpers.callCallback(this.options.afterUpdate, [this]);\n\t\t},\n\n\t\t//\n\n\t\tbeforeSetDimensions: function() {\n\t\t\thelpers.callCallback(this.options.beforeSetDimensions, [this]);\n\t\t},\n\t\tsetDimensions: function() {\n\t\t\tvar me = this;\n\t\t\t// Set the unconstrained dimension before label rotation\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\t// Reset position before calculating rotation\n\t\t\t\tme.width = me.maxWidth;\n\t\t\t\tme.left = 0;\n\t\t\t\tme.right = me.width;\n\t\t\t} else {\n\t\t\t\tme.height = me.maxHeight;\n\n\t\t\t\t// Reset position before calculating rotation\n\t\t\t\tme.top = 0;\n\t\t\t\tme.bottom = me.height;\n\t\t\t}\n\n\t\t\t// Reset padding\n\t\t\tme.paddingLeft = 0;\n\t\t\tme.paddingTop = 0;\n\t\t\tme.paddingRight = 0;\n\t\t\tme.paddingBottom = 0;\n\t\t},\n\t\tafterSetDimensions: function() {\n\t\t\thelpers.callCallback(this.options.afterSetDimensions, [this]);\n\t\t},\n\n\t\t// Data limits\n\t\tbeforeDataLimits: function() {\n\t\t\thelpers.callCallback(this.options.beforeDataLimits, [this]);\n\t\t},\n\t\tdetermineDataLimits: helpers.noop,\n\t\tafterDataLimits: function() {\n\t\t\thelpers.callCallback(this.options.afterDataLimits, [this]);\n\t\t},\n\n\t\t//\n\t\tbeforeBuildTicks: function() {\n\t\t\thelpers.callCallback(this.options.beforeBuildTicks, [this]);\n\t\t},\n\t\tbuildTicks: helpers.noop,\n\t\tafterBuildTicks: function() {\n\t\t\thelpers.callCallback(this.options.afterBuildTicks, [this]);\n\t\t},\n\n\t\tbeforeTickToLabelConversion: function() {\n\t\t\thelpers.callCallback(this.options.beforeTickToLabelConversion, [this]);\n\t\t},\n\t\tconvertTicksToLabels: function() {\n\t\t\tvar me = this;\n\t\t\t// Convert ticks to strings\n\t\t\tme.ticks = me.ticks.map(function(numericalTick, index, ticks) {\n\t\t\t\tif (me.options.ticks.userCallback) {\n\t\t\t\t\treturn me.options.ticks.userCallback(numericalTick, index, ticks);\n\t\t\t\t}\n\t\t\t\treturn me.options.ticks.callback(numericalTick, index, ticks);\n\t\t\t},\n\t\t\tme);\n\t\t},\n\t\tafterTickToLabelConversion: function() {\n\t\t\thelpers.callCallback(this.options.afterTickToLabelConversion, [this]);\n\t\t},\n\n\t\t//\n\n\t\tbeforeCalculateTickRotation: function() {\n\t\t\thelpers.callCallback(this.options.beforeCalculateTickRotation, [this]);\n\t\t},\n\t\tcalculateTickRotation: function() {\n\t\t\tvar me = this;\n\t\t\tvar context = me.ctx;\n\t\t\tvar globalDefaults = Chart.defaults.global;\n\t\t\tvar optionTicks = me.options.ticks;\n\n\t\t\t// Get the width of each grid by calculating the difference\n\t\t\t// between x offsets between 0 and 1.\n\t\t\tvar tickFontSize = helpers.getValueOrDefault(optionTicks.fontSize, globalDefaults.defaultFontSize);\n\t\t\tvar tickFontStyle = helpers.getValueOrDefault(optionTicks.fontStyle, globalDefaults.defaultFontStyle);\n\t\t\tvar tickFontFamily = helpers.getValueOrDefault(optionTicks.fontFamily, globalDefaults.defaultFontFamily);\n\t\t\tvar tickLabelFont = helpers.fontString(tickFontSize, tickFontStyle, tickFontFamily);\n\t\t\tcontext.font = tickLabelFont;\n\n\t\t\tvar firstWidth = context.measureText(me.ticks[0]).width;\n\t\t\tvar lastWidth = context.measureText(me.ticks[me.ticks.length - 1]).width;\n\t\t\tvar firstRotated;\n\n\t\t\tme.labelRotation = optionTicks.minRotation || 0;\n\t\t\tme.paddingRight = 0;\n\t\t\tme.paddingLeft = 0;\n\n\t\t\tif (me.options.display) {\n\t\t\t\tif (me.isHorizontal()) {\n\t\t\t\t\tme.paddingRight = lastWidth / 2 + 3;\n\t\t\t\t\tme.paddingLeft = firstWidth / 2 + 3;\n\n\t\t\t\t\tif (!me.longestTextCache) {\n\t\t\t\t\t\tme.longestTextCache = {};\n\t\t\t\t\t}\n\t\t\t\t\tvar originalLabelWidth = helpers.longestText(context, tickLabelFont, me.ticks, me.longestTextCache);\n\t\t\t\t\tvar labelWidth = originalLabelWidth;\n\t\t\t\t\tvar cosRotation;\n\t\t\t\t\tvar sinRotation;\n\n\t\t\t\t\t// Allow 3 pixels x2 padding either side for label readability\n\t\t\t\t\t// only the index matters for a dataset scale, but we want a consistent interface between scales\n\t\t\t\t\tvar tickWidth = me.getPixelForTick(1) - me.getPixelForTick(0) - 6;\n\n\t\t\t\t\t// Max label rotation can be set or default to 90 - also act as a loop counter\n\t\t\t\t\twhile (labelWidth > tickWidth && me.labelRotation < optionTicks.maxRotation) {\n\t\t\t\t\t\tcosRotation = Math.cos(helpers.toRadians(me.labelRotation));\n\t\t\t\t\t\tsinRotation = Math.sin(helpers.toRadians(me.labelRotation));\n\n\t\t\t\t\t\tfirstRotated = cosRotation * firstWidth;\n\n\t\t\t\t\t\t// We're right aligning the text now.\n\t\t\t\t\t\tif (firstRotated + tickFontSize / 2 > me.yLabelWidth) {\n\t\t\t\t\t\t\tme.paddingLeft = firstRotated + tickFontSize / 2;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tme.paddingRight = tickFontSize / 2;\n\n\t\t\t\t\t\tif (sinRotation * originalLabelWidth > me.maxHeight) {\n\t\t\t\t\t\t\t// go back one step\n\t\t\t\t\t\t\tme.labelRotation--;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tme.labelRotation++;\n\t\t\t\t\t\tlabelWidth = cosRotation * originalLabelWidth;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (me.margins) {\n\t\t\t\tme.paddingLeft = Math.max(me.paddingLeft - me.margins.left, 0);\n\t\t\t\tme.paddingRight = Math.max(me.paddingRight - me.margins.right, 0);\n\t\t\t}\n\t\t},\n\t\tafterCalculateTickRotation: function() {\n\t\t\thelpers.callCallback(this.options.afterCalculateTickRotation, [this]);\n\t\t},\n\n\t\t//\n\n\t\tbeforeFit: function() {\n\t\t\thelpers.callCallback(this.options.beforeFit, [this]);\n\t\t},\n\t\tfit: function() {\n\t\t\tvar me = this;\n\t\t\t// Reset\n\t\t\tvar minSize = me.minSize = {\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0\n\t\t\t};\n\n\t\t\tvar opts = me.options;\n\t\t\tvar globalDefaults = Chart.defaults.global;\n\t\t\tvar tickOpts = opts.ticks;\n\t\t\tvar scaleLabelOpts = opts.scaleLabel;\n\t\t\tvar gridLineOpts = opts.gridLines;\n\t\t\tvar display = opts.display;\n\t\t\tvar isHorizontal = me.isHorizontal();\n\n\t\t\tvar tickFontSize = helpers.getValueOrDefault(tickOpts.fontSize, globalDefaults.defaultFontSize);\n\t\t\tvar tickFontStyle = helpers.getValueOrDefault(tickOpts.fontStyle, globalDefaults.defaultFontStyle);\n\t\t\tvar tickFontFamily = helpers.getValueOrDefault(tickOpts.fontFamily, globalDefaults.defaultFontFamily);\n\t\t\tvar tickLabelFont = helpers.fontString(tickFontSize, tickFontStyle, tickFontFamily);\n\n\t\t\tvar scaleLabelFontSize = helpers.getValueOrDefault(scaleLabelOpts.fontSize, globalDefaults.defaultFontSize);\n\n\t\t\tvar tickMarkLength = opts.gridLines.tickMarkLength;\n\n\t\t\t// Width\n\t\t\tif (isHorizontal) {\n\t\t\t\t// subtract the margins to line up with the chartArea if we are a full width scale\n\t\t\t\tminSize.width = me.isFullWidth() ? me.maxWidth - me.margins.left - me.margins.right : me.maxWidth;\n\t\t\t} else {\n\t\t\t\tminSize.width = display && gridLineOpts.drawTicks ? tickMarkLength : 0;\n\t\t\t}\n\n\t\t\t// height\n\t\t\tif (isHorizontal) {\n\t\t\t\tminSize.height = display && gridLineOpts.drawTicks ? tickMarkLength : 0;\n\t\t\t} else {\n\t\t\t\tminSize.height = me.maxHeight; // fill all the height\n\t\t\t}\n\n\t\t\t// Are we showing a title for the scale?\n\t\t\tif (scaleLabelOpts.display && display) {\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\tminSize.height += (scaleLabelFontSize * 1.5);\n\t\t\t\t} else {\n\t\t\t\t\tminSize.width += (scaleLabelFontSize * 1.5);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (tickOpts.display && display) {\n\t\t\t\t// Don't bother fitting the ticks if we are not showing them\n\t\t\t\tif (!me.longestTextCache) {\n\t\t\t\t\tme.longestTextCache = {};\n\t\t\t\t}\n\n\t\t\t\tvar largestTextWidth = helpers.longestText(me.ctx, tickLabelFont, me.ticks, me.longestTextCache);\n\t\t\t\tvar tallestLabelHeightInLines = helpers.numberOfLabelLines(me.ticks);\n\t\t\t\tvar lineSpace = tickFontSize * 0.5;\n\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\t// A horizontal axis is more constrained by the height.\n\t\t\t\t\tme.longestLabelWidth = largestTextWidth;\n\n\t\t\t\t\t// TODO - improve this calculation\n\t\t\t\t\tvar labelHeight = (Math.sin(helpers.toRadians(me.labelRotation)) * me.longestLabelWidth) + (tickFontSize * tallestLabelHeightInLines) + (lineSpace * tallestLabelHeightInLines);\n\n\t\t\t\t\tminSize.height = Math.min(me.maxHeight, minSize.height + labelHeight);\n\t\t\t\t\tme.ctx.font = tickLabelFont;\n\n\t\t\t\t\tvar firstLabelWidth = me.ctx.measureText(me.ticks[0]).width;\n\t\t\t\t\tvar lastLabelWidth = me.ctx.measureText(me.ticks[me.ticks.length - 1]).width;\n\n\t\t\t\t\t// Ensure that our ticks are always inside the canvas. When rotated, ticks are right aligned which means that the right padding is dominated\n\t\t\t\t\t// by the font height\n\t\t\t\t\tvar cosRotation = Math.cos(helpers.toRadians(me.labelRotation));\n\t\t\t\t\tvar sinRotation = Math.sin(helpers.toRadians(me.labelRotation));\n\t\t\t\t\tme.paddingLeft = me.labelRotation !== 0 ? (cosRotation * firstLabelWidth) + 3 : firstLabelWidth / 2 + 3; // add 3 px to move away from canvas edges\n\t\t\t\t\tme.paddingRight = me.labelRotation !== 0 ? (sinRotation * (tickFontSize / 2)) + 3 : lastLabelWidth / 2 + 3; // when rotated\n\t\t\t\t} else {\n\t\t\t\t\t// A vertical axis is more constrained by the width. Labels are the dominant factor here, so get that length first\n\t\t\t\t\tvar maxLabelWidth = me.maxWidth - minSize.width;\n\n\t\t\t\t\t// Account for padding\n\t\t\t\t\tvar mirror = tickOpts.mirror;\n\t\t\t\t\tif (!mirror) {\n\t\t\t\t\t\tlargestTextWidth += me.options.ticks.padding;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// If mirrored text is on the inside so don't expand\n\t\t\t\t\t\tlargestTextWidth = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (largestTextWidth < maxLabelWidth) {\n\t\t\t\t\t\t// We don't need all the room\n\t\t\t\t\t\tminSize.width += largestTextWidth;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Expand to max size\n\t\t\t\t\t\tminSize.width = me.maxWidth;\n\t\t\t\t\t}\n\n\t\t\t\t\tme.paddingTop = tickFontSize / 2;\n\t\t\t\t\tme.paddingBottom = tickFontSize / 2;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (me.margins) {\n\t\t\t\tme.paddingLeft = Math.max(me.paddingLeft - me.margins.left, 0);\n\t\t\t\tme.paddingTop = Math.max(me.paddingTop - me.margins.top, 0);\n\t\t\t\tme.paddingRight = Math.max(me.paddingRight - me.margins.right, 0);\n\t\t\t\tme.paddingBottom = Math.max(me.paddingBottom - me.margins.bottom, 0);\n\t\t\t}\n\n\t\t\tme.width = minSize.width;\n\t\t\tme.height = minSize.height;\n\n\t\t},\n\t\tafterFit: function() {\n\t\t\thelpers.callCallback(this.options.afterFit, [this]);\n\t\t},\n\n\t\t// Shared Methods\n\t\tisHorizontal: function() {\n\t\t\treturn this.options.position === 'top' || this.options.position === 'bottom';\n\t\t},\n\t\tisFullWidth: function() {\n\t\t\treturn (this.options.fullWidth);\n\t\t},\n\n\t\t// Get the correct value. NaN bad inputs, If the value type is object get the x or y based on whether we are horizontal or not\n\t\tgetRightValue: function(rawValue) {\n\t\t\t// Null and undefined values first\n\t\t\tif (rawValue === null || typeof(rawValue) === 'undefined') {\n\t\t\t\treturn NaN;\n\t\t\t}\n\t\t\t// isNaN(object) returns true, so make sure NaN is checking for a number\n\t\t\tif (typeof(rawValue) === 'number' && isNaN(rawValue)) {\n\t\t\t\treturn NaN;\n\t\t\t}\n\t\t\t// If it is in fact an object, dive in one more level\n\t\t\tif (typeof(rawValue) === 'object') {\n\t\t\t\tif ((rawValue instanceof Date) || (rawValue.isValid)) {\n\t\t\t\t\treturn rawValue;\n\t\t\t\t}\n\t\t\t\treturn this.getRightValue(this.isHorizontal() ? rawValue.x : rawValue.y);\n\t\t\t}\n\n\t\t\t// Value is good, return it\n\t\t\treturn rawValue;\n\t\t},\n\n\t\t// Used to get the value to display in the tooltip for the data at the given index\n\t\t// function getLabelForIndex(index, datasetIndex)\n\t\tgetLabelForIndex: helpers.noop,\n\n\t\t// Used to get data value locations.  Value can either be an index or a numerical value\n\t\tgetPixelForValue: helpers.noop,\n\n\t\t// Used to get the data value from a given pixel. This is the inverse of getPixelForValue\n\t\tgetValueForPixel: helpers.noop,\n\n\t\t// Used for tick location, should\n\t\tgetPixelForTick: function(index, includeOffset) {\n\t\t\tvar me = this;\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\tvar innerWidth = me.width - (me.paddingLeft + me.paddingRight);\n\t\t\t\tvar tickWidth = innerWidth / Math.max((me.ticks.length - ((me.options.gridLines.offsetGridLines) ? 0 : 1)), 1);\n\t\t\t\tvar pixel = (tickWidth * index) + me.paddingLeft;\n\n\t\t\t\tif (includeOffset) {\n\t\t\t\t\tpixel += tickWidth / 2;\n\t\t\t\t}\n\n\t\t\t\tvar finalVal = me.left + Math.round(pixel);\n\t\t\t\tfinalVal += me.isFullWidth() ? me.margins.left : 0;\n\t\t\t\treturn finalVal;\n\t\t\t}\n\t\t\tvar innerHeight = me.height - (me.paddingTop + me.paddingBottom);\n\t\t\treturn me.top + (index * (innerHeight / (me.ticks.length - 1)));\n\t\t},\n\n\t\t// Utility for getting the pixel location of a percentage of scale\n\t\tgetPixelForDecimal: function(decimal /* , includeOffset*/) {\n\t\t\tvar me = this;\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\tvar innerWidth = me.width - (me.paddingLeft + me.paddingRight);\n\t\t\t\tvar valueOffset = (innerWidth * decimal) + me.paddingLeft;\n\n\t\t\t\tvar finalVal = me.left + Math.round(valueOffset);\n\t\t\t\tfinalVal += me.isFullWidth() ? me.margins.left : 0;\n\t\t\t\treturn finalVal;\n\t\t\t}\n\t\t\treturn me.top + (decimal * me.height);\n\t\t},\n\n\t\tgetBasePixel: function() {\n\t\t\tvar me = this;\n\t\t\tvar min = me.min;\n\t\t\tvar max = me.max;\n\n\t\t\treturn me.getPixelForValue(\n\t\t\t\tme.beginAtZero? 0:\n\t\t\t\tmin < 0 && max < 0? max :\n\t\t\t\tmin > 0 && max > 0? min :\n\t\t\t\t0);\n\t\t},\n\n\t\t// Actualy draw the scale on the canvas\n\t\t// @param {rectangle} chartArea : the area of the chart to draw full grid lines on\n\t\tdraw: function(chartArea) {\n\t\t\tvar me = this;\n\t\t\tvar options = me.options;\n\t\t\tif (!options.display) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar context = me.ctx;\n\t\t\tvar globalDefaults = Chart.defaults.global;\n\t\t\tvar optionTicks = options.ticks;\n\t\t\tvar gridLines = options.gridLines;\n\t\t\tvar scaleLabel = options.scaleLabel;\n\n\t\t\tvar isRotated = me.labelRotation !== 0;\n\t\t\tvar skipRatio;\n\t\t\tvar useAutoskipper = optionTicks.autoSkip;\n\t\t\tvar isHorizontal = me.isHorizontal();\n\n\t\t\t// figure out the maximum number of gridlines to show\n\t\t\tvar maxTicks;\n\t\t\tif (optionTicks.maxTicksLimit) {\n\t\t\t\tmaxTicks = optionTicks.maxTicksLimit;\n\t\t\t}\n\n\t\t\tvar tickFontColor = helpers.getValueOrDefault(optionTicks.fontColor, globalDefaults.defaultFontColor);\n\t\t\tvar tickFontSize = helpers.getValueOrDefault(optionTicks.fontSize, globalDefaults.defaultFontSize);\n\t\t\tvar tickFontStyle = helpers.getValueOrDefault(optionTicks.fontStyle, globalDefaults.defaultFontStyle);\n\t\t\tvar tickFontFamily = helpers.getValueOrDefault(optionTicks.fontFamily, globalDefaults.defaultFontFamily);\n\t\t\tvar tickLabelFont = helpers.fontString(tickFontSize, tickFontStyle, tickFontFamily);\n\t\t\tvar tl = gridLines.tickMarkLength;\n\t\t\tvar borderDash = helpers.getValueOrDefault(gridLines.borderDash, globalDefaults.borderDash);\n\t\t\tvar borderDashOffset = helpers.getValueOrDefault(gridLines.borderDashOffset, globalDefaults.borderDashOffset);\n\n\t\t\tvar scaleLabelFontColor = helpers.getValueOrDefault(scaleLabel.fontColor, globalDefaults.defaultFontColor);\n\t\t\tvar scaleLabelFontSize = helpers.getValueOrDefault(scaleLabel.fontSize, globalDefaults.defaultFontSize);\n\t\t\tvar scaleLabelFontStyle = helpers.getValueOrDefault(scaleLabel.fontStyle, globalDefaults.defaultFontStyle);\n\t\t\tvar scaleLabelFontFamily = helpers.getValueOrDefault(scaleLabel.fontFamily, globalDefaults.defaultFontFamily);\n\t\t\tvar scaleLabelFont = helpers.fontString(scaleLabelFontSize, scaleLabelFontStyle, scaleLabelFontFamily);\n\n\t\t\tvar labelRotationRadians = helpers.toRadians(me.labelRotation);\n\t\t\tvar cosRotation = Math.cos(labelRotationRadians);\n\t\t\tvar longestRotatedLabel = me.longestLabelWidth * cosRotation;\n\n\t\t\t// Make sure we draw text in the correct color and font\n\t\t\tcontext.fillStyle = tickFontColor;\n\n\t\t\tvar itemsToDraw = [];\n\n\t\t\tif (isHorizontal) {\n\t\t\t\tskipRatio = false;\n\n\t\t\t\t// Only calculate the skip ratio with the half width of longestRotateLabel if we got an actual rotation\n\t\t\t\t// See #2584\n\t\t\t\tif (isRotated) {\n\t\t\t\t\tlongestRotatedLabel /= 2;\n\t\t\t\t}\n\n\t\t\t\tif ((longestRotatedLabel + optionTicks.autoSkipPadding) * me.ticks.length > (me.width - (me.paddingLeft + me.paddingRight))) {\n\t\t\t\t\tskipRatio = 1 + Math.floor(((longestRotatedLabel + optionTicks.autoSkipPadding) * me.ticks.length) / (me.width - (me.paddingLeft + me.paddingRight)));\n\t\t\t\t}\n\n\t\t\t\t// if they defined a max number of optionTicks,\n\t\t\t\t// increase skipRatio until that number is met\n\t\t\t\tif (maxTicks && me.ticks.length > maxTicks) {\n\t\t\t\t\twhile (!skipRatio || me.ticks.length / (skipRatio || 1) > maxTicks) {\n\t\t\t\t\t\tif (!skipRatio) {\n\t\t\t\t\t\t\tskipRatio = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tskipRatio += 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!useAutoskipper) {\n\t\t\t\t\tskipRatio = false;\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\tvar xTickStart = options.position === 'right' ? me.left : me.right - tl;\n\t\t\tvar xTickEnd = options.position === 'right' ? me.left + tl : me.right;\n\t\t\tvar yTickStart = options.position === 'bottom' ? me.top : me.bottom - tl;\n\t\t\tvar yTickEnd = options.position === 'bottom' ? me.top + tl : me.bottom;\n\n\t\t\thelpers.each(me.ticks, function(label, index) {\n\t\t\t\t// If the callback returned a null or undefined value, do not draw this line\n\t\t\t\tif (label === undefined || label === null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar isLastTick = me.ticks.length === index + 1;\n\n\t\t\t\t// Since we always show the last tick,we need may need to hide the last shown one before\n\t\t\t\tvar shouldSkip = (skipRatio > 1 && index % skipRatio > 0) || (index % skipRatio === 0 && index + skipRatio >= me.ticks.length);\n\t\t\t\tif (shouldSkip && !isLastTick || (label === undefined || label === null)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar lineWidth, lineColor;\n\t\t\t\tif (index === (typeof me.zeroLineIndex !== 'undefined' ? me.zeroLineIndex : 0)) {\n\t\t\t\t\t// Draw the first index specially\n\t\t\t\t\tlineWidth = gridLines.zeroLineWidth;\n\t\t\t\t\tlineColor = gridLines.zeroLineColor;\n\t\t\t\t} else {\n\t\t\t\t\tlineWidth = helpers.getValueAtIndexOrDefault(gridLines.lineWidth, index);\n\t\t\t\t\tlineColor = helpers.getValueAtIndexOrDefault(gridLines.color, index);\n\t\t\t\t}\n\n\t\t\t\t// Common properties\n\t\t\t\tvar tx1, ty1, tx2, ty2, x1, y1, x2, y2, labelX, labelY;\n\t\t\t\tvar textAlign = 'middle';\n\t\t\t\tvar textBaseline = 'middle';\n\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\tif (!isRotated) {\n\t\t\t\t\t\ttextBaseline = options.position === 'top' ? 'bottom' : 'top';\n\t\t\t\t\t}\n\n\t\t\t\t\ttextAlign = isRotated ? 'right' : 'center';\n\n\t\t\t\t\tvar xLineValue = me.getPixelForTick(index) + helpers.aliasPixel(lineWidth); // xvalues for grid lines\n\t\t\t\t\tlabelX = me.getPixelForTick(index, gridLines.offsetGridLines) + optionTicks.labelOffset; // x values for optionTicks (need to consider offsetLabel option)\n\t\t\t\t\tlabelY = (isRotated) ? me.top + 12 : options.position === 'top' ? me.bottom - tl : me.top + tl;\n\n\t\t\t\t\ttx1 = tx2 = x1 = x2 = xLineValue;\n\t\t\t\t\tty1 = yTickStart;\n\t\t\t\t\tty2 = yTickEnd;\n\t\t\t\t\ty1 = chartArea.top;\n\t\t\t\t\ty2 = chartArea.bottom;\n\t\t\t\t} else {\n\t\t\t\t\tif (options.position === 'left') {\n\t\t\t\t\t\tif (optionTicks.mirror) {\n\t\t\t\t\t\t\tlabelX = me.right + optionTicks.padding;\n\t\t\t\t\t\t\ttextAlign = 'left';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlabelX = me.right - optionTicks.padding;\n\t\t\t\t\t\t\ttextAlign = 'right';\n\t\t\t\t\t\t}\n\t\t\t\t\t// right side\n\t\t\t\t\t} else if (optionTicks.mirror) {\n\t\t\t\t\t\tlabelX = me.left - optionTicks.padding;\n\t\t\t\t\t\ttextAlign = 'right';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlabelX = me.left + optionTicks.padding;\n\t\t\t\t\t\ttextAlign = 'left';\n\t\t\t\t\t}\n\n\t\t\t\t\tvar yLineValue = me.getPixelForTick(index); // xvalues for grid lines\n\t\t\t\t\tyLineValue += helpers.aliasPixel(lineWidth);\n\t\t\t\t\tlabelY = me.getPixelForTick(index, gridLines.offsetGridLines);\n\n\t\t\t\t\ttx1 = xTickStart;\n\t\t\t\t\ttx2 = xTickEnd;\n\t\t\t\t\tx1 = chartArea.left;\n\t\t\t\t\tx2 = chartArea.right;\n\t\t\t\t\tty1 = ty2 = y1 = y2 = yLineValue;\n\t\t\t\t}\n\n\t\t\t\titemsToDraw.push({\n\t\t\t\t\ttx1: tx1,\n\t\t\t\t\tty1: ty1,\n\t\t\t\t\ttx2: tx2,\n\t\t\t\t\tty2: ty2,\n\t\t\t\t\tx1: x1,\n\t\t\t\t\ty1: y1,\n\t\t\t\t\tx2: x2,\n\t\t\t\t\ty2: y2,\n\t\t\t\t\tlabelX: labelX,\n\t\t\t\t\tlabelY: labelY,\n\t\t\t\t\tglWidth: lineWidth,\n\t\t\t\t\tglColor: lineColor,\n\t\t\t\t\tglBorderDash: borderDash,\n\t\t\t\t\tglBorderDashOffset: borderDashOffset,\n\t\t\t\t\trotation: -1 * labelRotationRadians,\n\t\t\t\t\tlabel: label,\n\t\t\t\t\ttextBaseline: textBaseline,\n\t\t\t\t\ttextAlign: textAlign\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t// Draw all of the tick labels, tick marks, and grid lines at the correct places\n\t\t\thelpers.each(itemsToDraw, function(itemToDraw) {\n\t\t\t\tif (gridLines.display) {\n\t\t\t\t\tcontext.save();\n\t\t\t\t\tcontext.lineWidth = itemToDraw.glWidth;\n\t\t\t\t\tcontext.strokeStyle = itemToDraw.glColor;\n\t\t\t\t\tif (context.setLineDash) {\n\t\t\t\t\t\tcontext.setLineDash(itemToDraw.glBorderDash);\n\t\t\t\t\t\tcontext.lineDashOffset = itemToDraw.glBorderDashOffset;\n\t\t\t\t\t}\n\n\t\t\t\t\tcontext.beginPath();\n\n\t\t\t\t\tif (gridLines.drawTicks) {\n\t\t\t\t\t\tcontext.moveTo(itemToDraw.tx1, itemToDraw.ty1);\n\t\t\t\t\t\tcontext.lineTo(itemToDraw.tx2, itemToDraw.ty2);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (gridLines.drawOnChartArea) {\n\t\t\t\t\t\tcontext.moveTo(itemToDraw.x1, itemToDraw.y1);\n\t\t\t\t\t\tcontext.lineTo(itemToDraw.x2, itemToDraw.y2);\n\t\t\t\t\t}\n\n\t\t\t\t\tcontext.stroke();\n\t\t\t\t\tcontext.restore();\n\t\t\t\t}\n\n\t\t\t\tif (optionTicks.display) {\n\t\t\t\t\tcontext.save();\n\t\t\t\t\tcontext.translate(itemToDraw.labelX, itemToDraw.labelY);\n\t\t\t\t\tcontext.rotate(itemToDraw.rotation);\n\t\t\t\t\tcontext.font = tickLabelFont;\n\t\t\t\t\tcontext.textBaseline = itemToDraw.textBaseline;\n\t\t\t\t\tcontext.textAlign = itemToDraw.textAlign;\n\n\t\t\t\t\tvar label = itemToDraw.label;\n\t\t\t\t\tif (helpers.isArray(label)) {\n\t\t\t\t\t\tfor (var i = 0, y = -(label.length - 1)*tickFontSize*0.75; i < label.length; ++i) {\n\t\t\t\t\t\t\t// We just make sure the multiline element is a string here..\n\t\t\t\t\t\t\tcontext.fillText('' + label[i], 0, y);\n\t\t\t\t\t\t\t// apply same lineSpacing as calculated @ L#320\n\t\t\t\t\t\t\ty += (tickFontSize * 1.5);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontext.fillText(label, 0, 0);\n\t\t\t\t\t}\n\t\t\t\t\tcontext.restore();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (scaleLabel.display) {\n\t\t\t\t// Draw the scale label\n\t\t\t\tvar scaleLabelX;\n\t\t\t\tvar scaleLabelY;\n\t\t\t\tvar rotation = 0;\n\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\tscaleLabelX = me.left + ((me.right - me.left) / 2); // midpoint of the width\n\t\t\t\t\tscaleLabelY = options.position === 'bottom' ? me.bottom - (scaleLabelFontSize / 2) : me.top + (scaleLabelFontSize / 2);\n\t\t\t\t} else {\n\t\t\t\t\tvar isLeft = options.position === 'left';\n\t\t\t\t\tscaleLabelX = isLeft ? me.left + (scaleLabelFontSize / 2) : me.right - (scaleLabelFontSize / 2);\n\t\t\t\t\tscaleLabelY = me.top + ((me.bottom - me.top) / 2);\n\t\t\t\t\trotation = isLeft ? -0.5 * Math.PI : 0.5 * Math.PI;\n\t\t\t\t}\n\n\t\t\t\tcontext.save();\n\t\t\t\tcontext.translate(scaleLabelX, scaleLabelY);\n\t\t\t\tcontext.rotate(rotation);\n\t\t\t\tcontext.textAlign = 'center';\n\t\t\t\tcontext.textBaseline = 'middle';\n\t\t\t\tcontext.fillStyle = scaleLabelFontColor; // render in correct colour\n\t\t\t\tcontext.font = scaleLabelFont;\n\t\t\t\tcontext.fillText(scaleLabel.labelString, 0, 0);\n\t\t\t\tcontext.restore();\n\t\t\t}\n\n\t\t\tif (gridLines.drawBorder) {\n\t\t\t\t// Draw the line at the edge of the axis\n\t\t\t\tcontext.lineWidth = helpers.getValueAtIndexOrDefault(gridLines.lineWidth, 0);\n\t\t\t\tcontext.strokeStyle = helpers.getValueAtIndexOrDefault(gridLines.color, 0);\n\t\t\t\tvar x1 = me.left,\n\t\t\t\t\tx2 = me.right,\n\t\t\t\t\ty1 = me.top,\n\t\t\t\t\ty2 = me.bottom;\n\n\t\t\t\tvar aliasPixel = helpers.aliasPixel(context.lineWidth);\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\ty1 = y2 = options.position === 'top' ? me.bottom : me.top;\n\t\t\t\t\ty1 += aliasPixel;\n\t\t\t\t\ty2 += aliasPixel;\n\t\t\t\t} else {\n\t\t\t\t\tx1 = x2 = options.position === 'left' ? me.right : me.left;\n\t\t\t\t\tx1 += aliasPixel;\n\t\t\t\t\tx2 += aliasPixel;\n\t\t\t\t}\n\n\t\t\t\tcontext.beginPath();\n\t\t\t\tcontext.moveTo(x1, y1);\n\t\t\t\tcontext.lineTo(x2, y2);\n\t\t\t\tcontext.stroke();\n\t\t\t}\n\t\t}\n\t});\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.global.title = {\n\t\tdisplay: false,\n\t\tposition: 'top',\n\t\tfullWidth: true, // marks that this box should take the full width of the canvas (pushing down other boxes)\n\n\t\tfontStyle: 'bold',\n\t\tpadding: 10,\n\n\t\t// actual title\n\t\ttext: ''\n\t};\n\n\tvar noop = helpers.noop;\n\tChart.Title = Chart.Element.extend({\n\n\t\tinitialize: function(config) {\n\t\t\tvar me = this;\n\t\t\thelpers.extend(me, config);\n\t\t\tme.options = helpers.configMerge(Chart.defaults.global.title, config.options);\n\n\t\t\t// Contains hit boxes for each dataset (in dataset order)\n\t\t\tme.legendHitBoxes = [];\n\t\t},\n\n\t\t// These methods are ordered by lifecyle. Utilities then follow.\n\n\t\tbeforeUpdate: function() {\n\t\t\tvar chartOpts = this.chart.options;\n\t\t\tif (chartOpts && chartOpts.title) {\n\t\t\t\tthis.options = helpers.configMerge(Chart.defaults.global.title, chartOpts.title);\n\t\t\t}\n\t\t},\n\t\tupdate: function(maxWidth, maxHeight, margins) {\n\t\t\tvar me = this;\n\n\t\t\t// Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\n\t\t\tme.beforeUpdate();\n\n\t\t\t// Absorb the master measurements\n\t\t\tme.maxWidth = maxWidth;\n\t\t\tme.maxHeight = maxHeight;\n\t\t\tme.margins = margins;\n\n\t\t\t// Dimensions\n\t\t\tme.beforeSetDimensions();\n\t\t\tme.setDimensions();\n\t\t\tme.afterSetDimensions();\n\t\t\t// Labels\n\t\t\tme.beforeBuildLabels();\n\t\t\tme.buildLabels();\n\t\t\tme.afterBuildLabels();\n\n\t\t\t// Fit\n\t\t\tme.beforeFit();\n\t\t\tme.fit();\n\t\t\tme.afterFit();\n\t\t\t//\n\t\t\tme.afterUpdate();\n\n\t\t\treturn me.minSize;\n\n\t\t},\n\t\tafterUpdate: noop,\n\n\t\t//\n\n\t\tbeforeSetDimensions: noop,\n\t\tsetDimensions: function() {\n\t\t\tvar me = this;\n\t\t\t// Set the unconstrained dimension before label rotation\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\t// Reset position before calculating rotation\n\t\t\t\tme.width = me.maxWidth;\n\t\t\t\tme.left = 0;\n\t\t\t\tme.right = me.width;\n\t\t\t} else {\n\t\t\t\tme.height = me.maxHeight;\n\n\t\t\t\t// Reset position before calculating rotation\n\t\t\t\tme.top = 0;\n\t\t\t\tme.bottom = me.height;\n\t\t\t}\n\n\t\t\t// Reset padding\n\t\t\tme.paddingLeft = 0;\n\t\t\tme.paddingTop = 0;\n\t\t\tme.paddingRight = 0;\n\t\t\tme.paddingBottom = 0;\n\n\t\t\t// Reset minSize\n\t\t\tme.minSize = {\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0\n\t\t\t};\n\t\t},\n\t\tafterSetDimensions: noop,\n\n\t\t//\n\n\t\tbeforeBuildLabels: noop,\n\t\tbuildLabels: noop,\n\t\tafterBuildLabels: noop,\n\n\t\t//\n\n\t\tbeforeFit: noop,\n\t\tfit: function() {\n\t\t\tvar me = this,\n\t\t\t\tvalueOrDefault = helpers.getValueOrDefault,\n\t\t\t\topts = me.options,\n\t\t\t\tglobalDefaults = Chart.defaults.global,\n\t\t\t\tdisplay = opts.display,\n\t\t\t\tfontSize = valueOrDefault(opts.fontSize, globalDefaults.defaultFontSize),\n\t\t\t\tminSize = me.minSize;\n\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\tminSize.width = me.maxWidth; // fill all the width\n\t\t\t\tminSize.height = display ? fontSize + (opts.padding * 2) : 0;\n\t\t\t} else {\n\t\t\t\tminSize.width = display ? fontSize + (opts.padding * 2) : 0;\n\t\t\t\tminSize.height = me.maxHeight; // fill all the height\n\t\t\t}\n\n\t\t\tme.width = minSize.width;\n\t\t\tme.height = minSize.height;\n\n\t\t},\n\t\tafterFit: noop,\n\n\t\t// Shared Methods\n\t\tisHorizontal: function() {\n\t\t\tvar pos = this.options.position;\n\t\t\treturn pos === 'top' || pos === 'bottom';\n\t\t},\n\n\t\t// Actualy draw the title block on the canvas\n\t\tdraw: function() {\n\t\t\tvar me = this,\n\t\t\t\tctx = me.ctx,\n\t\t\t\tvalueOrDefault = helpers.getValueOrDefault,\n\t\t\t\topts = me.options,\n\t\t\t\tglobalDefaults = Chart.defaults.global;\n\n\t\t\tif (opts.display) {\n\t\t\t\tvar fontSize = valueOrDefault(opts.fontSize, globalDefaults.defaultFontSize),\n\t\t\t\t\tfontStyle = valueOrDefault(opts.fontStyle, globalDefaults.defaultFontStyle),\n\t\t\t\t\tfontFamily = valueOrDefault(opts.fontFamily, globalDefaults.defaultFontFamily),\n\t\t\t\t\ttitleFont = helpers.fontString(fontSize, fontStyle, fontFamily),\n\t\t\t\t\trotation = 0,\n\t\t\t\t\ttitleX,\n\t\t\t\t\ttitleY,\n\t\t\t\t\ttop = me.top,\n\t\t\t\t\tleft = me.left,\n\t\t\t\t\tbottom = me.bottom,\n\t\t\t\t\tright = me.right;\n\n\t\t\t\tctx.fillStyle = valueOrDefault(opts.fontColor, globalDefaults.defaultFontColor); // render in correct colour\n\t\t\t\tctx.font = titleFont;\n\n\t\t\t\t// Horizontal\n\t\t\t\tif (me.isHorizontal()) {\n\t\t\t\t\ttitleX = left + ((right - left) / 2); // midpoint of the width\n\t\t\t\t\ttitleY = top + ((bottom - top) / 2); // midpoint of the height\n\t\t\t\t} else {\n\t\t\t\t\ttitleX = opts.position === 'left' ? left + (fontSize / 2) : right - (fontSize / 2);\n\t\t\t\t\ttitleY = top + ((bottom - top) / 2);\n\t\t\t\t\trotation = Math.PI * (opts.position === 'left' ? -0.5 : 0.5);\n\t\t\t\t}\n\n\t\t\t\tctx.save();\n\t\t\t\tctx.translate(titleX, titleY);\n\t\t\t\tctx.rotate(rotation);\n\t\t\t\tctx.textAlign = 'center';\n\t\t\t\tctx.textBaseline = 'middle';\n\t\t\t\tctx.fillText(opts.text, 0, 0);\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t});\n\n\t// Register the title plugin\n\tChart.plugins.register({\n\t\tbeforeInit: function(chartInstance) {\n\t\t\tvar opts = chartInstance.options;\n\t\t\tvar titleOpts = opts.title;\n\n\t\t\tif (titleOpts) {\n\t\t\t\tchartInstance.titleBlock = new Chart.Title({\n\t\t\t\t\tctx: chartInstance.chart.ctx,\n\t\t\t\t\toptions: titleOpts,\n\t\t\t\t\tchart: chartInstance\n\t\t\t\t});\n\n\t\t\t\tChart.layoutService.addBox(chartInstance, chartInstance.titleBlock);\n\t\t\t}\n\t\t}\n\t});\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\tvar noop = helpers.noop;\n\n\tChart.defaults.global.legend = {\n\n\t\tdisplay: true,\n\t\tposition: 'top',\n\t\tfullWidth: true, // marks that this box should take the full width of the canvas (pushing down other boxes)\n\t\treverse: false,\n\n\t\t// a callback that will handle\n\t\tonClick: function(e, legendItem) {\n\t\t\tvar index = legendItem.datasetIndex;\n\t\t\tvar ci = this.chart;\n\t\t\tvar meta = ci.getDatasetMeta(index);\n\n\t\t\t// See controller.isDatasetVisible comment\n\t\t\tmeta.hidden = meta.hidden === null? !ci.data.datasets[index].hidden : null;\n\n\t\t\t// We hid a dataset ... rerender the chart\n\t\t\tci.update();\n\t\t},\n\n\t\tonHover: null,\n\n\t\tlabels: {\n\t\t\tboxWidth: 40,\n\t\t\tpadding: 10,\n\t\t\t// Generates labels shown in the legend\n\t\t\t// Valid properties to return:\n\t\t\t// text : text to display\n\t\t\t// fillStyle : fill of coloured box\n\t\t\t// strokeStyle: stroke of coloured box\n\t\t\t// hidden : if this legend item refers to a hidden item\n\t\t\t// lineCap : cap style for line\n\t\t\t// lineDash\n\t\t\t// lineDashOffset :\n\t\t\t// lineJoin :\n\t\t\t// lineWidth :\n\t\t\tgenerateLabels: function(chart) {\n\t\t\t\tvar data = chart.data;\n\t\t\t\treturn helpers.isArray(data.datasets) ? data.datasets.map(function(dataset, i) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttext: dataset.label,\n\t\t\t\t\t\tfillStyle: (!helpers.isArray(dataset.backgroundColor) ? dataset.backgroundColor : dataset.backgroundColor[0]),\n\t\t\t\t\t\thidden: !chart.isDatasetVisible(i),\n\t\t\t\t\t\tlineCap: dataset.borderCapStyle,\n\t\t\t\t\t\tlineDash: dataset.borderDash,\n\t\t\t\t\t\tlineDashOffset: dataset.borderDashOffset,\n\t\t\t\t\t\tlineJoin: dataset.borderJoinStyle,\n\t\t\t\t\t\tlineWidth: dataset.borderWidth,\n\t\t\t\t\t\tstrokeStyle: dataset.borderColor,\n\t\t\t\t\t\tpointStyle: dataset.pointStyle,\n\n\t\t\t\t\t\t// Below is extra data used for toggling the datasets\n\t\t\t\t\t\tdatasetIndex: i\n\t\t\t\t\t};\n\t\t\t\t}, this) : [];\n\t\t\t}\n\t\t}\n\t};\n\n\tChart.Legend = Chart.Element.extend({\n\n\t\tinitialize: function(config) {\n\t\t\thelpers.extend(this, config);\n\n\t\t\t// Contains hit boxes for each dataset (in dataset order)\n\t\t\tthis.legendHitBoxes = [];\n\n\t\t\t// Are we in doughnut mode which has a different data type\n\t\t\tthis.doughnutMode = false;\n\t\t},\n\n\t\t// These methods are ordered by lifecyle. Utilities then follow.\n\t\t// Any function defined here is inherited by all legend types.\n\t\t// Any function can be extended by the legend type\n\n\t\tbeforeUpdate: noop,\n\t\tupdate: function(maxWidth, maxHeight, margins) {\n\t\t\tvar me = this;\n\n\t\t\t// Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\n\t\t\tme.beforeUpdate();\n\n\t\t\t// Absorb the master measurements\n\t\t\tme.maxWidth = maxWidth;\n\t\t\tme.maxHeight = maxHeight;\n\t\t\tme.margins = margins;\n\n\t\t\t// Dimensions\n\t\t\tme.beforeSetDimensions();\n\t\t\tme.setDimensions();\n\t\t\tme.afterSetDimensions();\n\t\t\t// Labels\n\t\t\tme.beforeBuildLabels();\n\t\t\tme.buildLabels();\n\t\t\tme.afterBuildLabels();\n\n\t\t\t// Fit\n\t\t\tme.beforeFit();\n\t\t\tme.fit();\n\t\t\tme.afterFit();\n\t\t\t//\n\t\t\tme.afterUpdate();\n\n\t\t\treturn me.minSize;\n\t\t},\n\t\tafterUpdate: noop,\n\n\t\t//\n\n\t\tbeforeSetDimensions: noop,\n\t\tsetDimensions: function() {\n\t\t\tvar me = this;\n\t\t\t// Set the unconstrained dimension before label rotation\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\t// Reset position before calculating rotation\n\t\t\t\tme.width = me.maxWidth;\n\t\t\t\tme.left = 0;\n\t\t\t\tme.right = me.width;\n\t\t\t} else {\n\t\t\t\tme.height = me.maxHeight;\n\n\t\t\t\t// Reset position before calculating rotation\n\t\t\t\tme.top = 0;\n\t\t\t\tme.bottom = me.height;\n\t\t\t}\n\n\t\t\t// Reset padding\n\t\t\tme.paddingLeft = 0;\n\t\t\tme.paddingTop = 0;\n\t\t\tme.paddingRight = 0;\n\t\t\tme.paddingBottom = 0;\n\n\t\t\t// Reset minSize\n\t\t\tme.minSize = {\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0\n\t\t\t};\n\t\t},\n\t\tafterSetDimensions: noop,\n\n\t\t//\n\n\t\tbeforeBuildLabels: noop,\n\t\tbuildLabels: function() {\n\t\t\tvar me = this;\n\t\t\tme.legendItems = me.options.labels.generateLabels.call(me, me.chart);\n\t\t\tif (me.options.reverse) {\n\t\t\t\tme.legendItems.reverse();\n\t\t\t}\n\t\t},\n\t\tafterBuildLabels: noop,\n\n\t\t//\n\n\t\tbeforeFit: noop,\n\t\tfit: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar labelOpts = opts.labels;\n\t\t\tvar display = opts.display;\n\n\t\t\tvar ctx = me.ctx;\n\n\t\t\tvar globalDefault = Chart.defaults.global,\n\t\t\t\titemOrDefault = helpers.getValueOrDefault,\n\t\t\t\tfontSize = itemOrDefault(labelOpts.fontSize, globalDefault.defaultFontSize),\n\t\t\t\tfontStyle = itemOrDefault(labelOpts.fontStyle, globalDefault.defaultFontStyle),\n\t\t\t\tfontFamily = itemOrDefault(labelOpts.fontFamily, globalDefault.defaultFontFamily),\n\t\t\t\tlabelFont = helpers.fontString(fontSize, fontStyle, fontFamily);\n\n\t\t\t// Reset hit boxes\n\t\t\tvar hitboxes = me.legendHitBoxes = [];\n\n\t\t\tvar minSize = me.minSize;\n\t\t\tvar isHorizontal = me.isHorizontal();\n\n\t\t\tif (isHorizontal) {\n\t\t\t\tminSize.width = me.maxWidth; // fill all the width\n\t\t\t\tminSize.height = display ? 10 : 0;\n\t\t\t} else {\n\t\t\t\tminSize.width = display ? 10 : 0;\n\t\t\t\tminSize.height = me.maxHeight; // fill all the height\n\t\t\t}\n\n\t\t\t// Increase sizes here\n\t\t\tif (display) {\n\t\t\t\tctx.font = labelFont;\n\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\t// Labels\n\n\t\t\t\t\t// Width of each line of legend boxes. Labels wrap onto multiple lines when there are too many to fit on one\n\t\t\t\t\tvar lineWidths = me.lineWidths = [0];\n\t\t\t\t\tvar totalHeight = me.legendItems.length ? fontSize + (labelOpts.padding) : 0;\n\n\t\t\t\t\tctx.textAlign = 'left';\n\t\t\t\t\tctx.textBaseline = 'top';\n\n\t\t\t\t\thelpers.each(me.legendItems, function(legendItem, i) {\n\t\t\t\t\t\tvar boxWidth = labelOpts.usePointStyle ?\n\t\t\t\t\t\t\tfontSize * Math.sqrt(2) :\n\t\t\t\t\t\t\tlabelOpts.boxWidth;\n\n\t\t\t\t\t\tvar width = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n\t\t\t\t\t\tif (lineWidths[lineWidths.length - 1] + width + labelOpts.padding >= me.width) {\n\t\t\t\t\t\t\ttotalHeight += fontSize + (labelOpts.padding);\n\t\t\t\t\t\t\tlineWidths[lineWidths.length] = me.left;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Store the hitbox width and height here. Final position will be updated in `draw`\n\t\t\t\t\t\thitboxes[i] = {\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\theight: fontSize\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tlineWidths[lineWidths.length - 1] += width + labelOpts.padding;\n\t\t\t\t\t});\n\n\t\t\t\t\tminSize.height += totalHeight;\n\n\t\t\t\t} else {\n\t\t\t\t\tvar vPadding = labelOpts.padding;\n\t\t\t\t\tvar columnWidths = me.columnWidths = [];\n\t\t\t\t\tvar totalWidth = labelOpts.padding;\n\t\t\t\t\tvar currentColWidth = 0;\n\t\t\t\t\tvar currentColHeight = 0;\n\t\t\t\t\tvar itemHeight = fontSize + vPadding;\n\n\t\t\t\t\thelpers.each(me.legendItems, function(legendItem, i) {\n\t\t\t\t\t\t// If usePointStyle is set, multiple boxWidth by 2 since it represents\n\t\t\t\t\t\t// the radius and not truly the width\n\t\t\t\t\t\tvar boxWidth = labelOpts.usePointStyle ? 2 * labelOpts.boxWidth : labelOpts.boxWidth;\n\n\t\t\t\t\t\tvar itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n\n\t\t\t\t\t\t// If too tall, go to new column\n\t\t\t\t\t\tif (currentColHeight + itemHeight > minSize.height) {\n\t\t\t\t\t\t\ttotalWidth += currentColWidth + labelOpts.padding;\n\t\t\t\t\t\t\tcolumnWidths.push(currentColWidth); // previous column width\n\n\t\t\t\t\t\t\tcurrentColWidth = 0;\n\t\t\t\t\t\t\tcurrentColHeight = 0;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Get max width\n\t\t\t\t\t\tcurrentColWidth = Math.max(currentColWidth, itemWidth);\n\t\t\t\t\t\tcurrentColHeight += itemHeight;\n\n\t\t\t\t\t\t// Store the hitbox width and height here. Final position will be updated in `draw`\n\t\t\t\t\t\thitboxes[i] = {\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\twidth: itemWidth,\n\t\t\t\t\t\t\theight: fontSize\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\n\t\t\t\t\ttotalWidth += currentColWidth;\n\t\t\t\t\tcolumnWidths.push(currentColWidth);\n\t\t\t\t\tminSize.width += totalWidth;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tme.width = minSize.width;\n\t\t\tme.height = minSize.height;\n\t\t},\n\t\tafterFit: noop,\n\n\t\t// Shared Methods\n\t\tisHorizontal: function() {\n\t\t\treturn this.options.position === 'top' || this.options.position === 'bottom';\n\t\t},\n\n\t\t// Actualy draw the legend on the canvas\n\t\tdraw: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar labelOpts = opts.labels;\n\t\t\tvar globalDefault = Chart.defaults.global,\n\t\t\t\tlineDefault = globalDefault.elements.line,\n\t\t\t\tlegendWidth = me.width,\n\t\t\t\tlineWidths = me.lineWidths;\n\n\t\t\tif (opts.display) {\n\t\t\t\tvar ctx = me.ctx,\n\t\t\t\t\tcursor,\n\t\t\t\t\titemOrDefault = helpers.getValueOrDefault,\n\t\t\t\t\tfontColor = itemOrDefault(labelOpts.fontColor, globalDefault.defaultFontColor),\n\t\t\t\t\tfontSize = itemOrDefault(labelOpts.fontSize, globalDefault.defaultFontSize),\n\t\t\t\t\tfontStyle = itemOrDefault(labelOpts.fontStyle, globalDefault.defaultFontStyle),\n\t\t\t\t\tfontFamily = itemOrDefault(labelOpts.fontFamily, globalDefault.defaultFontFamily),\n\t\t\t\t\tlabelFont = helpers.fontString(fontSize, fontStyle, fontFamily);\n\n\t\t\t\t// Canvas setup\n\t\t\t\tctx.textAlign = 'left';\n\t\t\t\tctx.textBaseline = 'top';\n\t\t\t\tctx.lineWidth = 0.5;\n\t\t\t\tctx.strokeStyle = fontColor; // for strikethrough effect\n\t\t\t\tctx.fillStyle = fontColor; // render in correct colour\n\t\t\t\tctx.font = labelFont;\n\n\t\t\t\tvar boxWidth = labelOpts.boxWidth,\n\t\t\t\t\thitboxes = me.legendHitBoxes;\n\n\t\t\t\t// current position\n\t\t\t\tvar drawLegendBox = function(x, y, legendItem) {\n\t\t\t\t\tif (isNaN(boxWidth) || boxWidth <= 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Set the ctx for the box\n\t\t\t\t\tctx.save();\n\n\t\t\t\t\tctx.fillStyle = itemOrDefault(legendItem.fillStyle, globalDefault.defaultColor);\n\t\t\t\t\tctx.lineCap = itemOrDefault(legendItem.lineCap, lineDefault.borderCapStyle);\n\t\t\t\t\tctx.lineDashOffset = itemOrDefault(legendItem.lineDashOffset, lineDefault.borderDashOffset);\n\t\t\t\t\tctx.lineJoin = itemOrDefault(legendItem.lineJoin, lineDefault.borderJoinStyle);\n\t\t\t\t\tctx.lineWidth = itemOrDefault(legendItem.lineWidth, lineDefault.borderWidth);\n\t\t\t\t\tctx.strokeStyle = itemOrDefault(legendItem.strokeStyle, globalDefault.defaultColor);\n\t\t\t\t\tvar isLineWidthZero = (itemOrDefault(legendItem.lineWidth, lineDefault.borderWidth) === 0);\n\n\t\t\t\t\tif (ctx.setLineDash) {\n\t\t\t\t\t\t// IE 9 and 10 do not support line dash\n\t\t\t\t\t\tctx.setLineDash(itemOrDefault(legendItem.lineDash, lineDefault.borderDash));\n\t\t\t\t\t}\n\n\t\t\t\t\tif (opts.labels && opts.labels.usePointStyle) {\n\t\t\t\t\t\t// Recalulate x and y for drawPoint() because its expecting\n\t\t\t\t\t\t// x and y to be center of figure (instead of top left)\n\t\t\t\t\t\tvar radius = fontSize * Math.SQRT2 / 2;\n\t\t\t\t\t\tvar offSet = radius / Math.SQRT2;\n\t\t\t\t\t\tvar centerX = x + offSet;\n\t\t\t\t\t\tvar centerY = y + offSet;\n\n\t\t\t\t\t\t// Draw pointStyle as legend symbol\n\t\t\t\t\t\tChart.canvasHelpers.drawPoint(ctx, legendItem.pointStyle, radius, centerX, centerY);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Draw box as legend symbol\n\t\t\t\t\t\tif (!isLineWidthZero) {\n\t\t\t\t\t\t\tctx.strokeRect(x, y, boxWidth, fontSize);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tctx.fillRect(x, y, boxWidth, fontSize);\n\t\t\t\t\t}\n\n\t\t\t\t\tctx.restore();\n\t\t\t\t};\n\t\t\t\tvar fillText = function(x, y, legendItem, textWidth) {\n\t\t\t\t\tctx.fillText(legendItem.text, boxWidth + (fontSize / 2) + x, y);\n\n\t\t\t\t\tif (legendItem.hidden) {\n\t\t\t\t\t\t// Strikethrough the text if hidden\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.lineWidth = 2;\n\t\t\t\t\t\tctx.moveTo(boxWidth + (fontSize / 2) + x, y + (fontSize / 2));\n\t\t\t\t\t\tctx.lineTo(boxWidth + (fontSize / 2) + x + textWidth, y + (fontSize / 2));\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t// Horizontal\n\t\t\t\tvar isHorizontal = me.isHorizontal();\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\tcursor = {\n\t\t\t\t\t\tx: me.left + ((legendWidth - lineWidths[0]) / 2),\n\t\t\t\t\t\ty: me.top + labelOpts.padding,\n\t\t\t\t\t\tline: 0\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tcursor = {\n\t\t\t\t\t\tx: me.left + labelOpts.padding,\n\t\t\t\t\t\ty: me.top + labelOpts.padding,\n\t\t\t\t\t\tline: 0\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tvar itemHeight = fontSize + labelOpts.padding;\n\t\t\t\thelpers.each(me.legendItems, function(legendItem, i) {\n\t\t\t\t\tvar textWidth = ctx.measureText(legendItem.text).width,\n\t\t\t\t\t\twidth = labelOpts.usePointStyle ?\n\t\t\t\t\t\t\tfontSize + (fontSize / 2) + textWidth :\n\t\t\t\t\t\t\tboxWidth + (fontSize / 2) + textWidth,\n\t\t\t\t\t\tx = cursor.x,\n\t\t\t\t\t\ty = cursor.y;\n\n\t\t\t\t\tif (isHorizontal) {\n\t\t\t\t\t\tif (x + width >= legendWidth) {\n\t\t\t\t\t\t\ty = cursor.y += itemHeight;\n\t\t\t\t\t\t\tcursor.line++;\n\t\t\t\t\t\t\tx = cursor.x = me.left + ((legendWidth - lineWidths[cursor.line]) / 2);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (y + itemHeight > me.bottom) {\n\t\t\t\t\t\tx = cursor.x = x + me.columnWidths[cursor.line] + labelOpts.padding;\n\t\t\t\t\t\ty = cursor.y = me.top;\n\t\t\t\t\t\tcursor.line++;\n\t\t\t\t\t}\n\n\t\t\t\t\tdrawLegendBox(x, y, legendItem);\n\n\t\t\t\t\thitboxes[i].left = x;\n\t\t\t\t\thitboxes[i].top = y;\n\n\t\t\t\t\t// Fill the actual label\n\t\t\t\t\tfillText(x, y, legendItem, textWidth);\n\n\t\t\t\t\tif (isHorizontal) {\n\t\t\t\t\t\tcursor.x += width + (labelOpts.padding);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcursor.y += itemHeight;\n\t\t\t\t\t}\n\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t// Handle an event\n\t\thandleEvent: function(e) {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar type = e.type === 'mouseup' ? 'click' : e.type;\n\n\t\t\tif (type === 'mousemove') {\n\t\t\t\tif (!opts.onHover) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else if (type === 'click') {\n\t\t\t\tif (!opts.onClick) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar position = helpers.getRelativePosition(e, me.chart.chart),\n\t\t\t\tx = position.x,\n\t\t\t\ty = position.y;\n\n\t\t\tif (x >= me.left && x <= me.right && y >= me.top && y <= me.bottom) {\n\t\t\t\t// See if we are touching one of the dataset boxes\n\t\t\t\tvar lh = me.legendHitBoxes;\n\t\t\t\tfor (var i = 0; i < lh.length; ++i) {\n\t\t\t\t\tvar hitBox = lh[i];\n\n\t\t\t\t\tif (x >= hitBox.left && x <= hitBox.left + hitBox.width && y >= hitBox.top && y <= hitBox.top + hitBox.height) {\n\t\t\t\t\t\t// Touching an element\n\t\t\t\t\t\tif (type === 'click') {\n\t\t\t\t\t\t\topts.onClick.call(me, e, me.legendItems[i]);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t} else if (type === 'mousemove') {\n\t\t\t\t\t\t\topts.onHover.call(me, e, me.legendItems[i]);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t// Register the legend plugin\n\tChart.plugins.register({\n\t\tbeforeInit: function(chartInstance) {\n\t\t\tvar opts = chartInstance.options;\n\t\t\tvar legendOpts = opts.legend;\n\n\t\t\tif (legendOpts) {\n\t\t\t\tchartInstance.legend = new Chart.Legend({\n\t\t\t\t\tctx: chartInstance.chart.ctx,\n\t\t\t\t\toptions: legendOpts,\n\t\t\t\t\tchart: chartInstance\n\t\t\t\t});\n\n\t\t\t\tChart.layoutService.addBox(chartInstance, chartInstance.legend);\n\t\t\t}\n\t\t}\n\t});\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.global.tooltips = {\n\t\tenabled: true,\n\t\tcustom: null,\n\t\tmode: 'single',\n\t\tbackgroundColor: 'rgba(0,0,0,0.8)',\n\t\ttitleFontStyle: 'bold',\n\t\ttitleSpacing: 2,\n\t\ttitleMarginBottom: 6,\n\t\ttitleFontColor: '#fff',\n\t\ttitleAlign: 'left',\n\t\tbodySpacing: 2,\n\t\tbodyFontColor: '#fff',\n\t\tbodyAlign: 'left',\n\t\tfooterFontStyle: 'bold',\n\t\tfooterSpacing: 2,\n\t\tfooterMarginTop: 6,\n\t\tfooterFontColor: '#fff',\n\t\tfooterAlign: 'left',\n\t\tyPadding: 6,\n\t\txPadding: 6,\n\t\tyAlign: 'center',\n\t\txAlign: 'center',\n\t\tcaretSize: 5,\n\t\tcornerRadius: 6,\n\t\tmultiKeyBackground: '#fff',\n\t\tcallbacks: {\n\t\t\t// Args are: (tooltipItems, data)\n\t\t\tbeforeTitle: helpers.noop,\n\t\t\ttitle: function(tooltipItems, data) {\n\t\t\t\t// Pick first xLabel for now\n\t\t\t\tvar title = '';\n\t\t\t\tvar labels = data.labels;\n\t\t\t\tvar labelCount = labels ? labels.length : 0;\n\n\t\t\t\tif (tooltipItems.length > 0) {\n\t\t\t\t\tvar item = tooltipItems[0];\n\n\t\t\t\t\tif (item.xLabel) {\n\t\t\t\t\t\ttitle = item.xLabel;\n\t\t\t\t\t} else if (labelCount > 0 && item.index < labelCount) {\n\t\t\t\t\t\ttitle = labels[item.index];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn title;\n\t\t\t},\n\t\t\tafterTitle: helpers.noop,\n\n\t\t\t// Args are: (tooltipItems, data)\n\t\t\tbeforeBody: helpers.noop,\n\n\t\t\t// Args are: (tooltipItem, data)\n\t\t\tbeforeLabel: helpers.noop,\n\t\t\tlabel: function(tooltipItem, data) {\n\t\t\t\tvar datasetLabel = data.datasets[tooltipItem.datasetIndex].label || '';\n\t\t\t\treturn datasetLabel + ': ' + tooltipItem.yLabel;\n\t\t\t},\n\t\t\tlabelColor: function(tooltipItem, chartInstance) {\n\t\t\t\tvar meta = chartInstance.getDatasetMeta(tooltipItem.datasetIndex);\n\t\t\t\tvar activeElement = meta.data[tooltipItem.index];\n\t\t\t\tvar view = activeElement._view;\n\t\t\t\treturn {\n\t\t\t\t\tborderColor: view.borderColor,\n\t\t\t\t\tbackgroundColor: view.backgroundColor\n\t\t\t\t};\n\t\t\t},\n\t\t\tafterLabel: helpers.noop,\n\n\t\t\t// Args are: (tooltipItems, data)\n\t\t\tafterBody: helpers.noop,\n\n\t\t\t// Args are: (tooltipItems, data)\n\t\t\tbeforeFooter: helpers.noop,\n\t\t\tfooter: helpers.noop,\n\t\t\tafterFooter: helpers.noop\n\t\t}\n\t};\n\n\t// Helper to push or concat based on if the 2nd parameter is an array or not\n\tfunction pushOrConcat(base, toPush) {\n\t\tif (toPush) {\n\t\t\tif (helpers.isArray(toPush)) {\n\t\t\t\t// base = base.concat(toPush);\n\t\t\t\tArray.prototype.push.apply(base, toPush);\n\t\t\t} else {\n\t\t\t\tbase.push(toPush);\n\t\t\t}\n\t\t}\n\n\t\treturn base;\n\t}\n\n\tfunction getAveragePosition(elements) {\n\t\tif (!elements.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar i, len;\n\t\tvar xPositions = [];\n\t\tvar yPositions = [];\n\n\t\tfor (i = 0, len = elements.length; i < len; ++i) {\n\t\t\tvar el = elements[i];\n\t\t\tif (el && el.hasValue()) {\n\t\t\t\tvar pos = el.tooltipPosition();\n\t\t\t\txPositions.push(pos.x);\n\t\t\t\tyPositions.push(pos.y);\n\t\t\t}\n\t\t}\n\n\t\tvar x = 0,\n\t\t\ty = 0;\n\t\tfor (i = 0; i < xPositions.length; ++i) {\n\t\t\tif (xPositions[i]) {\n\t\t\t\tx += xPositions[i];\n\t\t\t\ty += yPositions[i];\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tx: Math.round(x / xPositions.length),\n\t\t\ty: Math.round(y / xPositions.length)\n\t\t};\n\t}\n\n\t// Private helper to create a tooltip iteam model\n\t// @param element : the chart element (point, arc, bar) to create the tooltip item for\n\t// @return : new tooltip item\n\tfunction createTooltipItem(element) {\n\t\tvar xScale = element._xScale;\n\t\tvar yScale = element._yScale || element._scale; // handle radar || polarArea charts\n\t\tvar index = element._index,\n\t\t\tdatasetIndex = element._datasetIndex;\n\n\t\treturn {\n\t\t\txLabel: xScale ? xScale.getLabelForIndex(index, datasetIndex) : '',\n\t\t\tyLabel: yScale ? yScale.getLabelForIndex(index, datasetIndex) : '',\n\t\t\tindex: index,\n\t\t\tdatasetIndex: datasetIndex\n\t\t};\n\t}\n\n\tChart.Tooltip = Chart.Element.extend({\n\t\tinitialize: function() {\n\t\t\tvar me = this;\n\t\t\tvar globalDefaults = Chart.defaults.global;\n\t\t\tvar tooltipOpts = me._options;\n\t\t\tvar getValueOrDefault = helpers.getValueOrDefault;\n\n\t\t\thelpers.extend(me, {\n\t\t\t\t_model: {\n\t\t\t\t\t// Positioning\n\t\t\t\t\txPadding: tooltipOpts.xPadding,\n\t\t\t\t\tyPadding: tooltipOpts.yPadding,\n\t\t\t\t\txAlign: tooltipOpts.xAlign,\n\t\t\t\t\tyAlign: tooltipOpts.yAlign,\n\n\t\t\t\t\t// Body\n\t\t\t\t\tbodyFontColor: tooltipOpts.bodyFontColor,\n\t\t\t\t\t_bodyFontFamily: getValueOrDefault(tooltipOpts.bodyFontFamily, globalDefaults.defaultFontFamily),\n\t\t\t\t\t_bodyFontStyle: getValueOrDefault(tooltipOpts.bodyFontStyle, globalDefaults.defaultFontStyle),\n\t\t\t\t\t_bodyAlign: tooltipOpts.bodyAlign,\n\t\t\t\t\tbodyFontSize: getValueOrDefault(tooltipOpts.bodyFontSize, globalDefaults.defaultFontSize),\n\t\t\t\t\tbodySpacing: tooltipOpts.bodySpacing,\n\n\t\t\t\t\t// Title\n\t\t\t\t\ttitleFontColor: tooltipOpts.titleFontColor,\n\t\t\t\t\t_titleFontFamily: getValueOrDefault(tooltipOpts.titleFontFamily, globalDefaults.defaultFontFamily),\n\t\t\t\t\t_titleFontStyle: getValueOrDefault(tooltipOpts.titleFontStyle, globalDefaults.defaultFontStyle),\n\t\t\t\t\ttitleFontSize: getValueOrDefault(tooltipOpts.titleFontSize, globalDefaults.defaultFontSize),\n\t\t\t\t\t_titleAlign: tooltipOpts.titleAlign,\n\t\t\t\t\ttitleSpacing: tooltipOpts.titleSpacing,\n\t\t\t\t\ttitleMarginBottom: tooltipOpts.titleMarginBottom,\n\n\t\t\t\t\t// Footer\n\t\t\t\t\tfooterFontColor: tooltipOpts.footerFontColor,\n\t\t\t\t\t_footerFontFamily: getValueOrDefault(tooltipOpts.footerFontFamily, globalDefaults.defaultFontFamily),\n\t\t\t\t\t_footerFontStyle: getValueOrDefault(tooltipOpts.footerFontStyle, globalDefaults.defaultFontStyle),\n\t\t\t\t\tfooterFontSize: getValueOrDefault(tooltipOpts.footerFontSize, globalDefaults.defaultFontSize),\n\t\t\t\t\t_footerAlign: tooltipOpts.footerAlign,\n\t\t\t\t\tfooterSpacing: tooltipOpts.footerSpacing,\n\t\t\t\t\tfooterMarginTop: tooltipOpts.footerMarginTop,\n\n\t\t\t\t\t// Appearance\n\t\t\t\t\tcaretSize: tooltipOpts.caretSize,\n\t\t\t\t\tcornerRadius: tooltipOpts.cornerRadius,\n\t\t\t\t\tbackgroundColor: tooltipOpts.backgroundColor,\n\t\t\t\t\topacity: 0,\n\t\t\t\t\tlegendColorBackground: tooltipOpts.multiKeyBackground\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t// Get the title\n\t\t// Args are: (tooltipItem, data)\n\t\tgetTitle: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me._options;\n\t\t\tvar callbacks = opts.callbacks;\n\n\t\t\tvar beforeTitle = callbacks.beforeTitle.apply(me, arguments),\n\t\t\t\ttitle = callbacks.title.apply(me, arguments),\n\t\t\t\tafterTitle = callbacks.afterTitle.apply(me, arguments);\n\n\t\t\tvar lines = [];\n\t\t\tlines = pushOrConcat(lines, beforeTitle);\n\t\t\tlines = pushOrConcat(lines, title);\n\t\t\tlines = pushOrConcat(lines, afterTitle);\n\n\t\t\treturn lines;\n\t\t},\n\n\t\t// Args are: (tooltipItem, data)\n\t\tgetBeforeBody: function() {\n\t\t\tvar lines = this._options.callbacks.beforeBody.apply(this, arguments);\n\t\t\treturn helpers.isArray(lines) ? lines : lines !== undefined ? [lines] : [];\n\t\t},\n\n\t\t// Args are: (tooltipItem, data)\n\t\tgetBody: function(tooltipItems, data) {\n\t\t\tvar me = this;\n\t\t\tvar callbacks = me._options.callbacks;\n\t\t\tvar bodyItems = [];\n\n\t\t\thelpers.each(tooltipItems, function(tooltipItem) {\n\t\t\t\tvar bodyItem = {\n\t\t\t\t\tbefore: [],\n\t\t\t\t\tlines: [],\n\t\t\t\t\tafter: []\n\t\t\t\t};\n\t\t\t\tpushOrConcat(bodyItem.before, callbacks.beforeLabel.call(me, tooltipItem, data));\n\t\t\t\tpushOrConcat(bodyItem.lines, callbacks.label.call(me, tooltipItem, data));\n\t\t\t\tpushOrConcat(bodyItem.after, callbacks.afterLabel.call(me, tooltipItem, data));\n\n\t\t\t\tbodyItems.push(bodyItem);\n\t\t\t});\n\n\t\t\treturn bodyItems;\n\t\t},\n\n\t\t// Args are: (tooltipItem, data)\n\t\tgetAfterBody: function() {\n\t\t\tvar lines = this._options.callbacks.afterBody.apply(this, arguments);\n\t\t\treturn helpers.isArray(lines) ? lines : lines !== undefined ? [lines] : [];\n\t\t},\n\n\t\t// Get the footer and beforeFooter and afterFooter lines\n\t\t// Args are: (tooltipItem, data)\n\t\tgetFooter: function() {\n\t\t\tvar me = this;\n\t\t\tvar callbacks = me._options.callbacks;\n\n\t\t\tvar beforeFooter = callbacks.beforeFooter.apply(me, arguments);\n\t\t\tvar footer = callbacks.footer.apply(me, arguments);\n\t\t\tvar afterFooter = callbacks.afterFooter.apply(me, arguments);\n\n\t\t\tvar lines = [];\n\t\t\tlines = pushOrConcat(lines, beforeFooter);\n\t\t\tlines = pushOrConcat(lines, footer);\n\t\t\tlines = pushOrConcat(lines, afterFooter);\n\n\t\t\treturn lines;\n\t\t},\n\n\t\tupdate: function(changed) {\n\t\t\tvar me = this;\n\t\t\tvar opts = me._options;\n\t\t\tvar model = me._model;\n\t\t\tvar active = me._active;\n\n\t\t\tvar data = me._data;\n\t\t\tvar chartInstance = me._chartInstance;\n\n\t\t\tvar i, len;\n\n\t\t\tif (active.length) {\n\t\t\t\tmodel.opacity = 1;\n\n\t\t\t\tvar labelColors = [],\n\t\t\t\t\ttooltipPosition = getAveragePosition(active);\n\n\t\t\t\tvar tooltipItems = [];\n\t\t\t\tfor (i = 0, len = active.length; i < len; ++i) {\n\t\t\t\t\ttooltipItems.push(createTooltipItem(active[i]));\n\t\t\t\t}\n\n\t\t\t\t// If the user provided a sorting function, use it to modify the tooltip items\n\t\t\t\tif (opts.itemSort) {\n\t\t\t\t\ttooltipItems = tooltipItems.sort(function(a, b) {\n\t\t\t\t\t\treturn opts.itemSort(a, b, data);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// If there is more than one item, show color items\n\t\t\t\tif (active.length > 1) {\n\t\t\t\t\thelpers.each(tooltipItems, function(tooltipItem) {\n\t\t\t\t\t\tlabelColors.push(opts.callbacks.labelColor.call(me, tooltipItem, chartInstance));\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Build the Text Lines\n\t\t\t\thelpers.extend(model, {\n\t\t\t\t\ttitle: me.getTitle(tooltipItems, data),\n\t\t\t\t\tbeforeBody: me.getBeforeBody(tooltipItems, data),\n\t\t\t\t\tbody: me.getBody(tooltipItems, data),\n\t\t\t\t\tafterBody: me.getAfterBody(tooltipItems, data),\n\t\t\t\t\tfooter: me.getFooter(tooltipItems, data),\n\t\t\t\t\tx: Math.round(tooltipPosition.x),\n\t\t\t\t\ty: Math.round(tooltipPosition.y),\n\t\t\t\t\tcaretPadding: helpers.getValueOrDefault(tooltipPosition.padding, 2),\n\t\t\t\t\tlabelColors: labelColors\n\t\t\t\t});\n\n\t\t\t\t// We need to determine alignment of\n\t\t\t\tvar tooltipSize = me.getTooltipSize(model);\n\t\t\t\tme.determineAlignment(tooltipSize); // Smart Tooltip placement to stay on the canvas\n\n\t\t\t\thelpers.extend(model, me.getBackgroundPoint(model, tooltipSize));\n\t\t\t} else {\n\t\t\t\tme._model.opacity = 0;\n\t\t\t}\n\n\t\t\tif (changed && opts.custom) {\n\t\t\t\topts.custom.call(me, model);\n\t\t\t}\n\n\t\t\treturn me;\n\t\t},\n\t\tgetTooltipSize: function(vm) {\n\t\t\tvar ctx = this._chart.ctx;\n\n\t\t\tvar size = {\n\t\t\t\theight: vm.yPadding * 2, // Tooltip Padding\n\t\t\t\twidth: 0\n\t\t\t};\n\n\t\t\t// Count of all lines in the body\n\t\t\tvar body = vm.body;\n\t\t\tvar combinedBodyLength = body.reduce(function(count, bodyItem) {\n\t\t\t\treturn count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length;\n\t\t\t}, 0);\n\t\t\tcombinedBodyLength += vm.beforeBody.length + vm.afterBody.length;\n\n\t\t\tvar titleLineCount = vm.title.length;\n\t\t\tvar footerLineCount = vm.footer.length;\n\t\t\tvar titleFontSize = vm.titleFontSize,\n\t\t\t\tbodyFontSize = vm.bodyFontSize,\n\t\t\t\tfooterFontSize = vm.footerFontSize;\n\n\t\t\tsize.height += titleLineCount * titleFontSize; // Title Lines\n\t\t\tsize.height += (titleLineCount - 1) * vm.titleSpacing; // Title Line Spacing\n\t\t\tsize.height += titleLineCount ? vm.titleMarginBottom : 0; // Title's bottom Margin\n\t\t\tsize.height += combinedBodyLength * bodyFontSize; // Body Lines\n\t\t\tsize.height += combinedBodyLength ? (combinedBodyLength - 1) * vm.bodySpacing : 0; // Body Line Spacing\n\t\t\tsize.height += footerLineCount ? vm.footerMarginTop : 0; // Footer Margin\n\t\t\tsize.height += footerLineCount * (footerFontSize); // Footer Lines\n\t\t\tsize.height += footerLineCount ? (footerLineCount - 1) * vm.footerSpacing : 0; // Footer Line Spacing\n\n\t\t\t// Title width\n\t\t\tvar widthPadding = 0;\n\t\t\tvar maxLineWidth = function(line) {\n\t\t\t\tsize.width = Math.max(size.width, ctx.measureText(line).width + widthPadding);\n\t\t\t};\n\n\t\t\tctx.font = helpers.fontString(titleFontSize, vm._titleFontStyle, vm._titleFontFamily);\n\t\t\thelpers.each(vm.title, maxLineWidth);\n\n\t\t\t// Body width\n\t\t\tctx.font = helpers.fontString(bodyFontSize, vm._bodyFontStyle, vm._bodyFontFamily);\n\t\t\thelpers.each(vm.beforeBody.concat(vm.afterBody), maxLineWidth);\n\n\t\t\t// Body lines may include some extra width due to the color box\n\t\t\twidthPadding = body.length > 1 ? (bodyFontSize + 2) : 0;\n\t\t\thelpers.each(body, function(bodyItem) {\n\t\t\t\thelpers.each(bodyItem.before, maxLineWidth);\n\t\t\t\thelpers.each(bodyItem.lines, maxLineWidth);\n\t\t\t\thelpers.each(bodyItem.after, maxLineWidth);\n\t\t\t});\n\n\t\t\t// Reset back to 0\n\t\t\twidthPadding = 0;\n\n\t\t\t// Footer width\n\t\t\tctx.font = helpers.fontString(footerFontSize, vm._footerFontStyle, vm._footerFontFamily);\n\t\t\thelpers.each(vm.footer, maxLineWidth);\n\n\t\t\t// Add padding\n\t\t\tsize.width += 2 * vm.xPadding;\n\n\t\t\treturn size;\n\t\t},\n\t\tdetermineAlignment: function(size) {\n\t\t\tvar me = this;\n\t\t\tvar model = me._model;\n\t\t\tvar chart = me._chart;\n\t\t\tvar chartArea = me._chartInstance.chartArea;\n\n\t\t\tif (model.y < size.height) {\n\t\t\t\tmodel.yAlign = 'top';\n\t\t\t} else if (model.y > (chart.height - size.height)) {\n\t\t\t\tmodel.yAlign = 'bottom';\n\t\t\t}\n\n\t\t\tvar lf, rf; // functions to determine left, right alignment\n\t\t\tvar olf, orf; // functions to determine if left/right alignment causes tooltip to go outside chart\n\t\t\tvar yf; // function to get the y alignment if the tooltip goes outside of the left or right edges\n\t\t\tvar midX = (chartArea.left + chartArea.right) / 2;\n\t\t\tvar midY = (chartArea.top + chartArea.bottom) / 2;\n\n\t\t\tif (model.yAlign === 'center') {\n\t\t\t\tlf = function(x) {\n\t\t\t\t\treturn x <= midX;\n\t\t\t\t};\n\t\t\t\trf = function(x) {\n\t\t\t\t\treturn x > midX;\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tlf = function(x) {\n\t\t\t\t\treturn x <= (size.width / 2);\n\t\t\t\t};\n\t\t\t\trf = function(x) {\n\t\t\t\t\treturn x >= (chart.width - (size.width / 2));\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tolf = function(x) {\n\t\t\t\treturn x + size.width > chart.width;\n\t\t\t};\n\t\t\torf = function(x) {\n\t\t\t\treturn x - size.width < 0;\n\t\t\t};\n\t\t\tyf = function(y) {\n\t\t\t\treturn y <= midY ? 'top' : 'bottom';\n\t\t\t};\n\n\t\t\tif (lf(model.x)) {\n\t\t\t\tmodel.xAlign = 'left';\n\n\t\t\t\t// Is tooltip too wide and goes over the right side of the chart.?\n\t\t\t\tif (olf(model.x)) {\n\t\t\t\t\tmodel.xAlign = 'center';\n\t\t\t\t\tmodel.yAlign = yf(model.y);\n\t\t\t\t}\n\t\t\t} else if (rf(model.x)) {\n\t\t\t\tmodel.xAlign = 'right';\n\n\t\t\t\t// Is tooltip too wide and goes outside left edge of canvas?\n\t\t\t\tif (orf(model.x)) {\n\t\t\t\t\tmodel.xAlign = 'center';\n\t\t\t\t\tmodel.yAlign = yf(model.y);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgetBackgroundPoint: function(vm, size) {\n\t\t\t// Background Position\n\t\t\tvar pt = {\n\t\t\t\tx: vm.x,\n\t\t\t\ty: vm.y\n\t\t\t};\n\n\t\t\tvar caretSize = vm.caretSize,\n\t\t\t\tcaretPadding = vm.caretPadding,\n\t\t\t\tcornerRadius = vm.cornerRadius,\n\t\t\t\txAlign = vm.xAlign,\n\t\t\t\tyAlign = vm.yAlign,\n\t\t\t\tpaddingAndSize = caretSize + caretPadding,\n\t\t\t\tradiusAndPadding = cornerRadius + caretPadding;\n\n\t\t\tif (xAlign === 'right') {\n\t\t\t\tpt.x -= size.width;\n\t\t\t} else if (xAlign === 'center') {\n\t\t\t\tpt.x -= (size.width / 2);\n\t\t\t}\n\n\t\t\tif (yAlign === 'top') {\n\t\t\t\tpt.y += paddingAndSize;\n\t\t\t} else if (yAlign === 'bottom') {\n\t\t\t\tpt.y -= size.height + paddingAndSize;\n\t\t\t} else {\n\t\t\t\tpt.y -= (size.height / 2);\n\t\t\t}\n\n\t\t\tif (yAlign === 'center') {\n\t\t\t\tif (xAlign === 'left') {\n\t\t\t\t\tpt.x += paddingAndSize;\n\t\t\t\t} else if (xAlign === 'right') {\n\t\t\t\t\tpt.x -= paddingAndSize;\n\t\t\t\t}\n\t\t\t} else if (xAlign === 'left') {\n\t\t\t\tpt.x -= radiusAndPadding;\n\t\t\t} else if (xAlign === 'right') {\n\t\t\t\tpt.x += radiusAndPadding;\n\t\t\t}\n\n\t\t\treturn pt;\n\t\t},\n\t\tdrawCaret: function(tooltipPoint, size, opacity) {\n\t\t\tvar vm = this._view;\n\t\t\tvar ctx = this._chart.ctx;\n\t\t\tvar x1, x2, x3;\n\t\t\tvar y1, y2, y3;\n\t\t\tvar caretSize = vm.caretSize;\n\t\t\tvar cornerRadius = vm.cornerRadius;\n\t\t\tvar xAlign = vm.xAlign,\n\t\t\t\tyAlign = vm.yAlign;\n\t\t\tvar ptX = tooltipPoint.x,\n\t\t\t\tptY = tooltipPoint.y;\n\t\t\tvar width = size.width,\n\t\t\t\theight = size.height;\n\n\t\t\tif (yAlign === 'center') {\n\t\t\t\t// Left or right side\n\t\t\t\tif (xAlign === 'left') {\n\t\t\t\t\tx1 = ptX;\n\t\t\t\t\tx2 = x1 - caretSize;\n\t\t\t\t\tx3 = x1;\n\t\t\t\t} else {\n\t\t\t\t\tx1 = ptX + width;\n\t\t\t\t\tx2 = x1 + caretSize;\n\t\t\t\t\tx3 = x1;\n\t\t\t\t}\n\n\t\t\t\ty2 = ptY + (height / 2);\n\t\t\t\ty1 = y2 - caretSize;\n\t\t\t\ty3 = y2 + caretSize;\n\t\t\t} else {\n\t\t\t\tif (xAlign === 'left') {\n\t\t\t\t\tx1 = ptX + cornerRadius;\n\t\t\t\t\tx2 = x1 + caretSize;\n\t\t\t\t\tx3 = x2 + caretSize;\n\t\t\t\t} else if (xAlign === 'right') {\n\t\t\t\t\tx1 = ptX + width - cornerRadius;\n\t\t\t\t\tx2 = x1 - caretSize;\n\t\t\t\t\tx3 = x2 - caretSize;\n\t\t\t\t} else {\n\t\t\t\t\tx2 = ptX + (width / 2);\n\t\t\t\t\tx1 = x2 - caretSize;\n\t\t\t\t\tx3 = x2 + caretSize;\n\t\t\t\t}\n\n\t\t\t\tif (yAlign === 'top') {\n\t\t\t\t\ty1 = ptY;\n\t\t\t\t\ty2 = y1 - caretSize;\n\t\t\t\t\ty3 = y1;\n\t\t\t\t} else {\n\t\t\t\t\ty1 = ptY + height;\n\t\t\t\t\ty2 = y1 + caretSize;\n\t\t\t\t\ty3 = y1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar bgColor = helpers.color(vm.backgroundColor);\n\t\t\tctx.fillStyle = bgColor.alpha(opacity * bgColor.alpha()).rgbString();\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x1, y1);\n\t\t\tctx.lineTo(x2, y2);\n\t\t\tctx.lineTo(x3, y3);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\t\t},\n\t\tdrawTitle: function(pt, vm, ctx, opacity) {\n\t\t\tvar title = vm.title;\n\n\t\t\tif (title.length) {\n\t\t\t\tctx.textAlign = vm._titleAlign;\n\t\t\t\tctx.textBaseline = 'top';\n\n\t\t\t\tvar titleFontSize = vm.titleFontSize,\n\t\t\t\t\ttitleSpacing = vm.titleSpacing;\n\n\t\t\t\tvar titleFontColor = helpers.color(vm.titleFontColor);\n\t\t\t\tctx.fillStyle = titleFontColor.alpha(opacity * titleFontColor.alpha()).rgbString();\n\t\t\t\tctx.font = helpers.fontString(titleFontSize, vm._titleFontStyle, vm._titleFontFamily);\n\n\t\t\t\tvar i, len;\n\t\t\t\tfor (i = 0, len = title.length; i < len; ++i) {\n\t\t\t\t\tctx.fillText(title[i], pt.x, pt.y);\n\t\t\t\t\tpt.y += titleFontSize + titleSpacing; // Line Height and spacing\n\n\t\t\t\t\tif (i + 1 === title.length) {\n\t\t\t\t\t\tpt.y += vm.titleMarginBottom - titleSpacing; // If Last, add margin, remove spacing\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tdrawBody: function(pt, vm, ctx, opacity) {\n\t\t\tvar bodyFontSize = vm.bodyFontSize;\n\t\t\tvar bodySpacing = vm.bodySpacing;\n\t\t\tvar body = vm.body;\n\n\t\t\tctx.textAlign = vm._bodyAlign;\n\t\t\tctx.textBaseline = 'top';\n\n\t\t\tvar bodyFontColor = helpers.color(vm.bodyFontColor);\n\t\t\tvar textColor = bodyFontColor.alpha(opacity * bodyFontColor.alpha()).rgbString();\n\t\t\tctx.fillStyle = textColor;\n\t\t\tctx.font = helpers.fontString(bodyFontSize, vm._bodyFontStyle, vm._bodyFontFamily);\n\n\t\t\t// Before Body\n\t\t\tvar xLinePadding = 0;\n\t\t\tvar fillLineOfText = function(line) {\n\t\t\t\tctx.fillText(line, pt.x + xLinePadding, pt.y);\n\t\t\t\tpt.y += bodyFontSize + bodySpacing;\n\t\t\t};\n\n\t\t\t// Before body lines\n\t\t\thelpers.each(vm.beforeBody, fillLineOfText);\n\n\t\t\tvar drawColorBoxes = body.length > 1;\n\t\t\txLinePadding = drawColorBoxes ? (bodyFontSize + 2) : 0;\n\n\t\t\t// Draw body lines now\n\t\t\thelpers.each(body, function(bodyItem, i) {\n\t\t\t\thelpers.each(bodyItem.before, fillLineOfText);\n\n\t\t\t\thelpers.each(bodyItem.lines, function(line) {\n\t\t\t\t\t// Draw Legend-like boxes if needed\n\t\t\t\t\tif (drawColorBoxes) {\n\t\t\t\t\t\t// Fill a white rect so that colours merge nicely if the opacity is < 1\n\t\t\t\t\t\tctx.fillStyle = helpers.color(vm.legendColorBackground).alpha(opacity).rgbaString();\n\t\t\t\t\t\tctx.fillRect(pt.x, pt.y, bodyFontSize, bodyFontSize);\n\n\t\t\t\t\t\t// Border\n\t\t\t\t\t\tctx.strokeStyle = helpers.color(vm.labelColors[i].borderColor).alpha(opacity).rgbaString();\n\t\t\t\t\t\tctx.strokeRect(pt.x, pt.y, bodyFontSize, bodyFontSize);\n\n\t\t\t\t\t\t// Inner square\n\t\t\t\t\t\tctx.fillStyle = helpers.color(vm.labelColors[i].backgroundColor).alpha(opacity).rgbaString();\n\t\t\t\t\t\tctx.fillRect(pt.x + 1, pt.y + 1, bodyFontSize - 2, bodyFontSize - 2);\n\n\t\t\t\t\t\tctx.fillStyle = textColor;\n\t\t\t\t\t}\n\n\t\t\t\t\tfillLineOfText(line);\n\t\t\t\t});\n\n\t\t\t\thelpers.each(bodyItem.after, fillLineOfText);\n\t\t\t});\n\n\t\t\t// Reset back to 0 for after body\n\t\t\txLinePadding = 0;\n\n\t\t\t// After body lines\n\t\t\thelpers.each(vm.afterBody, fillLineOfText);\n\t\t\tpt.y -= bodySpacing; // Remove last body spacing\n\t\t},\n\t\tdrawFooter: function(pt, vm, ctx, opacity) {\n\t\t\tvar footer = vm.footer;\n\n\t\t\tif (footer.length) {\n\t\t\t\tpt.y += vm.footerMarginTop;\n\n\t\t\t\tctx.textAlign = vm._footerAlign;\n\t\t\t\tctx.textBaseline = 'top';\n\n\t\t\t\tvar footerFontColor = helpers.color(vm.footerFontColor);\n\t\t\t\tctx.fillStyle = footerFontColor.alpha(opacity * footerFontColor.alpha()).rgbString();\n\t\t\t\tctx.font = helpers.fontString(vm.footerFontSize, vm._footerFontStyle, vm._footerFontFamily);\n\n\t\t\t\thelpers.each(footer, function(line) {\n\t\t\t\t\tctx.fillText(line, pt.x, pt.y);\n\t\t\t\t\tpt.y += vm.footerFontSize + vm.footerSpacing;\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tdraw: function() {\n\t\t\tvar ctx = this._chart.ctx;\n\t\t\tvar vm = this._view;\n\n\t\t\tif (vm.opacity === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar tooltipSize = this.getTooltipSize(vm);\n\t\t\tvar pt = {\n\t\t\t\tx: vm.x,\n\t\t\t\ty: vm.y\n\t\t\t};\n\n\t\t\t// IE11/Edge does not like very small opacities, so snap to 0\n\t\t\tvar opacity = Math.abs(vm.opacity < 1e-3) ? 0 : vm.opacity;\n\n\t\t\tif (this._options.enabled) {\n\t\t\t\t// Draw Background\n\t\t\t\tvar bgColor = helpers.color(vm.backgroundColor);\n\t\t\t\tctx.fillStyle = bgColor.alpha(opacity * bgColor.alpha()).rgbString();\n\t\t\t\thelpers.drawRoundedRectangle(ctx, pt.x, pt.y, tooltipSize.width, tooltipSize.height, vm.cornerRadius);\n\t\t\t\tctx.fill();\n\n\t\t\t\t// Draw Caret\n\t\t\t\tthis.drawCaret(pt, tooltipSize, opacity);\n\n\t\t\t\t// Draw Title, Body, and Footer\n\t\t\t\tpt.x += vm.xPadding;\n\t\t\t\tpt.y += vm.yPadding;\n\n\t\t\t\t// Titles\n\t\t\t\tthis.drawTitle(pt, vm, ctx, opacity);\n\n\t\t\t\t// Body\n\t\t\t\tthis.drawBody(pt, vm, ctx, opacity);\n\n\t\t\t\t// Footer\n\t\t\t\tthis.drawFooter(pt, vm, ctx, opacity);\n\t\t\t}\n\t\t}\n\t});\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers,\n\t\tglobalOpts = Chart.defaults.global;\n\n\tglobalOpts.elements.arc = {\n\t\tbackgroundColor: globalOpts.defaultColor,\n\t\tborderColor: '#fff',\n\t\tborderWidth: 2\n\t};\n\n\tChart.elements.Arc = Chart.Element.extend({\n\t\tinLabelRange: function(mouseX) {\n\t\t\tvar vm = this._view;\n\n\t\t\tif (vm) {\n\t\t\t\treturn (Math.pow(mouseX - vm.x, 2) < Math.pow(vm.radius + vm.hoverRadius, 2));\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tinRange: function(chartX, chartY) {\n\t\t\tvar vm = this._view;\n\n\t\t\tif (vm) {\n\t\t\t\tvar pointRelativePosition = helpers.getAngleFromPoint(vm, {\n\t\t\t\t\t\tx: chartX,\n\t\t\t\t\t\ty: chartY\n\t\t\t\t\t}),\n\t\t\t\t\tangle = pointRelativePosition.angle,\n\t\t\t\t\tdistance = pointRelativePosition.distance;\n\n\t\t\t\t// Sanitise angle range\n\t\t\t\tvar startAngle = vm.startAngle;\n\t\t\t\tvar endAngle = vm.endAngle;\n\t\t\t\twhile (endAngle < startAngle) {\n\t\t\t\t\tendAngle += 2.0 * Math.PI;\n\t\t\t\t}\n\t\t\t\twhile (angle > endAngle) {\n\t\t\t\t\tangle -= 2.0 * Math.PI;\n\t\t\t\t}\n\t\t\t\twhile (angle < startAngle) {\n\t\t\t\t\tangle += 2.0 * Math.PI;\n\t\t\t\t}\n\n\t\t\t\t// Check if within the range of the open/close angle\n\t\t\t\tvar betweenAngles = (angle >= startAngle && angle <= endAngle),\n\t\t\t\t\twithinRadius = (distance >= vm.innerRadius && distance <= vm.outerRadius);\n\n\t\t\t\treturn (betweenAngles && withinRadius);\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\ttooltipPosition: function() {\n\t\t\tvar vm = this._view;\n\n\t\t\tvar centreAngle = vm.startAngle + ((vm.endAngle - vm.startAngle) / 2),\n\t\t\t\trangeFromCentre = (vm.outerRadius - vm.innerRadius) / 2 + vm.innerRadius;\n\t\t\treturn {\n\t\t\t\tx: vm.x + (Math.cos(centreAngle) * rangeFromCentre),\n\t\t\t\ty: vm.y + (Math.sin(centreAngle) * rangeFromCentre)\n\t\t\t};\n\t\t},\n\t\tdraw: function() {\n\n\t\t\tvar ctx = this._chart.ctx,\n\t\t\t\tvm = this._view,\n\t\t\t\tsA = vm.startAngle,\n\t\t\t\teA = vm.endAngle;\n\n\t\t\tctx.beginPath();\n\n\t\t\tctx.arc(vm.x, vm.y, vm.outerRadius, sA, eA);\n\t\t\tctx.arc(vm.x, vm.y, vm.innerRadius, eA, sA, true);\n\n\t\t\tctx.closePath();\n\t\t\tctx.strokeStyle = vm.borderColor;\n\t\t\tctx.lineWidth = vm.borderWidth;\n\n\t\t\tctx.fillStyle = vm.backgroundColor;\n\n\t\t\tctx.fill();\n\t\t\tctx.lineJoin = 'bevel';\n\n\t\t\tif (vm.borderWidth) {\n\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t}\n\t});\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\tvar globalDefaults = Chart.defaults.global;\n\n\tChart.defaults.global.elements.line = {\n\t\ttension: 0.4,\n\t\tbackgroundColor: globalDefaults.defaultColor,\n\t\tborderWidth: 3,\n\t\tborderColor: globalDefaults.defaultColor,\n\t\tborderCapStyle: 'butt',\n\t\tborderDash: [],\n\t\tborderDashOffset: 0.0,\n\t\tborderJoinStyle: 'miter',\n\t\tcapBezierPoints: true,\n\t\tfill: true // do we fill in the area between the line and its base axis\n\t};\n\n\tChart.elements.Line = Chart.Element.extend({\n\t\tdraw: function() {\n\t\t\tvar me = this;\n\t\t\tvar vm = me._view;\n\t\t\tvar spanGaps = vm.spanGaps;\n\t\t\tvar scaleZero = vm.scaleZero;\n\t\t\tvar loop = me._loop;\n\n\t\t\tvar ctx = me._chart.ctx;\n\t\t\tctx.save();\n\n\t\t\t// Helper function to draw a line to a point\n\t\t\tfunction lineToPoint(previousPoint, point) {\n\t\t\t\tvar pointVM = point._view;\n\t\t\t\tif (point._view.steppedLine === true) {\n\t\t\t\t\tctx.lineTo(pointVM.x, previousPoint._view.y);\n\t\t\t\t\tctx.lineTo(pointVM.x, pointVM.y);\n\t\t\t\t} else if (point._view.tension === 0) {\n\t\t\t\t\tctx.lineTo(pointVM.x, pointVM.y);\n\t\t\t\t} else {\n\t\t\t\t\tctx.bezierCurveTo(\n\t\t\t\t\t\tpreviousPoint._view.controlPointNextX,\n\t\t\t\t\t\tpreviousPoint._view.controlPointNextY,\n\t\t\t\t\t\tpointVM.controlPointPreviousX,\n\t\t\t\t\t\tpointVM.controlPointPreviousY,\n\t\t\t\t\t\tpointVM.x,\n\t\t\t\t\t\tpointVM.y\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar points = me._children.slice(); // clone array\n\t\t\tvar lastDrawnIndex = -1;\n\n\t\t\t// If we are looping, adding the first point again\n\t\t\tif (loop && points.length) {\n\t\t\t\tpoints.push(points[0]);\n\t\t\t}\n\n\t\t\tvar index, current, previous, currentVM;\n\n\t\t\t// Fill Line\n\t\t\tif (points.length && vm.fill) {\n\t\t\t\tctx.beginPath();\n\n\t\t\t\tfor (index = 0; index < points.length; ++index) {\n\t\t\t\t\tcurrent = points[index];\n\t\t\t\t\tprevious = helpers.previousItem(points, index);\n\t\t\t\t\tcurrentVM = current._view;\n\n\t\t\t\t\t// First point moves to it's starting position no matter what\n\t\t\t\t\tif (index === 0) {\n\t\t\t\t\t\tif (loop) {\n\t\t\t\t\t\t\tctx.moveTo(scaleZero.x, scaleZero.y);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tctx.moveTo(currentVM.x, scaleZero);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!currentVM.skip) {\n\t\t\t\t\t\t\tlastDrawnIndex = index;\n\t\t\t\t\t\t\tctx.lineTo(currentVM.x, currentVM.y);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprevious = lastDrawnIndex === -1 ? previous : points[lastDrawnIndex];\n\n\t\t\t\t\t\tif (currentVM.skip) {\n\t\t\t\t\t\t\t// Only do this if this is the first point that is skipped\n\t\t\t\t\t\t\tif (!spanGaps && lastDrawnIndex === (index - 1)) {\n\t\t\t\t\t\t\t\tif (loop) {\n\t\t\t\t\t\t\t\t\tctx.lineTo(scaleZero.x, scaleZero.y);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tctx.lineTo(previous._view.x, scaleZero);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (lastDrawnIndex !== (index - 1)) {\n\t\t\t\t\t\t\t\t// There was a gap and this is the first point after the gap. If we've never drawn a point, this is a special case.\n\t\t\t\t\t\t\t\t// If the first data point is NaN, then there is no real gap to skip\n\t\t\t\t\t\t\t\tif (spanGaps && lastDrawnIndex !== -1) {\n\t\t\t\t\t\t\t\t\t// We are spanning the gap, so simple draw a line to this point\n\t\t\t\t\t\t\t\t\tlineToPoint(previous, current);\n\t\t\t\t\t\t\t\t} else if (loop) {\n\t\t\t\t\t\t\t\t\tctx.lineTo(currentVM.x, currentVM.y);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tctx.lineTo(currentVM.x, scaleZero);\n\t\t\t\t\t\t\t\t\tctx.lineTo(currentVM.x, currentVM.y);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// Line to next point\n\t\t\t\t\t\t\t\tlineToPoint(previous, current);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlastDrawnIndex = index;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!loop && lastDrawnIndex !== -1) {\n\t\t\t\t\tctx.lineTo(points[lastDrawnIndex]._view.x, scaleZero);\n\t\t\t\t}\n\n\t\t\t\tctx.fillStyle = vm.backgroundColor || globalDefaults.defaultColor;\n\t\t\t\tctx.closePath();\n\t\t\t\tctx.fill();\n\t\t\t}\n\n\t\t\t// Stroke Line Options\n\t\t\tvar globalOptionLineElements = globalDefaults.elements.line;\n\t\t\tctx.lineCap = vm.borderCapStyle || globalOptionLineElements.borderCapStyle;\n\n\t\t\t// IE 9 and 10 do not support line dash\n\t\t\tif (ctx.setLineDash) {\n\t\t\t\tctx.setLineDash(vm.borderDash || globalOptionLineElements.borderDash);\n\t\t\t}\n\n\t\t\tctx.lineDashOffset = vm.borderDashOffset || globalOptionLineElements.borderDashOffset;\n\t\t\tctx.lineJoin = vm.borderJoinStyle || globalOptionLineElements.borderJoinStyle;\n\t\t\tctx.lineWidth = vm.borderWidth || globalOptionLineElements.borderWidth;\n\t\t\tctx.strokeStyle = vm.borderColor || globalDefaults.defaultColor;\n\n\t\t\t// Stroke Line\n\t\t\tctx.beginPath();\n\t\t\tlastDrawnIndex = -1;\n\n\t\t\tfor (index = 0; index < points.length; ++index) {\n\t\t\t\tcurrent = points[index];\n\t\t\t\tprevious = helpers.previousItem(points, index);\n\t\t\t\tcurrentVM = current._view;\n\n\t\t\t\t// First point moves to it's starting position no matter what\n\t\t\t\tif (index === 0) {\n\t\t\t\t\tif (!currentVM.skip) {\n\t\t\t\t\t\tctx.moveTo(currentVM.x, currentVM.y);\n\t\t\t\t\t\tlastDrawnIndex = index;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tprevious = lastDrawnIndex === -1 ? previous : points[lastDrawnIndex];\n\n\t\t\t\t\tif (!currentVM.skip) {\n\t\t\t\t\t\tif ((lastDrawnIndex !== (index - 1) && !spanGaps) || lastDrawnIndex === -1) {\n\t\t\t\t\t\t\t// There was a gap and this is the first point after the gap\n\t\t\t\t\t\t\tctx.moveTo(currentVM.x, currentVM.y);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Line to next point\n\t\t\t\t\t\t\tlineToPoint(previous, current);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlastDrawnIndex = index;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tctx.stroke();\n\t\t\tctx.restore();\n\t\t}\n\t});\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers,\n\t\tglobalOpts = Chart.defaults.global,\n\t\tdefaultColor = globalOpts.defaultColor;\n\n\tglobalOpts.elements.point = {\n\t\tradius: 3,\n\t\tpointStyle: 'circle',\n\t\tbackgroundColor: defaultColor,\n\t\tborderWidth: 1,\n\t\tborderColor: defaultColor,\n\t\t// Hover\n\t\thitRadius: 1,\n\t\thoverRadius: 4,\n\t\thoverBorderWidth: 1\n\t};\n\n\tChart.elements.Point = Chart.Element.extend({\n\t\tinRange: function(mouseX, mouseY) {\n\t\t\tvar vm = this._view;\n\t\t\treturn vm ? ((Math.pow(mouseX - vm.x, 2) + Math.pow(mouseY - vm.y, 2)) < Math.pow(vm.hitRadius + vm.radius, 2)) : false;\n\t\t},\n\t\tinLabelRange: function(mouseX) {\n\t\t\tvar vm = this._view;\n\t\t\treturn vm ? (Math.pow(mouseX - vm.x, 2) < Math.pow(vm.radius + vm.hitRadius, 2)) : false;\n\t\t},\n\t\ttooltipPosition: function() {\n\t\t\tvar vm = this._view;\n\t\t\treturn {\n\t\t\t\tx: vm.x,\n\t\t\t\ty: vm.y,\n\t\t\t\tpadding: vm.radius + vm.borderWidth\n\t\t\t};\n\t\t},\n\t\tdraw: function() {\n\t\t\tvar vm = this._view;\n\t\t\tvar ctx = this._chart.ctx;\n\t\t\tvar pointStyle = vm.pointStyle;\n\t\t\tvar radius = vm.radius;\n\t\t\tvar x = vm.x;\n\t\t\tvar y = vm.y;\n\n\t\t\tif (vm.skip) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tctx.strokeStyle = vm.borderColor || defaultColor;\n\t\t\tctx.lineWidth = helpers.getValueOrDefault(vm.borderWidth, globalOpts.elements.point.borderWidth);\n\t\t\tctx.fillStyle = vm.backgroundColor || defaultColor;\n\n\t\t\tChart.canvasHelpers.drawPoint(ctx, pointStyle, radius, x, y);\n\t\t}\n\t});\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar globalOpts = Chart.defaults.global;\n\n\tglobalOpts.elements.rectangle = {\n\t\tbackgroundColor: globalOpts.defaultColor,\n\t\tborderWidth: 0,\n\t\tborderColor: globalOpts.defaultColor,\n\t\tborderSkipped: 'bottom'\n\t};\n\n\tChart.elements.Rectangle = Chart.Element.extend({\n\t\tdraw: function() {\n\t\t\tvar ctx = this._chart.ctx;\n\t\t\tvar vm = this._view;\n\n\t\t\tvar halfWidth = vm.width / 2,\n\t\t\t\tleftX = vm.x - halfWidth,\n\t\t\t\trightX = vm.x + halfWidth,\n\t\t\t\ttop = vm.base - (vm.base - vm.y),\n\t\t\t\thalfStroke = vm.borderWidth / 2;\n\n\t\t\t// Canvas doesn't allow us to stroke inside the width so we can\n\t\t\t// adjust the sizes to fit if we're setting a stroke on the line\n\t\t\tif (vm.borderWidth) {\n\t\t\t\tleftX += halfStroke;\n\t\t\t\trightX -= halfStroke;\n\t\t\t\ttop += halfStroke;\n\t\t\t}\n\n\t\t\tctx.beginPath();\n\t\t\tctx.fillStyle = vm.backgroundColor;\n\t\t\tctx.strokeStyle = vm.borderColor;\n\t\t\tctx.lineWidth = vm.borderWidth;\n\n\t\t\t// Corner points, from bottom-left to bottom-right clockwise\n\t\t\t// | 1 2 |\n\t\t\t// | 0 3 |\n\t\t\tvar corners = [\n\t\t\t\t[leftX, vm.base],\n\t\t\t\t[leftX, top],\n\t\t\t\t[rightX, top],\n\t\t\t\t[rightX, vm.base]\n\t\t\t];\n\n\t\t\t// Find first (starting) corner with fallback to 'bottom'\n\t\t\tvar borders = ['bottom', 'left', 'top', 'right'];\n\t\t\tvar startCorner = borders.indexOf(vm.borderSkipped, 0);\n\t\t\tif (startCorner === -1) {\n\t\t\t\tstartCorner = 0;\n\t\t\t}\n\n\t\t\tfunction cornerAt(index) {\n\t\t\t\treturn corners[(startCorner + index) % 4];\n\t\t\t}\n\n\t\t\t// Draw rectangle from 'startCorner'\n\t\t\tctx.moveTo.apply(ctx, cornerAt(0));\n\t\t\tfor (var i = 1; i < 4; i++) {\n\t\t\t\tctx.lineTo.apply(ctx, cornerAt(i));\n\t\t\t}\n\n\t\t\tctx.fill();\n\t\t\tif (vm.borderWidth) {\n\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t},\n\t\theight: function() {\n\t\t\tvar vm = this._view;\n\t\t\treturn vm.base - vm.y;\n\t\t},\n\t\tinRange: function(mouseX, mouseY) {\n\t\t\tvar vm = this._view;\n\t\t\treturn vm ?\n\t\t\t\t\t(vm.y < vm.base ?\n\t\t\t\t\t\t(mouseX >= vm.x - vm.width / 2 && mouseX <= vm.x + vm.width / 2) && (mouseY >= vm.y && mouseY <= vm.base) :\n\t\t\t\t\t\t(mouseX >= vm.x - vm.width / 2 && mouseX <= vm.x + vm.width / 2) && (mouseY >= vm.base && mouseY <= vm.y)) :\n\t\t\t\t\tfalse;\n\t\t},\n\t\tinLabelRange: function(mouseX) {\n\t\t\tvar vm = this._view;\n\t\t\treturn vm ? (mouseX >= vm.x - vm.width / 2 && mouseX <= vm.x + vm.width / 2) : false;\n\t\t},\n\t\ttooltipPosition: function() {\n\t\t\tvar vm = this._view;\n\t\t\treturn {\n\t\t\t\tx: vm.x,\n\t\t\t\ty: vm.y\n\t\t\t};\n\t\t}\n\t});\n\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers,\n\t\tnoop = helpers.noop;\n\n\tChart.LinearScaleBase = Chart.Scale.extend({\n\t\thandleTickRangeOptions: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar tickOpts = opts.ticks;\n\n\t\t\t// If we are forcing it to begin at 0, but 0 will already be rendered on the chart,\n\t\t\t// do nothing since that would make the chart weird. If the user really wants a weird chart\n\t\t\t// axis, they can manually override it\n\t\t\tif (tickOpts.beginAtZero) {\n\t\t\t\tvar minSign = helpers.sign(me.min);\n\t\t\t\tvar maxSign = helpers.sign(me.max);\n\n\t\t\t\tif (minSign < 0 && maxSign < 0) {\n\t\t\t\t\t// move the top up to 0\n\t\t\t\t\tme.max = 0;\n\t\t\t\t} else if (minSign > 0 && maxSign > 0) {\n\t\t\t\t\t// move the botttom down to 0\n\t\t\t\t\tme.min = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (tickOpts.min !== undefined) {\n\t\t\t\tme.min = tickOpts.min;\n\t\t\t} else if (tickOpts.suggestedMin !== undefined) {\n\t\t\t\tme.min = Math.min(me.min, tickOpts.suggestedMin);\n\t\t\t}\n\n\t\t\tif (tickOpts.max !== undefined) {\n\t\t\t\tme.max = tickOpts.max;\n\t\t\t} else if (tickOpts.suggestedMax !== undefined) {\n\t\t\t\tme.max = Math.max(me.max, tickOpts.suggestedMax);\n\t\t\t}\n\n\t\t\tif (me.min === me.max) {\n\t\t\t\tme.max++;\n\n\t\t\t\tif (!tickOpts.beginAtZero) {\n\t\t\t\t\tme.min--;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgetTickLimit: noop,\n\t\thandleDirectionalChanges: noop,\n\n\t\tbuildTicks: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar ticks = me.ticks = [];\n\t\t\tvar tickOpts = opts.ticks;\n\t\t\tvar getValueOrDefault = helpers.getValueOrDefault;\n\n\t\t\t// Figure out what the max number of ticks we can support it is based on the size of\n\t\t\t// the axis area. For now, we say that the minimum tick spacing in pixels must be 50\n\t\t\t// We also limit the maximum number of ticks to 11 which gives a nice 10 squares on\n\t\t\t// the graph\n\n\t\t\tvar maxTicks = me.getTickLimit();\n\n\t\t\t// Make sure we always have at least 2 ticks\n\t\t\tmaxTicks = Math.max(2, maxTicks);\n\n\t\t\t// To get a \"nice\" value for the tick spacing, we will use the appropriately named\n\t\t\t// \"nice number\" algorithm. See http://stackoverflow.com/questions/8506881/nice-label-algorithm-for-charts-with-minimum-ticks\n\t\t\t// for details.\n\n\t\t\tvar spacing;\n\t\t\tvar fixedStepSizeSet = (tickOpts.fixedStepSize && tickOpts.fixedStepSize > 0) || (tickOpts.stepSize && tickOpts.stepSize > 0);\n\t\t\tif (fixedStepSizeSet) {\n\t\t\t\tspacing = getValueOrDefault(tickOpts.fixedStepSize, tickOpts.stepSize);\n\t\t\t} else {\n\t\t\t\tvar niceRange = helpers.niceNum(me.max - me.min, false);\n\t\t\t\tspacing = helpers.niceNum(niceRange / (maxTicks - 1), true);\n\t\t\t}\n\t\t\tvar niceMin = Math.floor(me.min / spacing) * spacing;\n\t\t\tvar niceMax = Math.ceil(me.max / spacing) * spacing;\n\t\t\tvar numSpaces = (niceMax - niceMin) / spacing;\n\n\t\t\t// If very close to our rounded value, use it.\n\t\t\tif (helpers.almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n\t\t\t\tnumSpaces = Math.round(numSpaces);\n\t\t\t} else {\n\t\t\t\tnumSpaces = Math.ceil(numSpaces);\n\t\t\t}\n\n\t\t\t// Put the values into the ticks array\n\t\t\tticks.push(tickOpts.min !== undefined ? tickOpts.min : niceMin);\n\t\t\tfor (var j = 1; j < numSpaces; ++j) {\n\t\t\t\tticks.push(niceMin + (j * spacing));\n\t\t\t}\n\t\t\tticks.push(tickOpts.max !== undefined ? tickOpts.max : niceMax);\n\n\t\t\tme.handleDirectionalChanges();\n\n\t\t\t// At this point, we need to update our max and min given the tick values since we have expanded the\n\t\t\t// range of the scale\n\t\t\tme.max = helpers.max(ticks);\n\t\t\tme.min = helpers.min(ticks);\n\n\t\t\tif (tickOpts.reverse) {\n\t\t\t\tticks.reverse();\n\n\t\t\t\tme.start = me.max;\n\t\t\t\tme.end = me.min;\n\t\t\t} else {\n\t\t\t\tme.start = me.min;\n\t\t\t\tme.end = me.max;\n\t\t\t}\n\t\t},\n\t\tconvertTicksToLabels: function() {\n\t\t\tvar me = this;\n\t\t\tme.ticksAsNumbers = me.ticks.slice();\n\t\t\tme.zeroLineIndex = me.ticks.indexOf(0);\n\n\t\t\tChart.Scale.prototype.convertTicksToLabels.call(me);\n\t\t}\n\t});\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\t// Default config for a category scale\n\tvar defaultConfig = {\n\t\tposition: 'bottom'\n\t};\n\n\tvar DatasetScale = Chart.Scale.extend({\n\t\t/**\n\t\t* Internal function to get the correct labels. If data.xLabels or data.yLabels are defined, use tose\n\t\t* else fall back to data.labels\n\t\t* @private\n\t\t*/\n\t\tgetLabels: function() {\n\t\t\tvar data = this.chart.data;\n\t\t\treturn (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels;\n\t\t},\n\t\t// Implement this so that\n\t\tdetermineDataLimits: function() {\n\t\t\tvar me = this;\n\t\t\tvar labels = me.getLabels();\n\t\t\tme.minIndex = 0;\n\t\t\tme.maxIndex = labels.length - 1;\n\t\t\tvar findIndex;\n\n\t\t\tif (me.options.ticks.min !== undefined) {\n\t\t\t\t// user specified min value\n\t\t\t\tfindIndex = helpers.indexOf(labels, me.options.ticks.min);\n\t\t\t\tme.minIndex = findIndex !== -1 ? findIndex : me.minIndex;\n\t\t\t}\n\n\t\t\tif (me.options.ticks.max !== undefined) {\n\t\t\t\t// user specified max value\n\t\t\t\tfindIndex = helpers.indexOf(labels, me.options.ticks.max);\n\t\t\t\tme.maxIndex = findIndex !== -1 ? findIndex : me.maxIndex;\n\t\t\t}\n\n\t\t\tme.min = labels[me.minIndex];\n\t\t\tme.max = labels[me.maxIndex];\n\t\t},\n\n\t\tbuildTicks: function() {\n\t\t\tvar me = this;\n\t\t\tvar labels = me.getLabels();\n\t\t\t// If we are viewing some subset of labels, slice the original array\n\t\t\tme.ticks = (me.minIndex === 0 && me.maxIndex === labels.length - 1) ? labels : labels.slice(me.minIndex, me.maxIndex + 1);\n\t\t},\n\n\t\tgetLabelForIndex: function(index, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar data = me.chart.data;\n\t\t\tvar isHorizontal = me.isHorizontal();\n\n\t\t\tif ((data.xLabels && isHorizontal) || (data.yLabels && !isHorizontal)) {\n\t\t\t\treturn me.getRightValue(data.datasets[datasetIndex].data[index]);\n\t\t\t}\n\t\t\treturn me.ticks[index];\n\t\t},\n\n\t\t// Used to get data value locations.  Value can either be an index or a numerical value\n\t\tgetPixelForValue: function(value, index, datasetIndex, includeOffset) {\n\t\t\tvar me = this;\n\t\t\t// 1 is added because we need the length but we have the indexes\n\t\t\tvar offsetAmt = Math.max((me.maxIndex + 1 - me.minIndex - ((me.options.gridLines.offsetGridLines) ? 0 : 1)), 1);\n\n\t\t\tif (value !== undefined && isNaN(index)) {\n\t\t\t\tvar labels = me.getLabels();\n\t\t\t\tvar idx = labels.indexOf(value);\n\t\t\t\tindex = idx !== -1 ? idx : index;\n\t\t\t}\n\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\tvar innerWidth = me.width - (me.paddingLeft + me.paddingRight);\n\t\t\t\tvar valueWidth = innerWidth / offsetAmt;\n\t\t\t\tvar widthOffset = (valueWidth * (index - me.minIndex)) + me.paddingLeft;\n\n\t\t\t\tif (me.options.gridLines.offsetGridLines && includeOffset || me.maxIndex === me.minIndex && includeOffset) {\n\t\t\t\t\twidthOffset += (valueWidth / 2);\n\t\t\t\t}\n\n\t\t\t\treturn me.left + Math.round(widthOffset);\n\t\t\t}\n\t\t\tvar innerHeight = me.height - (me.paddingTop + me.paddingBottom);\n\t\t\tvar valueHeight = innerHeight / offsetAmt;\n\t\t\tvar heightOffset = (valueHeight * (index - me.minIndex)) + me.paddingTop;\n\n\t\t\tif (me.options.gridLines.offsetGridLines && includeOffset) {\n\t\t\t\theightOffset += (valueHeight / 2);\n\t\t\t}\n\n\t\t\treturn me.top + Math.round(heightOffset);\n\t\t},\n\t\tgetPixelForTick: function(index, includeOffset) {\n\t\t\treturn this.getPixelForValue(this.ticks[index], index + this.minIndex, null, includeOffset);\n\t\t},\n\t\tgetValueForPixel: function(pixel) {\n\t\t\tvar me = this;\n\t\t\tvar value;\n\t\t\tvar offsetAmt = Math.max((me.ticks.length - ((me.options.gridLines.offsetGridLines) ? 0 : 1)), 1);\n\t\t\tvar horz = me.isHorizontal();\n\t\t\tvar innerDimension = horz ? me.width - (me.paddingLeft + me.paddingRight) : me.height - (me.paddingTop + me.paddingBottom);\n\t\t\tvar valueDimension = innerDimension / offsetAmt;\n\n\t\t\tpixel -= horz ? me.left : me.top;\n\n\t\t\tif (me.options.gridLines.offsetGridLines) {\n\t\t\t\tpixel -= (valueDimension / 2);\n\t\t\t}\n\t\t\tpixel -= horz ? me.paddingLeft : me.paddingTop;\n\n\t\t\tif (pixel <= 0) {\n\t\t\t\tvalue = 0;\n\t\t\t} else {\n\t\t\t\tvalue = Math.round(pixel / valueDimension);\n\t\t\t}\n\n\t\t\treturn value;\n\t\t},\n\t\tgetBasePixel: function() {\n\t\t\treturn this.bottom;\n\t\t}\n\t});\n\n\tChart.scaleService.registerScaleType('category', DatasetScale, defaultConfig);\n\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tvar defaultConfig = {\n\t\tposition: 'left',\n\t\tticks: {\n\t\t\tcallback: function(tickValue, index, ticks) {\n\t\t\t\t// If we have lots of ticks, don't use the ones\n\t\t\t\tvar delta = ticks.length > 3 ? ticks[2] - ticks[1] : ticks[1] - ticks[0];\n\n\t\t\t\t// If we have a number like 2.5 as the delta, figure out how many decimal places we need\n\t\t\t\tif (Math.abs(delta) > 1) {\n\t\t\t\t\tif (tickValue !== Math.floor(tickValue)) {\n\t\t\t\t\t\t// not an integer\n\t\t\t\t\t\tdelta = tickValue - Math.floor(tickValue);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar logDelta = helpers.log10(Math.abs(delta));\n\t\t\t\tvar tickString = '';\n\n\t\t\t\tif (tickValue !== 0) {\n\t\t\t\t\tvar numDecimal = -1 * Math.floor(logDelta);\n\t\t\t\t\tnumDecimal = Math.max(Math.min(numDecimal, 20), 0); // toFixed has a max of 20 decimal places\n\t\t\t\t\ttickString = tickValue.toFixed(numDecimal);\n\t\t\t\t} else {\n\t\t\t\t\ttickString = '0'; // never show decimal places for 0\n\t\t\t\t}\n\n\t\t\t\treturn tickString;\n\t\t\t}\n\t\t}\n\t};\n\n\tvar LinearScale = Chart.LinearScaleBase.extend({\n\t\tdetermineDataLimits: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar chart = me.chart;\n\t\t\tvar data = chart.data;\n\t\t\tvar datasets = data.datasets;\n\t\t\tvar isHorizontal = me.isHorizontal();\n\n\t\t\tfunction IDMatches(meta) {\n\t\t\t\treturn isHorizontal ? meta.xAxisID === me.id : meta.yAxisID === me.id;\n\t\t\t}\n\n\t\t\t// First Calculate the range\n\t\t\tme.min = null;\n\t\t\tme.max = null;\n\n\t\t\tif (opts.stacked) {\n\t\t\t\tvar valuesPerType = {};\n\n\t\t\t\thelpers.each(datasets, function(dataset, datasetIndex) {\n\t\t\t\t\tvar meta = chart.getDatasetMeta(datasetIndex);\n\t\t\t\t\tif (valuesPerType[meta.type] === undefined) {\n\t\t\t\t\t\tvaluesPerType[meta.type] = {\n\t\t\t\t\t\t\tpositiveValues: [],\n\t\t\t\t\t\t\tnegativeValues: []\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\t// Store these per type\n\t\t\t\t\tvar positiveValues = valuesPerType[meta.type].positiveValues;\n\t\t\t\t\tvar negativeValues = valuesPerType[meta.type].negativeValues;\n\n\t\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta)) {\n\t\t\t\t\t\thelpers.each(dataset.data, function(rawValue, index) {\n\t\t\t\t\t\t\tvar value = +me.getRightValue(rawValue);\n\t\t\t\t\t\t\tif (isNaN(value) || meta.data[index].hidden) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tpositiveValues[index] = positiveValues[index] || 0;\n\t\t\t\t\t\t\tnegativeValues[index] = negativeValues[index] || 0;\n\n\t\t\t\t\t\t\tif (opts.relativePoints) {\n\t\t\t\t\t\t\t\tpositiveValues[index] = 100;\n\t\t\t\t\t\t\t} else if (value < 0) {\n\t\t\t\t\t\t\t\tnegativeValues[index] += value;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tpositiveValues[index] += value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\thelpers.each(valuesPerType, function(valuesForType) {\n\t\t\t\t\tvar values = valuesForType.positiveValues.concat(valuesForType.negativeValues);\n\t\t\t\t\tvar minVal = helpers.min(values);\n\t\t\t\t\tvar maxVal = helpers.max(values);\n\t\t\t\t\tme.min = me.min === null ? minVal : Math.min(me.min, minVal);\n\t\t\t\t\tme.max = me.max === null ? maxVal : Math.max(me.max, maxVal);\n\t\t\t\t});\n\n\t\t\t} else {\n\t\t\t\thelpers.each(datasets, function(dataset, datasetIndex) {\n\t\t\t\t\tvar meta = chart.getDatasetMeta(datasetIndex);\n\t\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta)) {\n\t\t\t\t\t\thelpers.each(dataset.data, function(rawValue, index) {\n\t\t\t\t\t\t\tvar value = +me.getRightValue(rawValue);\n\t\t\t\t\t\t\tif (isNaN(value) || meta.data[index].hidden) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (me.min === null) {\n\t\t\t\t\t\t\t\tme.min = value;\n\t\t\t\t\t\t\t} else if (value < me.min) {\n\t\t\t\t\t\t\t\tme.min = value;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (me.max === null) {\n\t\t\t\t\t\t\t\tme.max = value;\n\t\t\t\t\t\t\t} else if (value > me.max) {\n\t\t\t\t\t\t\t\tme.max = value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Common base implementation to handle ticks.min, ticks.max, ticks.beginAtZero\n\t\t\tthis.handleTickRangeOptions();\n\t\t},\n\t\tgetTickLimit: function() {\n\t\t\tvar maxTicks;\n\t\t\tvar me = this;\n\t\t\tvar tickOpts = me.options.ticks;\n\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\tmaxTicks = Math.min(tickOpts.maxTicksLimit ? tickOpts.maxTicksLimit : 11, Math.ceil(me.width / 50));\n\t\t\t} else {\n\t\t\t\t// The factor of 2 used to scale the font size has been experimentally determined.\n\t\t\t\tvar tickFontSize = helpers.getValueOrDefault(tickOpts.fontSize, Chart.defaults.global.defaultFontSize);\n\t\t\t\tmaxTicks = Math.min(tickOpts.maxTicksLimit ? tickOpts.maxTicksLimit : 11, Math.ceil(me.height / (2 * tickFontSize)));\n\t\t\t}\n\n\t\t\treturn maxTicks;\n\t\t},\n\t\t// Called after the ticks are built. We need\n\t\thandleDirectionalChanges: function() {\n\t\t\tif (!this.isHorizontal()) {\n\t\t\t\t// We are in a vertical orientation. The top value is the highest. So reverse the array\n\t\t\t\tthis.ticks.reverse();\n\t\t\t}\n\t\t},\n\t\tgetLabelForIndex: function(index, datasetIndex) {\n\t\t\treturn +this.getRightValue(this.chart.data.datasets[datasetIndex].data[index]);\n\t\t},\n\t\t// Utils\n\t\tgetPixelForValue: function(value) {\n\t\t\t// This must be called after fit has been run so that\n\t\t\t// this.left, this.top, this.right, and this.bottom have been defined\n\t\t\tvar me = this;\n\t\t\tvar paddingLeft = me.paddingLeft;\n\t\t\tvar paddingBottom = me.paddingBottom;\n\t\t\tvar start = me.start;\n\n\t\t\tvar rightValue = +me.getRightValue(value);\n\t\t\tvar pixel;\n\t\t\tvar innerDimension;\n\t\t\tvar range = me.end - start;\n\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\tinnerDimension = me.width - (paddingLeft + me.paddingRight);\n\t\t\t\tpixel = me.left + (innerDimension / range * (rightValue - start));\n\t\t\t\treturn Math.round(pixel + paddingLeft);\n\t\t\t}\n\t\t\tinnerDimension = me.height - (me.paddingTop + paddingBottom);\n\t\t\tpixel = (me.bottom - paddingBottom) - (innerDimension / range * (rightValue - start));\n\t\t\treturn Math.round(pixel);\n\t\t},\n\t\tgetValueForPixel: function(pixel) {\n\t\t\tvar me = this;\n\t\t\tvar isHorizontal = me.isHorizontal();\n\t\t\tvar paddingLeft = me.paddingLeft;\n\t\t\tvar paddingBottom = me.paddingBottom;\n\t\t\tvar innerDimension = isHorizontal ? me.width - (paddingLeft + me.paddingRight) : me.height - (me.paddingTop + paddingBottom);\n\t\t\tvar offset = (isHorizontal ? pixel - me.left - paddingLeft : me.bottom - paddingBottom - pixel) / innerDimension;\n\t\t\treturn me.start + ((me.end - me.start) * offset);\n\t\t},\n\t\tgetPixelForTick: function(index) {\n\t\t\treturn this.getPixelForValue(this.ticksAsNumbers[index]);\n\t\t}\n\t});\n\tChart.scaleService.registerScaleType('linear', LinearScale, defaultConfig);\n\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tvar defaultConfig = {\n\t\tposition: 'left',\n\n\t\t// label settings\n\t\tticks: {\n\t\t\tcallback: function(value, index, arr) {\n\t\t\t\tvar remain = value / (Math.pow(10, Math.floor(helpers.log10(value))));\n\n\t\t\t\tif (value === 0) {\n\t\t\t\t\treturn '0';\n\t\t\t\t} else if (remain === 1 || remain === 2 || remain === 5 || index === 0 || index === arr.length - 1) {\n\t\t\t\t\treturn value.toExponential();\n\t\t\t\t}\n\t\t\t\treturn '';\n\t\t\t}\n\t\t}\n\t};\n\n\tvar LogarithmicScale = Chart.Scale.extend({\n\t\tdetermineDataLimits: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar tickOpts = opts.ticks;\n\t\t\tvar chart = me.chart;\n\t\t\tvar data = chart.data;\n\t\t\tvar datasets = data.datasets;\n\t\t\tvar getValueOrDefault = helpers.getValueOrDefault;\n\t\t\tvar isHorizontal = me.isHorizontal();\n\t\t\tfunction IDMatches(meta) {\n\t\t\t\treturn isHorizontal ? meta.xAxisID === me.id : meta.yAxisID === me.id;\n\t\t\t}\n\n\t\t\t// Calculate Range\n\t\t\tme.min = null;\n\t\t\tme.max = null;\n\t\t\tme.minNotZero = null;\n\n\t\t\tif (opts.stacked) {\n\t\t\t\tvar valuesPerType = {};\n\n\t\t\t\thelpers.each(datasets, function(dataset, datasetIndex) {\n\t\t\t\t\tvar meta = chart.getDatasetMeta(datasetIndex);\n\t\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta)) {\n\t\t\t\t\t\tif (valuesPerType[meta.type] === undefined) {\n\t\t\t\t\t\t\tvaluesPerType[meta.type] = [];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\thelpers.each(dataset.data, function(rawValue, index) {\n\t\t\t\t\t\t\tvar values = valuesPerType[meta.type];\n\t\t\t\t\t\t\tvar value = +me.getRightValue(rawValue);\n\t\t\t\t\t\t\tif (isNaN(value) || meta.data[index].hidden) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvalues[index] = values[index] || 0;\n\n\t\t\t\t\t\t\tif (opts.relativePoints) {\n\t\t\t\t\t\t\t\tvalues[index] = 100;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// Don't need to split positive and negative since the log scale can't handle a 0 crossing\n\t\t\t\t\t\t\t\tvalues[index] += value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\thelpers.each(valuesPerType, function(valuesForType) {\n\t\t\t\t\tvar minVal = helpers.min(valuesForType);\n\t\t\t\t\tvar maxVal = helpers.max(valuesForType);\n\t\t\t\t\tme.min = me.min === null ? minVal : Math.min(me.min, minVal);\n\t\t\t\t\tme.max = me.max === null ? maxVal : Math.max(me.max, maxVal);\n\t\t\t\t});\n\n\t\t\t} else {\n\t\t\t\thelpers.each(datasets, function(dataset, datasetIndex) {\n\t\t\t\t\tvar meta = chart.getDatasetMeta(datasetIndex);\n\t\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta)) {\n\t\t\t\t\t\thelpers.each(dataset.data, function(rawValue, index) {\n\t\t\t\t\t\t\tvar value = +me.getRightValue(rawValue);\n\t\t\t\t\t\t\tif (isNaN(value) || meta.data[index].hidden) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (me.min === null) {\n\t\t\t\t\t\t\t\tme.min = value;\n\t\t\t\t\t\t\t} else if (value < me.min) {\n\t\t\t\t\t\t\t\tme.min = value;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (me.max === null) {\n\t\t\t\t\t\t\t\tme.max = value;\n\t\t\t\t\t\t\t} else if (value > me.max) {\n\t\t\t\t\t\t\t\tme.max = value;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (value !== 0 && (me.minNotZero === null || value < me.minNotZero)) {\n\t\t\t\t\t\t\t\tme.minNotZero = value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tme.min = getValueOrDefault(tickOpts.min, me.min);\n\t\t\tme.max = getValueOrDefault(tickOpts.max, me.max);\n\n\t\t\tif (me.min === me.max) {\n\t\t\t\tif (me.min !== 0 && me.min !== null) {\n\t\t\t\t\tme.min = Math.pow(10, Math.floor(helpers.log10(me.min)) - 1);\n\t\t\t\t\tme.max = Math.pow(10, Math.floor(helpers.log10(me.max)) + 1);\n\t\t\t\t} else {\n\t\t\t\t\tme.min = 1;\n\t\t\t\t\tme.max = 10;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tbuildTicks: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar tickOpts = opts.ticks;\n\t\t\tvar getValueOrDefault = helpers.getValueOrDefault;\n\n\t\t\t// Reset the ticks array. Later on, we will draw a grid line at these positions\n\t\t\t// The array simply contains the numerical value of the spots where ticks will be\n\t\t\tvar ticks = me.ticks = [];\n\n\t\t\t// Figure out what the max number of ticks we can support it is based on the size of\n\t\t\t// the axis area. For now, we say that the minimum tick spacing in pixels must be 50\n\t\t\t// We also limit the maximum number of ticks to 11 which gives a nice 10 squares on\n\t\t\t// the graph\n\n\t\t\tvar tickVal = getValueOrDefault(tickOpts.min, Math.pow(10, Math.floor(helpers.log10(me.min))));\n\n\t\t\twhile (tickVal < me.max) {\n\t\t\t\tticks.push(tickVal);\n\n\t\t\t\tvar exp;\n\t\t\t\tvar significand;\n\n\t\t\t\tif (tickVal === 0) {\n\t\t\t\t\texp = Math.floor(helpers.log10(me.minNotZero));\n\t\t\t\t\tsignificand = Math.round(me.minNotZero / Math.pow(10, exp));\n\t\t\t\t} else {\n\t\t\t\t\texp = Math.floor(helpers.log10(tickVal));\n\t\t\t\t\tsignificand = Math.floor(tickVal / Math.pow(10, exp)) + 1;\n\t\t\t\t}\n\n\t\t\t\tif (significand === 10) {\n\t\t\t\t\tsignificand = 1;\n\t\t\t\t\t++exp;\n\t\t\t\t}\n\n\t\t\t\ttickVal = significand * Math.pow(10, exp);\n\t\t\t}\n\n\t\t\tvar lastTick = getValueOrDefault(tickOpts.max, tickVal);\n\t\t\tticks.push(lastTick);\n\n\t\t\tif (!me.isHorizontal()) {\n\t\t\t\t// We are in a vertical orientation. The top value is the highest. So reverse the array\n\t\t\t\tticks.reverse();\n\t\t\t}\n\n\t\t\t// At this point, we need to update our max and min given the tick values since we have expanded the\n\t\t\t// range of the scale\n\t\t\tme.max = helpers.max(ticks);\n\t\t\tme.min = helpers.min(ticks);\n\n\t\t\tif (tickOpts.reverse) {\n\t\t\t\tticks.reverse();\n\n\t\t\t\tme.start = me.max;\n\t\t\t\tme.end = me.min;\n\t\t\t} else {\n\t\t\t\tme.start = me.min;\n\t\t\t\tme.end = me.max;\n\t\t\t}\n\t\t},\n\t\tconvertTicksToLabels: function() {\n\t\t\tthis.tickValues = this.ticks.slice();\n\n\t\t\tChart.Scale.prototype.convertTicksToLabels.call(this);\n\t\t},\n\t\t// Get the correct tooltip label\n\t\tgetLabelForIndex: function(index, datasetIndex) {\n\t\t\treturn +this.getRightValue(this.chart.data.datasets[datasetIndex].data[index]);\n\t\t},\n\t\tgetPixelForTick: function(index) {\n\t\t\treturn this.getPixelForValue(this.tickValues[index]);\n\t\t},\n\t\tgetPixelForValue: function(value) {\n\t\t\tvar me = this;\n\t\t\tvar innerDimension;\n\t\t\tvar pixel;\n\n\t\t\tvar start = me.start;\n\t\t\tvar newVal = +me.getRightValue(value);\n\t\t\tvar range;\n\t\t\tvar paddingTop = me.paddingTop;\n\t\t\tvar paddingBottom = me.paddingBottom;\n\t\t\tvar paddingLeft = me.paddingLeft;\n\t\t\tvar opts = me.options;\n\t\t\tvar tickOpts = opts.ticks;\n\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\trange = helpers.log10(me.end) - helpers.log10(start); // todo: if start === 0\n\t\t\t\tif (newVal === 0) {\n\t\t\t\t\tpixel = me.left + paddingLeft;\n\t\t\t\t} else {\n\t\t\t\t\tinnerDimension = me.width - (paddingLeft + me.paddingRight);\n\t\t\t\t\tpixel = me.left + (innerDimension / range * (helpers.log10(newVal) - helpers.log10(start)));\n\t\t\t\t\tpixel += paddingLeft;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Bottom - top since pixels increase downard on a screen\n\t\t\t\tinnerDimension = me.height - (paddingTop + paddingBottom);\n\t\t\t\tif (start === 0 && !tickOpts.reverse) {\n\t\t\t\t\trange = helpers.log10(me.end) - helpers.log10(me.minNotZero);\n\t\t\t\t\tif (newVal === start) {\n\t\t\t\t\t\tpixel = me.bottom - paddingBottom;\n\t\t\t\t\t} else if (newVal === me.minNotZero) {\n\t\t\t\t\t\tpixel = me.bottom - paddingBottom - innerDimension * 0.02;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpixel = me.bottom - paddingBottom - innerDimension * 0.02 - (innerDimension * 0.98/ range * (helpers.log10(newVal)-helpers.log10(me.minNotZero)));\n\t\t\t\t\t}\n\t\t\t\t} else if (me.end === 0 && tickOpts.reverse) {\n\t\t\t\t\trange = helpers.log10(me.start) - helpers.log10(me.minNotZero);\n\t\t\t\t\tif (newVal === me.end) {\n\t\t\t\t\t\tpixel = me.top + paddingTop;\n\t\t\t\t\t} else if (newVal === me.minNotZero) {\n\t\t\t\t\t\tpixel = me.top + paddingTop + innerDimension * 0.02;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpixel = me.top + paddingTop + innerDimension * 0.02 + (innerDimension * 0.98/ range * (helpers.log10(newVal)-helpers.log10(me.minNotZero)));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\trange = helpers.log10(me.end) - helpers.log10(start);\n\t\t\t\t\tinnerDimension = me.height - (paddingTop + paddingBottom);\n\t\t\t\t\tpixel = (me.bottom - paddingBottom) - (innerDimension / range * (helpers.log10(newVal) - helpers.log10(start)));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn pixel;\n\t\t},\n\t\tgetValueForPixel: function(pixel) {\n\t\t\tvar me = this;\n\t\t\tvar range = helpers.log10(me.end) - helpers.log10(me.start);\n\t\t\tvar value, innerDimension;\n\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\tinnerDimension = me.width - (me.paddingLeft + me.paddingRight);\n\t\t\t\tvalue = me.start * Math.pow(10, (pixel - me.left - me.paddingLeft) * range / innerDimension);\n\t\t\t} else {  // todo: if start === 0\n\t\t\t\tinnerDimension = me.height - (me.paddingTop + me.paddingBottom);\n\t\t\t\tvalue = Math.pow(10, (me.bottom - me.paddingBottom - pixel) * range / innerDimension) / me.start;\n\t\t\t}\n\t\t\treturn value;\n\t\t}\n\t});\n\tChart.scaleService.registerScaleType('logarithmic', LogarithmicScale, defaultConfig);\n\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\tvar globalDefaults = Chart.defaults.global;\n\n\tvar defaultConfig = {\n\t\tdisplay: true,\n\n\t\t// Boolean - Whether to animate scaling the chart from the centre\n\t\tanimate: true,\n\t\tlineArc: false,\n\t\tposition: 'chartArea',\n\n\t\tangleLines: {\n\t\t\tdisplay: true,\n\t\t\tcolor: 'rgba(0, 0, 0, 0.1)',\n\t\t\tlineWidth: 1\n\t\t},\n\n\t\t// label settings\n\t\tticks: {\n\t\t\t// Boolean - Show a backdrop to the scale label\n\t\t\tshowLabelBackdrop: true,\n\n\t\t\t// String - The colour of the label backdrop\n\t\t\tbackdropColor: 'rgba(255,255,255,0.75)',\n\n\t\t\t// Number - The backdrop padding above & below the label in pixels\n\t\t\tbackdropPaddingY: 2,\n\n\t\t\t// Number - The backdrop padding to the side of the label in pixels\n\t\t\tbackdropPaddingX: 2\n\t\t},\n\n\t\tpointLabels: {\n\t\t\t// Number - Point label font size in pixels\n\t\t\tfontSize: 10,\n\n\t\t\t// Function - Used to convert point labels\n\t\t\tcallback: function(label) {\n\t\t\t\treturn label;\n\t\t\t}\n\t\t}\n\t};\n\n\tvar LinearRadialScale = Chart.LinearScaleBase.extend({\n\t\tgetValueCount: function() {\n\t\t\treturn this.chart.data.labels.length;\n\t\t},\n\t\tsetDimensions: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar tickOpts = opts.ticks;\n\t\t\t// Set the unconstrained dimension before label rotation\n\t\t\tme.width = me.maxWidth;\n\t\t\tme.height = me.maxHeight;\n\t\t\tme.xCenter = Math.round(me.width / 2);\n\t\t\tme.yCenter = Math.round(me.height / 2);\n\n\t\t\tvar minSize = helpers.min([me.height, me.width]);\n\t\t\tvar tickFontSize = helpers.getValueOrDefault(tickOpts.fontSize, globalDefaults.defaultFontSize);\n\t\t\tme.drawingArea = opts.display ? (minSize / 2) - (tickFontSize / 2 + tickOpts.backdropPaddingY) : (minSize / 2);\n\t\t},\n\t\tdetermineDataLimits: function() {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart;\n\t\t\tme.min = null;\n\t\t\tme.max = null;\n\n\n\t\t\thelpers.each(chart.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tif (chart.isDatasetVisible(datasetIndex)) {\n\t\t\t\t\tvar meta = chart.getDatasetMeta(datasetIndex);\n\n\t\t\t\t\thelpers.each(dataset.data, function(rawValue, index) {\n\t\t\t\t\t\tvar value = +me.getRightValue(rawValue);\n\t\t\t\t\t\tif (isNaN(value) || meta.data[index].hidden) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (me.min === null) {\n\t\t\t\t\t\t\tme.min = value;\n\t\t\t\t\t\t} else if (value < me.min) {\n\t\t\t\t\t\t\tme.min = value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (me.max === null) {\n\t\t\t\t\t\t\tme.max = value;\n\t\t\t\t\t\t} else if (value > me.max) {\n\t\t\t\t\t\t\tme.max = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Common base implementation to handle ticks.min, ticks.max, ticks.beginAtZero\n\t\t\tme.handleTickRangeOptions();\n\t\t},\n\t\tgetTickLimit: function() {\n\t\t\tvar tickOpts = this.options.ticks;\n\t\t\tvar tickFontSize = helpers.getValueOrDefault(tickOpts.fontSize, globalDefaults.defaultFontSize);\n\t\t\treturn Math.min(tickOpts.maxTicksLimit ? tickOpts.maxTicksLimit : 11, Math.ceil(this.drawingArea / (1.5 * tickFontSize)));\n\t\t},\n\t\tconvertTicksToLabels: function() {\n\t\t\tvar me = this;\n\t\t\tChart.LinearScaleBase.prototype.convertTicksToLabels.call(me);\n\n\t\t\t// Point labels\n\t\t\tme.pointLabels = me.chart.data.labels.map(me.options.pointLabels.callback, me);\n\t\t},\n\t\tgetLabelForIndex: function(index, datasetIndex) {\n\t\t\treturn +this.getRightValue(this.chart.data.datasets[datasetIndex].data[index]);\n\t\t},\n\t\tfit: function() {\n\t\t\t/*\n\t\t\t * Right, this is really confusing and there is a lot of maths going on here\n\t\t\t * The gist of the problem is here: https://gist.github.com/nnnick/696cc9c55f4b0beb8fe9\n\t\t\t *\n\t\t\t * Reaction: https://dl.dropboxusercontent.com/u/34601363/toomuchscience.gif\n\t\t\t *\n\t\t\t * Solution:\n\t\t\t *\n\t\t\t * We assume the radius of the polygon is half the size of the canvas at first\n\t\t\t * at each index we check if the text overlaps.\n\t\t\t *\n\t\t\t * Where it does, we store that angle and that index.\n\t\t\t *\n\t\t\t * After finding the largest index and angle we calculate how much we need to remove\n\t\t\t * from the shape radius to move the point inwards by that x.\n\t\t\t *\n\t\t\t * We average the left and right distances to get the maximum shape radius that can fit in the box\n\t\t\t * along with labels.\n\t\t\t *\n\t\t\t * Once we have that, we can find the centre point for the chart, by taking the x text protrusion\n\t\t\t * on each side, removing that from the size, halving it and adding the left x protrusion width.\n\t\t\t *\n\t\t\t * This will mean we have a shape fitted to the canvas, as large as it can be with the labels\n\t\t\t * and position it in the most space efficient manner\n\t\t\t *\n\t\t\t * https://dl.dropboxusercontent.com/u/34601363/yeahscience.gif\n\t\t\t */\n\n\t\t\tvar pointLabels = this.options.pointLabels;\n\t\t\tvar pointLabelFontSize = helpers.getValueOrDefault(pointLabels.fontSize, globalDefaults.defaultFontSize);\n\t\t\tvar pointLabeFontStyle = helpers.getValueOrDefault(pointLabels.fontStyle, globalDefaults.defaultFontStyle);\n\t\t\tvar pointLabeFontFamily = helpers.getValueOrDefault(pointLabels.fontFamily, globalDefaults.defaultFontFamily);\n\t\t\tvar pointLabeFont = helpers.fontString(pointLabelFontSize, pointLabeFontStyle, pointLabeFontFamily);\n\n\t\t\t// Get maximum radius of the polygon. Either half the height (minus the text width) or half the width.\n\t\t\t// Use this to calculate the offset + change. - Make sure L/R protrusion is at least 0 to stop issues with centre points\n\t\t\tvar largestPossibleRadius = helpers.min([(this.height / 2 - pointLabelFontSize - 5), this.width / 2]),\n\t\t\t\tpointPosition,\n\t\t\t\ti,\n\t\t\t\ttextWidth,\n\t\t\t\thalfTextWidth,\n\t\t\t\tfurthestRight = this.width,\n\t\t\t\tfurthestRightIndex,\n\t\t\t\tfurthestRightAngle,\n\t\t\t\tfurthestLeft = 0,\n\t\t\t\tfurthestLeftIndex,\n\t\t\t\tfurthestLeftAngle,\n\t\t\t\txProtrusionLeft,\n\t\t\t\txProtrusionRight,\n\t\t\t\tradiusReductionRight,\n\t\t\t\tradiusReductionLeft;\n\t\t\tthis.ctx.font = pointLabeFont;\n\n\t\t\tfor (i = 0; i < this.getValueCount(); i++) {\n\t\t\t\t// 5px to space the text slightly out - similar to what we do in the draw function.\n\t\t\t\tpointPosition = this.getPointPosition(i, largestPossibleRadius);\n\t\t\t\ttextWidth = this.ctx.measureText(this.pointLabels[i] ? this.pointLabels[i] : '').width + 5;\n\n\t\t\t\t// Add quarter circle to make degree 0 mean top of circle\n\t\t\t\tvar angleRadians = this.getIndexAngle(i) + (Math.PI / 2);\n\t\t\t\tvar angle = (angleRadians * 360 / (2 * Math.PI)) % 360;\n\n\t\t\t\tif (angle === 0 || angle === 180) {\n\t\t\t\t\t// At angle 0 and 180, we're at exactly the top/bottom\n\t\t\t\t\t// of the radar chart, so text will be aligned centrally, so we'll half it and compare\n\t\t\t\t\t// w/left and right text sizes\n\t\t\t\t\thalfTextWidth = textWidth / 2;\n\t\t\t\t\tif (pointPosition.x + halfTextWidth > furthestRight) {\n\t\t\t\t\t\tfurthestRight = pointPosition.x + halfTextWidth;\n\t\t\t\t\t\tfurthestRightIndex = i;\n\t\t\t\t\t}\n\t\t\t\t\tif (pointPosition.x - halfTextWidth < furthestLeft) {\n\t\t\t\t\t\tfurthestLeft = pointPosition.x - halfTextWidth;\n\t\t\t\t\t\tfurthestLeftIndex = i;\n\t\t\t\t\t}\n\t\t\t\t} else if (angle < 180) {\n\t\t\t\t\t// Less than half the values means we'll left align the text\n\t\t\t\t\tif (pointPosition.x + textWidth > furthestRight) {\n\t\t\t\t\t\tfurthestRight = pointPosition.x + textWidth;\n\t\t\t\t\t\tfurthestRightIndex = i;\n\t\t\t\t\t}\n\t\t\t\t// More than half the values means we'll right align the text\n\t\t\t\t} else if (pointPosition.x - textWidth < furthestLeft) {\n\t\t\t\t\tfurthestLeft = pointPosition.x - textWidth;\n\t\t\t\t\tfurthestLeftIndex = i;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\txProtrusionLeft = furthestLeft;\n\t\t\txProtrusionRight = Math.ceil(furthestRight - this.width);\n\n\t\t\tfurthestRightAngle = this.getIndexAngle(furthestRightIndex);\n\t\t\tfurthestLeftAngle = this.getIndexAngle(furthestLeftIndex);\n\n\t\t\tradiusReductionRight = xProtrusionRight / Math.sin(furthestRightAngle + Math.PI / 2);\n\t\t\tradiusReductionLeft = xProtrusionLeft / Math.sin(furthestLeftAngle + Math.PI / 2);\n\n\t\t\t// Ensure we actually need to reduce the size of the chart\n\t\t\tradiusReductionRight = (helpers.isNumber(radiusReductionRight)) ? radiusReductionRight : 0;\n\t\t\tradiusReductionLeft = (helpers.isNumber(radiusReductionLeft)) ? radiusReductionLeft : 0;\n\n\t\t\tthis.drawingArea = Math.round(largestPossibleRadius - (radiusReductionLeft + radiusReductionRight) / 2);\n\t\t\tthis.setCenterPoint(radiusReductionLeft, radiusReductionRight);\n\t\t},\n\t\tsetCenterPoint: function(leftMovement, rightMovement) {\n\t\t\tvar me = this;\n\t\t\tvar maxRight = me.width - rightMovement - me.drawingArea,\n\t\t\t\tmaxLeft = leftMovement + me.drawingArea;\n\n\t\t\tme.xCenter = Math.round(((maxLeft + maxRight) / 2) + me.left);\n\t\t\t// Always vertically in the centre as the text height doesn't change\n\t\t\tme.yCenter = Math.round((me.height / 2) + me.top);\n\t\t},\n\n\t\tgetIndexAngle: function(index) {\n\t\t\tvar angleMultiplier = (Math.PI * 2) / this.getValueCount();\n\t\t\tvar startAngle = this.chart.options && this.chart.options.startAngle ?\n\t\t\t\tthis.chart.options.startAngle :\n\t\t\t\t0;\n\n\t\t\tvar startAngleRadians = startAngle * Math.PI * 2 / 360;\n\n\t\t\t// Start from the top instead of right, so remove a quarter of the circle\n\t\t\treturn index * angleMultiplier - (Math.PI / 2) + startAngleRadians;\n\t\t},\n\t\tgetDistanceFromCenterForValue: function(value) {\n\t\t\tvar me = this;\n\n\t\t\tif (value === null) {\n\t\t\t\treturn 0; // null always in center\n\t\t\t}\n\n\t\t\t// Take into account half font size + the yPadding of the top value\n\t\t\tvar scalingFactor = me.drawingArea / (me.max - me.min);\n\t\t\tif (me.options.reverse) {\n\t\t\t\treturn (me.max - value) * scalingFactor;\n\t\t\t}\n\t\t\treturn (value - me.min) * scalingFactor;\n\t\t},\n\t\tgetPointPosition: function(index, distanceFromCenter) {\n\t\t\tvar me = this;\n\t\t\tvar thisAngle = me.getIndexAngle(index);\n\t\t\treturn {\n\t\t\t\tx: Math.round(Math.cos(thisAngle) * distanceFromCenter) + me.xCenter,\n\t\t\t\ty: Math.round(Math.sin(thisAngle) * distanceFromCenter) + me.yCenter\n\t\t\t};\n\t\t},\n\t\tgetPointPositionForValue: function(index, value) {\n\t\t\treturn this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n\t\t},\n\n\t\tgetBasePosition: function() {\n\t\t\tvar me = this;\n\t\t\tvar min = me.min;\n\t\t\tvar max = me.max;\n\n\t\t\treturn me.getPointPositionForValue(0,\n\t\t\t\tme.beginAtZero? 0:\n\t\t\t\tmin < 0 && max < 0? max :\n\t\t\t\tmin > 0 && max > 0? min :\n\t\t\t\t0);\n\t\t},\n\n\t\tdraw: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar gridLineOpts = opts.gridLines;\n\t\t\tvar tickOpts = opts.ticks;\n\t\t\tvar angleLineOpts = opts.angleLines;\n\t\t\tvar pointLabelOpts = opts.pointLabels;\n\t\t\tvar getValueOrDefault = helpers.getValueOrDefault;\n\n\t\t\tif (opts.display) {\n\t\t\t\tvar ctx = me.ctx;\n\n\t\t\t\t// Tick Font\n\t\t\t\tvar tickFontSize = getValueOrDefault(tickOpts.fontSize, globalDefaults.defaultFontSize);\n\t\t\t\tvar tickFontStyle = getValueOrDefault(tickOpts.fontStyle, globalDefaults.defaultFontStyle);\n\t\t\t\tvar tickFontFamily = getValueOrDefault(tickOpts.fontFamily, globalDefaults.defaultFontFamily);\n\t\t\t\tvar tickLabelFont = helpers.fontString(tickFontSize, tickFontStyle, tickFontFamily);\n\n\t\t\t\thelpers.each(me.ticks, function(label, index) {\n\t\t\t\t\t// Don't draw a centre value (if it is minimum)\n\t\t\t\t\tif (index > 0 || opts.reverse) {\n\t\t\t\t\t\tvar yCenterOffset = me.getDistanceFromCenterForValue(me.ticksAsNumbers[index]);\n\t\t\t\t\t\tvar yHeight = me.yCenter - yCenterOffset;\n\n\t\t\t\t\t\t// Draw circular lines around the scale\n\t\t\t\t\t\tif (gridLineOpts.display && index !== 0) {\n\t\t\t\t\t\t\tctx.strokeStyle = helpers.getValueAtIndexOrDefault(gridLineOpts.color, index - 1);\n\t\t\t\t\t\t\tctx.lineWidth = helpers.getValueAtIndexOrDefault(gridLineOpts.lineWidth, index - 1);\n\n\t\t\t\t\t\t\tif (opts.lineArc) {\n\t\t\t\t\t\t\t\t// Draw circular arcs between the points\n\t\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\t\t\tctx.arc(me.xCenter, me.yCenter, yCenterOffset, 0, Math.PI * 2);\n\t\t\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// Draw straight lines connecting each index\n\t\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\t\t\tfor (var i = 0; i < me.getValueCount(); i++) {\n\t\t\t\t\t\t\t\t\tvar pointPosition = me.getPointPosition(i, yCenterOffset);\n\t\t\t\t\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\t\t\t\t\tctx.moveTo(pointPosition.x, pointPosition.y);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tctx.lineTo(pointPosition.x, pointPosition.y);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (tickOpts.display) {\n\t\t\t\t\t\t\tvar tickFontColor = getValueOrDefault(tickOpts.fontColor, globalDefaults.defaultFontColor);\n\t\t\t\t\t\t\tctx.font = tickLabelFont;\n\n\t\t\t\t\t\t\tif (tickOpts.showLabelBackdrop) {\n\t\t\t\t\t\t\t\tvar labelWidth = ctx.measureText(label).width;\n\t\t\t\t\t\t\t\tctx.fillStyle = tickOpts.backdropColor;\n\t\t\t\t\t\t\t\tctx.fillRect(\n\t\t\t\t\t\t\t\t\tme.xCenter - labelWidth / 2 - tickOpts.backdropPaddingX,\n\t\t\t\t\t\t\t\t\tyHeight - tickFontSize / 2 - tickOpts.backdropPaddingY,\n\t\t\t\t\t\t\t\t\tlabelWidth + tickOpts.backdropPaddingX * 2,\n\t\t\t\t\t\t\t\t\ttickFontSize + tickOpts.backdropPaddingY * 2\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tctx.textAlign = 'center';\n\t\t\t\t\t\t\tctx.textBaseline = 'middle';\n\t\t\t\t\t\t\tctx.fillStyle = tickFontColor;\n\t\t\t\t\t\t\tctx.fillText(label, me.xCenter, yHeight);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (!opts.lineArc) {\n\t\t\t\t\tctx.lineWidth = angleLineOpts.lineWidth;\n\t\t\t\t\tctx.strokeStyle = angleLineOpts.color;\n\n\t\t\t\t\tvar outerDistance = me.getDistanceFromCenterForValue(opts.reverse ? me.min : me.max);\n\n\t\t\t\t\t// Point Label Font\n\t\t\t\t\tvar pointLabelFontSize = getValueOrDefault(pointLabelOpts.fontSize, globalDefaults.defaultFontSize);\n\t\t\t\t\tvar pointLabeFontStyle = getValueOrDefault(pointLabelOpts.fontStyle, globalDefaults.defaultFontStyle);\n\t\t\t\t\tvar pointLabeFontFamily = getValueOrDefault(pointLabelOpts.fontFamily, globalDefaults.defaultFontFamily);\n\t\t\t\t\tvar pointLabeFont = helpers.fontString(pointLabelFontSize, pointLabeFontStyle, pointLabeFontFamily);\n\n\t\t\t\t\tfor (var i = me.getValueCount() - 1; i >= 0; i--) {\n\t\t\t\t\t\tif (angleLineOpts.display) {\n\t\t\t\t\t\t\tvar outerPosition = me.getPointPosition(i, outerDistance);\n\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\t\tctx.moveTo(me.xCenter, me.yCenter);\n\t\t\t\t\t\t\tctx.lineTo(outerPosition.x, outerPosition.y);\n\t\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Extra 3px out for some label spacing\n\t\t\t\t\t\tvar pointLabelPosition = me.getPointPosition(i, outerDistance + 5);\n\n\t\t\t\t\t\t// Keep this in loop since we may support array properties here\n\t\t\t\t\t\tvar pointLabelFontColor = getValueOrDefault(pointLabelOpts.fontColor, globalDefaults.defaultFontColor);\n\t\t\t\t\t\tctx.font = pointLabeFont;\n\t\t\t\t\t\tctx.fillStyle = pointLabelFontColor;\n\n\t\t\t\t\t\tvar pointLabels = me.pointLabels;\n\n\t\t\t\t\t\t// Add quarter circle to make degree 0 mean top of circle\n\t\t\t\t\t\tvar angleRadians = this.getIndexAngle(i) + (Math.PI / 2);\n\t\t\t\t\t\tvar angle = (angleRadians * 360 / (2 * Math.PI)) % 360;\n\n\t\t\t\t\t\tif (angle === 0 || angle === 180) {\n\t\t\t\t\t\t\tctx.textAlign = 'center';\n\t\t\t\t\t\t} else if (angle < 180) {\n\t\t\t\t\t\t\tctx.textAlign = 'left';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tctx.textAlign = 'right';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Set the correct text baseline based on outer positioning\n\t\t\t\t\t\tif (angle === 90 || angle === 270) {\n\t\t\t\t\t\t\tctx.textBaseline = 'middle';\n\t\t\t\t\t\t} else if (angle > 270 || angle < 90) {\n\t\t\t\t\t\t\tctx.textBaseline = 'bottom';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tctx.textBaseline = 'top';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tctx.fillText(pointLabels[i] ? pointLabels[i] : '', pointLabelPosition.x, pointLabelPosition.y);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\tChart.scaleService.registerScaleType('radialLinear', LinearRadialScale, defaultConfig);\n\n};\n","/* global window: false */\n'use strict';\n\nvar moment = require('moment');\nmoment = typeof(moment) === 'function' ? moment : window.moment;\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\tvar time = {\n\t\tunits: [{\n\t\t\tname: 'millisecond',\n\t\t\tsteps: [1, 2, 5, 10, 20, 50, 100, 250, 500]\n\t\t}, {\n\t\t\tname: 'second',\n\t\t\tsteps: [1, 2, 5, 10, 30]\n\t\t}, {\n\t\t\tname: 'minute',\n\t\t\tsteps: [1, 2, 5, 10, 30]\n\t\t}, {\n\t\t\tname: 'hour',\n\t\t\tsteps: [1, 2, 3, 6, 12]\n\t\t}, {\n\t\t\tname: 'day',\n\t\t\tsteps: [1, 2, 5]\n\t\t}, {\n\t\t\tname: 'week',\n\t\t\tmaxStep: 4\n\t\t}, {\n\t\t\tname: 'month',\n\t\t\tmaxStep: 3\n\t\t}, {\n\t\t\tname: 'quarter',\n\t\t\tmaxStep: 4\n\t\t}, {\n\t\t\tname: 'year',\n\t\t\tmaxStep: false\n\t\t}]\n\t};\n\n\tvar defaultConfig = {\n\t\tposition: 'bottom',\n\n\t\ttime: {\n\t\t\tparser: false, // false == a pattern string from http://momentjs.com/docs/#/parsing/string-format/ or a custom callback that converts its argument to a moment\n\t\t\tformat: false, // DEPRECATED false == date objects, moment object, callback or a pattern string from http://momentjs.com/docs/#/parsing/string-format/\n\t\t\tunit: false, // false == automatic or override with week, month, year, etc.\n\t\t\tround: false, // none, or override with week, month, year, etc.\n\t\t\tdisplayFormat: false, // DEPRECATED\n\t\t\tisoWeekday: false, // override week start day - see http://momentjs.com/docs/#/get-set/iso-weekday/\n\t\t\tminUnit: 'millisecond',\n\n\t\t\t// defaults to unit's corresponding unitFormat below or override using pattern string from http://momentjs.com/docs/#/displaying/format/\n\t\t\tdisplayFormats: {\n\t\t\t\tmillisecond: 'h:mm:ss.SSS a', // 11:20:01.123 AM,\n\t\t\t\tsecond: 'h:mm:ss a', // 11:20:01 AM\n\t\t\t\tminute: 'h:mm:ss a', // 11:20:01 AM\n\t\t\t\thour: 'MMM D, hA', // Sept 4, 5PM\n\t\t\t\tday: 'll', // Sep 4 2015\n\t\t\t\tweek: 'll', // Week 46, or maybe \"[W]WW - YYYY\" ?\n\t\t\t\tmonth: 'MMM YYYY', // Sept 2015\n\t\t\t\tquarter: '[Q]Q - YYYY', // Q3\n\t\t\t\tyear: 'YYYY' // 2015\n\t\t\t}\n\t\t},\n\t\tticks: {\n\t\t\tautoSkip: false\n\t\t}\n\t};\n\n\tvar TimeScale = Chart.Scale.extend({\n\t\tinitialize: function() {\n\t\t\tif (!moment) {\n\t\t\t\tthrow new Error('Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com');\n\t\t\t}\n\n\t\t\tChart.Scale.prototype.initialize.call(this);\n\t\t},\n\t\tgetLabelMoment: function(datasetIndex, index) {\n\t\t\tif (datasetIndex === null || index === null) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif (typeof this.labelMoments[datasetIndex] !== 'undefined') {\n\t\t\t\treturn this.labelMoments[datasetIndex][index];\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\t\tgetLabelDiff: function(datasetIndex, index) {\n\t\t\tvar me = this;\n\t\t\tif (datasetIndex === null || index === null) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif (me.labelDiffs === undefined) {\n\t\t\t\tme.buildLabelDiffs();\n\t\t\t}\n\n\t\t\tif (typeof me.labelDiffs[datasetIndex] !== 'undefined') {\n\t\t\t\treturn me.labelDiffs[datasetIndex][index];\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\t\tgetMomentStartOf: function(tick) {\n\t\t\tvar me = this;\n\t\t\tif (me.options.time.unit === 'week' && me.options.time.isoWeekday !== false) {\n\t\t\t\treturn tick.clone().startOf('isoWeek').isoWeekday(me.options.time.isoWeekday);\n\t\t\t}\n\t\t\treturn tick.clone().startOf(me.tickUnit);\n\t\t},\n\t\tdetermineDataLimits: function() {\n\t\t\tvar me = this;\n\t\t\tme.labelMoments = [];\n\n\t\t\t// Only parse these once. If the dataset does not have data as x,y pairs, we will use\n\t\t\t// these\n\t\t\tvar scaleLabelMoments = [];\n\t\t\tif (me.chart.data.labels && me.chart.data.labels.length > 0) {\n\t\t\t\thelpers.each(me.chart.data.labels, function(label) {\n\t\t\t\t\tvar labelMoment = me.parseTime(label);\n\n\t\t\t\t\tif (labelMoment.isValid()) {\n\t\t\t\t\t\tif (me.options.time.round) {\n\t\t\t\t\t\t\tlabelMoment.startOf(me.options.time.round);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tscaleLabelMoments.push(labelMoment);\n\t\t\t\t\t}\n\t\t\t\t}, me);\n\n\t\t\t\tme.firstTick = moment.min.call(me, scaleLabelMoments);\n\t\t\t\tme.lastTick = moment.max.call(me, scaleLabelMoments);\n\t\t\t} else {\n\t\t\t\tme.firstTick = null;\n\t\t\t\tme.lastTick = null;\n\t\t\t}\n\n\t\t\thelpers.each(me.chart.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tvar momentsForDataset = [];\n\t\t\t\tvar datasetVisible = me.chart.isDatasetVisible(datasetIndex);\n\n\t\t\t\tif (typeof dataset.data[0] === 'object' && dataset.data[0] !== null) {\n\t\t\t\t\thelpers.each(dataset.data, function(value) {\n\t\t\t\t\t\tvar labelMoment = me.parseTime(me.getRightValue(value));\n\n\t\t\t\t\t\tif (labelMoment.isValid()) {\n\t\t\t\t\t\t\tif (me.options.time.round) {\n\t\t\t\t\t\t\t\tlabelMoment.startOf(me.options.time.round);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmomentsForDataset.push(labelMoment);\n\n\t\t\t\t\t\t\tif (datasetVisible) {\n\t\t\t\t\t\t\t\t// May have gone outside the scale ranges, make sure we keep the first and last ticks updated\n\t\t\t\t\t\t\t\tme.firstTick = me.firstTick !== null ? moment.min(me.firstTick, labelMoment) : labelMoment;\n\t\t\t\t\t\t\t\tme.lastTick = me.lastTick !== null ? moment.max(me.lastTick, labelMoment) : labelMoment;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, me);\n\t\t\t\t} else {\n\t\t\t\t\t// We have no labels. Use the ones from the scale\n\t\t\t\t\tmomentsForDataset = scaleLabelMoments;\n\t\t\t\t}\n\n\t\t\t\tme.labelMoments.push(momentsForDataset);\n\t\t\t}, me);\n\n\t\t\t// Set these after we've done all the data\n\t\t\tif (me.options.time.min) {\n\t\t\t\tme.firstTick = me.parseTime(me.options.time.min);\n\t\t\t}\n\n\t\t\tif (me.options.time.max) {\n\t\t\t\tme.lastTick = me.parseTime(me.options.time.max);\n\t\t\t}\n\n\t\t\t// We will modify these, so clone for later\n\t\t\tme.firstTick = (me.firstTick || moment()).clone();\n\t\t\tme.lastTick = (me.lastTick || moment()).clone();\n\t\t},\n\t\tbuildLabelDiffs: function() {\n\t\t\tvar me = this;\n\t\t\tme.labelDiffs = [];\n\t\t\tvar scaleLabelDiffs = [];\n\t\t\t// Parse common labels once\n\t\t\tif (me.chart.data.labels && me.chart.data.labels.length > 0) {\n\t\t\t\thelpers.each(me.chart.data.labels, function(label) {\n\t\t\t\t\tvar labelMoment = me.parseTime(label);\n\n\t\t\t\t\tif (labelMoment.isValid()) {\n\t\t\t\t\t\tif (me.options.time.round) {\n\t\t\t\t\t\t\tlabelMoment.startOf(me.options.time.round);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tscaleLabelDiffs.push(labelMoment.diff(me.firstTick, me.tickUnit, true));\n\t\t\t\t\t}\n\t\t\t\t}, me);\n\t\t\t}\n\n\t\t\thelpers.each(me.chart.data.datasets, function(dataset) {\n\t\t\t\tvar diffsForDataset = [];\n\n\t\t\t\tif (typeof dataset.data[0] === 'object' && dataset.data[0] !== null) {\n\t\t\t\t\thelpers.each(dataset.data, function(value) {\n\t\t\t\t\t\tvar labelMoment = me.parseTime(me.getRightValue(value));\n\n\t\t\t\t\t\tif (labelMoment.isValid()) {\n\t\t\t\t\t\t\tif (me.options.time.round) {\n\t\t\t\t\t\t\t\tlabelMoment.startOf(me.options.time.round);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdiffsForDataset.push(labelMoment.diff(me.firstTick, me.tickUnit, true));\n\t\t\t\t\t\t}\n\t\t\t\t\t}, me);\n\t\t\t\t} else {\n\t\t\t\t\t// We have no labels. Use common ones\n\t\t\t\t\tdiffsForDataset = scaleLabelDiffs;\n\t\t\t\t}\n\n\t\t\t\tme.labelDiffs.push(diffsForDataset);\n\t\t\t}, me);\n\t\t},\n\t\tbuildTicks: function() {\n\t\t\tvar me = this;\n\n\t\t\tme.ctx.save();\n\t\t\tvar tickFontSize = helpers.getValueOrDefault(me.options.ticks.fontSize, Chart.defaults.global.defaultFontSize);\n\t\t\tvar tickFontStyle = helpers.getValueOrDefault(me.options.ticks.fontStyle, Chart.defaults.global.defaultFontStyle);\n\t\t\tvar tickFontFamily = helpers.getValueOrDefault(me.options.ticks.fontFamily, Chart.defaults.global.defaultFontFamily);\n\t\t\tvar tickLabelFont = helpers.fontString(tickFontSize, tickFontStyle, tickFontFamily);\n\t\t\tme.ctx.font = tickLabelFont;\n\n\t\t\tme.ticks = [];\n\t\t\tme.unitScale = 1; // How much we scale the unit by, ie 2 means 2x unit per step\n\t\t\tme.scaleSizeInUnits = 0; // How large the scale is in the base unit (seconds, minutes, etc)\n\n\t\t\t// Set unit override if applicable\n\t\t\tif (me.options.time.unit) {\n\t\t\t\tme.tickUnit = me.options.time.unit || 'day';\n\t\t\t\tme.displayFormat = me.options.time.displayFormats[me.tickUnit];\n\t\t\t\tme.scaleSizeInUnits = me.lastTick.diff(me.firstTick, me.tickUnit, true);\n\t\t\t\tme.unitScale = helpers.getValueOrDefault(me.options.time.unitStepSize, 1);\n\t\t\t} else {\n\t\t\t\t// Determine the smallest needed unit of the time\n\t\t\t\tvar innerWidth = me.isHorizontal() ? me.width - (me.paddingLeft + me.paddingRight) : me.height - (me.paddingTop + me.paddingBottom);\n\n\t\t\t\t// Crude approximation of what the label length might be\n\t\t\t\tvar tempFirstLabel = me.tickFormatFunction(me.firstTick, 0, []);\n\t\t\t\tvar tickLabelWidth = me.ctx.measureText(tempFirstLabel).width;\n\t\t\t\tvar cosRotation = Math.cos(helpers.toRadians(me.options.ticks.maxRotation));\n\t\t\t\tvar sinRotation = Math.sin(helpers.toRadians(me.options.ticks.maxRotation));\n\t\t\t\ttickLabelWidth = (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation);\n\t\t\t\tvar labelCapacity = innerWidth / (tickLabelWidth);\n\n\t\t\t\t// Start as small as possible\n\t\t\t\tme.tickUnit = me.options.time.minUnit;\n\t\t\t\tme.scaleSizeInUnits = me.lastTick.diff(me.firstTick, me.tickUnit, true);\n\t\t\t\tme.displayFormat = me.options.time.displayFormats[me.tickUnit];\n\n\t\t\t\tvar unitDefinitionIndex = 0;\n\t\t\t\tvar unitDefinition = time.units[unitDefinitionIndex];\n\n\t\t\t\t// While we aren't ideal and we don't have units left\n\t\t\t\twhile (unitDefinitionIndex < time.units.length) {\n\t\t\t\t\t// Can we scale this unit. If `false` we can scale infinitely\n\t\t\t\t\tme.unitScale = 1;\n\n\t\t\t\t\tif (helpers.isArray(unitDefinition.steps) && Math.ceil(me.scaleSizeInUnits / labelCapacity) < helpers.max(unitDefinition.steps)) {\n\t\t\t\t\t\t// Use one of the prefedined steps\n\t\t\t\t\t\tfor (var idx = 0; idx < unitDefinition.steps.length; ++idx) {\n\t\t\t\t\t\t\tif (unitDefinition.steps[idx] >= Math.ceil(me.scaleSizeInUnits / labelCapacity)) {\n\t\t\t\t\t\t\t\tme.unitScale = helpers.getValueOrDefault(me.options.time.unitStepSize, unitDefinition.steps[idx]);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else if ((unitDefinition.maxStep === false) || (Math.ceil(me.scaleSizeInUnits / labelCapacity) < unitDefinition.maxStep)) {\n\t\t\t\t\t\t// We have a max step. Scale this unit\n\t\t\t\t\t\tme.unitScale = helpers.getValueOrDefault(me.options.time.unitStepSize, Math.ceil(me.scaleSizeInUnits / labelCapacity));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Move to the next unit up\n\t\t\t\t\t\t++unitDefinitionIndex;\n\t\t\t\t\t\tunitDefinition = time.units[unitDefinitionIndex];\n\n\t\t\t\t\t\tme.tickUnit = unitDefinition.name;\n\t\t\t\t\t\tvar leadingUnitBuffer = me.firstTick.diff(me.getMomentStartOf(me.firstTick), me.tickUnit, true);\n\t\t\t\t\t\tvar trailingUnitBuffer = me.getMomentStartOf(me.lastTick.clone().add(1, me.tickUnit)).diff(me.lastTick, me.tickUnit, true);\n\t\t\t\t\t\tme.scaleSizeInUnits = me.lastTick.diff(me.firstTick, me.tickUnit, true) + leadingUnitBuffer + trailingUnitBuffer;\n\t\t\t\t\t\tme.displayFormat = me.options.time.displayFormats[unitDefinition.name];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar roundedStart;\n\n\t\t\t// Only round the first tick if we have no hard minimum\n\t\t\tif (!me.options.time.min) {\n\t\t\t\tme.firstTick = me.getMomentStartOf(me.firstTick);\n\t\t\t\troundedStart = me.firstTick;\n\t\t\t} else {\n\t\t\t\troundedStart = me.getMomentStartOf(me.firstTick);\n\t\t\t}\n\n\t\t\t// Only round the last tick if we have no hard maximum\n\t\t\tif (!me.options.time.max) {\n\t\t\t\tvar roundedEnd = me.getMomentStartOf(me.lastTick);\n\t\t\t\tvar delta = roundedEnd.diff(me.lastTick, me.tickUnit, true);\n\t\t\t\tif (delta < 0) {\n\t\t\t\t\t// Do not use end of because we need me to be in the next time unit\n\t\t\t\t\tme.lastTick = me.getMomentStartOf(me.lastTick.add(1, me.tickUnit));\n\t\t\t\t} else if (delta >= 0) {\n\t\t\t\t\tme.lastTick = roundedEnd;\n\t\t\t\t}\n\n\t\t\t\tme.scaleSizeInUnits = me.lastTick.diff(me.firstTick, me.tickUnit, true);\n\t\t\t}\n\n\t\t\t// Tick displayFormat override\n\t\t\tif (me.options.time.displayFormat) {\n\t\t\t\tme.displayFormat = me.options.time.displayFormat;\n\t\t\t}\n\n\t\t\t// first tick. will have been rounded correctly if options.time.min is not specified\n\t\t\tme.ticks.push(me.firstTick.clone());\n\n\t\t\t// For every unit in between the first and last moment, create a moment and add it to the ticks tick\n\t\t\tfor (var i = 1; i <= me.scaleSizeInUnits; ++i) {\n\t\t\t\tvar newTick = roundedStart.clone().add(i, me.tickUnit);\n\n\t\t\t\t// Are we greater than the max time\n\t\t\t\tif (me.options.time.max && newTick.diff(me.lastTick, me.tickUnit, true) >= 0) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (i % me.unitScale === 0) {\n\t\t\t\t\tme.ticks.push(newTick);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Always show the right tick\n\t\t\tvar diff = me.ticks[me.ticks.length - 1].diff(me.lastTick, me.tickUnit);\n\t\t\tif (diff !== 0 || me.scaleSizeInUnits === 0) {\n\t\t\t\t// this is a weird case. If the <max> option is the same as the end option, we can't just diff the times because the tick was created from the roundedStart\n\t\t\t\t// but the last tick was not rounded.\n\t\t\t\tif (me.options.time.max) {\n\t\t\t\t\tme.ticks.push(me.lastTick.clone());\n\t\t\t\t\tme.scaleSizeInUnits = me.lastTick.diff(me.ticks[0], me.tickUnit, true);\n\t\t\t\t} else {\n\t\t\t\t\tme.ticks.push(me.lastTick.clone());\n\t\t\t\t\tme.scaleSizeInUnits = me.lastTick.diff(me.firstTick, me.tickUnit, true);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tme.ctx.restore();\n\n\t\t\t// Invalidate label diffs cache\n\t\t\tme.labelDiffs = undefined;\n\t\t},\n\t\t// Get tooltip label\n\t\tgetLabelForIndex: function(index, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar label = me.chart.data.labels && index < me.chart.data.labels.length ? me.chart.data.labels[index] : '';\n\n\t\t\tif (typeof me.chart.data.datasets[datasetIndex].data[0] === 'object') {\n\t\t\t\tlabel = me.getRightValue(me.chart.data.datasets[datasetIndex].data[index]);\n\t\t\t}\n\n\t\t\t// Format nicely\n\t\t\tif (me.options.time.tooltipFormat) {\n\t\t\t\tlabel = me.parseTime(label).format(me.options.time.tooltipFormat);\n\t\t\t}\n\n\t\t\treturn label;\n\t\t},\n\t\t// Function to format an individual tick mark\n\t\ttickFormatFunction: function(tick, index, ticks) {\n\t\t\tvar formattedTick = tick.format(this.displayFormat);\n\t\t\tvar tickOpts = this.options.ticks;\n\t\t\tvar callback = helpers.getValueOrDefault(tickOpts.callback, tickOpts.userCallback);\n\n\t\t\tif (callback) {\n\t\t\t\treturn callback(formattedTick, index, ticks);\n\t\t\t}\n\t\t\treturn formattedTick;\n\t\t},\n\t\tconvertTicksToLabels: function() {\n\t\t\tvar me = this;\n\t\t\tme.tickMoments = me.ticks;\n\t\t\tme.ticks = me.ticks.map(me.tickFormatFunction, me);\n\t\t},\n\t\tgetPixelForValue: function(value, index, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar offset = null;\n\t\t\tif (index !== undefined && datasetIndex !== undefined) {\n\t\t\t\toffset = me.getLabelDiff(datasetIndex, index);\n\t\t\t}\n\n\t\t\tif (offset === null) {\n\t\t\t\tif (!value || !value.isValid) {\n\t\t\t\t\t// not already a moment object\n\t\t\t\t\tvalue = me.parseTime(me.getRightValue(value));\n\t\t\t\t}\n\t\t\t\tif (value && value.isValid && value.isValid()) {\n\t\t\t\t\toffset = value.diff(me.firstTick, me.tickUnit, true);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (offset !== null) {\n\t\t\t\tvar decimal = offset !== 0 ? offset / me.scaleSizeInUnits : offset;\n\n\t\t\t\tif (me.isHorizontal()) {\n\t\t\t\t\tvar innerWidth = me.width - (me.paddingLeft + me.paddingRight);\n\t\t\t\t\tvar valueOffset = (innerWidth * decimal) + me.paddingLeft;\n\n\t\t\t\t\treturn me.left + Math.round(valueOffset);\n\t\t\t\t}\n\t\t\t\tvar innerHeight = me.height - (me.paddingTop + me.paddingBottom);\n\t\t\t\tvar heightOffset = (innerHeight * decimal) + me.paddingTop;\n\n\t\t\t\treturn me.top + Math.round(heightOffset);\n\t\t\t}\n\t\t},\n\t\tgetPixelForTick: function(index) {\n\t\t\treturn this.getPixelForValue(this.tickMoments[index], null, null);\n\t\t},\n\t\tgetValueForPixel: function(pixel) {\n\t\t\tvar me = this;\n\t\t\tvar innerDimension = me.isHorizontal() ? me.width - (me.paddingLeft + me.paddingRight) : me.height - (me.paddingTop + me.paddingBottom);\n\t\t\tvar offset = (pixel - (me.isHorizontal() ? me.left + me.paddingLeft : me.top + me.paddingTop)) / innerDimension;\n\t\t\toffset *= me.scaleSizeInUnits;\n\t\t\treturn me.firstTick.clone().add(moment.duration(offset, me.tickUnit).asSeconds(), 'seconds');\n\t\t},\n\t\tparseTime: function(label) {\n\t\t\tvar me = this;\n\t\t\tif (typeof me.options.time.parser === 'string') {\n\t\t\t\treturn moment(label, me.options.time.parser);\n\t\t\t}\n\t\t\tif (typeof me.options.time.parser === 'function') {\n\t\t\t\treturn me.options.time.parser(label);\n\t\t\t}\n\t\t\t// Date objects\n\t\t\tif (typeof label.getMonth === 'function' || typeof label === 'number') {\n\t\t\t\treturn moment(label);\n\t\t\t}\n\t\t\t// Moment support\n\t\t\tif (label.isValid && label.isValid()) {\n\t\t\t\treturn label;\n\t\t\t}\n\t\t\t// Custom parsing (return an instance of moment)\n\t\t\tif (typeof me.options.time.format !== 'string' && me.options.time.format.call) {\n\t\t\t\tconsole.warn('options.time.format is deprecated and replaced by options.time.parser. See http://nnnick.github.io/Chart.js/docs-v2/#scales-time-scale');\n\t\t\t\treturn me.options.time.format(label);\n\t\t\t}\n\t\t\t// Moment format parsing\n\t\t\treturn moment(label, me.options.time.format);\n\t\t}\n\t});\n\tChart.scaleService.registerScaleType('time', TimeScale, defaultConfig);\n\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.bar = {\n\t\thover: {\n\t\t\tmode: 'label'\n\t\t},\n\n\t\tscales: {\n\t\t\txAxes: [{\n\t\t\t\ttype: 'category',\n\n\t\t\t\t// Specific to Bar Controller\n\t\t\t\tcategoryPercentage: 0.8,\n\t\t\t\tbarPercentage: 0.9,\n\n\t\t\t\t// grid line settings\n\t\t\t\tgridLines: {\n\t\t\t\t\toffsetGridLines: true\n\t\t\t\t}\n\t\t\t}],\n\t\t\tyAxes: [{\n\t\t\t\ttype: 'linear'\n\t\t\t}]\n\t\t}\n\t};\n\n\tChart.controllers.bar = Chart.DatasetController.extend({\n\n\t\tdataElementType: Chart.elements.Rectangle,\n\n\t\tinitialize: function(chart, datasetIndex) {\n\t\t\tChart.DatasetController.prototype.initialize.call(this, chart, datasetIndex);\n\n\t\t\t// Use this to indicate that this is a bar dataset.\n\t\t\tthis.getMeta().bar = true;\n\t\t},\n\n\t\t// Get the number of datasets that display bars. We use this to correctly calculate the bar width\n\t\tgetBarCount: function() {\n\t\t\tvar me = this;\n\t\t\tvar barCount = 0;\n\t\t\thelpers.each(me.chart.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tvar meta = me.chart.getDatasetMeta(datasetIndex);\n\t\t\t\tif (meta.bar && me.chart.isDatasetVisible(datasetIndex)) {\n\t\t\t\t\t++barCount;\n\t\t\t\t}\n\t\t\t}, me);\n\t\t\treturn barCount;\n\t\t},\n\n\t\tupdate: function(reset) {\n\t\t\tvar me = this;\n\t\t\thelpers.each(me.getMeta().data, function(rectangle, index) {\n\t\t\t\tme.updateElement(rectangle, index, reset);\n\t\t\t}, me);\n\t\t},\n\n\t\tupdateElement: function(rectangle, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar xScale = me.getScaleForId(meta.xAxisID);\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar scaleBase = yScale.getBasePixel();\n\t\t\tvar rectangleElementOptions = me.chart.options.elements.rectangle;\n\t\t\tvar custom = rectangle.custom || {};\n\t\t\tvar dataset = me.getDataset();\n\n\t\t\thelpers.extend(rectangle, {\n\t\t\t\t// Utility\n\t\t\t\t_xScale: xScale,\n\t\t\t\t_yScale: yScale,\n\t\t\t\t_datasetIndex: me.index,\n\t\t\t\t_index: index,\n\n\t\t\t\t// Desired view properties\n\t\t\t\t_model: {\n\t\t\t\t\tx: me.calculateBarX(index, me.index),\n\t\t\t\t\ty: reset ? scaleBase : me.calculateBarY(index, me.index),\n\n\t\t\t\t\t// Tooltip\n\t\t\t\t\tlabel: me.chart.data.labels[index],\n\t\t\t\t\tdatasetLabel: dataset.label,\n\n\t\t\t\t\t// Appearance\n\t\t\t\t\tbase: reset ? scaleBase : me.calculateBarBase(me.index, index),\n\t\t\t\t\twidth: me.calculateBarWidth(index),\n\t\t\t\t\tbackgroundColor: custom.backgroundColor ? custom.backgroundColor : helpers.getValueAtIndexOrDefault(dataset.backgroundColor, index, rectangleElementOptions.backgroundColor),\n\t\t\t\t\tborderSkipped: custom.borderSkipped ? custom.borderSkipped : rectangleElementOptions.borderSkipped,\n\t\t\t\t\tborderColor: custom.borderColor ? custom.borderColor : helpers.getValueAtIndexOrDefault(dataset.borderColor, index, rectangleElementOptions.borderColor),\n\t\t\t\t\tborderWidth: custom.borderWidth ? custom.borderWidth : helpers.getValueAtIndexOrDefault(dataset.borderWidth, index, rectangleElementOptions.borderWidth)\n\t\t\t\t}\n\t\t\t});\n\t\t\trectangle.pivot();\n\t\t},\n\n\t\tcalculateBarBase: function(datasetIndex, index) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar base = 0;\n\n\t\t\tif (yScale.options.stacked) {\n\t\t\t\tvar chart = me.chart;\n\t\t\t\tvar datasets = chart.data.datasets;\n\t\t\t\tvar value = Number(datasets[datasetIndex].data[index]);\n\n\t\t\t\tfor (var i = 0; i < datasetIndex; i++) {\n\t\t\t\t\tvar currentDs = datasets[i];\n\t\t\t\t\tvar currentDsMeta = chart.getDatasetMeta(i);\n\t\t\t\t\tif (currentDsMeta.bar && currentDsMeta.yAxisID === yScale.id && chart.isDatasetVisible(i)) {\n\t\t\t\t\t\tvar currentVal = Number(currentDs.data[index]);\n\t\t\t\t\t\tbase += value < 0 ? Math.min(currentVal, 0) : Math.max(currentVal, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn yScale.getPixelForValue(base);\n\t\t\t}\n\n\t\t\treturn yScale.getBasePixel();\n\t\t},\n\n\t\tgetRuler: function(index) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar xScale = me.getScaleForId(meta.xAxisID);\n\t\t\tvar datasetCount = me.getBarCount();\n\n\t\t\tvar tickWidth;\n\n\t\t\tif (xScale.options.type === 'category') {\n\t\t\t\ttickWidth = xScale.getPixelForTick(index + 1) - xScale.getPixelForTick(index);\n\t\t\t} else {\n\t\t\t\t// Average width\n\t\t\t\ttickWidth = xScale.width / xScale.ticks.length;\n\t\t\t}\n\t\t\tvar categoryWidth = tickWidth * xScale.options.categoryPercentage;\n\t\t\tvar categorySpacing = (tickWidth - (tickWidth * xScale.options.categoryPercentage)) / 2;\n\t\t\tvar fullBarWidth = categoryWidth / datasetCount;\n\n\t\t\tif (xScale.ticks.length !== me.chart.data.labels.length) {\n\t\t\t\tvar perc = xScale.ticks.length / me.chart.data.labels.length;\n\t\t\t\tfullBarWidth = fullBarWidth * perc;\n\t\t\t}\n\n\t\t\tvar barWidth = fullBarWidth * xScale.options.barPercentage;\n\t\t\tvar barSpacing = fullBarWidth - (fullBarWidth * xScale.options.barPercentage);\n\n\t\t\treturn {\n\t\t\t\tdatasetCount: datasetCount,\n\t\t\t\ttickWidth: tickWidth,\n\t\t\t\tcategoryWidth: categoryWidth,\n\t\t\t\tcategorySpacing: categorySpacing,\n\t\t\t\tfullBarWidth: fullBarWidth,\n\t\t\t\tbarWidth: barWidth,\n\t\t\t\tbarSpacing: barSpacing\n\t\t\t};\n\t\t},\n\n\t\tcalculateBarWidth: function(index) {\n\t\t\tvar xScale = this.getScaleForId(this.getMeta().xAxisID);\n\t\t\tif (xScale.options.barThickness) {\n\t\t\t\treturn xScale.options.barThickness;\n\t\t\t}\n\t\t\tvar ruler = this.getRuler(index);\n\t\t\treturn xScale.options.stacked ? ruler.categoryWidth : ruler.barWidth;\n\t\t},\n\n\t\t// Get bar index from the given dataset index accounting for the fact that not all bars are visible\n\t\tgetBarIndex: function(datasetIndex) {\n\t\t\tvar barIndex = 0;\n\t\t\tvar meta, j;\n\n\t\t\tfor (j = 0; j < datasetIndex; ++j) {\n\t\t\t\tmeta = this.chart.getDatasetMeta(j);\n\t\t\t\tif (meta.bar && this.chart.isDatasetVisible(j)) {\n\t\t\t\t\t++barIndex;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn barIndex;\n\t\t},\n\n\t\tcalculateBarX: function(index, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar xScale = me.getScaleForId(meta.xAxisID);\n\t\t\tvar barIndex = me.getBarIndex(datasetIndex);\n\n\t\t\tvar ruler = me.getRuler(index);\n\t\t\tvar leftTick = xScale.getPixelForValue(null, index, datasetIndex, me.chart.isCombo);\n\t\t\tleftTick -= me.chart.isCombo ? (ruler.tickWidth / 2) : 0;\n\n\t\t\tif (xScale.options.stacked) {\n\t\t\t\treturn leftTick + (ruler.categoryWidth / 2) + ruler.categorySpacing;\n\t\t\t}\n\n\t\t\treturn leftTick +\n\t\t\t\t(ruler.barWidth / 2) +\n\t\t\t\truler.categorySpacing +\n\t\t\t\t(ruler.barWidth * barIndex) +\n\t\t\t\t(ruler.barSpacing / 2) +\n\t\t\t\t(ruler.barSpacing * barIndex);\n\t\t},\n\n\t\tcalculateBarY: function(index, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar value = Number(me.getDataset().data[index]);\n\n\t\t\tif (yScale.options.stacked) {\n\n\t\t\t\tvar sumPos = 0,\n\t\t\t\t\tsumNeg = 0;\n\n\t\t\t\tfor (var i = 0; i < datasetIndex; i++) {\n\t\t\t\t\tvar ds = me.chart.data.datasets[i];\n\t\t\t\t\tvar dsMeta = me.chart.getDatasetMeta(i);\n\t\t\t\t\tif (dsMeta.bar && dsMeta.yAxisID === yScale.id && me.chart.isDatasetVisible(i)) {\n\t\t\t\t\t\tvar stackedVal = Number(ds.data[index]);\n\t\t\t\t\t\tif (stackedVal < 0) {\n\t\t\t\t\t\t\tsumNeg += stackedVal || 0;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsumPos += stackedVal || 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (value < 0) {\n\t\t\t\t\treturn yScale.getPixelForValue(sumNeg + value);\n\t\t\t\t}\n\t\t\t\treturn yScale.getPixelForValue(sumPos + value);\n\t\t\t}\n\n\t\t\treturn yScale.getPixelForValue(value);\n\t\t},\n\n\t\tdraw: function(ease) {\n\t\t\tvar me = this;\n\t\t\tvar easingDecimal = ease || 1;\n\t\t\thelpers.each(me.getMeta().data, function(rectangle, index) {\n\t\t\t\tvar d = me.getDataset().data[index];\n\t\t\t\tif (d !== null && d !== undefined && !isNaN(d)) {\n\t\t\t\t\trectangle.transition(easingDecimal).draw();\n\t\t\t\t}\n\t\t\t}, me);\n\t\t},\n\n\t\tsetHoverStyle: function(rectangle) {\n\t\t\tvar dataset = this.chart.data.datasets[rectangle._datasetIndex];\n\t\t\tvar index = rectangle._index;\n\n\t\t\tvar custom = rectangle.custom || {};\n\t\t\tvar model = rectangle._model;\n\t\t\tmodel.backgroundColor = custom.hoverBackgroundColor ? custom.hoverBackgroundColor : helpers.getValueAtIndexOrDefault(dataset.hoverBackgroundColor, index, helpers.getHoverColor(model.backgroundColor));\n\t\t\tmodel.borderColor = custom.hoverBorderColor ? custom.hoverBorderColor : helpers.getValueAtIndexOrDefault(dataset.hoverBorderColor, index, helpers.getHoverColor(model.borderColor));\n\t\t\tmodel.borderWidth = custom.hoverBorderWidth ? custom.hoverBorderWidth : helpers.getValueAtIndexOrDefault(dataset.hoverBorderWidth, index, model.borderWidth);\n\t\t},\n\n\t\tremoveHoverStyle: function(rectangle) {\n\t\t\tvar dataset = this.chart.data.datasets[rectangle._datasetIndex];\n\t\t\tvar index = rectangle._index;\n\t\t\tvar custom = rectangle.custom || {};\n\t\t\tvar model = rectangle._model;\n\t\t\tvar rectangleElementOptions = this.chart.options.elements.rectangle;\n\n\t\t\tmodel.backgroundColor = custom.backgroundColor ? custom.backgroundColor : helpers.getValueAtIndexOrDefault(dataset.backgroundColor, index, rectangleElementOptions.backgroundColor);\n\t\t\tmodel.borderColor = custom.borderColor ? custom.borderColor : helpers.getValueAtIndexOrDefault(dataset.borderColor, index, rectangleElementOptions.borderColor);\n\t\t\tmodel.borderWidth = custom.borderWidth ? custom.borderWidth : helpers.getValueAtIndexOrDefault(dataset.borderWidth, index, rectangleElementOptions.borderWidth);\n\t\t}\n\n\t});\n\n\n\t// including horizontalBar in the bar file, instead of a file of its own\n\t// it extends bar (like pie extends doughnut)\n\tChart.defaults.horizontalBar = {\n\t\thover: {\n\t\t\tmode: 'label'\n\t\t},\n\n\t\tscales: {\n\t\t\txAxes: [{\n\t\t\t\ttype: 'linear',\n\t\t\t\tposition: 'bottom'\n\t\t\t}],\n\t\t\tyAxes: [{\n\t\t\t\tposition: 'left',\n\t\t\t\ttype: 'category',\n\n\t\t\t\t// Specific to Horizontal Bar Controller\n\t\t\t\tcategoryPercentage: 0.8,\n\t\t\t\tbarPercentage: 0.9,\n\n\t\t\t\t// grid line settings\n\t\t\t\tgridLines: {\n\t\t\t\t\toffsetGridLines: true\n\t\t\t\t}\n\t\t\t}]\n\t\t},\n\t\telements: {\n\t\t\trectangle: {\n\t\t\t\tborderSkipped: 'left'\n\t\t\t}\n\t\t},\n\t\ttooltips: {\n\t\t\tcallbacks: {\n\t\t\t\ttitle: function(tooltipItems, data) {\n\t\t\t\t\t// Pick first xLabel for now\n\t\t\t\t\tvar title = '';\n\n\t\t\t\t\tif (tooltipItems.length > 0) {\n\t\t\t\t\t\tif (tooltipItems[0].yLabel) {\n\t\t\t\t\t\t\ttitle = tooltipItems[0].yLabel;\n\t\t\t\t\t\t} else if (data.labels.length > 0 && tooltipItems[0].index < data.labels.length) {\n\t\t\t\t\t\t\ttitle = data.labels[tooltipItems[0].index];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn title;\n\t\t\t\t},\n\t\t\t\tlabel: function(tooltipItem, data) {\n\t\t\t\t\tvar datasetLabel = data.datasets[tooltipItem.datasetIndex].label || '';\n\t\t\t\t\treturn datasetLabel + ': ' + tooltipItem.xLabel;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tChart.controllers.horizontalBar = Chart.controllers.bar.extend({\n\t\tupdateElement: function(rectangle, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar xScale = me.getScaleForId(meta.xAxisID);\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar scaleBase = xScale.getBasePixel();\n\t\t\tvar custom = rectangle.custom || {};\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar rectangleElementOptions = me.chart.options.elements.rectangle;\n\n\t\t\thelpers.extend(rectangle, {\n\t\t\t\t// Utility\n\t\t\t\t_xScale: xScale,\n\t\t\t\t_yScale: yScale,\n\t\t\t\t_datasetIndex: me.index,\n\t\t\t\t_index: index,\n\n\t\t\t\t// Desired view properties\n\t\t\t\t_model: {\n\t\t\t\t\tx: reset ? scaleBase : me.calculateBarX(index, me.index),\n\t\t\t\t\ty: me.calculateBarY(index, me.index),\n\n\t\t\t\t\t// Tooltip\n\t\t\t\t\tlabel: me.chart.data.labels[index],\n\t\t\t\t\tdatasetLabel: dataset.label,\n\n\t\t\t\t\t// Appearance\n\t\t\t\t\tbase: reset ? scaleBase : me.calculateBarBase(me.index, index),\n\t\t\t\t\theight: me.calculateBarHeight(index),\n\t\t\t\t\tbackgroundColor: custom.backgroundColor ? custom.backgroundColor : helpers.getValueAtIndexOrDefault(dataset.backgroundColor, index, rectangleElementOptions.backgroundColor),\n\t\t\t\t\tborderSkipped: custom.borderSkipped ? custom.borderSkipped : rectangleElementOptions.borderSkipped,\n\t\t\t\t\tborderColor: custom.borderColor ? custom.borderColor : helpers.getValueAtIndexOrDefault(dataset.borderColor, index, rectangleElementOptions.borderColor),\n\t\t\t\t\tborderWidth: custom.borderWidth ? custom.borderWidth : helpers.getValueAtIndexOrDefault(dataset.borderWidth, index, rectangleElementOptions.borderWidth)\n\t\t\t\t},\n\n\t\t\t\tdraw: function() {\n\t\t\t\t\tvar ctx = this._chart.ctx;\n\t\t\t\t\tvar vm = this._view;\n\n\t\t\t\t\tvar halfHeight = vm.height / 2,\n\t\t\t\t\t\ttopY = vm.y - halfHeight,\n\t\t\t\t\t\tbottomY = vm.y + halfHeight,\n\t\t\t\t\t\tright = vm.base - (vm.base - vm.x),\n\t\t\t\t\t\thalfStroke = vm.borderWidth / 2;\n\n\t\t\t\t\t// Canvas doesn't allow us to stroke inside the width so we can\n\t\t\t\t\t// adjust the sizes to fit if we're setting a stroke on the line\n\t\t\t\t\tif (vm.borderWidth) {\n\t\t\t\t\t\ttopY += halfStroke;\n\t\t\t\t\t\tbottomY -= halfStroke;\n\t\t\t\t\t\tright += halfStroke;\n\t\t\t\t\t}\n\n\t\t\t\t\tctx.beginPath();\n\n\t\t\t\t\tctx.fillStyle = vm.backgroundColor;\n\t\t\t\t\tctx.strokeStyle = vm.borderColor;\n\t\t\t\t\tctx.lineWidth = vm.borderWidth;\n\n\t\t\t\t\t// Corner points, from bottom-left to bottom-right clockwise\n\t\t\t\t\t// | 1 2 |\n\t\t\t\t\t// | 0 3 |\n\t\t\t\t\tvar corners = [\n\t\t\t\t\t\t[vm.base, bottomY],\n\t\t\t\t\t\t[vm.base, topY],\n\t\t\t\t\t\t[right, topY],\n\t\t\t\t\t\t[right, bottomY]\n\t\t\t\t\t];\n\n\t\t\t\t\t// Find first (starting) corner with fallback to 'bottom'\n\t\t\t\t\tvar borders = ['bottom', 'left', 'top', 'right'];\n\t\t\t\t\tvar startCorner = borders.indexOf(vm.borderSkipped, 0);\n\t\t\t\t\tif (startCorner === -1) {\n\t\t\t\t\t\tstartCorner = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction cornerAt(cornerIndex) {\n\t\t\t\t\t\treturn corners[(startCorner + cornerIndex) % 4];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Draw rectangle from 'startCorner'\n\t\t\t\t\tctx.moveTo.apply(ctx, cornerAt(0));\n\t\t\t\t\tfor (var i = 1; i < 4; i++) {\n\t\t\t\t\t\tctx.lineTo.apply(ctx, cornerAt(i));\n\t\t\t\t\t}\n\n\t\t\t\t\tctx.fill();\n\t\t\t\t\tif (vm.borderWidth) {\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tinRange: function(mouseX, mouseY) {\n\t\t\t\t\tvar vm = this._view;\n\t\t\t\t\tvar inRange = false;\n\n\t\t\t\t\tif (vm) {\n\t\t\t\t\t\tif (vm.x < vm.base) {\n\t\t\t\t\t\t\tinRange = (mouseY >= vm.y - vm.height / 2 && mouseY <= vm.y + vm.height / 2) && (mouseX >= vm.x && mouseX <= vm.base);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tinRange = (mouseY >= vm.y - vm.height / 2 && mouseY <= vm.y + vm.height / 2) && (mouseX >= vm.base && mouseX <= vm.x);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn inRange;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\trectangle.pivot();\n\t\t},\n\n\t\tcalculateBarBase: function(datasetIndex, index) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar xScale = me.getScaleForId(meta.xAxisID);\n\t\t\tvar base = 0;\n\n\t\t\tif (xScale.options.stacked) {\n\t\t\t\tvar chart = me.chart;\n\t\t\t\tvar datasets = chart.data.datasets;\n\t\t\t\tvar value = Number(datasets[datasetIndex].data[index]);\n\n\t\t\t\tfor (var i = 0; i < datasetIndex; i++) {\n\t\t\t\t\tvar currentDs = datasets[i];\n\t\t\t\t\tvar currentDsMeta = chart.getDatasetMeta(i);\n\t\t\t\t\tif (currentDsMeta.bar && currentDsMeta.xAxisID === xScale.id && chart.isDatasetVisible(i)) {\n\t\t\t\t\t\tvar currentVal = Number(currentDs.data[index]);\n\t\t\t\t\t\tbase += value < 0 ? Math.min(currentVal, 0) : Math.max(currentVal, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn xScale.getPixelForValue(base);\n\t\t\t}\n\n\t\t\treturn xScale.getBasePixel();\n\t\t},\n\n\t\tgetRuler: function(index) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar datasetCount = me.getBarCount();\n\n\t\t\tvar tickHeight;\n\t\t\tif (yScale.options.type === 'category') {\n\t\t\t\ttickHeight = yScale.getPixelForTick(index + 1) - yScale.getPixelForTick(index);\n\t\t\t} else {\n\t\t\t\t// Average width\n\t\t\t\ttickHeight = yScale.width / yScale.ticks.length;\n\t\t\t}\n\t\t\tvar categoryHeight = tickHeight * yScale.options.categoryPercentage;\n\t\t\tvar categorySpacing = (tickHeight - (tickHeight * yScale.options.categoryPercentage)) / 2;\n\t\t\tvar fullBarHeight = categoryHeight / datasetCount;\n\n\t\t\tif (yScale.ticks.length !== me.chart.data.labels.length) {\n\t\t\t\tvar perc = yScale.ticks.length / me.chart.data.labels.length;\n\t\t\t\tfullBarHeight = fullBarHeight * perc;\n\t\t\t}\n\n\t\t\tvar barHeight = fullBarHeight * yScale.options.barPercentage;\n\t\t\tvar barSpacing = fullBarHeight - (fullBarHeight * yScale.options.barPercentage);\n\n\t\t\treturn {\n\t\t\t\tdatasetCount: datasetCount,\n\t\t\t\ttickHeight: tickHeight,\n\t\t\t\tcategoryHeight: categoryHeight,\n\t\t\t\tcategorySpacing: categorySpacing,\n\t\t\t\tfullBarHeight: fullBarHeight,\n\t\t\t\tbarHeight: barHeight,\n\t\t\t\tbarSpacing: barSpacing\n\t\t\t};\n\t\t},\n\n\t\tcalculateBarHeight: function(index) {\n\t\t\tvar me = this;\n\t\t\tvar yScale = me.getScaleForId(me.getMeta().yAxisID);\n\t\t\tif (yScale.options.barThickness) {\n\t\t\t\treturn yScale.options.barThickness;\n\t\t\t}\n\t\t\tvar ruler = me.getRuler(index);\n\t\t\treturn yScale.options.stacked ? ruler.categoryHeight : ruler.barHeight;\n\t\t},\n\n\t\tcalculateBarX: function(index, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar xScale = me.getScaleForId(meta.xAxisID);\n\t\t\tvar value = Number(me.getDataset().data[index]);\n\n\t\t\tif (xScale.options.stacked) {\n\n\t\t\t\tvar sumPos = 0,\n\t\t\t\t\tsumNeg = 0;\n\n\t\t\t\tfor (var i = 0; i < datasetIndex; i++) {\n\t\t\t\t\tvar ds = me.chart.data.datasets[i];\n\t\t\t\t\tvar dsMeta = me.chart.getDatasetMeta(i);\n\t\t\t\t\tif (dsMeta.bar && dsMeta.xAxisID === xScale.id && me.chart.isDatasetVisible(i)) {\n\t\t\t\t\t\tvar stackedVal = Number(ds.data[index]);\n\t\t\t\t\t\tif (stackedVal < 0) {\n\t\t\t\t\t\t\tsumNeg += stackedVal || 0;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsumPos += stackedVal || 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (value < 0) {\n\t\t\t\t\treturn xScale.getPixelForValue(sumNeg + value);\n\t\t\t\t}\n\t\t\t\treturn xScale.getPixelForValue(sumPos + value);\n\t\t\t}\n\n\t\t\treturn xScale.getPixelForValue(value);\n\t\t},\n\n\t\tcalculateBarY: function(index, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar barIndex = me.getBarIndex(datasetIndex);\n\n\t\t\tvar ruler = me.getRuler(index);\n\t\t\tvar topTick = yScale.getPixelForValue(null, index, datasetIndex, me.chart.isCombo);\n\t\t\ttopTick -= me.chart.isCombo ? (ruler.tickHeight / 2) : 0;\n\n\t\t\tif (yScale.options.stacked) {\n\t\t\t\treturn topTick + (ruler.categoryHeight / 2) + ruler.categorySpacing;\n\t\t\t}\n\n\t\t\treturn topTick +\n\t\t\t\t(ruler.barHeight / 2) +\n\t\t\t\truler.categorySpacing +\n\t\t\t\t(ruler.barHeight * barIndex) +\n\t\t\t\t(ruler.barSpacing / 2) +\n\t\t\t\t(ruler.barSpacing * barIndex);\n\t\t}\n\t});\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.bubble = {\n\t\thover: {\n\t\t\tmode: 'single'\n\t\t},\n\n\t\tscales: {\n\t\t\txAxes: [{\n\t\t\t\ttype: 'linear', // bubble should probably use a linear scale by default\n\t\t\t\tposition: 'bottom',\n\t\t\t\tid: 'x-axis-0' // need an ID so datasets can reference the scale\n\t\t\t}],\n\t\t\tyAxes: [{\n\t\t\t\ttype: 'linear',\n\t\t\t\tposition: 'left',\n\t\t\t\tid: 'y-axis-0'\n\t\t\t}]\n\t\t},\n\n\t\ttooltips: {\n\t\t\tcallbacks: {\n\t\t\t\ttitle: function() {\n\t\t\t\t\t// Title doesn't make sense for scatter since we format the data as a point\n\t\t\t\t\treturn '';\n\t\t\t\t},\n\t\t\t\tlabel: function(tooltipItem, data) {\n\t\t\t\t\tvar datasetLabel = data.datasets[tooltipItem.datasetIndex].label || '';\n\t\t\t\t\tvar dataPoint = data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\n\t\t\t\t\treturn datasetLabel + ': (' + dataPoint.x + ', ' + dataPoint.y + ', ' + dataPoint.r + ')';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tChart.controllers.bubble = Chart.DatasetController.extend({\n\n\t\tdataElementType: Chart.elements.Point,\n\n\t\tupdate: function(reset) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar points = meta.data;\n\n\t\t\t// Update Points\n\t\t\thelpers.each(points, function(point, index) {\n\t\t\t\tme.updateElement(point, index, reset);\n\t\t\t});\n\t\t},\n\n\t\tupdateElement: function(point, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar xScale = me.getScaleForId(meta.xAxisID);\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar data = dataset.data[index];\n\t\t\tvar pointElementOptions = me.chart.options.elements.point;\n\t\t\tvar dsIndex = me.index;\n\n\t\t\thelpers.extend(point, {\n\t\t\t\t// Utility\n\t\t\t\t_xScale: xScale,\n\t\t\t\t_yScale: yScale,\n\t\t\t\t_datasetIndex: dsIndex,\n\t\t\t\t_index: index,\n\n\t\t\t\t// Desired view properties\n\t\t\t\t_model: {\n\t\t\t\t\tx: reset ? xScale.getPixelForDecimal(0.5) : xScale.getPixelForValue(typeof data === 'object' ? data : NaN, index, dsIndex, me.chart.isCombo),\n\t\t\t\t\ty: reset ? yScale.getBasePixel() : yScale.getPixelForValue(data, index, dsIndex),\n\t\t\t\t\t// Appearance\n\t\t\t\t\tradius: reset ? 0 : custom.radius ? custom.radius : me.getRadius(data),\n\n\t\t\t\t\t// Tooltip\n\t\t\t\t\thitRadius: custom.hitRadius ? custom.hitRadius : helpers.getValueAtIndexOrDefault(dataset.hitRadius, index, pointElementOptions.hitRadius)\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Trick to reset the styles of the point\n\t\t\tChart.DatasetController.prototype.removeHoverStyle.call(me, point, pointElementOptions);\n\n\t\t\tvar model = point._model;\n\t\t\tmodel.skip = custom.skip ? custom.skip : (isNaN(model.x) || isNaN(model.y));\n\n\t\t\tpoint.pivot();\n\t\t},\n\n\t\tgetRadius: function(value) {\n\t\t\treturn value.r || this.chart.options.elements.point.radius;\n\t\t},\n\n\t\tsetHoverStyle: function(point) {\n\t\t\tvar me = this;\n\t\t\tChart.DatasetController.prototype.setHoverStyle.call(me, point);\n\n\t\t\t// Radius\n\t\t\tvar dataset = me.chart.data.datasets[point._datasetIndex];\n\t\t\tvar index = point._index;\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar model = point._model;\n\t\t\tmodel.radius = custom.hoverRadius ? custom.hoverRadius : (helpers.getValueAtIndexOrDefault(dataset.hoverRadius, index, me.chart.options.elements.point.hoverRadius)) + me.getRadius(dataset.data[index]);\n\t\t},\n\n\t\tremoveHoverStyle: function(point) {\n\t\t\tvar me = this;\n\t\t\tChart.DatasetController.prototype.removeHoverStyle.call(me, point, me.chart.options.elements.point);\n\n\t\t\tvar dataVal = me.chart.data.datasets[point._datasetIndex].data[point._index];\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar model = point._model;\n\n\t\t\tmodel.radius = custom.radius ? custom.radius : me.getRadius(dataVal);\n\t\t}\n\t});\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers,\n\t\tdefaults = Chart.defaults;\n\n\tdefaults.doughnut = {\n\t\tanimation: {\n\t\t\t// Boolean - Whether we animate the rotation of the Doughnut\n\t\t\tanimateRotate: true,\n\t\t\t// Boolean - Whether we animate scaling the Doughnut from the centre\n\t\t\tanimateScale: false\n\t\t},\n\t\taspectRatio: 1,\n\t\thover: {\n\t\t\tmode: 'single'\n\t\t},\n\t\tlegendCallback: function(chart) {\n\t\t\tvar text = [];\n\t\t\ttext.push('<ul class=\"' + chart.id + '-legend\">');\n\n\t\t\tvar data = chart.data;\n\t\t\tvar datasets = data.datasets;\n\t\t\tvar labels = data.labels;\n\n\t\t\tif (datasets.length) {\n\t\t\t\tfor (var i = 0; i < datasets[0].data.length; ++i) {\n\t\t\t\t\ttext.push('<li><span style=\"background-color:' + datasets[0].backgroundColor[i] + '\"></span>');\n\t\t\t\t\tif (labels[i]) {\n\t\t\t\t\t\ttext.push(labels[i]);\n\t\t\t\t\t}\n\t\t\t\t\ttext.push('</li>');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttext.push('</ul>');\n\t\t\treturn text.join('');\n\t\t},\n\t\tlegend: {\n\t\t\tlabels: {\n\t\t\t\tgenerateLabels: function(chart) {\n\t\t\t\t\tvar data = chart.data;\n\t\t\t\t\tif (data.labels.length && data.datasets.length) {\n\t\t\t\t\t\treturn data.labels.map(function(label, i) {\n\t\t\t\t\t\t\tvar meta = chart.getDatasetMeta(0);\n\t\t\t\t\t\t\tvar ds = data.datasets[0];\n\t\t\t\t\t\t\tvar arc = meta.data[i];\n\t\t\t\t\t\t\tvar custom = arc && arc.custom || {};\n\t\t\t\t\t\t\tvar getValueAtIndexOrDefault = helpers.getValueAtIndexOrDefault;\n\t\t\t\t\t\t\tvar arcOpts = chart.options.elements.arc;\n\t\t\t\t\t\t\tvar fill = custom.backgroundColor ? custom.backgroundColor : getValueAtIndexOrDefault(ds.backgroundColor, i, arcOpts.backgroundColor);\n\t\t\t\t\t\t\tvar stroke = custom.borderColor ? custom.borderColor : getValueAtIndexOrDefault(ds.borderColor, i, arcOpts.borderColor);\n\t\t\t\t\t\t\tvar bw = custom.borderWidth ? custom.borderWidth : getValueAtIndexOrDefault(ds.borderWidth, i, arcOpts.borderWidth);\n\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\ttext: label,\n\t\t\t\t\t\t\t\tfillStyle: fill,\n\t\t\t\t\t\t\t\tstrokeStyle: stroke,\n\t\t\t\t\t\t\t\tlineWidth: bw,\n\t\t\t\t\t\t\t\thidden: isNaN(ds.data[i]) || meta.data[i].hidden,\n\n\t\t\t\t\t\t\t\t// Extra data used for toggling the correct item\n\t\t\t\t\t\t\t\tindex: i\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonClick: function(e, legendItem) {\n\t\t\t\tvar index = legendItem.index;\n\t\t\t\tvar chart = this.chart;\n\t\t\t\tvar i, ilen, meta;\n\n\t\t\t\tfor (i = 0, ilen = (chart.data.datasets || []).length; i < ilen; ++i) {\n\t\t\t\t\tmeta = chart.getDatasetMeta(i);\n\t\t\t\t\t// toggle visibility of index if exists\n\t\t\t\t\tif (meta.data[index]) {\n\t\t\t\t\t\tmeta.data[index].hidden = !meta.data[index].hidden;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tchart.update();\n\t\t\t}\n\t\t},\n\n\t\t// The percentage of the chart that we cut out of the middle.\n\t\tcutoutPercentage: 50,\n\n\t\t// The rotation of the chart, where the first data arc begins.\n\t\trotation: Math.PI * -0.5,\n\n\t\t// The total circumference of the chart.\n\t\tcircumference: Math.PI * 2.0,\n\n\t\t// Need to override these to give a nice default\n\t\ttooltips: {\n\t\t\tcallbacks: {\n\t\t\t\ttitle: function() {\n\t\t\t\t\treturn '';\n\t\t\t\t},\n\t\t\t\tlabel: function(tooltipItem, data) {\n\t\t\t\t\treturn data.labels[tooltipItem.index] + ': ' + data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tdefaults.pie = helpers.clone(defaults.doughnut);\n\thelpers.extend(defaults.pie, {\n\t\tcutoutPercentage: 0\n\t});\n\n\n\tChart.controllers.doughnut = Chart.controllers.pie = Chart.DatasetController.extend({\n\n\t\tdataElementType: Chart.elements.Arc,\n\n\t\tlinkScales: helpers.noop,\n\n\t\t// Get index of the dataset in relation to the visible datasets. This allows determining the inner and outer radius correctly\n\t\tgetRingIndex: function(datasetIndex) {\n\t\t\tvar ringIndex = 0;\n\n\t\t\tfor (var j = 0; j < datasetIndex; ++j) {\n\t\t\t\tif (this.chart.isDatasetVisible(j)) {\n\t\t\t\t\t++ringIndex;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn ringIndex;\n\t\t},\n\n\t\tupdate: function(reset) {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart,\n\t\t\t\tchartArea = chart.chartArea,\n\t\t\t\topts = chart.options,\n\t\t\t\tarcOpts = opts.elements.arc,\n\t\t\t\tavailableWidth = chartArea.right - chartArea.left - arcOpts.borderWidth,\n\t\t\t\tavailableHeight = chartArea.bottom - chartArea.top - arcOpts.borderWidth,\n\t\t\t\tminSize = Math.min(availableWidth, availableHeight),\n\t\t\t\toffset = {\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0\n\t\t\t\t},\n\t\t\t\tmeta = me.getMeta(),\n\t\t\t\tcutoutPercentage = opts.cutoutPercentage,\n\t\t\t\tcircumference = opts.circumference;\n\n\t\t\t// If the chart's circumference isn't a full circle, calculate minSize as a ratio of the width/height of the arc\n\t\t\tif (circumference < Math.PI * 2.0) {\n\t\t\t\tvar startAngle = opts.rotation % (Math.PI * 2.0);\n\t\t\t\tstartAngle += Math.PI * 2.0 * (startAngle >= Math.PI ? -1 : startAngle < -Math.PI ? 1 : 0);\n\t\t\t\tvar endAngle = startAngle + circumference;\n\t\t\t\tvar start = {x: Math.cos(startAngle), y: Math.sin(startAngle)};\n\t\t\t\tvar end = {x: Math.cos(endAngle), y: Math.sin(endAngle)};\n\t\t\t\tvar contains0 = (startAngle <= 0 && 0 <= endAngle) || (startAngle <= Math.PI * 2.0 && Math.PI * 2.0 <= endAngle);\n\t\t\t\tvar contains90 = (startAngle <= Math.PI * 0.5 && Math.PI * 0.5 <= endAngle) || (startAngle <= Math.PI * 2.5 && Math.PI * 2.5 <= endAngle);\n\t\t\t\tvar contains180 = (startAngle <= -Math.PI && -Math.PI <= endAngle) || (startAngle <= Math.PI && Math.PI <= endAngle);\n\t\t\t\tvar contains270 = (startAngle <= -Math.PI * 0.5 && -Math.PI * 0.5 <= endAngle) || (startAngle <= Math.PI * 1.5 && Math.PI * 1.5 <= endAngle);\n\t\t\t\tvar cutout = cutoutPercentage / 100.0;\n\t\t\t\tvar min = {x: contains180 ? -1 : Math.min(start.x * (start.x < 0 ? 1 : cutout), end.x * (end.x < 0 ? 1 : cutout)), y: contains270 ? -1 : Math.min(start.y * (start.y < 0 ? 1 : cutout), end.y * (end.y < 0 ? 1 : cutout))};\n\t\t\t\tvar max = {x: contains0 ? 1 : Math.max(start.x * (start.x > 0 ? 1 : cutout), end.x * (end.x > 0 ? 1 : cutout)), y: contains90 ? 1 : Math.max(start.y * (start.y > 0 ? 1 : cutout), end.y * (end.y > 0 ? 1 : cutout))};\n\t\t\t\tvar size = {width: (max.x - min.x) * 0.5, height: (max.y - min.y) * 0.5};\n\t\t\t\tminSize = Math.min(availableWidth / size.width, availableHeight / size.height);\n\t\t\t\toffset = {x: (max.x + min.x) * -0.5, y: (max.y + min.y) * -0.5};\n\t\t\t}\n\n\t\t\tchart.borderWidth = me.getMaxBorderWidth(meta.data);\n\t\t\tchart.outerRadius = Math.max((minSize - chart.borderWidth) / 2, 0);\n\t\t\tchart.innerRadius = Math.max(cutoutPercentage ? (chart.outerRadius / 100) * (cutoutPercentage) : 1, 0);\n\t\t\tchart.radiusLength = (chart.outerRadius - chart.innerRadius) / chart.getVisibleDatasetCount();\n\t\t\tchart.offsetX = offset.x * chart.outerRadius;\n\t\t\tchart.offsetY = offset.y * chart.outerRadius;\n\n\t\t\tmeta.total = me.calculateTotal();\n\n\t\t\tme.outerRadius = chart.outerRadius - (chart.radiusLength * me.getRingIndex(me.index));\n\t\t\tme.innerRadius = me.outerRadius - chart.radiusLength;\n\n\t\t\thelpers.each(meta.data, function(arc, index) {\n\t\t\t\tme.updateElement(arc, index, reset);\n\t\t\t});\n\t\t},\n\n\t\tupdateElement: function(arc, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart,\n\t\t\t\tchartArea = chart.chartArea,\n\t\t\t\topts = chart.options,\n\t\t\t\tanimationOpts = opts.animation,\n\t\t\t\tcenterX = (chartArea.left + chartArea.right) / 2,\n\t\t\t\tcenterY = (chartArea.top + chartArea.bottom) / 2,\n\t\t\t\tstartAngle = opts.rotation, // non reset case handled later\n\t\t\t\tendAngle = opts.rotation, // non reset case handled later\n\t\t\t\tdataset = me.getDataset(),\n\t\t\t\tcircumference = reset && animationOpts.animateRotate ? 0 : arc.hidden ? 0 : me.calculateCircumference(dataset.data[index]) * (opts.circumference / (2.0 * Math.PI)),\n\t\t\t\tinnerRadius = reset && animationOpts.animateScale ? 0 : me.innerRadius,\n\t\t\t\touterRadius = reset && animationOpts.animateScale ? 0 : me.outerRadius,\n\t\t\t\tvalueAtIndexOrDefault = helpers.getValueAtIndexOrDefault;\n\n\t\t\thelpers.extend(arc, {\n\t\t\t\t// Utility\n\t\t\t\t_datasetIndex: me.index,\n\t\t\t\t_index: index,\n\n\t\t\t\t// Desired view properties\n\t\t\t\t_model: {\n\t\t\t\t\tx: centerX + chart.offsetX,\n\t\t\t\t\ty: centerY + chart.offsetY,\n\t\t\t\t\tstartAngle: startAngle,\n\t\t\t\t\tendAngle: endAngle,\n\t\t\t\t\tcircumference: circumference,\n\t\t\t\t\touterRadius: outerRadius,\n\t\t\t\t\tinnerRadius: innerRadius,\n\t\t\t\t\tlabel: valueAtIndexOrDefault(dataset.label, index, chart.data.labels[index])\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar model = arc._model;\n\t\t\t// Resets the visual styles\n\t\t\tthis.removeHoverStyle(arc);\n\n\t\t\t// Set correct angles if not resetting\n\t\t\tif (!reset || !animationOpts.animateRotate) {\n\t\t\t\tif (index === 0) {\n\t\t\t\t\tmodel.startAngle = opts.rotation;\n\t\t\t\t} else {\n\t\t\t\t\tmodel.startAngle = me.getMeta().data[index - 1]._model.endAngle;\n\t\t\t\t}\n\n\t\t\t\tmodel.endAngle = model.startAngle + model.circumference;\n\t\t\t}\n\n\t\t\tarc.pivot();\n\t\t},\n\n\t\tremoveHoverStyle: function(arc) {\n\t\t\tChart.DatasetController.prototype.removeHoverStyle.call(this, arc, this.chart.options.elements.arc);\n\t\t},\n\n\t\tcalculateTotal: function() {\n\t\t\tvar dataset = this.getDataset();\n\t\t\tvar meta = this.getMeta();\n\t\t\tvar total = 0;\n\t\t\tvar value;\n\n\t\t\thelpers.each(meta.data, function(element, index) {\n\t\t\t\tvalue = dataset.data[index];\n\t\t\t\tif (!isNaN(value) && !element.hidden) {\n\t\t\t\t\ttotal += Math.abs(value);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t/* if (total === 0) {\n\t\t\t\ttotal = NaN;\n\t\t\t}*/\n\n\t\t\treturn total;\n\t\t},\n\n\t\tcalculateCircumference: function(value) {\n\t\t\tvar total = this.getMeta().total;\n\t\t\tif (total > 0 && !isNaN(value)) {\n\t\t\t\treturn (Math.PI * 2.0) * (value / total);\n\t\t\t}\n\t\t\treturn 0;\n\t\t},\n\n\t\t// gets the max border or hover width to properly scale pie charts\n\t\tgetMaxBorderWidth: function(elements) {\n\t\t\tvar max = 0,\n\t\t\t\tindex = this.index,\n\t\t\t\tlength = elements.length,\n\t\t\t\tborderWidth,\n\t\t\t\thoverWidth;\n\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tborderWidth = elements[i]._model ? elements[i]._model.borderWidth : 0;\n\t\t\t\thoverWidth = elements[i]._chart ? elements[i]._chart.config.data.datasets[index].hoverBorderWidth : 0;\n\n\t\t\t\tmax = borderWidth > max ? borderWidth : max;\n\t\t\t\tmax = hoverWidth > max ? hoverWidth : max;\n\t\t\t}\n\t\t\treturn max;\n\t\t}\n\t});\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.line = {\n\t\tshowLines: true,\n\t\tspanGaps: false,\n\n\t\thover: {\n\t\t\tmode: 'label'\n\t\t},\n\n\t\tscales: {\n\t\t\txAxes: [{\n\t\t\t\ttype: 'category',\n\t\t\t\tid: 'x-axis-0'\n\t\t\t}],\n\t\t\tyAxes: [{\n\t\t\t\ttype: 'linear',\n\t\t\t\tid: 'y-axis-0'\n\t\t\t}]\n\t\t}\n\t};\n\n\tfunction lineEnabled(dataset, options) {\n\t\treturn helpers.getValueOrDefault(dataset.showLine, options.showLines);\n\t}\n\n\tChart.controllers.line = Chart.DatasetController.extend({\n\n\t\tdatasetElementType: Chart.elements.Line,\n\n\t\tdataElementType: Chart.elements.Point,\n\n\t\taddElementAndReset: function(index) {\n\t\t\tvar me = this;\n\t\t\tvar options = me.chart.options;\n\t\t\tvar meta = me.getMeta();\n\n\t\t\tChart.DatasetController.prototype.addElementAndReset.call(me, index);\n\n\t\t\t// Make sure bezier control points are updated\n\t\t\tif (lineEnabled(me.getDataset(), options) && meta.dataset._model.tension !== 0) {\n\t\t\t\tme.updateBezierControlPoints();\n\t\t\t}\n\t\t},\n\n\t\tupdate: function(reset) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar line = meta.dataset;\n\t\t\tvar points = meta.data || [];\n\t\t\tvar options = me.chart.options;\n\t\t\tvar lineElementOptions = options.elements.line;\n\t\t\tvar scale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar i, ilen, custom;\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar showLine = lineEnabled(dataset, options);\n\n\t\t\t// Update Line\n\t\t\tif (showLine) {\n\t\t\t\tcustom = line.custom || {};\n\n\t\t\t\t// Compatibility: If the properties are defined with only the old name, use those values\n\t\t\t\tif ((dataset.tension !== undefined) && (dataset.lineTension === undefined)) {\n\t\t\t\t\tdataset.lineTension = dataset.tension;\n\t\t\t\t}\n\n\t\t\t\t// Utility\n\t\t\t\tline._scale = scale;\n\t\t\t\tline._datasetIndex = me.index;\n\t\t\t\t// Data\n\t\t\t\tline._children = points;\n\t\t\t\t// Model\n\t\t\t\tline._model = {\n\t\t\t\t\t// Appearance\n\t\t\t\t\t// The default behavior of lines is to break at null values, according\n\t\t\t\t\t// to https://github.com/chartjs/Chart.js/issues/2435#issuecomment-216718158\n\t\t\t\t\t// This option gives linse the ability to span gaps\n\t\t\t\t\tspanGaps: dataset.spanGaps ? dataset.spanGaps : options.spanGaps,\n\t\t\t\t\ttension: custom.tension ? custom.tension : helpers.getValueOrDefault(dataset.lineTension, lineElementOptions.tension),\n\t\t\t\t\tbackgroundColor: custom.backgroundColor ? custom.backgroundColor : (dataset.backgroundColor || lineElementOptions.backgroundColor),\n\t\t\t\t\tborderWidth: custom.borderWidth ? custom.borderWidth : (dataset.borderWidth || lineElementOptions.borderWidth),\n\t\t\t\t\tborderColor: custom.borderColor ? custom.borderColor : (dataset.borderColor || lineElementOptions.borderColor),\n\t\t\t\t\tborderCapStyle: custom.borderCapStyle ? custom.borderCapStyle : (dataset.borderCapStyle || lineElementOptions.borderCapStyle),\n\t\t\t\t\tborderDash: custom.borderDash ? custom.borderDash : (dataset.borderDash || lineElementOptions.borderDash),\n\t\t\t\t\tborderDashOffset: custom.borderDashOffset ? custom.borderDashOffset : (dataset.borderDashOffset || lineElementOptions.borderDashOffset),\n\t\t\t\t\tborderJoinStyle: custom.borderJoinStyle ? custom.borderJoinStyle : (dataset.borderJoinStyle || lineElementOptions.borderJoinStyle),\n\t\t\t\t\tfill: custom.fill ? custom.fill : (dataset.fill !== undefined ? dataset.fill : lineElementOptions.fill),\n\t\t\t\t\tsteppedLine: custom.steppedLine ? custom.steppedLine : helpers.getValueOrDefault(dataset.steppedLine, lineElementOptions.stepped),\n\t\t\t\t\tcubicInterpolationMode: custom.cubicInterpolationMode ? custom.cubicInterpolationMode : helpers.getValueOrDefault(dataset.cubicInterpolationMode, lineElementOptions.cubicInterpolationMode),\n\t\t\t\t\t// Scale\n\t\t\t\t\tscaleTop: scale.top,\n\t\t\t\t\tscaleBottom: scale.bottom,\n\t\t\t\t\tscaleZero: scale.getBasePixel()\n\t\t\t\t};\n\n\t\t\t\tline.pivot();\n\t\t\t}\n\n\t\t\t// Update Points\n\t\t\tfor (i=0, ilen=points.length; i<ilen; ++i) {\n\t\t\t\tme.updateElement(points[i], i, reset);\n\t\t\t}\n\n\t\t\tif (showLine && line._model.tension !== 0) {\n\t\t\t\tme.updateBezierControlPoints();\n\t\t\t}\n\n\t\t\t// Now pivot the point for animation\n\t\t\tfor (i=0, ilen=points.length; i<ilen; ++i) {\n\t\t\t\tpoints[i].pivot();\n\t\t\t}\n\t\t},\n\n\t\tgetPointBackgroundColor: function(point, index) {\n\t\t\tvar backgroundColor = this.chart.options.elements.point.backgroundColor;\n\t\t\tvar dataset = this.getDataset();\n\t\t\tvar custom = point.custom || {};\n\n\t\t\tif (custom.backgroundColor) {\n\t\t\t\tbackgroundColor = custom.backgroundColor;\n\t\t\t} else if (dataset.pointBackgroundColor) {\n\t\t\t\tbackgroundColor = helpers.getValueAtIndexOrDefault(dataset.pointBackgroundColor, index, backgroundColor);\n\t\t\t} else if (dataset.backgroundColor) {\n\t\t\t\tbackgroundColor = dataset.backgroundColor;\n\t\t\t}\n\n\t\t\treturn backgroundColor;\n\t\t},\n\n\t\tgetPointBorderColor: function(point, index) {\n\t\t\tvar borderColor = this.chart.options.elements.point.borderColor;\n\t\t\tvar dataset = this.getDataset();\n\t\t\tvar custom = point.custom || {};\n\n\t\t\tif (custom.borderColor) {\n\t\t\t\tborderColor = custom.borderColor;\n\t\t\t} else if (dataset.pointBorderColor) {\n\t\t\t\tborderColor = helpers.getValueAtIndexOrDefault(dataset.pointBorderColor, index, borderColor);\n\t\t\t} else if (dataset.borderColor) {\n\t\t\t\tborderColor = dataset.borderColor;\n\t\t\t}\n\n\t\t\treturn borderColor;\n\t\t},\n\n\t\tgetPointBorderWidth: function(point, index) {\n\t\t\tvar borderWidth = this.chart.options.elements.point.borderWidth;\n\t\t\tvar dataset = this.getDataset();\n\t\t\tvar custom = point.custom || {};\n\n\t\t\tif (custom.borderWidth) {\n\t\t\t\tborderWidth = custom.borderWidth;\n\t\t\t} else if (dataset.pointBorderWidth) {\n\t\t\t\tborderWidth = helpers.getValueAtIndexOrDefault(dataset.pointBorderWidth, index, borderWidth);\n\t\t\t} else if (dataset.borderWidth) {\n\t\t\t\tborderWidth = dataset.borderWidth;\n\t\t\t}\n\n\t\t\treturn borderWidth;\n\t\t},\n\n\t\tupdateElement: function(point, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar datasetIndex = me.index;\n\t\t\tvar value = dataset.data[index];\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar xScale = me.getScaleForId(meta.xAxisID);\n\t\t\tvar pointOptions = me.chart.options.elements.point;\n\t\t\tvar x, y;\n\t\t\tvar labels = me.chart.data.labels || [];\n\t\t\tvar includeOffset = (labels.length === 1 || dataset.data.length === 1) || me.chart.isCombo;\n\n\t\t\t// Compatibility: If the properties are defined with only the old name, use those values\n\t\t\tif ((dataset.radius !== undefined) && (dataset.pointRadius === undefined)) {\n\t\t\t\tdataset.pointRadius = dataset.radius;\n\t\t\t}\n\t\t\tif ((dataset.hitRadius !== undefined) && (dataset.pointHitRadius === undefined)) {\n\t\t\t\tdataset.pointHitRadius = dataset.hitRadius;\n\t\t\t}\n\n\t\t\tx = xScale.getPixelForValue(typeof value === 'object' ? value : NaN, index, datasetIndex, includeOffset);\n\t\t\ty = reset ? yScale.getBasePixel() : me.calculatePointY(value, index, datasetIndex);\n\n\t\t\t// Utility\n\t\t\tpoint._xScale = xScale;\n\t\t\tpoint._yScale = yScale;\n\t\t\tpoint._datasetIndex = datasetIndex;\n\t\t\tpoint._index = index;\n\n\t\t\t// Desired view properties\n\t\t\tpoint._model = {\n\t\t\t\tx: x,\n\t\t\t\ty: y,\n\t\t\t\tskip: custom.skip || isNaN(x) || isNaN(y),\n\t\t\t\t// Appearance\n\t\t\t\tradius: custom.radius || helpers.getValueAtIndexOrDefault(dataset.pointRadius, index, pointOptions.radius),\n\t\t\t\tpointStyle: custom.pointStyle || helpers.getValueAtIndexOrDefault(dataset.pointStyle, index, pointOptions.pointStyle),\n\t\t\t\tbackgroundColor: me.getPointBackgroundColor(point, index),\n\t\t\t\tborderColor: me.getPointBorderColor(point, index),\n\t\t\t\tborderWidth: me.getPointBorderWidth(point, index),\n\t\t\t\ttension: meta.dataset._model ? meta.dataset._model.tension : 0,\n\t\t\t\tsteppedLine: meta.dataset._model ? meta.dataset._model.steppedLine : false,\n\t\t\t\t// Tooltip\n\t\t\t\thitRadius: custom.hitRadius || helpers.getValueAtIndexOrDefault(dataset.pointHitRadius, index, pointOptions.hitRadius)\n\t\t\t};\n\t\t},\n\n\t\tcalculatePointY: function(value, index, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar sumPos = 0;\n\t\t\tvar sumNeg = 0;\n\t\t\tvar i, ds, dsMeta;\n\n\t\t\tif (yScale.options.stacked) {\n\t\t\t\tfor (i = 0; i < datasetIndex; i++) {\n\t\t\t\t\tds = chart.data.datasets[i];\n\t\t\t\t\tdsMeta = chart.getDatasetMeta(i);\n\t\t\t\t\tif (dsMeta.type === 'line' && dsMeta.yAxisID === yScale.id && chart.isDatasetVisible(i)) {\n\t\t\t\t\t\tvar stackedRightValue = Number(yScale.getRightValue(ds.data[index]));\n\t\t\t\t\t\tif (stackedRightValue < 0) {\n\t\t\t\t\t\t\tsumNeg += stackedRightValue || 0;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsumPos += stackedRightValue || 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar rightValue = Number(yScale.getRightValue(value));\n\t\t\t\tif (rightValue < 0) {\n\t\t\t\t\treturn yScale.getPixelForValue(sumNeg + rightValue);\n\t\t\t\t}\n\t\t\t\treturn yScale.getPixelForValue(sumPos + rightValue);\n\t\t\t}\n\n\t\t\treturn yScale.getPixelForValue(value);\n\t\t},\n\n\t\tupdateBezierControlPoints: function() {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar area = me.chart.chartArea;\n\t\t\tvar points = (meta.data || []);\n\t\t\tvar i, ilen, point, model, controlPoints;\n\n\t\t\t// Only consider points that are drawn in case the spanGaps option is used\n\t\t\tif (meta.dataset._model.spanGaps) {\n\t\t\t\tpoints = points.filter(function(pt) {\n\t\t\t\t\treturn !pt._model.skip;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction capControlPoint(pt, min, max) {\n\t\t\t\treturn Math.max(Math.min(pt, max), min);\n\t\t\t}\n\n\t\t\tif (meta.dataset._model.cubicInterpolationMode === 'monotone') {\n\t\t\t\thelpers.splineCurveMonotone(points);\n\t\t\t} else {\n\t\t\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\n\t\t\t\t\tpoint = points[i];\n\t\t\t\t\tmodel = point._model;\n\t\t\t\t\tcontrolPoints = helpers.splineCurve(\n\t\t\t\t\t\thelpers.previousItem(points, i)._model,\n\t\t\t\t\t\tmodel,\n\t\t\t\t\t\thelpers.nextItem(points, i)._model,\n\t\t\t\t\t\tmeta.dataset._model.tension\n\t\t\t\t\t);\n\t\t\t\t\tmodel.controlPointPreviousX = controlPoints.previous.x;\n\t\t\t\t\tmodel.controlPointPreviousY = controlPoints.previous.y;\n\t\t\t\t\tmodel.controlPointNextX = controlPoints.next.x;\n\t\t\t\t\tmodel.controlPointNextY = controlPoints.next.y;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (me.chart.options.elements.line.capBezierPoints) {\n\t\t\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\n\t\t\t\t\tmodel = points[i]._model;\n\t\t\t\t\tmodel.controlPointPreviousX = capControlPoint(model.controlPointPreviousX, area.left, area.right);\n\t\t\t\t\tmodel.controlPointPreviousY = capControlPoint(model.controlPointPreviousY, area.top, area.bottom);\n\t\t\t\t\tmodel.controlPointNextX = capControlPoint(model.controlPointNextX, area.left, area.right);\n\t\t\t\t\tmodel.controlPointNextY = capControlPoint(model.controlPointNextY, area.top, area.bottom);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tdraw: function(ease) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar points = meta.data || [];\n\t\t\tvar easingDecimal = ease || 1;\n\t\t\tvar i, ilen;\n\n\t\t\t// Transition Point Locations\n\t\t\tfor (i=0, ilen=points.length; i<ilen; ++i) {\n\t\t\t\tpoints[i].transition(easingDecimal);\n\t\t\t}\n\n\t\t\t// Transition and Draw the line\n\t\t\tif (lineEnabled(me.getDataset(), me.chart.options)) {\n\t\t\t\tmeta.dataset.transition(easingDecimal).draw();\n\t\t\t}\n\n\t\t\t// Draw the points\n\t\t\tfor (i=0, ilen=points.length; i<ilen; ++i) {\n\t\t\t\tpoints[i].draw();\n\t\t\t}\n\t\t},\n\n\t\tsetHoverStyle: function(point) {\n\t\t\t// Point\n\t\t\tvar dataset = this.chart.data.datasets[point._datasetIndex];\n\t\t\tvar index = point._index;\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar model = point._model;\n\n\t\t\tmodel.radius = custom.hoverRadius || helpers.getValueAtIndexOrDefault(dataset.pointHoverRadius, index, this.chart.options.elements.point.hoverRadius);\n\t\t\tmodel.backgroundColor = custom.hoverBackgroundColor || helpers.getValueAtIndexOrDefault(dataset.pointHoverBackgroundColor, index, helpers.getHoverColor(model.backgroundColor));\n\t\t\tmodel.borderColor = custom.hoverBorderColor || helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderColor, index, helpers.getHoverColor(model.borderColor));\n\t\t\tmodel.borderWidth = custom.hoverBorderWidth || helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderWidth, index, model.borderWidth);\n\t\t},\n\n\t\tremoveHoverStyle: function(point) {\n\t\t\tvar me = this;\n\t\t\tvar dataset = me.chart.data.datasets[point._datasetIndex];\n\t\t\tvar index = point._index;\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar model = point._model;\n\n\t\t\t// Compatibility: If the properties are defined with only the old name, use those values\n\t\t\tif ((dataset.radius !== undefined) && (dataset.pointRadius === undefined)) {\n\t\t\t\tdataset.pointRadius = dataset.radius;\n\t\t\t}\n\n\t\t\tmodel.radius = custom.radius || helpers.getValueAtIndexOrDefault(dataset.pointRadius, index, me.chart.options.elements.point.radius);\n\t\t\tmodel.backgroundColor = me.getPointBackgroundColor(point, index);\n\t\t\tmodel.borderColor = me.getPointBorderColor(point, index);\n\t\t\tmodel.borderWidth = me.getPointBorderWidth(point, index);\n\t\t}\n\t});\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.polarArea = {\n\n\t\tscale: {\n\t\t\ttype: 'radialLinear',\n\t\t\tlineArc: true, // so that lines are circular\n\t\t\tticks: {\n\t\t\t\tbeginAtZero: true\n\t\t\t}\n\t\t},\n\n\t\t// Boolean - Whether to animate the rotation of the chart\n\t\tanimation: {\n\t\t\tanimateRotate: true,\n\t\t\tanimateScale: true\n\t\t},\n\n\t\tstartAngle: -0.5 * Math.PI,\n\t\taspectRatio: 1,\n\t\tlegendCallback: function(chart) {\n\t\t\tvar text = [];\n\t\t\ttext.push('<ul class=\"' + chart.id + '-legend\">');\n\n\t\t\tvar data = chart.data;\n\t\t\tvar datasets = data.datasets;\n\t\t\tvar labels = data.labels;\n\n\t\t\tif (datasets.length) {\n\t\t\t\tfor (var i = 0; i < datasets[0].data.length; ++i) {\n\t\t\t\t\ttext.push('<li><span style=\"background-color:' + datasets[0].backgroundColor[i] + '\">');\n\t\t\t\t\tif (labels[i]) {\n\t\t\t\t\t\ttext.push(labels[i]);\n\t\t\t\t\t}\n\t\t\t\t\ttext.push('</span></li>');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttext.push('</ul>');\n\t\t\treturn text.join('');\n\t\t},\n\t\tlegend: {\n\t\t\tlabels: {\n\t\t\t\tgenerateLabels: function(chart) {\n\t\t\t\t\tvar data = chart.data;\n\t\t\t\t\tif (data.labels.length && data.datasets.length) {\n\t\t\t\t\t\treturn data.labels.map(function(label, i) {\n\t\t\t\t\t\t\tvar meta = chart.getDatasetMeta(0);\n\t\t\t\t\t\t\tvar ds = data.datasets[0];\n\t\t\t\t\t\t\tvar arc = meta.data[i];\n\t\t\t\t\t\t\tvar custom = arc.custom || {};\n\t\t\t\t\t\t\tvar getValueAtIndexOrDefault = helpers.getValueAtIndexOrDefault;\n\t\t\t\t\t\t\tvar arcOpts = chart.options.elements.arc;\n\t\t\t\t\t\t\tvar fill = custom.backgroundColor ? custom.backgroundColor : getValueAtIndexOrDefault(ds.backgroundColor, i, arcOpts.backgroundColor);\n\t\t\t\t\t\t\tvar stroke = custom.borderColor ? custom.borderColor : getValueAtIndexOrDefault(ds.borderColor, i, arcOpts.borderColor);\n\t\t\t\t\t\t\tvar bw = custom.borderWidth ? custom.borderWidth : getValueAtIndexOrDefault(ds.borderWidth, i, arcOpts.borderWidth);\n\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\ttext: label,\n\t\t\t\t\t\t\t\tfillStyle: fill,\n\t\t\t\t\t\t\t\tstrokeStyle: stroke,\n\t\t\t\t\t\t\t\tlineWidth: bw,\n\t\t\t\t\t\t\t\thidden: isNaN(ds.data[i]) || meta.data[i].hidden,\n\n\t\t\t\t\t\t\t\t// Extra data used for toggling the correct item\n\t\t\t\t\t\t\t\tindex: i\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonClick: function(e, legendItem) {\n\t\t\t\tvar index = legendItem.index;\n\t\t\t\tvar chart = this.chart;\n\t\t\t\tvar i, ilen, meta;\n\n\t\t\t\tfor (i = 0, ilen = (chart.data.datasets || []).length; i < ilen; ++i) {\n\t\t\t\t\tmeta = chart.getDatasetMeta(i);\n\t\t\t\t\tmeta.data[index].hidden = !meta.data[index].hidden;\n\t\t\t\t}\n\n\t\t\t\tchart.update();\n\t\t\t}\n\t\t},\n\n\t\t// Need to override these to give a nice default\n\t\ttooltips: {\n\t\t\tcallbacks: {\n\t\t\t\ttitle: function() {\n\t\t\t\t\treturn '';\n\t\t\t\t},\n\t\t\t\tlabel: function(tooltipItem, data) {\n\t\t\t\t\treturn data.labels[tooltipItem.index] + ': ' + tooltipItem.yLabel;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tChart.controllers.polarArea = Chart.DatasetController.extend({\n\n\t\tdataElementType: Chart.elements.Arc,\n\n\t\tlinkScales: helpers.noop,\n\n\t\tupdate: function(reset) {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart;\n\t\t\tvar chartArea = chart.chartArea;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar opts = chart.options;\n\t\t\tvar arcOpts = opts.elements.arc;\n\t\t\tvar minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n\t\t\tchart.outerRadius = Math.max((minSize - arcOpts.borderWidth / 2) / 2, 0);\n\t\t\tchart.innerRadius = Math.max(opts.cutoutPercentage ? (chart.outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);\n\t\t\tchart.radiusLength = (chart.outerRadius - chart.innerRadius) / chart.getVisibleDatasetCount();\n\n\t\t\tme.outerRadius = chart.outerRadius - (chart.radiusLength * me.index);\n\t\t\tme.innerRadius = me.outerRadius - chart.radiusLength;\n\n\t\t\tmeta.count = me.countVisibleElements();\n\n\t\t\thelpers.each(meta.data, function(arc, index) {\n\t\t\t\tme.updateElement(arc, index, reset);\n\t\t\t});\n\t\t},\n\n\t\tupdateElement: function(arc, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart;\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar opts = chart.options;\n\t\t\tvar animationOpts = opts.animation;\n\t\t\tvar scale = chart.scale;\n\t\t\tvar getValueAtIndexOrDefault = helpers.getValueAtIndexOrDefault;\n\t\t\tvar labels = chart.data.labels;\n\n\t\t\tvar circumference = me.calculateCircumference(dataset.data[index]);\n\t\t\tvar centerX = scale.xCenter;\n\t\t\tvar centerY = scale.yCenter;\n\n\t\t\t// If there is NaN data before us, we need to calculate the starting angle correctly.\n\t\t\t// We could be way more efficient here, but its unlikely that the polar area chart will have a lot of data\n\t\t\tvar visibleCount = 0;\n\t\t\tvar meta = me.getMeta();\n\t\t\tfor (var i = 0; i < index; ++i) {\n\t\t\t\tif (!isNaN(dataset.data[i]) && !meta.data[i].hidden) {\n\t\t\t\t\t++visibleCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// var negHalfPI = -0.5 * Math.PI;\n\t\t\tvar datasetStartAngle = opts.startAngle;\n\t\t\tvar distance = arc.hidden ? 0 : scale.getDistanceFromCenterForValue(dataset.data[index]);\n\t\t\tvar startAngle = datasetStartAngle + (circumference * visibleCount);\n\t\t\tvar endAngle = startAngle + (arc.hidden ? 0 : circumference);\n\n\t\t\tvar resetRadius = animationOpts.animateScale ? 0 : scale.getDistanceFromCenterForValue(dataset.data[index]);\n\n\t\t\thelpers.extend(arc, {\n\t\t\t\t// Utility\n\t\t\t\t_datasetIndex: me.index,\n\t\t\t\t_index: index,\n\t\t\t\t_scale: scale,\n\n\t\t\t\t// Desired view properties\n\t\t\t\t_model: {\n\t\t\t\t\tx: centerX,\n\t\t\t\t\ty: centerY,\n\t\t\t\t\tinnerRadius: 0,\n\t\t\t\t\touterRadius: reset ? resetRadius : distance,\n\t\t\t\t\tstartAngle: reset && animationOpts.animateRotate ? datasetStartAngle : startAngle,\n\t\t\t\t\tendAngle: reset && animationOpts.animateRotate ? datasetStartAngle : endAngle,\n\t\t\t\t\tlabel: getValueAtIndexOrDefault(labels, index, labels[index])\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Apply border and fill style\n\t\t\tme.removeHoverStyle(arc);\n\n\t\t\tarc.pivot();\n\t\t},\n\n\t\tremoveHoverStyle: function(arc) {\n\t\t\tChart.DatasetController.prototype.removeHoverStyle.call(this, arc, this.chart.options.elements.arc);\n\t\t},\n\n\t\tcountVisibleElements: function() {\n\t\t\tvar dataset = this.getDataset();\n\t\t\tvar meta = this.getMeta();\n\t\t\tvar count = 0;\n\n\t\t\thelpers.each(meta.data, function(element, index) {\n\t\t\t\tif (!isNaN(dataset.data[index]) && !element.hidden) {\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn count;\n\t\t},\n\n\t\tcalculateCircumference: function(value) {\n\t\t\tvar count = this.getMeta().count;\n\t\t\tif (count > 0 && !isNaN(value)) {\n\t\t\t\treturn (2 * Math.PI) / count;\n\t\t\t}\n\t\t\treturn 0;\n\t\t}\n\t});\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.radar = {\n\t\tscale: {\n\t\t\ttype: 'radialLinear'\n\t\t},\n\t\telements: {\n\t\t\tline: {\n\t\t\t\ttension: 0 // no bezier in radar\n\t\t\t}\n\t\t}\n\t};\n\n\tChart.controllers.radar = Chart.DatasetController.extend({\n\n\t\tdatasetElementType: Chart.elements.Line,\n\n\t\tdataElementType: Chart.elements.Point,\n\n\t\tlinkScales: helpers.noop,\n\n\t\taddElementAndReset: function(index) {\n\t\t\tChart.DatasetController.prototype.addElementAndReset.call(this, index);\n\n\t\t\t// Make sure bezier control points are updated\n\t\t\tthis.updateBezierControlPoints();\n\t\t},\n\n\t\tupdate: function(reset) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar line = meta.dataset;\n\t\t\tvar points = meta.data;\n\t\t\tvar custom = line.custom || {};\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar lineElementOptions = me.chart.options.elements.line;\n\t\t\tvar scale = me.chart.scale;\n\n\t\t\t// Compatibility: If the properties are defined with only the old name, use those values\n\t\t\tif ((dataset.tension !== undefined) && (dataset.lineTension === undefined)) {\n\t\t\t\tdataset.lineTension = dataset.tension;\n\t\t\t}\n\n\t\t\thelpers.extend(meta.dataset, {\n\t\t\t\t// Utility\n\t\t\t\t_datasetIndex: me.index,\n\t\t\t\t// Data\n\t\t\t\t_children: points,\n\t\t\t\t_loop: true,\n\t\t\t\t// Model\n\t\t\t\t_model: {\n\t\t\t\t\t// Appearance\n\t\t\t\t\ttension: custom.tension ? custom.tension : helpers.getValueOrDefault(dataset.lineTension, lineElementOptions.tension),\n\t\t\t\t\tbackgroundColor: custom.backgroundColor ? custom.backgroundColor : (dataset.backgroundColor || lineElementOptions.backgroundColor),\n\t\t\t\t\tborderWidth: custom.borderWidth ? custom.borderWidth : (dataset.borderWidth || lineElementOptions.borderWidth),\n\t\t\t\t\tborderColor: custom.borderColor ? custom.borderColor : (dataset.borderColor || lineElementOptions.borderColor),\n\t\t\t\t\tfill: custom.fill ? custom.fill : (dataset.fill !== undefined ? dataset.fill : lineElementOptions.fill),\n\t\t\t\t\tborderCapStyle: custom.borderCapStyle ? custom.borderCapStyle : (dataset.borderCapStyle || lineElementOptions.borderCapStyle),\n\t\t\t\t\tborderDash: custom.borderDash ? custom.borderDash : (dataset.borderDash || lineElementOptions.borderDash),\n\t\t\t\t\tborderDashOffset: custom.borderDashOffset ? custom.borderDashOffset : (dataset.borderDashOffset || lineElementOptions.borderDashOffset),\n\t\t\t\t\tborderJoinStyle: custom.borderJoinStyle ? custom.borderJoinStyle : (dataset.borderJoinStyle || lineElementOptions.borderJoinStyle),\n\n\t\t\t\t\t// Scale\n\t\t\t\t\tscaleTop: scale.top,\n\t\t\t\t\tscaleBottom: scale.bottom,\n\t\t\t\t\tscaleZero: scale.getBasePosition()\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmeta.dataset.pivot();\n\n\t\t\t// Update Points\n\t\t\thelpers.each(points, function(point, index) {\n\t\t\t\tme.updateElement(point, index, reset);\n\t\t\t}, me);\n\n\n\t\t\t// Update bezier control points\n\t\t\tme.updateBezierControlPoints();\n\t\t},\n\t\tupdateElement: function(point, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar scale = me.chart.scale;\n\t\t\tvar pointElementOptions = me.chart.options.elements.point;\n\t\t\tvar pointPosition = scale.getPointPositionForValue(index, dataset.data[index]);\n\n\t\t\thelpers.extend(point, {\n\t\t\t\t// Utility\n\t\t\t\t_datasetIndex: me.index,\n\t\t\t\t_index: index,\n\t\t\t\t_scale: scale,\n\n\t\t\t\t// Desired view properties\n\t\t\t\t_model: {\n\t\t\t\t\tx: reset ? scale.xCenter : pointPosition.x, // value not used in dataset scale, but we want a consistent API between scales\n\t\t\t\t\ty: reset ? scale.yCenter : pointPosition.y,\n\n\t\t\t\t\t// Appearance\n\t\t\t\t\ttension: custom.tension ? custom.tension : helpers.getValueOrDefault(dataset.tension, me.chart.options.elements.line.tension),\n\t\t\t\t\tradius: custom.radius ? custom.radius : helpers.getValueAtIndexOrDefault(dataset.pointRadius, index, pointElementOptions.radius),\n\t\t\t\t\tbackgroundColor: custom.backgroundColor ? custom.backgroundColor : helpers.getValueAtIndexOrDefault(dataset.pointBackgroundColor, index, pointElementOptions.backgroundColor),\n\t\t\t\t\tborderColor: custom.borderColor ? custom.borderColor : helpers.getValueAtIndexOrDefault(dataset.pointBorderColor, index, pointElementOptions.borderColor),\n\t\t\t\t\tborderWidth: custom.borderWidth ? custom.borderWidth : helpers.getValueAtIndexOrDefault(dataset.pointBorderWidth, index, pointElementOptions.borderWidth),\n\t\t\t\t\tpointStyle: custom.pointStyle ? custom.pointStyle : helpers.getValueAtIndexOrDefault(dataset.pointStyle, index, pointElementOptions.pointStyle),\n\n\t\t\t\t\t// Tooltip\n\t\t\t\t\thitRadius: custom.hitRadius ? custom.hitRadius : helpers.getValueAtIndexOrDefault(dataset.hitRadius, index, pointElementOptions.hitRadius)\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tpoint._model.skip = custom.skip ? custom.skip : (isNaN(point._model.x) || isNaN(point._model.y));\n\t\t},\n\t\tupdateBezierControlPoints: function() {\n\t\t\tvar chartArea = this.chart.chartArea;\n\t\t\tvar meta = this.getMeta();\n\n\t\t\thelpers.each(meta.data, function(point, index) {\n\t\t\t\tvar model = point._model;\n\t\t\t\tvar controlPoints = helpers.splineCurve(\n\t\t\t\t\thelpers.previousItem(meta.data, index, true)._model,\n\t\t\t\t\tmodel,\n\t\t\t\t\thelpers.nextItem(meta.data, index, true)._model,\n\t\t\t\t\tmodel.tension\n\t\t\t\t);\n\n\t\t\t\t// Prevent the bezier going outside of the bounds of the graph\n\t\t\t\tmodel.controlPointPreviousX = Math.max(Math.min(controlPoints.previous.x, chartArea.right), chartArea.left);\n\t\t\t\tmodel.controlPointPreviousY = Math.max(Math.min(controlPoints.previous.y, chartArea.bottom), chartArea.top);\n\n\t\t\t\tmodel.controlPointNextX = Math.max(Math.min(controlPoints.next.x, chartArea.right), chartArea.left);\n\t\t\t\tmodel.controlPointNextY = Math.max(Math.min(controlPoints.next.y, chartArea.bottom), chartArea.top);\n\n\t\t\t\t// Now pivot the point for animation\n\t\t\t\tpoint.pivot();\n\t\t\t});\n\t\t},\n\n\t\tdraw: function(ease) {\n\t\t\tvar meta = this.getMeta();\n\t\t\tvar easingDecimal = ease || 1;\n\n\t\t\t// Transition Point Locations\n\t\t\thelpers.each(meta.data, function(point) {\n\t\t\t\tpoint.transition(easingDecimal);\n\t\t\t});\n\n\t\t\t// Transition and Draw the line\n\t\t\tmeta.dataset.transition(easingDecimal).draw();\n\n\t\t\t// Draw the points\n\t\t\thelpers.each(meta.data, function(point) {\n\t\t\t\tpoint.draw();\n\t\t\t});\n\t\t},\n\n\t\tsetHoverStyle: function(point) {\n\t\t\t// Point\n\t\t\tvar dataset = this.chart.data.datasets[point._datasetIndex];\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar index = point._index;\n\t\t\tvar model = point._model;\n\n\t\t\tmodel.radius = custom.hoverRadius ? custom.hoverRadius : helpers.getValueAtIndexOrDefault(dataset.pointHoverRadius, index, this.chart.options.elements.point.hoverRadius);\n\t\t\tmodel.backgroundColor = custom.hoverBackgroundColor ? custom.hoverBackgroundColor : helpers.getValueAtIndexOrDefault(dataset.pointHoverBackgroundColor, index, helpers.getHoverColor(model.backgroundColor));\n\t\t\tmodel.borderColor = custom.hoverBorderColor ? custom.hoverBorderColor : helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderColor, index, helpers.getHoverColor(model.borderColor));\n\t\t\tmodel.borderWidth = custom.hoverBorderWidth ? custom.hoverBorderWidth : helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderWidth, index, model.borderWidth);\n\t\t},\n\n\t\tremoveHoverStyle: function(point) {\n\t\t\tvar dataset = this.chart.data.datasets[point._datasetIndex];\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar index = point._index;\n\t\t\tvar model = point._model;\n\t\t\tvar pointElementOptions = this.chart.options.elements.point;\n\n\t\t\tmodel.radius = custom.radius ? custom.radius : helpers.getValueAtIndexOrDefault(dataset.radius, index, pointElementOptions.radius);\n\t\t\tmodel.backgroundColor = custom.backgroundColor ? custom.backgroundColor : helpers.getValueAtIndexOrDefault(dataset.pointBackgroundColor, index, pointElementOptions.backgroundColor);\n\t\t\tmodel.borderColor = custom.borderColor ? custom.borderColor : helpers.getValueAtIndexOrDefault(dataset.pointBorderColor, index, pointElementOptions.borderColor);\n\t\t\tmodel.borderWidth = custom.borderWidth ? custom.borderWidth : helpers.getValueAtIndexOrDefault(dataset.pointBorderWidth, index, pointElementOptions.borderWidth);\n\t\t}\n\t});\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tChart.Bar = function(context, config) {\n\t\tconfig.type = 'bar';\n\n\t\treturn new Chart(context, config);\n\t};\n\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tChart.Bubble = function(context, config) {\n\t\tconfig.type = 'bubble';\n\t\treturn new Chart(context, config);\n\t};\n\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tChart.Doughnut = function(context, config) {\n\t\tconfig.type = 'doughnut';\n\n\t\treturn new Chart(context, config);\n\t};\n\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tChart.Line = function(context, config) {\n\t\tconfig.type = 'line';\n\n\t\treturn new Chart(context, config);\n\t};\n\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tChart.PolarArea = function(context, config) {\n\t\tconfig.type = 'polarArea';\n\n\t\treturn new Chart(context, config);\n\t};\n\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tChart.Radar = function(context, config) {\n\t\tconfig.options = Chart.helpers.configMerge({aspectRatio: 1}, config.options);\n\t\tconfig.type = 'radar';\n\n\t\treturn new Chart(context, config);\n\t};\n\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar defaultConfig = {\n\t\thover: {\n\t\t\tmode: 'single'\n\t\t},\n\n\t\tscales: {\n\t\t\txAxes: [{\n\t\t\t\ttype: 'linear', // scatter should not use a category axis\n\t\t\t\tposition: 'bottom',\n\t\t\t\tid: 'x-axis-1' // need an ID so datasets can reference the scale\n\t\t\t}],\n\t\t\tyAxes: [{\n\t\t\t\ttype: 'linear',\n\t\t\t\tposition: 'left',\n\t\t\t\tid: 'y-axis-1'\n\t\t\t}]\n\t\t},\n\n\t\ttooltips: {\n\t\t\tcallbacks: {\n\t\t\t\ttitle: function() {\n\t\t\t\t\t// Title doesn't make sense for scatter since we format the data as a point\n\t\t\t\t\treturn '';\n\t\t\t\t},\n\t\t\t\tlabel: function(tooltipItem) {\n\t\t\t\t\treturn '(' + tooltipItem.xLabel + ', ' + tooltipItem.yLabel + ')';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t// Register the default config for this type\n\tChart.defaults.scatter = defaultConfig;\n\n\t// Scatter charts use line controllers\n\tChart.controllers.scatter = Chart.controllers.line;\n\n\tChart.Scatter = function(context, config) {\n\t\tconfig.type = 'scatter';\n\t\treturn new Chart(context, config);\n\t};\n\n};\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the last element responsible for generating the key. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * var array = [\n *   { 'dir': 'left', 'code': 97 },\n *   { 'dir': 'right', 'code': 100 }\n * ];\n *\n * _.keyBy(array, function(o) {\n *   return String.fromCharCode(o.code);\n * });\n * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n *\n * _.keyBy(array, 'dir');\n * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n */\nvar keyBy = createAggregator(function(result, value, key) {\n  baseAssignValue(result, key, value);\n});\n\nmodule.exports = keyBy;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var arrayAggregator = require('./_arrayAggregator'),\n    baseAggregator = require('./_baseAggregator'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nmodule.exports = createAggregator;\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayAggregator;\n","var baseEach = require('./_baseEach');\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseAggregator;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown, DropdownMenu, DropdownToggle, DropdownItem } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  onMenuItemClick: PropTypes.func.isRequired,\n  operations: PropTypes.array.isRequired,\n  translateOperations: PropTypes.func.isRequired\n};\n\nclass OpMenu extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemMenuShow: false\n    };\n  }\n\n  onMenuItemClick = (e) => {\n    let operation = Utils.getEventData(e, 'op');\n    this.props.onMenuItemClick(operation);\n  }\n\n  onDropdownToggleClick = (e) => {\n    this.toggleOperationMenu(e);\n  }\n\n  toggleOperationMenu = (e) => {\n    this.setState(\n      {isItemMenuShow: !this.state.isItemMenuShow},\n      () => {\n        if (this.state.isItemMenuShow) {\n          this.props.onFreezedItem();\n        } else {\n          this.props.onUnfreezedItem();\n        }\n      }\n    );\n  }\n\n  render() {\n    const { operations, translateOperations } = this.props;\n    return (\n      <Dropdown isOpen={this.state.isItemMenuShow} toggle={this.toggleOperationMenu}>\n        <DropdownToggle\n          tag=\"i\"\n          className=\"d-flex w-5 h-5 align-items-center justify-content-center sf-dropdown-toggle fa fa-ellipsis-v\"\n          title={gettext('More Operations')}\n          data-toggle=\"dropdown\"\n          aria-expanded={this.state.isItemMenuShow}\n        />\n        <DropdownMenu className=\"my-1 mr-2\">\n          {operations.map((item, index )=> {\n            return (<DropdownItem key={index} data-op={item} onClick={this.onMenuItemClick}>{translateOperations(item)}</DropdownItem>);\n          })}\n        </DropdownMenu>\n      </Dropdown>\n    );\n  }\n}\n\nOpMenu.propTypes = propTypes;\n\nexport default OpMenu;\n"],"sourceRoot":""}