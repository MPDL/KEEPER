webpackJsonp([9],{1110:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(27),p=n(2),m={email:d.default.string.isRequired,currentItem:d.default.string.isRequired},g=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.email,n=e.currentItem,r=p.siteRoot+"org/useradmin/info/"+encodeURIComponent(t)+"/";return u.default.createElement("div",{className:"cur-view-path org-admin-user-nav"},u.default.createElement("ul",{className:"nav"},u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{to:r,className:"nav-link"+("profile"==n?" active":"")},(0,p.gettext)("Profile"))),u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{to:r+"repos/",className:"nav-link"+("owned-repos"==n?" active":"")},(0,p.gettext)("Owned Libraries"))),u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{to:r+"shared-repos/",className:"nav-link"+("shared-repos"==n?" active":"")},(0,p.gettext)("Shared Libraries")))))}}]),t}(u.default.Component);g.propTypes=m,t.default=g},1111:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(27),p=n(2),m={groupID:d.default.string.isRequired,currentItem:d.default.string.isRequired},g=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.groupID,n=e.currentItem,r=p.siteRoot+"org/groupadmin/"+t+"/";return u.default.createElement("div",{className:"cur-view-path org-admin-user-nav"},u.default.createElement("ul",{className:"nav"},u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{to:r,className:"nav-link"+("info"==n?" active":"")},(0,p.gettext)("Group Info"))),u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{to:r+"repos/",className:"nav-link"+("repos"==n?" active":"")},(0,p.gettext)("Libraries"))),u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{to:r+"members/",className:"nav-link"+("members"==n?" active":"")},(0,p.gettext)("Members")))))}}]),t}(u.default.Component);g.propTypes=m,t.default=g},1112:function(e,t){},1367:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(4),g=n(3),h=n(5),Y=r(h),S=n(2394),Z=r(S),L={user:d.default.object,currentTab:d.default.string,toggleRevokeAdmin:d.default.func,isItemFreezed:d.default.bool.isRequired,toggleDelete:d.default.func.isRequired,onFreezedItem:d.default.func.isRequired,onUnfreezedItem:d.default.func.isRequired},b=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.props.isItemFreezed||n.setState({showMenu:!0,highlight:!0})},n.onMouseLeave=function(){n.props.isItemFreezed||n.setState({showMenu:!1,highlight:!1})},n.toggleDelete=function(){var e=n.props.user.email;n.props.toggleDelete(e)},n.toggleResetPW=function(){var e=n.props.user.email;Y.default.success((0,p.gettext)("Resetting user's password, please wait for a moment.")),m.seafileAPI.orgAdminResetOrgUserPassword(p.orgID,e).then(function(t){var n=void 0;n=(0,p.gettext)("Successfully reset password to %(passwd)s for user %(user)s."),n=n.replace("%(passwd)s",t.data.new_password),n=n.replace("%(user)s",e),Y.default.success(n,{duration:15})}).catch(function(e){var t=g.Utils.getErrorMsg(e);Y.default.danger(t)})},n.toggleRevokeAdmin=function(){var e=n.props.user.email;n.props.toggleRevokeAdmin(e)},n.changeStatus=function(e){var t=void 0;t="active"==e?1:0,m.seafileAPI.orgAdminChangeOrgUserStatus(n.props.user.id,t).then(function(e){n.setState({currentStatus:1==t?"active":"inactive",highlight:!1,showMenu:!1}),Y.default.success((0,p.gettext)("Edit succeeded."))}).catch(function(e){var t=g.Utils.getErrorMsg(e);t===(0,p.gettext)("Error")&&(t=(0,p.gettext)("Edit failed.")),Y.default.danger(t)})},n.onDropdownToggleClick=function(e){e.preventDefault(),n.toggleOperationMenu(e)},n.toggleOperationMenu=function(e){e.stopPropagation(),n.setState({isItemMenuShow:!n.state.isItemMenuShow},function(){n.state.isItemMenuShow?n.props.onFreezedItem():(n.setState({highlight:!1,showMenu:!1}),n.props.onUnfreezedItem())})},n.state={highlight:!1,showMenu:!1,currentStatus:n.props.user.is_active?"active":"inactive",isItemMenuShow:!1},n.statusArray=["active","inactive"],n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.currentTab,r=p.siteRoot+"org/useradmin/info/"+encodeURIComponent(t.email)+"/",a=t.email!==p.username&&this.state.showMenu,o=a;return u.default.createElement("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.default.createElement("td",null,u.default.createElement("a",{href:r,className:"font-weight-normal"},t.name)),u.default.createElement("td",null,u.default.createElement(Z.default,{isTextMode:!0,isEditIconShow:o,currentStatus:this.state.currentStatus,statusArray:this.statusArray,onStatusChanged:this.changeStatus})),u.default.createElement("td",null,t.quota?t.self_usage+" / "+t.quota:t.self_usage),u.default.createElement("td",{style:{fontSize:"11px"}},t.ctime," / ",t.last_login?t.last_login:"--"),u.default.createElement("td",{className:"text-center cursor-pointer"},a&&u.default.createElement(f.Dropdown,{isOpen:this.state.isItemMenuShow,toggle:this.toggleOperationMenu},u.default.createElement(f.DropdownToggle,{tag:"a",className:"attr-action-icon fas fa-ellipsis-v",title:(0,p.gettext)("More Operations"),"data-toggle":"dropdown","aria-expanded":this.state.isItemMenuShow,onClick:this.onDropdownToggleClick}),u.default.createElement(f.DropdownMenu,null,u.default.createElement(f.DropdownItem,{onClick:this.toggleDelete},(0,p.gettext)("Delete")),u.default.createElement(f.DropdownItem,{onClick:this.toggleResetPW},(0,p.gettext)("ResetPwd")),"admins"==n&&u.default.createElement(f.DropdownItem,{onClick:this.toggleRevokeAdmin},(0,p.gettext)("Revoke Admin"))))))}}]),t}(u.default.Component);b.propTypes=L,t.default=b},1368:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),o=n(2),i=n(7),l=function(e){return e&&e.__esModule?e:{default:e}}(i);l.default.locale(o.lang);var s=function e(t){r(this,e),this.id=t.id,this.name=t.name,this.email=t.email,this.contact_email=t.owner_contact_email,this.is_active=t.is_active,this.quota=t.quota>0?a.Utils.bytesToSize(t.quota):"",this.self_usage=a.Utils.bytesToSize(t.self_usage),this.last_login=t.last_login?(0,l.default)(t.last_login).fromNow():"--",this.ctime=(0,l.default)(t.ctime).format("YYYY-MM-DD HH:mm:ss")};t.default=s},1369:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(4),g={groupID:d.default.string,parentGroupID:d.default.string,toggle:d.default.func.isRequired,onDepartChanged:d.default.func.isRequired},h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSubmit=function(){if(n.validateName()){var e=-1;n.props.parentGroupID&&(e=n.props.parentGroupID),m.seafileAPI.orgAdminAddDepartGroup(p.orgID,e,n.state.departName.trim()).then(function(e){n.props.toggle(),n.props.onDepartChanged()}).catch(function(e){var t=(0,p.gettext)(e.response.data.error_msg);n.setState({errMessage:t})})}},n.validateName=function(){var e="";return!!n.state.departName.trim().length||(e=(0,p.gettext)("Name is required"),n.setState({errMessage:e}),!1)},n.handleChange=function(e){n.setState({departName:e.target.value})},n.handleKeyPress=function(e){"Enter"===e.key&&(n.handleSubmit(),e.preventDefault())},n.state={departName:"",errMessage:""},n.newInput=u.default.createRef(),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.newInput.focus(),this.newInput.setSelectionRange(0,0)}},{key:"render",value:function(){var e=this,t=this.props.parentGroupID?(0,p.gettext)("New Sub-department"):(0,p.gettext)("New Department");return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.props.toggle},u.default.createElement(f.ModalHeader,{toggle:this.props.toggle},t),u.default.createElement(f.ModalBody,null,u.default.createElement(f.Form,null,u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,{for:"departName"},(0,p.gettext)("Name")),u.default.createElement(f.Input,{id:"departName",onKeyPress:this.handleKeyPress,value:this.state.departName,onChange:this.handleChange,innerRef:function(t){e.newInput=t}}))),this.state.errMessage&&u.default.createElement("p",{className:"error"},this.state.errMessage)),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"primary",onClick:this.handleSubmit},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);h.propTypes=g,t.default=h},1370:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(4),g=n(3),h={groupName:d.default.string,groupID:d.default.number.isRequired,toggle:d.default.func.isRequired,onDepartChanged:d.default.func.isRequired},Y=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.deleteDepart=function(){m.seafileAPI.orgAdminDeleteDepartGroup(p.orgID,n.props.groupID).then(function(e){e.data.success&&(n.props.onDepartChanged(),n.props.toggle())}).catch(function(e){n.setState({errMessage:"There are sub-departments in this department."})})},n.state={errMessage:null},n}return i(t,e),l(t,[{key:"render",value:function(){var e=(0,p.gettext)("Are you sure you want to delete {placeholder} ?");return e=e.replace("{placeholder}",'<span class="op-target">'+g.Utils.HTMLescape(this.props.groupName)+"</span>"),u.default.createElement(f.Modal,{isOpen:!0,toggle:this.props.toggle},u.default.createElement(f.ModalHeader,{toggle:this.props.toggle},(0,p.gettext)("Delete Department")),u.default.createElement(f.ModalBody,null,u.default.createElement("div",{dangerouslySetInnerHTML:{__html:e}}),this.state.errMessage&&u.default.createElement("p",{className:"error"},this.state.errMessage)),u.default.createElement(f.ModalFooter,null,!this.state.errMessage&&u.default.createElement(f.Button,{color:"primary",onClick:this.deleteDepart},(0,p.gettext)("Delete")),u.default.createElement(f.Button,{color:"secondary",onClick:this.props.toggle},(0,p.gettext)("Cancel"))))}}]),t}(u.default.Component);Y.propTypes=h,t.default=Y},1371:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(4),g=n(3),h=n(5),Y=r(h),S={toggle:d.default.func.isRequired,groupID:d.default.number.isRequired,onDepartChanged:d.default.func.isRequired},Z=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setGroupQuota=function(){var e=/^[1-9]\d*$/im,t=n.state.quota;if(t.length&&e.test(t)||-2==t){n.setState({errMessage:""});var r=-2==n.state.quota?n.state.quota:1e6*n.state.quota;m.seafileAPI.orgAdminSetGroupQuota(p.orgID,n.props.groupID,r).then(function(e){n.props.toggle(),n.props.onDepartChanged()}).catch(function(e){var t=g.Utils.getErrorMsg(e);Y.default.danger(t)})}else{var a=(0,p.gettext)("Quota is invalid.");n.setState({errMessage:a})}},n.handleChange=function(e){var t=e.target.value.trim();n.setState({quota:t})},n.handleKeyPress=function(e){"Enter"===e.key&&(n.setGroupQuota(),e.preventDefault())},n.state={quota:"",errMessage:""},n.newInput=u.default.createRef(),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.newInput.focus(),this.newInput.setSelectionRange(0,0)}},{key:"render",value:function(){var e=this;return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.props.toggle},u.default.createElement(f.ModalHeader,{toggle:this.props.toggle},(0,p.gettext)("Set Quota")),u.default.createElement(f.ModalBody,null,u.default.createElement(f.InputGroup,null,u.default.createElement(f.Input,{onKeyPress:this.handleKeyPress,value:this.state.quota,onChange:this.handleChange,innerRef:function(t){e.newInput=t}}),u.default.createElement(f.InputGroupAddon,{addonType:"append"},"MB")),u.default.createElement("p",{className:"tip"},u.default.createElement("br",null),u.default.createElement("span",null,(0,p.gettext)("An integer that is greater than 0 or equal to -2.")),u.default.createElement("br",null),u.default.createElement("span",null,(0,p.gettext)("Tip: -2 means no limit."))),this.state.errMessage&&u.default.createElement("p",{className:"error"},this.state.errMessage)),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"primary",onClick:this.setGroupQuota},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);Z.propTypes=S,t.default=Z},155:function(e,t){},16:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(8),d=r(c),f=n(1),p=r(f),m={children:p.default.object.isRequired},g=document.getElementById("modal-wrapper"),h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.el=document.createElement("div"),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){g.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){g.removeChild(this.el)}},{key:"render",value:function(){return d.default.createPortal(this.props.children,this.el)}}]),t}(u.default.Component);h.propTypes=m,t.default=h},17:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a={NEW_FOLDER:{key:"New Folder",value:(0,r.gettext)("New Folder")},NEW_FILE:{key:"New File",value:(0,r.gettext)("New File")},SHARE:{key:"Share",value:(0,r.gettext)("Share")},DOWNLOAD:{key:"Download",value:(0,r.gettext)("Download")},DELETE:{key:"Delete",value:(0,r.gettext)("Delete")},RENAME:{key:"Rename",value:(0,r.gettext)("Rename")},MOVE:{key:"Move",value:(0,r.gettext)("Move")},COPY:{key:"Copy",value:(0,r.gettext)("Copy")},PERMISSION:{key:"Permission",value:(0,r.gettext)("Permission")},DETAILS:{key:"Details",value:(0,r.gettext)("Details")},OPEN_VIA_CLIENT:{key:"Open via Client",value:(0,r.gettext)("Open via Client")},LOCK:{key:"Lock",value:(0,r.gettext)("Lock")},UNLOCK:{key:"Unlock",value:(0,r.gettext)("Unlock")},COMMENT:{key:"Comment",value:(0,r.gettext)("Comment")},HISTORY:{key:"History",value:(0,r.gettext)("History")},ACCESS_LOG:{key:"Access Log",value:(0,r.gettext)("Access Log")},TAGS:{key:"Tags",value:(0,r.gettext)("Tags")},RELATED_FILES:{key:"Related Files",value:(0,r.gettext)("Related Files")}};t.default=a},184:function(e,t){},185:function(e,t){},186:function(e,t){},187:function(e,t){},2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.dirPath="/",t.gettext=window.gettext,t.siteRoot=window.app.config.siteRoot,t.loginUrl=window.app.config.loginUrl,t.avatarInfo=window.app.config.avatarInfo,t.logoPath=window.app.config.logoPath,t.mediaUrl=window.app.config.mediaUrl,t.siteTitle=window.app.config.siteTitle,t.siteName=window.app.config.siteName,t.logoWidth=window.app.config.logoWidth,t.logoHeight=window.app.config.logoHeight,t.isPro="True"===window.app.config.isPro,t.isDocs="True"===window.app.config.isDocs,t.lang=window.app.config.lang,t.fileServerRoot=window.app.config.fileServerRoot,t.seafileVersion=window.app.config.seafileVersion,t.serviceURL=window.app.config.serviceURL,t.appAvatarURL=window.app.config.avatarURL,t.faviconPath=window.app.config.faviconPath,t.loginBGPath=window.app.config.loginBGPath,t.trashReposExpireDays=window.app.pageOptions.trashReposExpireDays,t.dtableWebServer=window.app.pageOptions.dtableWebServer,t.seafileCollabServer=window.app.pageOptions.seafileCollabServer,t.name=window.app.pageOptions.name,t.contactEmail=window.app.pageOptions.contactEmail,t.username=window.app.pageOptions.username,t.canAddRepo=window.app.pageOptions.canAddRepo,t.canAddGroup=window.app.pageOptions.canAddGroup,t.canGenerateShareLink=window.app.pageOptions.canGenerateShareLink,t.canGenerateUploadLink=window.app.pageOptions.canGenerateUploadLink,t.canSendShareLinkEmail=window.app.pageOptions.canSendShareLinkEmail,t.canViewOrg="True"===window.app.pageOptions.canViewOrg,t.fileAuditEnabled=window.app.pageOptions.fileAuditEnabled,t.enableFileComment=!!window.app.pageOptions.enableFileComment,t.folderPermEnabled=window.app.pageOptions.folderPermEnabled,t.enableResetEncryptedRepoPassword="True"===window.app.pageOptions.enableResetEncryptedRepoPassword,t.isEmailConfigured="True"===window.app.pageOptions.isEmailConfigured,t.enableUploadFolder="True"===window.app.pageOptions.enableUploadFolder,t.enableResumableFileUpload="True"===window.app.pageOptions.enableResumableFileUpload,t.resumableUploadFileBlockSize=window.app.pageOptions.resumableUploadFileBlockSize,t.storages=window.app.pageOptions.storages,t.enableRepoSnapshotLabel=window.app.pageOptions.enableRepoSnapshotLabel,t.shareLinkPasswordMinLength=window.app.pageOptions.shareLinkPasswordMinLength,t.shareLinkExpireDaysMin=window.app.pageOptions.shareLinkExpireDaysMin,t.shareLinkExpireDaysMax=window.app.pageOptions.shareLinkExpireDaysMax,t.sideNavFooterCustomHtml=window.app.pageOptions.sideNavFooterCustomHtml,t.shareLinkExpireDaysDefault=window.app.pageOptions.shareLinkExpireDaysDefault,t.maxFileName=window.app.pageOptions.maxFileName,t.canPublishRepo=window.app.pageOptions.canPublishRepo,t.enableEncryptedLibrary=window.app.pageOptions.enableEncryptedLibrary,t.enableRepoHistorySetting=window.app.pageOptions.enableRepoHistorySetting,t.isSystemStaff=window.app.pageOptions.isSystemStaff,t.thumbnailSizeForOriginal=window.app.pageOptions.thumbnailSizeForOriginal,t.repoPasswordMinLength=window.app.pageOptions.repoPasswordMinLength,t.canAddPublicRepo=window.app.pageOptions.canAddPublicRepo,t.canInvitePeople=window.app.pageOptions.canInvitePeople,t.canLockUnlockFile=window.app.pageOptions.canLockUnlockFile,t.customNavItems=window.app.pageOptions.customNavItems,t.maxUploadFileSize=window.app.pageOptions.maxUploadFileSize,t.maxNumberOfFilesForFileupload=window.app.pageOptions.maxNumberOfFilesForFileupload,t.curNoteMsg=window.app.pageOptions.curNoteMsg,t.curNoteID=window.app.pageOptions.curNoteID,t.enableTC=window.app.pageOptions.enableTC,t.workspaceID=window.app.pageOptions.workspaceID,t.showLogoutIcon=window.app.pageOptions.showLogoutIcon,t.additionalShareDialogNote=window.app.pageOptions.additionalShareDialogNote,t.additionalAppBottomLinks=window.app.pageOptions.additionalAppBottomLinks,t.additionalAboutDialogLinks=window.app.pageOptions.additionalAboutDialogLinks,t.slug=window.wiki?window.wiki.config.slug:"",t.repoID=window.wiki?window.wiki.config.repoId:"",t.initialPath=window.wiki?window.wiki.config.initial_path:"",t.permission=window.wiki?"True"===window.wiki.config.permission:"",t.isDir=window.wiki?window.wiki.config.isDir:"",t.serviceUrl=window.wiki?window.wiki.config.serviceUrl:"",t.isPublicWiki=window.wiki?"True"===window.wiki.config.isPublicWiki:"",t.sharedToken=window.wiki?window.wiki.config.sharedToken:"",t.sharedType=window.wiki?window.wiki.config.sharedType:"",t.hasIndex=window.wiki?window.wiki.config.hasIndex:"",t.PER_PAGE=25,t.historyRepoID=window.fileHistory?window.fileHistory.pageOptions.repoID:"",t.repoName=window.fileHistory?window.fileHistory.pageOptions.repoName:"",t.filePath=window.fileHistory?window.fileHistory.pageOptions.filePath:"",t.fileName=window.fileHistory?window.fileHistory.pageOptions.fileName:"",t.useNewAPI=window.fileHistory?window.fileHistory.pageOptions.use_new_api:"",t.canDownload=window.fileHistory?window.fileHistory.pageOptions.can_download_file:"",t.canCompare=window.fileHistory?window.fileHistory.pageOptions.can_compare:"",t.draftFilePath=window.draft?window.draft.config.draftFilePath:"",t.draftOriginFilePath=window.draft?window.draft.config.draftOriginFilePath:"",t.draftFileName=window.draft?window.draft.config.draftFileName:"",t.draftID=window.draft?window.draft.config.draftID:"",t.draftRepoID=window.draft?window.draft.config.draftRepoID:"",t.author=window.draft?window.draft.config.author:"",t.authorAvatar=window.draft?window.draft.config.authorAvatar:"",t.originFileExists=window.draft?window.draft.config.originFileExists:"",t.draftFileExists=window.draft?window.draft.config.draftFileExists:"",t.draftStatus=window.draft?window.draft.config.draftStatus:"",t.draftPublishVersion=window.draft?window.draft.config.draftPublishVersion:"",t.originFileVersion=window.draft?window.draft.config.originFileVersion:"",t.filePermission=window.draft?window.draft.config.perm:"",t.orgID=window.org?window.org.pageOptions.orgID:"",t.invitationLink=window.org?window.org.pageOptions.invitationLink:"",t.orgMemberQuotaEnabled=window.org?window.org.pageOptions.orgMemberQuotaEnabled:"",t.constanceEnabled=window.sysadmin?window.sysadmin.pageOptions.constance_enabled:"",t.multiTenancy=window.sysadmin?window.sysadmin.pageOptions.multi_tenancy:"",t.multiInstitution=window.sysadmin?window.sysadmin.pageOptions.multi_institution:"",t.sysadminExtraEnabled=window.sysadmin?window.sysadmin.pageOptions.sysadmin_extra_enabled:"",t.enableGuestInvitation=window.sysadmin?window.sysadmin.pageOptions.enable_guest_invitation:"",t.enableTermsAndConditions=window.sysadmin?window.sysadmin.pageOptions.enable_terms_and_conditions:"",t.isDefaultAdmin=window.sysadmin?window.sysadmin.pageOptions.is_default_admin:"",t.enableFileScan=window.sysadmin?window.sysadmin.pageOptions.enable_file_scan:"",t.canViewSystemInfo=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_system_info:"",t.canViewStatistic=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_statistic:"",t.canConfigSystem=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_config_system:"",t.canManageLibrary=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_library:"",t.canManageUser=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_user:"",t.canManageGroup=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_group:"",t.canViewUserLog=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_user_log:"",t.canViewAdminLog=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_admin_log:"",t.otherPermission=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.other_permission:"",t.enableWorkWeixin=window.sysadmin?window.sysadmin.pageOptions.enable_work_weixin:"",t.enableDingtalk=window.sysadmin?window.sysadmin.pageOptions.enable_dingtalk:"",t.enableSysAdminViewRepo=window.sysadmin?window.sysadmin.pageOptions.enableSysAdminViewRepo:"",t.haveLDAP=window.sysadmin?window.sysadmin.pageOptions.haveLDAP:"",t.enableShareLinkReportAbuse=window.sysadmin?window.sysadmin.pageOptions.enable_share_link_report_abuse:""},20:function(e,t,n){"use strict";n(61),n(62),"undefined"===typeof Promise&&(n(63).enable(),window.Promise=n(51)),n(59),Object.assign=n(35)},207:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(37),p=r(f),m={children:d.default.object},g=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"main-panel-north border-left-show"},u.default.createElement("div",{className:"cur-view-toolbar"},u.default.createElement("span",{className:"sf2-icon-menu side-nav-toggle hidden-md-up d-md-none",title:"Side Nav Menu"}),u.default.createElement("div",{className:"operation"},this.props.children)),u.default.createElement("div",{className:"common-toolbar"},u.default.createElement(p.default,{isAdminPanel:!0})))}}]),t}(s.Component);g.propTypes=m,t.default=g},21:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.strChineseFirstPY="YDYQSXMWZSSXJBYMGCCZQPSSQBYCDSCDQLDYLYBSSJGYZZJJFKCCLZDHWDWZJLJPFYYNWJJTMYHZWZHFLZPPQHGSCYYYNJQYXXGJHHSDSJNKKTMOMLCRXYPSNQSECCQZGGLLYJLMYZZSECYKYYHQWJSSGGYXYZYJWWKDJHYCHMYXJTLXJYQBYXZLDWRDJRWYSRLDZJPCBZJJBRCFTLECZSTZFXXZHTRQHYBDLYCZSSYMMRFMYQZPWWJJYFCRWFDFZQPYDDWYXKYJAWJFFXYPSFTZYHHYZYSWCJYXSCLCXXWZZXNBGNNXBXLZSZSBSGPYSYZDHMDZBQBZCWDZZYYTZHBTSYYBZGNTNXQYWQSKBPHHLXGYBFMJEBJHHGQTJCYSXSTKZHLYCKGLYSMZXYALMELDCCXGZYRJXSDLTYZCQKCNNJWHJTZZCQLJSTSTBNXBTYXCEQXGKWJYFLZQLYHYXSPSFXLMPBYSXXXYDJCZYLLLSJXFHJXPJBTFFYABYXBHZZBJYZLWLCZGGBTSSMDTJZXPTHYQTGLJSCQFZKJZJQNLZWLSLHDZBWJNCJZYZSQQYCQYRZCJJWYBRTWPYFTWEXCSKDZCTBZHYZZYYJXZCFFZZMJYXXSDZZOTTBZLQWFCKSZSXFYRLNYJMBDTHJXSQQCCSBXYYTSYFBXDZTGBCNSLCYZZPSAZYZZSCJCSHZQYDXLBPJLLMQXTYDZXSQJTZPXLCGLQTZWJBHCTSYJSFXYEJJTLBGXSXJMYJQQPFZASYJNTYDJXKJCDJSZCBARTDCLYJQMWNQNCLLLKBYBZZSYHQQLTWLCCXTXLLZNTYLNEWYZYXCZXXGRKRMTCNDNJTSYYSSDQDGHSDBJGHRWRQLYBGLXHLGTGXBQJDZPYJSJYJCTMRNYMGRZJCZGJMZMGXMPRYXKJNYMSGMZJYMKMFXMLDTGFBHCJHKYLPFMDXLQJJSMTQGZSJLQDLDGJYCALCMZCSDJLLNXDJFFFFJCZFMZFFPFKHKGDPSXKTACJDHHZDDCRRCFQYJKQCCWJDXHWJLYLLZGCFCQDSMLZPBJJPLSBCJGGDCKKDEZSQCCKJGCGKDJTJDLZYCXKLQSCGJCLTFPCQCZGWPJDQYZJJBYJHSJDZWGFSJGZKQCCZLLPSPKJGQJHZZLJPLGJGJJTHJJYJZCZMLZLYQBGJWMLJKXZDZNJQSYZMLJLLJKYWXMKJLHSKJGBMCLYYMKXJQLBMLLKMDXXKWYXYSLMLPSJQQJQXYXFJTJDXMXXLLCXQBSYJBGWYMBGGBCYXPJYGPEPFGDJGBHBNSQJYZJKJKHXQFGQZKFHYGKHDKLLSDJQXPQYKYBNQSXQNSZSWHBSXWHXWBZZXDMNSJBSBKBBZKLYLXGWXDRWYQZMYWSJQLCJXXJXKJEQXSCYETLZHLYYYSDZPAQYZCMTLSHTZCFYZYXYLJSDCJQAGYSLCQLYYYSHMRQQKLDXZSCSSSYDYCJYSFSJBFRSSZQSBXXPXJYSDRCKGJLGDKZJZBDKTCSYQPYHSTCLDJDHMXMCGXYZHJDDTMHLTXZXYLYMOHYJCLTYFBQQXPFBDFHHTKSQHZYYWCNXXCRWHOWGYJLEGWDQCWGFJYCSNTMYTOLBYGWQWESJPWNMLRYDZSZTXYQPZGCWXHNGPYXSHMYQJXZTDPPBFYHZHTJYFDZWKGKZBLDNTSXHQEEGZZYLZMMZYJZGXZXKHKSTXNXXWYLYAPSTHXDWHZYMPXAGKYDXBHNHXKDPJNMYHYLPMGOCSLNZHKXXLPZZLBMLSFBHHGYGYYGGBHSCYAQTYWLXTZQCEZYDQDQMMHTKLLSZHLSJZWFYHQSWSCWLQAZYNYTLSXTHAZNKZZSZZLAXXZWWCTGQQTDDYZTCCHYQZFLXPSLZYGPZSZNGLNDQTBDLXGTCTAJDKYWNSYZLJHHZZCWNYYZYWMHYCHHYXHJKZWSXHZYXLYSKQYSPSLYZWMYPPKBYGLKZHTYXAXQSYSHXASMCHKDSCRSWJPWXSGZJLWWSCHSJHSQNHCSEGNDAQTBAALZZMSSTDQJCJKTSCJAXPLGGXHHGXXZCXPDMMHLDGTYBYSJMXHMRCPXXJZCKZXSHMLQXXTTHXWZFKHCCZDYTCJYXQHLXDHYPJQXYLSYYDZOZJNYXQEZYSQYAYXWYPDGXDDXSPPYZNDLTWRHXYDXZZJHTCXMCZLHPYYYYMHZLLHNXMYLLLMDCPPXHMXDKYCYRDLTXJCHHZZXZLCCLYLNZSHZJZZLNNRLWHYQSNJHXYNTTTKYJPYCHHYEGKCTTWLGQRLGGTGTYGYHPYHYLQYQGCWYQKPYYYTTTTLHYHLLTYTTSPLKYZXGZWGPYDSSZZDQXSKCQNMJJZZBXYQMJRTFFBTKHZKBXLJJKDXJTLBWFZPPTKQTZTGPDGNTPJYFALQMKGXBDCLZFHZCLLLLADPMXDJHLCCLGYHDZFGYDDGCYYFGYDXKSSEBDHYKDKDKHNAXXYBPBYYHXZQGAFFQYJXDMLJCSQZLLPCHBSXGJYNDYBYQSPZWJLZKSDDTACTBXZDYZYPJZQSJNKKTKNJDJGYYPGTLFYQKASDNTCYHBLWDZHBBYDWJRYGKZYHEYYFJMSDTYFZJJHGCXPLXHLDWXXJKYTCYKSSSMTWCTTQZLPBSZDZWZXGZAGYKTYWXLHLSPBCLLOQMMZSSLCMBJCSZZKYDCZJGQQDSMCYTZQQLWZQZXSSFPTTFQMDDZDSHDTDWFHTDYZJYQJQKYPBDJYYXTLJHDRQXXXHAYDHRJLKLYTWHLLRLLRCXYLBWSRSZZSYMKZZHHKYHXKSMDSYDYCJPBZBSQLFCXXXNXKXWYWSDZYQOGGQMMYHCDZTTFJYYBGSTTTYBYKJDHKYXBELHTYPJQNFXFDYKZHQKZBYJTZBXHFDXKDASWTAWAJLDYJSFHBLDNNTNQJTJNCHXFJSRFWHZFMDRYJYJWZPDJKZYJYMPCYZNYNXFBYTFYFWYGDBNZZZDNYTXZEMMQBSQEHXFZMBMFLZZSRXYMJGSXWZJSPRYDJSJGXHJJGLJJYNZZJXHGXKYMLPYYYCXYTWQZSWHWLYRJLPXSLSXMFSWWKLCTNXNYNPSJSZHDZEPTXMYYWXYYSYWLXJQZQXZDCLEEELMCPJPCLWBXSQHFWWTFFJTNQJHJQDXHWLBYZNFJLALKYYJLDXHHYCSTYYWNRJYXYWTRMDRQHWQCMFJDYZMHMYYXJWMYZQZXTLMRSPWWCHAQBXYGZYPXYYRRCLMPYMGKSJSZYSRMYJSNXTPLNBAPPYPYLXYYZKYNLDZYJZCZNNLMZHHARQMPGWQTZMXXMLLHGDZXYHXKYXYCJMFFYYHJFSBSSQLXXNDYCANNMTCJCYPRRNYTYQNYYMBMSXNDLYLYSLJRLXYSXQMLLYZLZJJJKYZZCSFBZXXMSTBJGNXYZHLXNMCWSCYZYFZLXBRNNNYLBNRTGZQYSATSWRYHYJZMZDHZGZDWYBSSCSKXSYHYTXXGCQGXZZSHYXJSCRHMKKBXCZJYJYMKQHZJFNBHMQHYSNJNZYBKNQMCLGQHWLZNZSWXKHLJHYYBQLBFCDSXDLDSPFZPSKJYZWZXZDDXJSMMEGJSCSSMGCLXXKYYYLNYPWWWGYDKZJGGGZGGSYCKNJWNJPCXBJJTQTJWDSSPJXZXNZXUMELPXFSXTLLXCLJXJJLJZXCTPSWXLYDHLYQRWHSYCSQYYBYAYWJJJQFWQCQQCJQGXALDBZZYJGKGXPLTZYFXJLTPADKYQHPMATLCPDCKBMTXYBHKLENXDLEEGQDYMSAWHZMLJTWYGXLYQZLJEEYYBQQFFNLYXRDSCTGJGXYYNKLLYQKCCTLHJLQMKKZGCYYGLLLJDZGYDHZWXPYSJBZKDZGYZZHYWYFQYTYZSZYEZZLYMHJJHTSMQWYZLKYYWZCSRKQYTLTDXWCTYJKLWSQZWBDCQYNCJSRSZJLKCDCDTLZZZACQQZZDDXYPLXZBQJYLZLLLQDDZQJYJYJZYXNYYYNYJXKXDAZWYRDLJYYYRJLXLLDYXJCYWYWNQCCLDDNYYYNYCKCZHXXCCLGZQJGKWPPCQQJYSBZZXYJSQPXJPZBSBDSFNSFPZXHDWZTDWPPTFLZZBZDMYYPQJRSDZSQZSQXBDGCPZSWDWCSQZGMDHZXMWWFYBPDGPHTMJTHZSMMBGZMBZJCFZWFZBBZMQCFMBDMCJXLGPNJBBXGYHYYJGPTZGZMQBQTCGYXJXLWZKYDPDYMGCFTPFXYZTZXDZXTGKMTYBBCLBJASKYTSSQYYMSZXFJEWLXLLSZBQJJJAKLYLXLYCCTSXMCWFKKKBSXLLLLJYXTYLTJYYTDPJHNHNNKBYQNFQYYZBYYESSESSGDYHFHWTCJBSDZZTFDMXHCNJZYMQWSRYJDZJQPDQBBSTJGGFBKJBXTGQHNGWJXJGDLLTHZHHYYYYYYSXWTYYYCCBDBPYPZYCCZYJPZYWCBDLFWZCWJDXXHYHLHWZZXJTCZLCDPXUJCZZZLYXJJTXPHFXWPYWXZPTDZZBDZCYHJHMLXBQXSBYLRDTGJRRCTTTHYTCZWMXFYTWWZCWJWXJYWCSKYBZSCCTZQNHXNWXXKHKFHTSWOCCJYBCMPZZYKBNNZPBZHHZDLSYDDYTYFJPXYNGFXBYQXCBHXCPSXTYZDMKYSNXSXLHKMZXLYHDHKWHXXSSKQYHHCJYXGLHZXCSNHEKDTGZXQYPKDHEXTYKCNYMYYYPKQYYYKXZLTHJQTBYQHXBMYHSQCKWWYLLHCYYLNNEQXQWMCFBDCCMLJGGXDQKTLXKGNQCDGZJWYJJLYHHQTTTNWCHMXCXWHWSZJYDJCCDBQCDGDNYXZTHCQRXCBHZTQCBXWGQWYYBXHMBYMYQTYEXMQKYAQYRGYZSLFYKKQHYSSQYSHJGJCNXKZYCXSBXYXHYYLSTYCXQTHYSMGSCPMMGCCCCCMTZTASMGQZJHKLOSQYLSWTMXSYQKDZLJQQYPLSYCZTCQQPBBQJZCLPKHQZYYXXDTDDTSJCXFFLLCHQXMJLWCJCXTSPYCXNDTJSHJWXDQQJSKXYAMYLSJHMLALYKXCYYDMNMDQMXMCZNNCYBZKKYFLMCHCMLHXRCJJHSYLNMTJZGZGYWJXSRXCWJGJQHQZDQJDCJJZKJKGDZQGJJYJYLXZXXCDQHHHEYTMHLFSBDJSYYSHFYSTCZQLPBDRFRZTZYKYWHSZYQKWDQZRKMSYNBCRXQBJYFAZPZZEDZCJYWBCJWHYJBQSZYWRYSZPTDKZPFPBNZTKLQYHBBZPNPPTYZZYBQNYDCPJMMCYCQMCYFZZDCMNLFPBPLNGQJTBTTNJZPZBBZNJKLJQYLNBZQHKSJZNGGQSZZKYXSHPZSNBCGZKDDZQANZHJKDRTLZLSWJLJZLYWTJNDJZJHXYAYNCBGTZCSSQMNJPJYTYSWXZFKWJQTKHTZPLBHSNJZSYZBWZZZZLSYLSBJHDWWQPSLMMFBJDWAQYZTCJTBNNWZXQXCDSLQGDSDPDZHJTQQPSWLYYJZLGYXYZLCTCBJTKTYCZJTQKBSJLGMGZDMCSGPYNJZYQYYKNXRPWSZXMTNCSZZYXYBYHYZAXYWQCJTLLCKJJTJHGDXDXYQYZZBYWDLWQCGLZGJGQRQZCZSSBCRPCSKYDZNXJSQGXSSJMYDNSTZTPBDLTKZWXQWQTZEXNQCZGWEZKSSBYBRTSSSLCCGBPSZQSZLCCGLLLZXHZQTHCZMQGYZQZNMCOCSZJMMZSQPJYGQLJYJPPLDXRGZYXCCSXHSHGTZNLZWZKJCXTCFCJXLBMQBCZZWPQDNHXLJCTHYZLGYLNLSZZPCXDSCQQHJQKSXZPBAJYEMSMJTZDXLCJYRYYNWJBNGZZTMJXLTBSLYRZPYLSSCNXPHLLHYLLQQZQLXYMRSYCXZLMMCZLTZSDWTJJLLNZGGQXPFSKYGYGHBFZPDKMWGHCXMSGDXJMCJZDYCABXJDLNBCDQYGSKYDQTXDJJYXMSZQAZDZFSLQXYJSJZYLBTXXWXQQZBJZUFBBLYLWDSLJHXJYZJWTDJCZFQZQZZDZSXZZQLZCDZFJHYSPYMPQZMLPPLFFXJJNZZYLSJEYQZFPFZKSYWJJJHRDJZZXTXXGLGHYDXCSKYSWMMZCWYBAZBJKSHFHJCXMHFQHYXXYZFTSJYZFXYXPZLCHMZMBXHZZSXYFYMNCWDABAZLXKTCSHHXKXJJZJSTHYGXSXYYHHHJWXKZXSSBZZWHHHCWTZZZPJXSNXQQJGZYZYWLLCWXZFXXYXYHXMKYYSWSQMNLNAYCYSPMJKHWCQHYLAJJMZXHMMCNZHBHXCLXTJPLTXYJHDYYLTTXFSZHYXXSJBJYAYRSMXYPLCKDUYHLXRLNLLSTYZYYQYGYHHSCCSMZCTZQXKYQFPYYRPFFLKQUNTSZLLZMWWTCQQYZWTLLMLMPWMBZSSTZRBPDDTLQJJBXZCSRZQQYGWCSXFWZLXCCRSZDZMCYGGDZQSGTJSWLJMYMMZYHFBJDGYXCCPSHXNZCSBSJYJGJMPPWAFFYFNXHYZXZYLREMZGZCYZSSZDLLJCSQFNXZKPTXZGXJJGFMYYYSNBTYLBNLHPFZDCYFBMGQRRSSSZXYSGTZRNYDZZCDGPJAFJFZKNZBLCZSZPSGCYCJSZLMLRSZBZZLDLSLLYSXSQZQLYXZLSKKBRXBRBZCYCXZZZEEYFGKLZLYYHGZSGZLFJHGTGWKRAAJYZKZQTSSHJJXDCYZUYJLZYRZDQQHGJZXSSZBYKJPBFRTJXLLFQWJHYLQTYMBLPZDXTZYGBDHZZRBGXHWNJTJXLKSCFSMWLSDQYSJTXKZSCFWJLBXFTZLLJZLLQBLSQMQQCGCZFPBPHZCZJLPYYGGDTGWDCFCZQYYYQYSSCLXZSKLZZZGFFCQNWGLHQYZJJCZLQZZYJPJZZBPDCCMHJGXDQDGDLZQMFGPSYTSDYFWWDJZJYSXYYCZCYHZWPBYKXRYLYBHKJKSFXTZJMMCKHLLTNYYMSYXYZPYJQYCSYCWMTJJKQYRHLLQXPSGTLYYCLJSCPXJYZFNMLRGJJTYZBXYZMSJYJHHFZQMSYXRSZCWTLRTQZSSTKXGQKGSPTGCZNJSJCQCXHMXGGZTQYDJKZDLBZSXJLHYQGGGTHQSZPYHJHHGYYGKGGCWJZZYLCZLXQSFTGZSLLLMLJSKCTBLLZZSZMMNYTPZSXQHJCJYQXYZXZQZCPSHKZZYSXCDFGMWQRLLQXRFZTLYSTCTMJCXJJXHJNXTNRZTZFQYHQGLLGCXSZSJDJLJCYDSJTLNYXHSZXCGJZYQPYLFHDJSBPCCZHJJJQZJQDYBSSLLCMYTTMQTBHJQNNYGKYRQYQMZGCJKPDCGMYZHQLLSLLCLMHOLZGDYYFZSLJCQZLYLZQJESHNYLLJXGJXLYSYYYXNBZLJSSZCQQCJYLLZLTJYLLZLLBNYLGQCHXYYXOXCXQKYJXXXYKLXSXXYQXCYKQXQCSGYXXYQXYGYTQOHXHXPYXXXULCYEYCHZZCBWQBBWJQZSCSZSSLZYLKDESJZWMYMCYTSDSXXSCJPQQSQYLYYZYCMDJDZYWCBTJSYDJKCYDDJLBDJJSODZYSYXQQYXDHHGQQYQHDYXWGMMMAJDYBBBPPBCMUUPLJZSMTXERXJMHQNUTPJDCBSSMSSSTKJTSSMMTRCPLZSZMLQDSDMJMQPNQDXCFYNBFSDQXYXHYAYKQYDDLQYYYSSZBYDSLNTFQTZQPZMCHDHCZCWFDXTMYQSPHQYYXSRGJCWTJTZZQMGWJJTJHTQJBBHWZPXXHYQFXXQYWYYHYSCDYDHHQMNMTMWCPBSZPPZZGLMZFOLLCFWHMMSJZTTDHZZYFFYTZZGZYSKYJXQYJZQBHMBZZLYGHGFMSHPZFZSNCLPBQSNJXZSLXXFPMTYJYGBXLLDLXPZJYZJYHHZCYWHJYLSJEXFSZZYWXKZJLUYDTMLYMQJPWXYHXSKTQJEZRPXXZHHMHWQPWQLYJJQJJZSZCPHJLCHHNXJLQWZJHBMZYXBDHHYPZLHLHLGFWLCHYYTLHJXCJMSCPXSTKPNHQXSRTYXXTESYJCTLSSLSTDLLLWWYHDHRJZSFGXTSYCZYNYHTDHWJSLHTZDQDJZXXQHGYLTZPHCSQFCLNJTCLZPFSTPDYNYLGMJLLYCQHYSSHCHYLHQYQTMZYPBYWRFQYKQSYSLZDQJMPXYYSSRHZJNYWTQDFZBWWTWWRXCWHGYHXMKMYYYQMSMZHNGCEPMLQQMTCWCTMMPXJPJJHFXYYZSXZHTYBMSTSYJTTQQQYYLHYNPYQZLCYZHZWSMYLKFJXLWGXYPJYTYSYXYMZCKTTWLKSMZSYLMPWLZWXWQZSSAQSYXYRHSSNTSRAPXCPWCMGDXHXZDZYFJHGZTTSBJHGYZSZYSMYCLLLXBTYXHBBZJKSSDMALXHYCFYGMQYPJYCQXJLLLJGSLZGQLYCJCCZOTYXMTMTTLLWTGPXYMZMKLPSZZZXHKQYSXCTYJZYHXSHYXZKXLZWPSQPYHJWPJPWXQQYLXSDHMRSLZZYZWTTCYXYSZZSHBSCCSTPLWSSCJCHNLCGCHSSPHYLHFHHXJSXYLLNYLSZDHZXYLSXLWZYKCLDYAXZCMDDYSPJTQJZLNWQPSSSWCTSTSZLBLNXSMNYYMJQBQHRZWTYYDCHQLXKPZWBGQYBKFCMZWPZLLYYLSZYDWHXPSBCMLJBSCGBHXLQHYRLJXYSWXWXZSLDFHLSLYNJLZYFLYJYCDRJLFSYZFSLLCQYQFGJYHYXZLYLMSTDJCYHBZLLNWLXXYGYYHSMGDHXXHHLZZJZXCZZZCYQZFNGWPYLCPKPYYPMCLQKDGXZGGWQBDXZZKZFBXXLZXJTPJPTTBYTSZZDWSLCHZHSLTYXHQLHYXXXYYZYSWTXZKHLXZXZPYHGCHKCFSYHUTJRLXFJXPTZTWHPLYXFCRHXSHXKYXXYHZQDXQWULHYHMJTBFLKHTXCWHJFWJCFPQRYQXCYYYQYGRPYWSGSUNGWCHKZDXYFLXXHJJBYZWTSXXNCYJJYMSWZJQRMHXZWFQSYLZJZGBHYNSLBGTTCSYBYXXWXYHXYYXNSQYXMQYWRGYQLXBBZLJSYLPSYTJZYHYZAWLRORJMKSCZJXXXYXCHDYXRYXXJDTSQFXLYLTSFFYXLMTYJMJUYYYXLTZCSXQZQHZXLYYXZHDNBRXXXJCTYHLBRLMBRLLAXKYLLLJLYXXLYCRYLCJTGJCMTLZLLCYZZPZPCYAWHJJFYBDYYZSMPCKZDQYQPBPCJPDCYZMDPBCYYDYCNNPLMTMLRMFMMGWYZBSJGYGSMZQQQZTXMKQWGXLLPJGZBQCDJJJFPKJKCXBLJMSWMDTQJXLDLPPBXCWRCQFBFQJCZAHZGMYKPHYYHZYKNDKZMBPJYXPXYHLFPNYYGXJDBKXNXHJMZJXSTRSTLDXSKZYSYBZXJLXYSLBZYSLHXJPFXPQNBYLLJQKYGZMCYZZYMCCSLCLHZFWFWYXZMWSXTYNXJHPYYMCYSPMHYSMYDYSHQYZCHMJJMZCAAGCFJBBHPLYZYLXXSDJGXDHKXXTXXNBHRMLYJSLTXMRHNLXQJXYZLLYSWQGDLBJHDCGJYQYCMHWFMJYBMBYJYJWYMDPWHXQLDYGPDFXXBCGJSPCKRSSYZJMSLBZZJFLJJJLGXZGYXYXLSZQYXBEXYXHGCXBPLDYHWETTWWCJMBTXCHXYQXLLXFLYXLLJLSSFWDPZSMYJCLMWYTCZPCHQEKCQBWLCQYDPLQPPQZQFJQDJHYMMCXTXDRMJWRHXCJZYLQXDYYNHYYHRSLSRSYWWZJYMTLTLLGTQCJZYABTCKZCJYCCQLJZQXALMZYHYWLWDXZXQDLLQSHGPJFJLJHJABCQZDJGTKHSSTCYJLPSWZLXZXRWGLDLZRLZXTGSLLLLZLYXXWGDZYGBDPHZPBRLWSXQBPFDWOFMWHLYPCBJCCLDMBZPBZZLCYQXLDOMZBLZWPDWYYGDSTTHCSQSCCRSSSYSLFYBFNTYJSZDFNDPDHDZZMBBLSLCMYFFGTJJQWFTMTPJWFNLBZCMMJTGBDZLQLPYFHYYMJYLSDCHDZJWJCCTLJCLDTLJJCPDDSQDSSZYBNDBJLGGJZXSXNLYCYBJXQYCBYLZCFZPPGKCXZDZFZTJJFJSJXZBNZYJQTTYJYHTYCZHYMDJXTTMPXSPLZCDWSLSHXYPZGTFMLCJTYCBPMGDKWYCYZCDSZZYHFLYCTYGWHKJYYLSJCXGYWJCBLLCSNDDBTZBSCLYZCZZSSQDLLMQYYHFSLQLLXFTYHABXGWNYWYYPLLSDLDLLBJCYXJZMLHLJDXYYQYTDLLLBUGBFDFBBQJZZMDPJHGCLGMJJPGAEHHBWCQXAXHHHZCHXYPHJAXHLPHJPGPZJQCQZGJJZZUZDMQYYBZZPHYHYBWHAZYJHYKFGDPFQSDLZMLJXKXGALXZDAGLMDGXMWZQYXXDXXPFDMMSSYMPFMDMMKXKSYZYSHDZKXSYSMMZZZMSYDNZZCZXFPLSTMZDNMXCKJMZTYYMZMZZMSXHHDCZJEMXXKLJSTLWLSQLYJZLLZJSSDPPMHNLZJCZYHMXXHGZCJMDHXTKGRMXFWMCGMWKDTKSXQMMMFZZYDKMSCLCMPCGMHSPXQPZDSSLCXKYXTWLWJYAHZJGZQMCSNXYYMMPMLKJXMHLMLQMXCTKZMJQYSZJSYSZHSYJZJCDAJZYBSDQJZGWZQQXFKDMSDJLFWEHKZQKJPEYPZYSZCDWYJFFMZZYLTTDZZEFMZLBNPPLPLPEPSZALLTYLKCKQZKGENQLWAGYXYDPXLHSXQQWQCQXQCLHYXXMLYCCWLYMQYSKGCHLCJNSZKPYZKCQZQLJPDMDZHLASXLBYDWQLWDNBQCRYDDZTJYBKBWSZDXDTNPJDTCTQDFXQQMGNXECLTTBKPWSLCTYQLPWYZZKLPYGZCQQPLLKCCYLPQMZCZQCLJSLQZDJXLDDHPZQDLJJXZQDXYZQKZLJCYQDYJPPYPQYKJYRMPCBYMCXKLLZLLFQPYLLLMBSGLCYSSLRSYSQTMXYXZQZFDZUYSYZTFFMZZSMZQHZSSCCMLYXWTPZGXZJGZGSJSGKDDHTQGGZLLBJDZLCBCHYXYZHZFYWXYZYMSDBZZYJGTSMTFXQYXQSTDGSLNXDLRYZZLRYYLXQHTXSRTZNGZXBNQQZFMYKMZJBZYMKBPNLYZPBLMCNQYZZZSJZHJCTZKHYZZJRDYZHNPXGLFZTLKGJTCTSSYLLGZRZBBQZZKLPKLCZYSSUYXBJFPNJZZXCDWXZYJXZZDJJKGGRSRJKMSMZJLSJYWQSKYHQJSXPJZZZLSNSHRNYPZTWCHKLPSRZLZXYJQXQKYSJYCZTLQZYBBYBWZPQDWWYZCYTJCJXCKCWDKKZXSGKDZXWWYYJQYYTCYTDLLXWKCZKKLCCLZCQQDZLQLCSFQCHQHSFSMQZZLNBJJZBSJHTSZDYSJQJPDLZCDCWJKJZZLPYCGMZWDJJBSJQZSYZYHHXJPBJYDSSXDZNCGLQMBTSFSBPDZDLZNFGFJGFSMPXJQLMBLGQCYYXBQKDJJQYRFKZTJDHCZKLBSDZCFJTPLLJGXHYXZCSSZZXSTJYGKGCKGYOQXJPLZPBPGTGYJZGHZQZZLBJLSQFZGKQQJZGYCZBZQTLDXRJXBSXXPZXHYZYCLWDXJJHXMFDZPFZHQHQMQGKSLYHTYCGFRZGNQXCLPDLBZCSCZQLLJBLHBZCYPZZPPDYMZZSGYHCKCPZJGSLJLNSCDSLDLXBMSTLDDFJMKDJDHZLZXLSZQPQPGJLLYBDSZGQLBZLSLKYYHZTTNTJYQTZZPSZQZTLLJTYYLLQLLQYZQLBDZLSLYYZYMDFSZSNHLXZNCZQZPBWSKRFBSYZMTHBLGJPMCZZLSTLXSHTCSYZLZBLFEQHLXFLCJLYLJQCBZLZJHHSSTBRMHXZHJZCLXFNBGXGTQJCZTMSFZKJMSSNXLJKBHSJXNTNLZDNTLMSJXGZJYJCZXYJYJWRWWQNZTNFJSZPZSHZJFYRDJSFSZJZBJFZQZZHZLXFYSBZQLZSGYFTZDCSZXZJBQMSZKJRHYJZCKMJKHCHGTXKXQGLXPXFXTRTYLXJXHDTSJXHJZJXZWZLCQSBTXWXGXTXXHXFTSDKFJHZYJFJXRZSDLLLTQSQQZQWZXSYQTWGWBZCGZLLYZBCLMQQTZHZXZXLJFRMYZFLXYSQXXJKXRMQDZDMMYYBSQBHGZMWFWXGMXLZPYYTGZYCCDXYZXYWGSYJYZNBHPZJSQSYXSXRTFYZGRHZTXSZZTHCBFCLSYXZLZQMZLMPLMXZJXSFLBYZMYQHXJSXRXSQZZZSSLYFRCZJRCRXHHZXQYDYHXSJJHZCXZBTYNSYSXJBQLPXZQPYMLXZKYXLXCJLCYSXXZZLXDLLLJJYHZXGYJWKJRWYHCPSGNRZLFZWFZZNSXGXFLZSXZZZBFCSYJDBRJKRDHHGXJLJJTGXJXXSTJTJXLYXQFCSGSWMSBCTLQZZWLZZKXJMLTMJYHSDDBXGZHDLBMYJFRZFSGCLYJBPMLYSMSXLSZJQQHJZFXGFQFQBPXZGYYQXGZTCQWYLTLGWSGWHRLFSFGZJMGMGBGTJFSYZZGZYZAFLSSPMLPFLCWBJZCLJJMZLPJJLYMQDMYYYFBGYGYZMLYZDXQYXRQQQHSYYYQXYLJTYXFSFSLLGNQCYHYCWFHCCCFXPYLYPLLZYXXXXXKQHHXSHJZCFZSCZJXCPZWHHHHHAPYLQALPQAFYHXDYLUKMZQGGGDDESRNNZLTZGCHYPPYSQJJHCLLJTOLNJPZLJLHYMHEYDYDSQYCDDHGZUNDZCLZYZLLZNTNYZGSLHSLPJJBDGWXPCDUTJCKLKCLWKLLCASSTKZZDNQNTTLYYZSSYSSZZRYLJQKCQDHHCRXRZYDGRGCWCGZQFFFPPJFZYNAKRGYWYQPQXXFKJTSZZXSWZDDFBBXTBGTZKZNPZZPZXZPJSZBMQHKCYXYLDKLJNYPKYGHGDZJXXEAHPNZKZTZCMXCXMMJXNKSZQNMNLWBWWXJKYHCPSTMCSQTZJYXTPCTPDTNNPGLLLZSJLSPBLPLQHDTNJNLYYRSZFFJFQWDPHZDWMRZCCLODAXNSSNYZRESTYJWJYJDBCFXNMWTTBYLWSTSZGYBLJPXGLBOCLHPCBJLTMXZLJYLZXCLTPNCLCKXTPZJSWCYXSFYSZDKNTLBYJCYJLLSTGQCBXRYZXBXKLYLHZLQZLNZCXWJZLJZJNCJHXMNZZGJZZXTZJXYCYYCXXJYYXJJXSSSJSTSSTTPPGQTCSXWZDCSYFPTFBFHFBBLZJCLZZDBXGCXLQPXKFZFLSYLTUWBMQJHSZBMDDBCYSCCLDXYCDDQLYJJWMQLLCSGLJJSYFPYYCCYLTJANTJJPWYCMMGQYYSXDXQMZHSZXPFTWWZQSWQRFKJLZJQQYFBRXJHHFWJJZYQAZMYFRHCYYBYQWLPEXCCZSTYRLTTDMQLYKMBBGMYYJPRKZNPBSXYXBHYZDJDNGHPMFSGMWFZMFQMMBCMZZCJJLCNUXYQLMLRYGQZCYXZLWJGCJCGGMCJNFYZZJHYCPRRCMTZQZXHFQGTJXCCJEAQCRJYHPLQLSZDJRBCQHQDYRHYLYXJSYMHZYDWLDFRYHBPYDTSSCNWBXGLPZMLZZTQSSCPJMXXYCSJYTYCGHYCJWYRXXLFEMWJNMKLLSWTXHYYYNCMMCWJDQDJZGLLJWJRKHPZGGFLCCSCZMCBLTBHBQJXQDSPDJZZGKGLFQYWBZYZJLTSTDHQHCTCBCHFLQMPWDSHYYTQWCNZZJTLBYMBPDYYYXSQKXWYYFLXXNCWCXYPMAELYKKJMZZZBRXYYQJFLJPFHHHYTZZXSGQQMHSPGDZQWBWPJHZJDYSCQWZKTXXSQLZYYMYSDZGRXCKKUJLWPYSYSCSYZLRMLQSYLJXBCXTLWDQZPCYCYKPPPNSXFYZJJRCEMHSZMSXLXGLRWGCSTLRSXBZGBZGZTCPLUJLSLYLYMTXMTZPALZXPXJTJWTCYYZLBLXBZLQMYLXPGHDSLSSDMXMBDZZSXWHAMLCZCPJMCNHJYSNSYGCHSKQMZZQDLLKABLWJXSFMOCDXJRRLYQZKJMYBYQLYHETFJZFRFKSRYXFJTWDSXXSYSQJYSLYXWJHSNLXYYXHBHAWHHJZXWMYLJCSSLKYDZTXBZSYFDXGXZJKHSXXYBSSXDPYNZWRPTQZCZENYGCXQFJYKJBZMLJCMQQXUOXSLYXXLYLLJDZBTYMHPFSTTQQWLHOKYBLZZALZXQLHZWRRQHLSTMYPYXJJXMQSJFNBXYXYJXXYQYLTHYLQYFMLKLJTMLLHSZWKZHLJMLHLJKLJSTLQXYLMBHHLNLZXQJHXCFXXLHYHJJGBYZZKBXSCQDJQDSUJZYYHZHHMGSXCSYMXFEBCQWWRBPYYJQTYZCYQYQQZYHMWFFHGZFRJFCDPXNTQYZPDYKHJLFRZXPPXZDBBGZQSTLGDGYLCQMLCHHMFYWLZYXKJLYPQHSYWMQQGQZMLZJNSQXJQSYJYCBEHSXFSZPXZWFLLBCYYJDYTDTHWZSFJMQQYJLMQXXLLDTTKHHYBFPWTYYSQQWNQWLGWDEBZWCMYGCULKJXTMXMYJSXHYBRWFYMWFRXYQMXYSZTZZTFYKMLDHQDXWYYNLCRYJBLPSXCXYWLSPRRJWXHQYPHTYDNXHHMMYWYTZCSQMTSSCCDALWZTCPQPYJLLQZYJSWXMZZMMYLMXCLMXCZMXMZSQTZPPQQBLPGXQZHFLJJHYTJSRXWZXSCCDLXTYJDCQJXSLQYCLZXLZZXMXQRJMHRHZJBHMFLJLMLCLQNLDXZLLLPYPSYJYSXCQQDCMQJZZXHNPNXZMEKMXHYKYQLXSXTXJYYHWDCWDZHQYYBGYBCYSCFGPSJNZDYZZJZXRZRQJJYMCANYRJTLDPPYZBSTJKXXZYPFDWFGZZRPYMTNGXZQBYXNBUFNQKRJQZMJEGRZGYCLKXZDSKKNSXKCLJSPJYYZLQQJYBZSSQLLLKJXTBKTYLCCDDBLSPPFYLGYDTZJYQGGKQTTFZXBDKTYYHYBBFYTYYBCLPDYTGDHRYRNJSPTCSNYJQHKLLLZSLYDXXWBCJQSPXBPJZJCJDZFFXXBRMLAZHCSNDLBJDSZBLPRZTSWSBXBCLLXXLZDJZSJPYLYXXYFTFFFBHJJXGBYXJPMMMPSSJZJMTLYZJXSWXTYLEDQPJMYGQZJGDJLQJWJQLLSJGJGYGMSCLJJXDTYGJQJQJCJZCJGDZZSXQGSJGGCXHQXSNQLZZBXHSGZXCXYLJXYXYYDFQQJHJFXDHCTXJYRXYSQTJXYEFYYSSYYJXNCYZXFXMSYSZXYYSCHSHXZZZGZZZGFJDLTYLNPZGYJYZYYQZPBXQBDZTZCZYXXYHHSQXSHDHGQHJHGYWSZTMZMLHYXGEBTYLZKQWYTJZRCLEKYSTDBCYKQQSAYXCJXWWGSBHJYZYDHCSJKQCXSWXFLTYNYZPZCCZJQTZWJQDZZZQZLJJXLSBHPYXXPSXSHHEZTXFPTLQYZZXHYTXNCFZYYHXGNXMYWXTZSJPTHHGYMXMXQZXTSBCZYJYXXTYYZYPCQLMMSZMJZZLLZXGXZAAJZYXJMZXWDXZSXZDZXLEYJJZQBHZWZZZQTZPSXZTDSXJJJZNYAZPHXYYSRNQDTHZHYYKYJHDZXZLSWCLYBZYECWCYCRYLCXNHZYDZYDYJDFRJJHTRSQTXYXJRJHOJYNXELXSFSFJZGHPZSXZSZDZCQZBYYKLSGSJHCZSHDGQGXYZGXCHXZJWYQWGYHKSSEQZZNDZFKWYSSTCLZSTSYMCDHJXXYWEYXCZAYDMPXMDSXYBSQMJMZJMTZQLPJYQZCGQHXJHHLXXHLHDLDJQCLDWBSXFZZYYSCHTYTYYBHECXHYKGJPXHHYZJFXHWHBDZFYZBCAPNPGNYDMSXHMMMMAMYNBYJTMPXYYMCTHJBZYFCGTYHWPHFTWZZEZSBZEGPFMTSKFTYCMHFLLHGPZJXZJGZJYXZSBBQSCZZLZCCSTPGXMJSFTCCZJZDJXCYBZLFCJSYZFGSZLYBCWZZBYZDZYPSWYJZXZBDSYUXLZZBZFYGCZXBZHZFTPBGZGEJBSTGKDMFHYZZJHZLLZZGJQZLSFDJSSCBZGPDLFZFZSZYZYZSYGCXSNXXCHCZXTZZLJFZGQSQYXZJQDCCZTQCDXZJYQJQCHXZTDLGSCXZSYQJQTZWLQDQZTQCHQQJZYEZZZPBWKDJFCJPZTYPQYQTTYNLMBDKTJZPQZQZZFPZSBNJLGYJDXJDZZKZGQKXDLPZJTCJDQBXDJQJSTCKNXBXZMSLYJCQMTJQWWCJQNJNLLLHJCWQTBZQYDZCZPZZDZYDDCYZZZCCJTTJFZDPRRTZTJDCQTQZDTJNPLZBCLLCTZSXKJZQZPZLBZRBTJDCXFCZDBCCJJLTQQPLDCGZDBBZJCQDCJWYNLLZYZCCDWLLXWZLXRXNTQQCZXKQLSGDFQTDDGLRLAJJTKUYMKQLLTZYTDYYCZGJWYXDXFRSKSTQTENQMRKQZHHQKDLDAZFKYPBGGPZREBZZYKZZSPEGJXGYKQZZZSLYSYYYZWFQZYLZZLZHWCHKYPQGNPGBLPLRRJYXCCSYYHSFZFYBZYYTGZXYLXCZWXXZJZBLFFLGSKHYJZEYJHLPLLLLCZGXDRZELRHGKLZZYHZLYQSZZJZQLJZFLNBHGWLCZCFJYSPYXZLZLXGCCPZBLLCYBBBBUBBCBPCRNNZCZYRBFSRLDCGQYYQXYGMQZWTZYTYJXYFWTEHZZJYWLCCNTZYJJZDEDPZDZTSYQJHDYMBJNYJZLXTSSTPHNDJXXBYXQTZQDDTJTDYYTGWSCSZQFLSHLGLBCZPHDLYZJYCKWTYTYLBNYTSDSYCCTYSZYYEBHEXHQDTWNYGYCLXTSZYSTQMYGZAZCCSZZDSLZCLZRQXYYELJSBYMXSXZTEMBBLLYYLLYTDQYSHYMRQWKFKBFXNXSBYCHXBWJYHTQBPBSBWDZYLKGZSKYHXQZJXHXJXGNLJKZLYYCDXLFYFGHLJGJYBXQLYBXQPQGZTZPLNCYPXDJYQYDYMRBESJYYHKXXSTMXRCZZYWXYQYBMCLLYZHQYZWQXDBXBZWZMSLPDMYSKFMZKLZCYQYCZLQXFZZYDQZPZYGYJYZMZXDZFYFYTTQTZHGSPCZMLCCYTZXJCYTJMKSLPZHYSNZLLYTPZCTZZCKTXDHXXTQCYFKSMQCCYYAZHTJPCYLZLYJBJXTPNYLJYYNRXSYLMMNXJSMYBCSYSYLZYLXJJQYLDZLPQBFZZBLFNDXQKCZFYWHGQMRDSXYCYTXNQQJZYYPFZXDYZFPRXEJDGYQBXRCNFYYQPGHYJDYZXGRHTKYLNWDZNTSMPKLBTHBPYSZBZTJZSZZJTYYXZPHSSZZBZCZPTQFZMYFLYPYBBJQXZMXXDJMTSYSKKBJZXHJCKLPSMKYJZCXTMLJYXRZZQSLXXQPYZXMKYXXXJCLJPRMYYGADYSKQLSNDHYZKQXZYZTCGHZTLMLWZYBWSYCTBHJHJFCWZTXWYTKZLXQSHLYJZJXTMPLPYCGLTBZZTLZJCYJGDTCLKLPLLQPJMZPAPXYZLKKTKDZCZZBNZDYDYQZJYJGMCTXLTGXSZLMLHBGLKFWNWZHDXUHLFMKYSLGXDTWWFRJEJZTZHYDXYKSHWFZCQSHKTMQQHTZHYMJDJSKHXZJZBZZXYMPAGQMSTPXLSKLZYNWRTSQLSZBPSPSGZWYHTLKSSSWHZZLYYTNXJGMJSZSUFWNLSOZTXGXLSAMMLBWLDSZYLAKQCQCTMYCFJBSLXCLZZCLXXKSBZQCLHJPSQPLSXXCKSLNHPSFQQYTXYJZLQLDXZQJZDYYDJNZPTUZDSKJFSLJHYLZSQZLBTXYDGTQFDBYAZXDZHZJNHHQBYKNXJJQCZMLLJZKSPLDYCLBBLXKLELXJLBQYCXJXGCNLCQPLZLZYJTZLJGYZDZPLTQCSXFDMNYCXGBTJDCZNBGBQYQJWGKFHTNPYQZQGBKPBBYZMTJDYTBLSQMPSXTBNPDXKLEMYYCJYNZCTLDYKZZXDDXHQSHDGMZSJYCCTAYRZLPYLTLKXSLZCGGEXCLFXLKJRTLQJAQZNCMBYDKKCXGLCZJZXJHPTDJJMZQYKQSECQZDSHHADMLZFMMZBGNTJNNLGBYJBRBTMLBYJDZXLCJLPLDLPCQDHLXZLYCBLCXZZJADJLNZMMSSSMYBHBSQKBHRSXXJMXSDZNZPXLGBRHWGGFCXGMSKLLTSJYYCQLTSKYWYYHYWXBXQYWPYWYKQLSQPTNTKHQCWDQKTWPXXHCPTHTWUMSSYHBWCRWXHJMKMZNGWTMLKFGHKJYLSYYCXWHYECLQHKQHTTQKHFZLDXQWYZYYDESBPKYRZPJFYYZJCEQDZZDLATZBBFJLLCXDLMJSSXEGYGSJQXCWBXSSZPDYZCXDNYXPPZYDLYJCZPLTXLSXYZYRXCYYYDYLWWNZSAHJSYQYHGYWWAXTJZDAXYSRLTDPSSYYFNEJDXYZHLXLLLZQZSJNYQYQQXYJGHZGZCYJCHZLYCDSHWSHJZYJXCLLNXZJJYYXNFXMWFPYLCYLLABWDDHWDXJMCXZTZPMLQZHSFHZYNZTLLDYWLSLXHYMMYLMBWWKYXYADTXYLLDJPYBPWUXJMWMLLSAFDLLYFLBHHHBQQLTZJCQJLDJTFFKMMMBYTHYGDCQRDDWRQJXNBYSNWZDBYYTBJHPYBYTTJXAAHGQDQTMYSTQXKBTZPKJLZRBEQQSSMJJBDJOTGTBXPGBKTLHQXJJJCTHXQDWJLWRFWQGWSHCKRYSWGFTGYGBXSDWDWRFHWYTJJXXXJYZYSLPYYYPAYXHYDQKXSHXYXGSKQHYWFDDDPPLCJLQQEEWXKSYYKDYPLTJTHKJLTCYYHHJTTPLTZZCDLTHQKZXQYSTEEYWYYZYXXYYSTTJKLLPZMCYHQGXYHSRMBXPLLNQYDQHXSXXWGDQBSHYLLPJJJTHYJKYPPTHYYKTYEZYENMDSHLCRPQFDGFXZPSFTLJXXJBSWYYSKSFLXLPPLBBBLBSFXFYZBSJSSYLPBBFFFFSSCJDSTZSXZRYYSYFFSYZYZBJTBCTSBSDHRTJJBYTCXYJEYLXCBNEBJDSYXYKGSJZBXBYTFZWGENYHHTHZHHXFWGCSTBGXKLSXYWMTMBYXJSTZSCDYQRCYTWXZFHMYMCXLZNSDJTTTXRYCFYJSBSDYERXJLJXBBDEYNJGHXGCKGSCYMBLXJMSZNSKGXFBNBPTHFJAAFXYXFPXMYPQDTZCXZZPXRSYWZDLYBBKTYQPQJPZYPZJZNJPZJLZZFYSBTTSLMPTZRTDXQSJEHBZYLZDHLJSQMLHTXTJECXSLZZSPKTLZKQQYFSYGYWPCPQFHQHYTQXZKRSGTTSQCZLPTXCDYYZXSQZSLXLZMYCPCQBZYXHBSXLZDLTCDXTYLZJYYZPZYZLTXJSJXHLPMYTXCQRBLZSSFJZZTNJYTXMYJHLHPPLCYXQJQQKZZSCPZKSWALQSBLCCZJSXGWWWYGYKTJBBZTDKHXHKGTGPBKQYSLPXPJCKBMLLXDZSTBKLGGQKQLSBKKTFXRMDKBFTPZFRTBBRFERQGXYJPZSSTLBZTPSZQZSJDHLJQLZBPMSMMSXLQQNHKNBLRDDNXXDHDDJCYYGYLXGZLXSYGMQQGKHBPMXYXLYTQWLWGCPBMQXCYZYDRJBHTDJYHQSHTMJSBYPLWHLZFFNYPMHXXHPLTBQPFBJWQDBYGPNZTPFZJGSDDTQSHZEAWZZYLLTYYBWJKXXGHLFKXDJTMSZSQYNZGGSWQSPHTLSSKMCLZXYSZQZXNCJDQGZDLFNYKLJCJLLZLMZZNHYDSSHTHZZLZZBBHQZWWYCRZHLYQQJBEYFXXXWHSRXWQHWPSLMSSKZTTYGYQQWRSLALHMJTQJSMXQBJJZJXZYZKXBYQXBJXSHZTSFJLXMXZXFGHKZSZGGYLCLSARJYHSLLLMZXELGLXYDJYTLFBHBPNLYZFBBHPTGJKWETZHKJJXZXXGLLJLSTGSHJJYQLQZFKCGNNDJSSZFDBCTWWSEQFHQJBSAQTGYPQLBXBMMYWXGSLZHGLZGQYFLZBYFZJFRYSFMBYZHQGFWZSYFYJJPHZBYYZFFWODGRLMFTWLBZGYCQXCDJYGZYYYYTYTYDWEGAZYHXJLZYYHLRMGRXXZCLHNELJJTJTPWJYBJJBXJJTJTEEKHWSLJPLPSFYZPQQBDLQJJTYYQLYZKDKSQJYYQZLDQTGJQYZJSUCMRYQTHTEJMFCTYHYPKMHYZWJDQFHYYXWSHCTXRLJHQXHCCYYYJLTKTTYTMXGTCJTZAYYOCZLYLBSZYWJYTSJYHBYSHFJLYGJXXTMZYYLTXXYPZLXYJZYZYYPNHMYMDYYLBLHLSYYQQLLNJJYMSOYQBZGDLYXYLCQYXTSZEGXHZGLHWBLJHEYXTWQMAKBPQCGYSHHEGQCMWYYWLJYJHYYZLLJJYLHZYHMGSLJLJXCJJYCLYCJPCPZJZJMMYLCQLNQLJQJSXYJMLSZLJQLYCMMHCFMMFPQQMFYLQMCFFQMMMMHMZNFHHJGTTHHKHSLNCHHYQDXTMMQDCYZYXYQMYQYLTDCYYYZAZZCYMZYDLZFFFMMYCQZWZZMABTBYZTDMNZZGGDFTYPCGQYTTSSFFWFDTZQSSYSTWXJHXYTSXXYLBYQHWWKXHZXWZNNZZJZJJQJCCCHYYXBZXZCYZTLLCQXYNJYCYYCYNZZQYYYEWYCZDCJYCCHYJLBTZYYCQWMPWPYMLGKDLDLGKQQBGYCHJXY"},22:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(0),l=r(i),s=n(8),u=r(s),c=n(23),d=r(c),f="undefined"!==typeof window&&"undefined"!==typeof window.document,p=function e(){var t=this;if(a(this,e),this._bindNotify=function(e){t.notifyHandler=e},this._bindGetToasts=function(e){t.getToastsHandler=e},this._bindCloseAll=function(e){t.closeAllHandler=e},this.getToasts=function(){return t.getToastsHandler()},this.closeAll=function(){return t.closeAllHandler()},this.notify=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.notifyHandler(e,o({},n,{intent:"none"}))},this.success=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.notifyHandler(e,o({},n,{intent:"success"}))},this.warning=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.notifyHandler(e,o({},n,{intent:"warning"}))},this.danger=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.notifyHandler(e,o({},n,{intent:"danger"}))},f){var n=document.createElement("div");n.setAttribute("data-evergreen-toaster-container",""),document.body.appendChild(n),u.default.render(l.default.createElement(d.default,{bindNotify:this._bindNotify,bindGetToasts:this._bindGetToasts,bindCloseAll:this._bindCloseAll}),n)}};t.default=p},225:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(2),p={onCloseSidePanel:d.default.func,showCloseSidePanelIcon:d.default.bool},m=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.closeSide=function(){r.props.onCloseSidePanel()},i=n,o(r,i)}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"top-logo"},u.default.createElement("a",{href:f.siteRoot,id:"logo"},u.default.createElement("img",{src:f.mediaUrl+f.logoPath,height:f.logoHeight,width:f.logoWidth,title:f.siteTitle,alt:"logo"})),this.props.showCloseSidePanelIcon&&u.default.createElement("a",{className:"sf2-icon-x1 sf-popover-close side-panel-close action-icon d-md-none",onClick:this.closeSide,title:"Close","aria-label":"Close"}))}}]),t}(u.default.Component);m.propTypes=p,t.default=m},23:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(0),f=r(d),p=n(14),m=n(1),g=r(m),h=n(24),Y=r(h),S=(0,p.css)({maxWidth:560,margin:"0 auto",top:0,left:0,right:0,position:"fixed",zIndex:999999}),Z=function(e){return Object.hasOwnProperty.call(e,"id")},L=function(e){function t(e,n){i(this,t);var r=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.getToasts=function(){return r.state.toasts},r.closeAll=function(){r.getToasts().forEach(function(e){return e.close()})},r.notify=function(e,t){if(Z(t)){var n=!0,a=!1,i=void 0;try{for(var l,s=r.state.toasts[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var u=l.value;String(u.id).startsWith(t.id)&&r.closeToast(u.id)}}catch(e){a=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}}var c=r.createToastInstance(e,t);return r.setState(function(e){return{toasts:[c].concat(o(e.toasts))}}),c},r.createToastInstance=function(e,n){var a=++t.idCounter,o=Z(n)?n.id+"-"+a:a;return{id:o,title:e,description:n.description,hasCloseButton:n.hasCloseButton||!0,duration:n.duration||2,close:function(){return r.closeToast(o)},intent:n.intent}},r.closeToast=function(e){r.setState(function(t){return{toasts:t.toasts.map(function(t){return t.id===e?u({},t,{isShown:!1}):t})}})},r.removeToast=function(e){r.setState(function(t){return{toasts:t.toasts.filter(function(t){return t.id!==e})}})},e.bindNotify(r.notify),e.bindGetToasts(r.getToasts),e.bindCloseAll(r.closeAll),r.state={toasts:[]},r}return s(t,e),c(t,[{key:"render",value:function(){var e=this;return f.default.createElement("span",{className:S},this.state.toasts.map(function(t){var n=t.id,r=t.description,o=a(t,["id","description"]);return f.default.createElement(Y.default,u({key:n,onRemove:function(){return e.removeToast(n)}},o),r)}))}}]),t}(f.default.PureComponent);L.propTypes={bindNotify:g.default.func.isRequired,bindGetToasts:g.default.func.isRequired,bindCloseAll:g.default.func.isRequired},L.idCounter=0,t.default=L},2389:function(e,t,n){n(20),e.exports=n(2390)},2390:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(8),d=r(c),f=n(27),p=n(2),m=n(2391),g=r(m),h=n(2392),Y=r(h),S=n(2400),Z=r(S),L=n(2404),b=r(L),C=n(2405),w=r(C),D=n(2406),y=r(D),v=n(2408),E=r(v),M=n(2409),X=r(M),J=n(2410),T=r(J),P=n(2411),_=r(P),O=n(2413),Q=r(O),H=n(2414),N=r(H),F=n(2416),R=r(F),B=n(2417),G=r(B),x=n(2418),W=r(x),I=n(2423),k=r(I),K=n(2424),A=r(K),j=n(2426),U=r(j),q=n(2429),z=r(q);n(184),n(185),n(186),n(187),n(94);var V=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onCloseSidePanel=function(){n.setState({isSidePanelClosed:!n.state.isSidePanelClosed})},n.tabItemClick=function(e){n.setState({currentTab:e})},n.state={isSidePanelClosed:!1,currentTab:"users"},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=window.location.href.split("/"),t=e[e.length-2];-1!=location.href.indexOf(p.siteRoot+"org/useradmin")&&(t="users"),-1!=location.href.indexOf(p.siteRoot+"org/groupadmin")&&(t="groupadmin"),-1!=location.href.indexOf(p.siteRoot+"org/departmentadmin")&&(t="departmentadmin"),this.setState({currentTab:t})}},{key:"render",value:function(){var e=this.state,t=e.isSidePanelClosed,n=e.currentTab;return u.default.createElement("div",{id:"main"},u.default.createElement(g.default,{isSidePanelClosed:t,onCloseSidePanel:this.onCloseSidePanel,currentTab:n,tabItemClick:this.tabItemClick}),u.default.createElement("div",{className:"main-panel o-hidden"},u.default.createElement(f.Router,{className:"reach-router"},u.default.createElement(Q.default,{path:p.siteRoot+"org/orgmanage"}),u.default.createElement(Y.default,{path:p.siteRoot+"org/useradmin",currentTab:n,tabItemClick:this.tabItemClick}),u.default.createElement(Z.default,{path:p.siteRoot+"org/useradmin/info/:email/"}),u.default.createElement(b.default,{path:p.siteRoot+"org/useradmin/info/:email/repos/"}),u.default.createElement(w.default,{path:p.siteRoot+"org/useradmin/info/:email/shared-repos/"}),u.default.createElement(y.default,{path:p.siteRoot+"org/groupadmin"}),u.default.createElement(E.default,{path:p.siteRoot+"org/groupadmin/:groupID/"}),u.default.createElement(X.default,{path:p.siteRoot+"org/groupadmin/:groupID/repos/"}),u.default.createElement(T.default,{path:p.siteRoot+"org/groupadmin/:groupID/members/"}),u.default.createElement(_.default,{path:p.siteRoot+"org/repoadmin"}),u.default.createElement(N.default,{path:p.siteRoot+"org/publinkadmin"}),u.default.createElement(R.default,{path:p.siteRoot+"org/departmentadmin"},u.default.createElement(G.default,{path:"/"}),u.default.createElement(W.default,{path:"groups/:groupID"})),u.default.createElement(k.default,{path:p.siteRoot+"org/logadmin",currentTab:n,tabItemClick:this.tabItemClick},u.default.createElement(A.default,{path:"/"}),u.default.createElement(U.default,{path:"file-update"}),u.default.createElement(z.default,{path:"perm-audit"})))))}}]),t}(u.default.Component);d.default.render(u.default.createElement(V,null),document.getElementById("wrapper"))},2391:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(27),p=n(225),m=r(p),g=n(2),h={isSidePanelClosed:d.default.bool.isRequired,onCloseSidePanel:d.default.func.isRequired,currentTab:d.default.string.isRequired,tabItemClick:d.default.func.isRequired},Y=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.getActiveClass=function(e){return r.props.currentTab==e?"active":""},r.tabItemClick=function(e){r.props.tabItemClick(e)},i=n,o(r,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:"side-panel "+(this.props.isSidePanelClosed?"":"left-zero")},u.default.createElement("div",{className:"side-panel-north"},u.default.createElement(m.default,{onCloseSidePanel:this.props.onCloseSidePanel})),u.default.createElement("div",{className:"side-panel-center"},u.default.createElement("div",{className:"side-nav"},u.default.createElement("div",{className:"side-nav-con"},u.default.createElement("h3",{className:"sf-heading",style:{color:"#f7941d"}},(0,g.gettext)("Admin")),u.default.createElement("ul",{className:"nav nav-pills flex-column nav-container"},u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("orgmanage"),to:g.siteRoot+"org/orgmanage/",onClick:function(){return e.tabItemClick("orgmanage")}},u.default.createElement("span",{className:"sf2-icon-info"}),u.default.createElement("span",{className:"nav-text"},(0,g.gettext)("Info")))),u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("repoadmin"),to:g.siteRoot+"org/repoadmin/",onClick:function(){return e.tabItemClick("repoadmin")}},u.default.createElement("span",{className:"sf2-icon-library"}),u.default.createElement("span",{className:"nav-text"},(0,g.gettext)("Libraries")))),u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+(this.getActiveClass("users")||this.getActiveClass("admins")),to:g.siteRoot+"org/useradmin/",onClick:function(){return e.tabItemClick("users")}},u.default.createElement("span",{className:"sf2-icon-user"}),u.default.createElement("span",{className:"nav-text"},(0,g.gettext)("Users")))),u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("groupadmin"),to:g.siteRoot+"org/groupadmin/",onClick:function(){return e.tabItemClick("groupadmin")}},u.default.createElement("span",{className:"sf2-icon-group"}),u.default.createElement("span",{className:"nav-text"},(0,g.gettext)("Groups")))),u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("departmentadmin"),to:g.siteRoot+"org/departmentadmin/",onClick:function(){return e.tabItemClick("departmentadmin")}},u.default.createElement("span",{className:"sf2-icon-organization"}),u.default.createElement("span",{className:"nav-text"},(0,g.gettext)("Departments")))),u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("publinkadmin"),to:g.siteRoot+"org/publinkadmin/",onClick:function(){return e.tabItemClick("publinkadmin")}},u.default.createElement("span",{className:"sf2-icon-link"}),u.default.createElement("span",{className:"nav-text"},(0,g.gettext)("Links")))),u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+(this.getActiveClass("logadmin")||this.getActiveClass("file-update")||this.getActiveClass("perm-audit")),to:g.siteRoot+"org/logadmin/",onClick:function(){return e.tabItemClick("logadmin")}},u.default.createElement("span",{className:"sf2-icon-clock"}),u.default.createElement("span",{className:"nav-text"},(0,g.gettext)("Logs")))))))))}}]),t}(u.default.Component);Y.propTypes=h,t.default=Y},2392:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(2393),p=r(f),m=n(2395),g=r(m),h=n(207),Y=r(h),S=n(2397),Z=r(S),L=n(16),b=r(L),C=n(2398),w=r(C),D=n(2399),y=r(D),v=n(5),E=r(v),M=n(4),X=n(1368),J=r(X),T=n(2),P=n(3),_=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tabItemClick=function(e){n.props.tabItemClick(e)},n.toggleAddOrgAdmin=function(){n.setState({isShowAddOrgAdminDialog:!n.state.isShowAddOrgAdminDialog})},n.toggleAddOrgUser=function(){n.setState({isShowAddOrgUserDialog:!n.state.isShowAddOrgUserDialog})},n.toggleInviteUserDialog=function(){n.setState({isInviteUserDialogOpen:!n.state.isInviteUserDialogOpen})},n.initOrgUsersData=function(e){M.seafileAPI.orgAdminListOrgUsers(T.orgID,"",e).then(function(e){var t=e.data.user_list.map(function(e){return new J.default(e)});n.setState({orgUsers:t,pageNext:e.data.page_next,page:e.data.page})}).catch(function(e){var t=P.Utils.getErrorMsg(e);E.default.danger(t)})},n.addOrgUser=function(e,t,r){M.seafileAPI.orgAdminAddOrgUser(T.orgID,e,t,r).then(function(t){var r=new J.default(t.data);n.state.orgUsers.unshift(r),n.setState({orgUsers:n.state.orgUsers}),n.toggleAddOrgUser();var a=(0,T.gettext)("successfully added user %s.");a=a.replace("%s",e),E.default.success(a)}).catch(function(e){var t=P.Utils.getErrorMsg(e);E.default.danger(t),n.toggleAddOrgUser()})},n.toggleOrgUsersDelete=function(e){M.seafileAPI.orgAdminDeleteOrgUser(T.orgID,e).then(function(t){var r=n.state.orgUsers.filter(function(t){return t.email!=e});n.setState({orgUsers:r});var a=(0,T.gettext)("Successfully deleted %s");a=a.replace("%s",e),E.default.success(a)}).catch(function(e){var t=P.Utils.getErrorMsg(e);E.default.danger(t)})},n.initOrgAdmin=function(){M.seafileAPI.orgAdminListOrgUsers(T.orgID,!0).then(function(e){var t=e.data.user_list.map(function(e){return new J.default(e)});n.setState({orgAdminUsers:t})}).catch(function(e){var t=P.Utils.getErrorMsg(e);E.default.danger(t)})},n.toggleOrgAdminDelete=function(e){M.seafileAPI.orgAdminDeleteOrgUser(T.orgID,e).then(function(t){n.setState({orgAdminUsers:n.state.orgAdminUsers.filter(function(t){return t.email!=e})});var r=(0,T.gettext)("Successfully deleted %s");r=r.replace("%s",e),E.default.success(r)}).catch(function(e){var t=P.Utils.getErrorMsg(e);E.default.danger(t)})},n.toggleRevokeAdmin=function(e){M.seafileAPI.orgAdminSetOrgAdmin(T.orgID,e,!1).then(function(t){n.setState({orgAdminUsers:n.state.orgAdminUsers.filter(function(t){return t.email!=e})});var r=(0,T.gettext)("Successfully revoke the admin permission of %s");r=r.replace("%s",t.data.name),E.default.success(r)}).catch(function(e){var t=P.Utils.getErrorMsg(e);E.default.danger(t)})},n.onAddedOrgAdmin=function(e){n.state.orgAdminUsers.unshift(e),n.setState({orgAdminUsers:n.state.orgAdminUsers});var t=(0,T.gettext)("Successfully set %s as admin.");t=t.replace("%s",e.email),E.default.success(t),n.toggleAddOrgAdmin()},n.state={orgAdminUsers:[],isShowAddOrgAdminDialog:!1,orgUsers:[],page:1,pageNext:!1,isShowAddOrgUserDialog:!1,isInviteUserDialogOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t="btn btn-secondary operation-item",n=void 0;return"admins"===this.props.currentTab?n=u.default.createElement(s.Fragment,null,u.default.createElement("button",{className:t,title:(0,T.gettext)("Add admin"),onClick:this.toggleAddOrgAdmin},u.default.createElement("i",{className:"fas fa-plus-square text-secondary mr-1"}),(0,T.gettext)("Add admin")),this.state.isShowAddOrgAdminDialog&&u.default.createElement(b.default,null,u.default.createElement(Z.default,{toggle:this.toggleAddOrgAdmin,onAddedOrgAdmin:this.onAddedOrgAdmin}))):"users"===this.props.currentTab&&(n=u.default.createElement(s.Fragment,null,u.default.createElement("button",{className:t,title:(0,T.gettext)("Add user"),onClick:this.toggleAddOrgUser},u.default.createElement("i",{className:"fas fa-plus-square text-secondary mr-1"}),(0,T.gettext)("Add user")),T.invitationLink&&u.default.createElement("button",{className:t,title:(0,T.gettext)("Invite user"),onClick:this.toggleInviteUserDialog},u.default.createElement("i",{className:"fas fa-plus-square text-secondary mr-1"}),(0,T.gettext)("Invite user")),this.state.isShowAddOrgUserDialog&&u.default.createElement(b.default,null,u.default.createElement(w.default,{handleSubmit:this.addOrgUser,toggle:this.toggleAddOrgUser})),this.state.isInviteUserDialogOpen&&u.default.createElement(b.default,null,u.default.createElement(y.default,{invitationLink:T.invitationLink,toggle:this.toggleInviteUserDialog})))),u.default.createElement(s.Fragment,null,u.default.createElement(Y.default,{children:n}),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement("div",{className:"cur-view-path org-user-nav"},u.default.createElement("ul",{className:"nav"},u.default.createElement("li",{className:"nav-item",onClick:function(){return e.tabItemClick("users")}},u.default.createElement("span",{className:"nav-link "+("users"===this.props.currentTab?"active":"")},(0,T.gettext)("All"))),u.default.createElement("li",{className:"nav-item",onClick:function(){return e.tabItemClick("admins")}},u.default.createElement("span",{className:"nav-link "+("admins"===this.props.currentTab?"active":"")},(0,T.gettext)("Admin"))))),"users"===this.props.currentTab&&u.default.createElement(p.default,{currentTab:this.props.currentTab,initOrgUsersData:this.initOrgUsersData,toggleDelete:this.toggleOrgUsersDelete,orgUsers:this.state.orgUsers,page:this.state.page,pageNext:this.state.pageNext}),"admins"===this.props.currentTab&&u.default.createElement(g.default,{currentTab:this.props.currentTab,toggleDelete:this.toggleOrgAdminDelete,toggleRevokeAdmin:this.toggleRevokeAdmin,orgAdminUsers:this.state.orgAdminUsers,initOrgAdmin:this.initOrgAdmin}))))}}]),t}(s.Component),O={currentTab:d.default.string.isRequired,tabItemClick:d.default.func.isRequired};_.propTypes=O,t.default=_},2393:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(2),p=n(1367),m=r(p),g={currentTab:d.default.string.isRequired,initOrgUsersData:d.default.func.isRequired,toggleDelete:d.default.func.isRequired,orgUsers:d.default.array.isRequired,page:d.default.number.isRequired,pageNext:d.default.bool.isRequired},h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFreezedItem=function(){n.setState({isItemFreezed:!0})},n.onUnfreezedItem=function(){n.setState({isItemFreezed:!1})},n.onChangePageNum=function(e,t){e.preventDefault();var r=n.props.page;1==t?r+=1:r-=1,n.props.initOrgUsersData(r)},n.state={isItemFreezed:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.initOrgUsersData(this.props.page)}},{key:"render",value:function(){var e=this,t=this.props,n=t.orgUsers,r=t.page,a=t.pageNext;return u.default.createElement("div",{className:"cur-view-content"},u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"30%"},(0,f.gettext)("Name")),u.default.createElement("th",{width:"15%"},(0,f.gettext)("Status")),u.default.createElement("th",{width:"15%"},(0,f.gettext)("Space Used")),u.default.createElement("th",{width:"20%"},(0,f.gettext)("Create At / Last Login")),u.default.createElement("th",{width:"20%",className:"text-center"},(0,f.gettext)("Operations")))),u.default.createElement("tbody",null,n.map(function(t){return u.default.createElement(m.default,{key:t.id,user:t,currentTab:e.props.currentTab,isItemFreezed:e.state.isItemFreezed,toggleDelete:e.props.toggleDelete,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem})}))),u.default.createElement("div",{className:"paginator"},1!=r&&u.default.createElement("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,-1)}},(0,f.gettext)("Previous")),1!=r&&a&&u.default.createElement("span",null," | "),a&&u.default.createElement("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,1)}},(0,f.gettext)("Next"))))}}]),t}(u.default.Component);h.propTypes=g,t.default=h},2394:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(2),p=n(71),m=r(p),g={isTextMode:d.default.bool.isRequired,isEditIconShow:d.default.bool.isRequired,statusArray:d.default.array.isRequired,currentStatus:d.default.string.isRequired,onStatusChanged:d.default.func.isRequired},h=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.translateStatus=function(e){return"active"===e?(0,f.gettext)("Active"):"inactive"===e?(0,f.gettext)("Inactive"):void 0},i=n,o(r,i)}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(m.default,{isTextMode:this.props.isTextMode,isEditIconShow:this.props.isEditIconShow,options:this.props.statusArray,currentOption:this.props.currentStatus,onOptionChanged:this.props.onStatusChanged,translateOption:this.translateStatus})}}]),t}(u.default.Component);h.propTypes=g,t.default=h},2395:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(2),p=n(1367),m=r(p);n(2396);var g={currentTab:d.default.string.isRequired,toggleDelete:d.default.func.isRequired,toggleRevokeAdmin:d.default.func.isRequired,orgAdminUsers:d.default.array.isRequired,initOrgAdmin:d.default.func.isRequired},h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFreezedItem=function(){n.setState({isItemFreezed:!0})},n.onUnfreezedItem=function(){n.setState({isItemFreezed:!1})},n.state={isItemFreezed:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.initOrgAdmin()}},{key:"render",value:function(){var e=this,t=this.props.orgAdminUsers;return u.default.createElement("div",{className:"cur-view-content"},u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"30%"},(0,f.gettext)("Name")),u.default.createElement("th",{width:"15%"},(0,f.gettext)("Status")),u.default.createElement("th",{width:"15%"},(0,f.gettext)("Space Used")),u.default.createElement("th",{width:"20%"},(0,f.gettext)("Create At / Last Login")),u.default.createElement("th",{width:"20%",className:"text-center"},(0,f.gettext)("Operations")))),u.default.createElement("tbody",null,t.map(function(t){return u.default.createElement(m.default,{key:t.id,user:t,currentTab:e.props.currentTab,isItemFreezed:e.state.isItemFreezed,toggleDelete:e.props.toggleDelete,toggleRevokeAdmin:e.props.toggleRevokeAdmin,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem})}))))}}]),t}(u.default.Component);h.propTypes=g,t.default=h},2396:function(e,t){},2397:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(3),g=n(5),h=r(g),Y=n(46),S=r(Y),Z=n(4),L=n(1368),b=r(L),C={toggle:d.default.func.isRequired,onAddedOrgAdmin:d.default.func.isRequired},w=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelectChange=function(e){n.setState({selectedOption:e,errMessage:""}),n.options=[]},n.addOrgAdmin=function(){if(n.state.selectedOption){var e=n.state.selectedOption.email;Z.seafileAPI.orgAdminSetOrgAdmin(p.orgID,e,!0).then(function(e){var t=new b.default(e.data);n.props.onAddedOrgAdmin(t)}).catch(function(e){var t=m.Utils.getErrorMsg(e);h.default.danger(t)})}},n.toggle=function(){n.props.toggle()},n.state={selectedOption:null,errMessage:""},n.options=[],n}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.toggle},u.default.createElement(f.ModalHeader,{toggle:this.toggle},(0,p.gettext)("Add Admins")),u.default.createElement(f.ModalBody,null,u.default.createElement(S.default,{ref:"userSelect",isMulti:!1,className:"reviewer-select",placeholder:(0,p.gettext)("Select a user as admin..."),onSelectChange:this.handleSelectChange}),this.state.errMessage&&u.default.createElement(f.Alert,{color:"danger",className:"mt-2"},this.state.errMessage)),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"secondary",onClick:this.toggle},(0,p.gettext)("Close")),u.default.createElement(f.Button,{color:"primary",onClick:this.addOrgAdmin},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);w.propTypes=C,t.default=w},2398:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m={toggle:d.default.func.isRequired,handleSubmit:d.default.func.isRequired},g=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSubmit=function(){if(n.validateInputParams()){var e=n.state,t=e.email,r=e.name,a=e.password;n.setState({isAddingUser:!0}),n.props.handleSubmit(t,r,a)}},n.handleKeyPress=function(e){e.preventDefault(),"Enter"==e.key&&n.handleSubmit(e)},n.togglePasswordVisible=function(){n.setState({isPasswordVisible:!n.state.isPasswordVisible},function(){n.state.isPasswordVisible?(n.passwdInput.type="password",n.passwdNewInput.type="password"):(n.passwdInput.type="text",n.passwdNewInput.type="text")})},n.generatePassword=function(){var e=Math.random().toString(36).substr(5);n.setState({password:e,passwdnew:e,isPasswordVisible:!1},function(){n.passwdInput.type="text",n.passwdNewInput.type="text"})},n.inputEmail=function(e){var t=e.target.value.trim();n.setState({email:t})},n.inputName=function(e){var t=e.target.value.trim();n.setState({name:t})},n.inputPassword=function(e){var t=e.target.value.trim();n.setState({password:t},function(){n.state.isPasswordVisible&&(n.passwdInput.type="password",n.passwdNewInput.type="password")})},n.inputPasswordNew=function(e){var t=e.target.value.trim();n.setState({passwdnew:t},function(){n.state.isPasswordVisible&&(n.passwdInput.type="password",n.passwdNewInput.type="password")})},n.toggle=function(){n.props.toggle()},n.state={isPasswordVisible:!0,email:"",name:"",password:"",passwdnew:"",errMessage:"",isAddingUser:!1},n.passwdInput=u.default.createRef(),n.passwdNewInput=u.default.createRef(),n}return i(t,e),l(t,[{key:"validateInputParams",value:function(){var e=void 0;if(!this.state.email.length)return e=(0,p.gettext)("email is required"),this.setState({errMessage:e}),!1;if(!this.state.name.length)return e=(0,p.gettext)("Name is required"),this.setState({errMessage:e}),!1;var t=this.state.password,n=this.state.passwdnew;return t.length?n.length?t===n||(e=(0,p.gettext)("Passwords don't match"),this.setState({errMessage:e}),!1):(e=(0,p.gettext)("Please enter the password again"),this.setState({errMessage:e}),!1):(e=(0,p.gettext)("Please enter password"),this.setState({errMessage:e}),!1)}},{key:"render",value:function(){var e=this;return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.toggle},u.default.createElement(f.ModalHeader,{toggle:this.toggle},(0,p.gettext)("Add User")),u.default.createElement(f.ModalBody,null,u.default.createElement(f.Form,null,u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,{for:"userEmail"},(0,p.gettext)("Email")),u.default.createElement(f.Input,{id:"userEmail",value:this.state.email||"",onChange:this.inputEmail})),u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,{for:"userName"},(0,p.gettext)("Name")),u.default.createElement(f.Input,{id:"userName",value:this.state.name||"",onChange:this.inputName})),u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,{for:"userPwd"},(0,p.gettext)("Password")),u.default.createElement(f.InputGroup,{className:"passwd"},u.default.createElement(f.Input,{id:"userPwd",innerRef:function(t){e.passwdInput=t},value:this.state.password||"",onChange:this.inputPassword}),u.default.createElement(f.InputGroupAddon,{addonType:"append"},u.default.createElement(f.Button,{onClick:this.togglePasswordVisible},u.default.createElement("i",{className:"link-operation-icon fas "+(this.state.isPasswordVisible?"fa-eye-slash":"fa-eye")})),u.default.createElement(f.Button,{onClick:this.generatePassword},u.default.createElement("i",{className:"link-operation-icon fas fa-magic"}))))),u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,{for:"userPwdNew"},(0,p.gettext)("Confirm Password")),u.default.createElement(f.Input,{id:"userPwdNew",innerRef:function(t){e.passwdNewInput=t},className:"passwd",value:this.state.passwdnew||"",onChange:this.inputPasswordNew}))),this.state.errMessage&&u.default.createElement(f.Label,{className:"err-message"},this.state.errMessage)),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"primary",disabled:this.state.isAddingUser,onClick:this.handleSubmit,className:this.state.isAddingUser?"btn-loading":""},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);g.propTypes=m,t.default=g},2399:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(5),g=r(m),h=n(98),Y=r(h),S={toggle:d.default.func.isRequired,invitationLink:d.default.string.isRequired},Z=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.copyLink=function(){(0,Y.default)(n.props.invitationLink),n.props.toggle();var e=(0,p.gettext)("Internal link has been copied to clipboard");g.default.success(e)},n}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(f.Modal,{isOpen:!0},u.default.createElement(f.ModalHeader,{toggle:this.props.toggle},(0,p.gettext)("Invite user")),u.default.createElement(f.ModalBody,null,u.default.createElement("p",null,(0,p.gettext)("Send the invitation link to the others, and they will be able to join the organization via scanning the QR code.")),u.default.createElement("p",null,this.props.invitationLink)),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"primary",onClick:this.copyLink},(0,p.gettext)("Copy"))))}}]),t}(u.default.Component);Z.propTypes=S,t.default=Z},24:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(14),d=n(1),f=r(d),p=n(47),m=r(p),g=n(25),h=r(g),Y={deceleration:"cubic-bezier(0.0, 0.0, 0.2, 1)",acceleration:"cubic-bezier(0.4, 0.0, 1, 1)",spring:"cubic-bezier(0.175, 0.885, 0.320, 1.175)"},S=c.css.keyframes("openAnimation",{from:{opacity:0,transform:"translateY(-120%)"},to:{transform:"translateY(0)"}}),Z=c.css.keyframes("closeAnimation",{from:{transform:"scale(1)",opacity:1},to:{transform:"scale(0.9)",opacity:0}}),L=(0,c.css)({display:"flex",flexDirection:"column",alignItems:"center",height:0,transition:"all 240ms "+Y.deceleration,'&[data-state="entering"], &[data-state="entered"]':{animation:S+" 240ms "+Y.spring+" both"},'&[data-state="exiting"]':{animation:Z+" 120ms "+Y.acceleration+" both"}}),b=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={isShown:!0,height:0},r.close=function(){r.clearCloseTimer(),r.setState({isShown:!1})},r.startCloseTimer=function(){r.props.duration&&(r.closeTimer=setTimeout(function(){r.close()},1e3*r.props.duration))},r.clearCloseTimer=function(){r.closeTimer&&(clearTimeout(r.closeTimer),r.closeTimer=null)},r.handleMouseEnter=function(){r.clearCloseTimer()},r.handleMouseLeave=function(){r.startCloseTimer()},r.onRef=function(e){if(null!==e){var t=e.getBoundingClientRect(),n=t.height;r.setState({height:n})}},i=n,o(r,i)}return i(t,e),l(t,[{key:"componentDidUpdate",value:function(e){e.isShown!==this.props.isShown&&this.setState({isShown:this.props.isShown})}},{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"render",value:function(){var e=this;return u.default.createElement(m.default,{appear:!0,unmountOnExit:!0,timeout:240,in:this.state.isShown,onExited:this.props.onRemove},function(t){return u.default.createElement("div",{"data-state":t,className:L,onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave,style:{height:e.state.height,zIndex:e.props.zIndex,marginBottom:e.state.isShown?0:-e.state.height}},u.default.createElement("div",{ref:e.onRef,style:{padding:8}},u.default.createElement(h.default,{intent:e.props.intent,title:e.props.title,children:e.props.children,isRemoveable:e.props.hasCloseButton,onRemove:function(){return e.close()}})))})}}]),t}(u.default.PureComponent);b.propTypes={zIndex:f.default.number,duration:f.default.number,onRemove:f.default.func,intent:f.default.oneOf(["none","success","warning","danger"]).isRequired,title:f.default.node,children:f.default.node,hasCloseButton:f.default.bool,isShown:f.default.bool},b.defaultProps={intent:"none"},t.default=b},2400:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(4),d=n(2),f=n(3),p=n(9),m=r(p),g=n(1110),h=r(g),Y=n(2401),S=r(Y),Z=n(2402),L=r(Z),b=n(2403),C=r(b),w=n(207),D=r(w);n(593);var y=window.org.pageOptions,v=y.orgID,E=y.orgName,M=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.updateName=function(e){n.setState({name:e})},n.updateContactEmail=function(e){n.setState({contact_email:e})},n.updateQuota=function(e){n.setState({quota_total:e})},n.state={loading:!0,errorMsg:""},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;c.seafileAPI.orgAdminGetOrgUserInfo(v,this.props.email).then(function(t){e.setState(Object.assign({loading:!1},t.data))}).catch(function(t){e.setState({loading:!1,errorMsg:f.Utils.getErrorMsg(t,!0)})})}},{key:"render",value:function(){return u.default.createElement(s.Fragment,null,u.default.createElement(D.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(h.default,{email:this.props.email,currentItem:"profile"}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(X,{data:this.state,updateName:this.updateName,updateContactEmail:this.updateContactEmail,updateQuota:this.updateQuota})))))}}]),t}(s.Component),X=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleSetNameDialog=function(){n.setState({isSetNameDialogOpen:!n.state.isSetNameDialogOpen})},n.toggleSetContactEmailDialog=function(){n.setState({isSetContactEmailDialogOpen:!n.state.isSetContactEmailDialogOpen})},n.toggleSetQuotaDialog=function(){n.setState({isSetQuotaDialogOpen:!n.state.isSetQuotaDialogOpen})},n.state={isSetNameDialogOpen:!1,isSetContactEmailDialogOpen:!1,isSetQuotaDialogOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.data,t=e.loading,n=e.errorMsg,r=e.avatar_url,a=e.email,o=e.contact_email,i=e.name,l=e.quota_total,c=e.quota_usage,p=this.state,g=p.isSetNameDialogOpen,h=p.isSetContactEmailDialogOpen,Y=p.isSetQuotaDialogOpen;return t?u.default.createElement(m.default,null):n?u.default.createElement("p",{className:"error text-center"},n):u.default.createElement(s.Fragment,null,u.default.createElement("dl",null,u.default.createElement("dt",null,(0,d.gettext)("Avatar")),u.default.createElement("dd",null,u.default.createElement("img",{src:r,width:"48",height:"48",className:"rounded",alt:""})),u.default.createElement("dt",null,"ID"),u.default.createElement("dd",null,a),u.default.createElement("dt",null,(0,d.gettext)("Name")),u.default.createElement("dd",null,i||"--",u.default.createElement("span",{title:(0,d.gettext)("Edit"),className:"attr-action-icon fa fa-pencil-alt",onClick:this.toggleSetNameDialog})),u.default.createElement("dt",null,(0,d.gettext)("Contact Email")),u.default.createElement("dd",null,o||"--",u.default.createElement("span",{title:(0,d.gettext)("Edit"),className:"attr-action-icon fa fa-pencil-alt",onClick:this.toggleSetContactEmailDialog})),u.default.createElement("dt",null,(0,d.gettext)("Organization")),u.default.createElement("dd",null,E),u.default.createElement("dt",null,(0,d.gettext)("Space Used / Quota")),u.default.createElement("dd",null,f.Utils.bytesToSize(c)+(l>0?" / "+f.Utils.bytesToSize(l):""),u.default.createElement("span",{title:(0,d.gettext)("Edit"),className:"attr-action-icon fa fa-pencil-alt",onClick:this.toggleSetQuotaDialog}))),g&&u.default.createElement(S.default,{orgID:v,email:a,name:i,updateName:this.props.updateName,toggleDialog:this.toggleSetNameDialog}),h&&u.default.createElement(L.default,{orgID:v,email:a,contactEmail:o,updateContactEmail:this.props.updateContactEmail,toggleDialog:this.toggleSetContactEmailDialog}),Y&&u.default.createElement(C.default,{orgID:v,email:a,quotaTotal:l,updateQuota:this.props.updateQuota,toggleDialog:this.toggleSetQuotaDialog}))}}]),t}(s.Component);t.default=M},2401:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(4),g=n(3),h={orgID:d.default.string.isRequired,email:d.default.string.isRequired,name:d.default.string.isRequired,updateName:d.default.func.isRequired,toggleDialog:d.default.func.isRequired},Y=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleInputChange=function(e){n.setState({inputValue:e.target.value})},n.formSubmit=function(){var e=n.props,t=e.orgID,r=e.email,a=n.state.inputValue.trim();n.setState({submitBtnDisabled:!0}),m.seafileAPI.orgAdminSetOrgUserName(t,r,a).then(function(e){var t=a?e.data.name:"";n.props.updateName(t),n.props.toggleDialog()}).catch(function(e){var t=g.Utils.getErrorMsg(e);n.setState({formErrorMsg:t,submitBtnDisabled:!1})})},n.state={inputValue:n.props.name,submitBtnDisabled:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state,t=e.inputValue,n=e.formErrorMsg,r=e.submitBtnDisabled;return u.default.createElement(f.Modal,{isOpen:!0,centered:!0,toggle:this.props.toggleDialog},u.default.createElement(f.ModalHeader,{toggle:this.props.toggleDialog},(0,p.gettext)("Set user name")),u.default.createElement(f.ModalBody,null,u.default.createElement(u.default.Fragment,null,u.default.createElement("input",{type:"text",className:"form-control",value:t,onChange:this.handleInputChange}),n&&u.default.createElement("p",{className:"error m-0 mt-2"},n))),u.default.createElement(f.ModalFooter,null,u.default.createElement("button",{className:"btn btn-secondary",onClick:this.props.toggleDialog},(0,p.gettext)("Cancel")),u.default.createElement("button",{className:"btn btn-primary",disabled:r,onClick:this.formSubmit},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);Y.propTypes=h,t.default=Y},2402:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(4),g=n(3),h={orgID:d.default.string.isRequired,email:d.default.string.isRequired,contactEmail:d.default.string.isRequired,updateContactEmail:d.default.func.isRequired,toggleDialog:d.default.func.isRequired},Y=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleInputChange=function(e){n.setState({inputValue:e.target.value})},n.formSubmit=function(){var e=n.props,t=e.orgID,r=e.email,a=n.state.inputValue.trim();n.setState({submitBtnDisabled:!0}),m.seafileAPI.orgAdminSetOrgUserContactEmail(t,r,a).then(function(e){var t=a?e.data.contact_email:"";n.props.updateContactEmail(t),n.props.toggleDialog()}).catch(function(e){var t=g.Utils.getErrorMsg(e);n.setState({formErrorMsg:t,submitBtnDisabled:!1})})},n.state={inputValue:n.props.contactEmail,submitBtnDisabled:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state,t=e.inputValue,n=e.formErrorMsg,r=e.submitBtnDisabled;return u.default.createElement(f.Modal,{isOpen:!0,centered:!0,toggle:this.props.toggleDialog},u.default.createElement(f.ModalHeader,{toggle:this.props.toggleDialog},(0,p.gettext)("Set user contact email")),u.default.createElement(f.ModalBody,null,u.default.createElement(u.default.Fragment,null,u.default.createElement("input",{type:"text",className:"form-control",value:t,onChange:this.handleInputChange}),n&&u.default.createElement("p",{className:"error m-0 mt-2"},n))),u.default.createElement(f.ModalFooter,null,u.default.createElement("button",{className:"btn btn-secondary",onClick:this.props.toggleDialog},(0,p.gettext)("Cancel")),u.default.createElement("button",{className:"btn btn-primary",disabled:r,onClick:this.formSubmit},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);Y.propTypes=h,t.default=Y},2403:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(4),g=n(3),h={orgID:d.default.string.isRequired,email:d.default.string.isRequired,quotaTotal:d.default.string.isRequired,updateQuota:d.default.func.isRequired,toggleDialog:d.default.func.isRequired},Y=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.handleInputChange=function(e){n.setState({inputValue:e.target.value})},n.formSubmit=function(){var e=n.props,t=e.orgID,r=e.email,a=n.state.inputValue.trim();if(!a)return n.setState({formErrorMsg:(0,p.gettext)("It is required.")}),!1;n.setState({submitBtnDisabled:!0}),m.seafileAPI.orgAdminSetOrgUserQuota(t,r,a).then(function(e){n.props.updateQuota(e.data.quota_total),n.props.toggleDialog()}).catch(function(e){var t=g.Utils.getErrorMsg(e);n.setState({formErrorMsg:t,submitBtnDisabled:!1})})};var r=n.props.quotaTotal<0?"":n.props.quotaTotal/1e6;return n.state={inputValue:r,submitBtnDisabled:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state,t=e.inputValue,n=e.formErrorMsg,r=e.submitBtnDisabled;return u.default.createElement(f.Modal,{isOpen:!0,centered:!0,toggle:this.props.toggleDialog},u.default.createElement(f.ModalHeader,{toggle:this.props.toggleDialog},(0,p.gettext)("Set user quota")),u.default.createElement(f.ModalBody,null,u.default.createElement(u.default.Fragment,null,u.default.createElement(f.InputGroup,null,u.default.createElement("input",{type:"text",className:"form-control",value:t,onChange:this.handleInputChange}),u.default.createElement(f.InputGroupAddon,{addonType:"append"},u.default.createElement(f.InputGroupText,null,"MB"))),u.default.createElement("p",{className:"small text-secondary mt-2 mb-2"},(0,p.gettext)("Tip: 0 means default limit")),n&&u.default.createElement("p",{className:"error m-0 mt-2"},n))),u.default.createElement(f.ModalFooter,null,u.default.createElement("button",{className:"btn btn-secondary",onClick:this.props.toggleDialog},(0,p.gettext)("Cancel")),u.default.createElement("button",{className:"btn btn-primary",disabled:r,onClick:this.formSubmit},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);Y.propTypes=h,t.default=Y},2404:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(7),d=r(c),f=n(4),p=n(2),m=n(3),g=n(9),h=r(g),Y=n(5),S=r(Y),Z=n(1110),L=r(Z),b=n(513),C=r(b),w=n(207),D=r(w);n(593);var y=window.org.pageOptions.orgID,v=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={loading:!0,errorMsg:""},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;f.seafileAPI.orgAdminGetOrgUserOwnedRepos(y,this.props.email).then(function(t){e.setState(Object.assign({loading:!1},t.data))}).catch(function(t){e.setState({loading:!1,errorMsg:m.Utils.getErrorMsg(t,!0)})})}},{key:"render",value:function(){return u.default.createElement(s.Fragment,null,u.default.createElement(D.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(L.default,{email:this.props.email,currentItem:"owned-repos"}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(E,{data:this.state})))))}}]),t}(s.Component),E=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.data,t=e.loading,n=e.errorMsg,r=e.repo_list;return t?u.default.createElement(h.default,null):n?u.default.createElement("p",{className:"error text-center"},n):u.default.createElement(s.Fragment,null,u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"4%"}),u.default.createElement("th",{width:"35%"},(0,p.gettext)("Name")),u.default.createElement("th",{width:"16%"},(0,p.gettext)("Size")),u.default.createElement("th",{width:"25%"},(0,p.gettext)("Last Update")),u.default.createElement("th",{width:"20%"}))),u.default.createElement("tbody",null,r.map(function(e,t){return u.default.createElement(M,{key:t,data:e})}))))}}]),t}(s.Component),M=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseOver=function(){n.setState({isOpIconShown:!0})},n.handleMouseOut=function(){n.setState({isOpIconShown:!1})},n.handleDeleteIconClick=function(e){e.preventDefault(),n.toggleDeleteRepoDialog()},n.toggleDeleteRepoDialog=function(){n.setState({isDeleteRepoDialogOpen:!n.state.isDeleteRepoDialogOpen})},n.deleteRepo=function(){var e=n.props.data;f.seafileAPI.orgAdminDeleteOrgRepo(y,e.repo_id).then(function(t){n.setState({deleted:!0});var r=(0,p.gettext)("Successfully deleted {name}.").replace("{name}",e.repo_name);S.default.success(r)}).catch(function(e){var t=m.Utils.getErrorMsg(e);S.default.danger(t)})},n.state={isOpIconShown:!1,deleted:!1,isDeleteRepoDialogOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state,t=e.deleted,n=e.isOpIconShown,r=e.isDeleteRepoDialogOpen,a=this.props.data;return t?null:u.default.createElement(s.Fragment,null,u.default.createElement("tr",{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut},u.default.createElement("td",null,u.default.createElement("img",{src:m.Utils.getLibIconUrl(a,!1),alt:m.Utils.getLibIconTitle(a),title:m.Utils.getLibIconTitle(a),width:"24"})),u.default.createElement("td",null,a.repo_name),u.default.createElement("td",null,m.Utils.bytesToSize(a.size)),u.default.createElement("td",{title:(0,d.default)(a.last_modified).format("LLLL")},(0,d.default)(a.last_modified).format("YYYY-MM-DD")),u.default.createElement("td",null,u.default.createElement("a",{href:"#",className:"action-icon sf2-icon-delete"+(n?"":" invisible"),title:(0,p.gettext)("Delete"),onClick:this.handleDeleteIconClick}))),r&&u.default.createElement(C.default,{repo:a,onDeleteRepo:this.deleteRepo,toggle:this.toggleDeleteRepoDialog}))}}]),t}(s.Component);t.default=v},2405:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(7),d=r(c),f=n(4),p=n(2),m=n(3),g=n(9),h=r(g),Y=n(1110),S=r(Y),Z=n(207),L=r(Z);n(593);var b=window.org.pageOptions.orgID,C=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={loading:!0,errorMsg:""},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;f.seafileAPI.orgAdminGetOrgUserBesharedRepos(b,this.props.email).then(function(t){e.setState(Object.assign({loading:!1},t.data))}).catch(function(t){e.setState({loading:!1,errorMsg:m.Utils.getErrorMsg(t,!0)})})}},{key:"render",value:function(){return u.default.createElement(s.Fragment,null,u.default.createElement(L.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(S.default,{email:this.props.email,currentItem:"shared-repos"}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(w,{data:this.state})))))}}]),t}(s.Component),w=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.data,t=e.loading,n=e.errorMsg,r=e.repo_list;return t?u.default.createElement(h.default,null):n?u.default.createElement("p",{className:"error text-center"},n):u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"4%"}),u.default.createElement("th",{width:"30%"},(0,p.gettext)("Name")),u.default.createElement("th",{width:"26%"},(0,p.gettext)("Owner")),u.default.createElement("th",{width:"15%"},(0,p.gettext)("Size")),u.default.createElement("th",{width:"25%"},(0,p.gettext)("Last Update")))),u.default.createElement("tbody",null,r.map(function(e,t){return u.default.createElement(D,{key:t,data:e})})))}}]),t}(s.Component),D=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.data;return u.default.createElement("tr",null,u.default.createElement("td",null,u.default.createElement("img",{src:m.Utils.getLibIconUrl(e,!1),alt:m.Utils.getLibIconTitle(e),title:m.Utils.getLibIconTitle(e),width:"24"})),u.default.createElement("td",null,e.repo_name),u.default.createElement("td",null,e.owner_name),u.default.createElement("td",null,m.Utils.bytesToSize(e.size)),u.default.createElement("td",{title:(0,d.default)(e.last_modified).format("LLLL")},(0,d.default)(e.last_modified).format("YYYY-MM-DD")))}}]),t}(s.Component);t.default=C},2406:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(4),g=n(5),h=r(g),Y=n(2407),S=r(Y),Z=n(207),L=r(Z),b=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initData=function(e){m.seafileAPI.orgAdminListOrgGroups(p.orgID,e).then(function(e){var t=e.data.groups.map(function(e){return new S.default(e)});n.setState({orgGroups:t,pageNext:e.data.page_next,page:e.data.page})}).catch(function(e){var t=m.Utils.getErrorMsg(e);h.default.danger(t)})},n.onChangePageNum=function(e,t){e.preventDefault();var r=n.state.page;1==t?r+=1:r-=1,n.initData(r)},n.onFreezedItem=function(){n.setState({isItemFreezed:!0})},n.onUnfreezedItem=function(){n.setState({isItemFreezed:!1})},n.deleteGroupItem=function(e){m.seafileAPI.orgAdminDeleteOrgGroup(p.orgID,e.id).then(function(t){n.setState({orgGroups:n.state.orgGroups.filter(function(t){return t.id!=e.id})});var r=(0,p.gettext)("Successfully deleted {name}");r=r.replace("{name}",e.groupName),h.default.success(r)}).catch(function(e){var t=m.Utils.getErrorMsg(e);h.default.danger(t)})},n.state={page:1,pageNext:!1,orgGroups:[],isItemFreezed:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.state.page;this.initData(e)}},{key:"render",value:function(){var e=this,t=this.state.orgGroups;return u.default.createElement(s.Fragment,null,u.default.createElement(L.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},(0,p.gettext)("All Groups"))),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"30%"},(0,p.gettext)("Name")),u.default.createElement("th",{width:"35%"},(0,p.gettext)("Creator")),u.default.createElement("th",{width:"23%"},(0,p.gettext)("Created At")),u.default.createElement("th",{width:"12%",className:"text-center"},(0,p.gettext)("Operations")))),u.default.createElement("tbody",null,t.map(function(t){return u.default.createElement(w,{key:t.id,group:t,isItemFreezed:e.state.isItemFreezed,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem,deleteGroupItem:e.deleteGroupItem})}))),u.default.createElement("div",{className:"paginator"},1!=this.state.page&&u.default.createElement("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,-1)}},(0,p.gettext)("Previous")),1!=this.state.page&&this.state.pageNext&&u.default.createElement("span",null," | "),this.state.pageNext&&u.default.createElement("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,1)}},(0,p.gettext)("Next")))))))}}]),t}(s.Component),C={group:d.default.object.isRequired,isItemFreezed:d.default.bool.isRequired,onFreezedItem:d.default.func.isRequired,onUnfreezedItem:d.default.func.isRequired,deleteGroupItem:d.default.func.isRequired},w=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.props.isItemFreezed||n.setState({showMenu:!0,highlight:!0})},n.onMouseLeave=function(){n.props.isItemFreezed||n.setState({showMenu:!1,highlight:!1})},n.onDropdownToggleClick=function(e){e.preventDefault(),n.toggleOperationMenu(e)},n.toggleOperationMenu=function(e){e.stopPropagation(),n.setState({isItemMenuShow:!n.state.isItemMenuShow},function(){n.state.isItemMenuShow?n.props.onFreezedItem():(n.setState({highlight:!1,showMenu:!1}),n.props.onUnfreezedItem())})},n.toggleDelete=function(){n.props.deleteGroupItem(n.props.group)},n.renderGroupHref=function(e){return"system admin"==e.creatorName?p.siteRoot+"org/departmentadmin/groups/"+e.id+"/":p.siteRoot+"org/groupadmin/"+e.id+"/"},n.renderGroupCreator=function(e){var t=p.siteRoot+"org/useradmin/info/"+e.creatorEmail+"/";return"system admin"==e.creatorName?u.default.createElement("td",null," -- "):u.default.createElement("td",null,u.default.createElement("a",{href:t,className:"font-weight-normal"},e.creatorName))},n.state={highlight:!1,showMenu:!1,isItemMenuShow:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.group,t="system admin"!=e.creatorName&&this.state.showMenu;return u.default.createElement("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.default.createElement("td",null,u.default.createElement("a",{href:this.renderGroupHref(e),className:"font-weight-normal"},e.groupName)),this.renderGroupCreator(e),u.default.createElement("td",null,e.ctime),u.default.createElement("td",{className:"text-center cursor-pointer"},t&&u.default.createElement(f.Dropdown,{isOpen:this.state.isItemMenuShow,toggle:this.toggleOperationMenu},u.default.createElement(f.DropdownToggle,{tag:"a",className:"attr-action-icon fas fa-ellipsis-v",title:(0,p.gettext)("More Operations"),"data-toggle":"dropdown","aria-expanded":this.state.isItemMenuShow,onClick:this.onDropdownToggleClick}),u.default.createElement(f.DropdownMenu,null,u.default.createElement(f.DropdownItem,{onClick:this.toggleDelete},(0,p.gettext)("Delete"))))))}}]),t}(u.default.Component);w.propTypes=C,t.default=b},2407:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=n(7),i=function(e){return e&&e.__esModule?e:{default:e}}(o);i.default.locale(a.lang);var l=function e(t){r(this,e),this.id=t.id,this.groupName=t.group_name,this.creatorName=t.creator_name,this.creatorEmail=t.creator_email,this.creatorContactEmail=t.creator_contact_email,this.ctime=(0,i.default)(t.ctime).format("YYYY-MM-DD HH:mm:ss")};t.default=l},2408:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(27),d=n(4),f=n(2),p=n(3),m=n(9),g=r(m),h=n(1111),Y=r(h),S=n(207),Z=r(S);n(593);var L=window.org.pageOptions.orgID,b=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={loading:!0,errorMsg:""},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;d.seafileAPI.orgAdminGetGroup(L,this.props.groupID).then(function(t){e.setState(Object.assign({loading:!1},t.data))}).catch(function(t){e.setState({loading:!1,errorMsg:p.Utils.getErrorMsg(t,!0)})})}},{key:"render",value:function(){return u.default.createElement(s.Fragment,null,u.default.createElement(Z.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(Y.default,{groupID:this.props.groupID,currentItem:"info"}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(C,{data:this.state})))))}}]),t}(s.Component),C=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.data,t=e.loading,n=e.errorMsg,r=e.group_name,a=e.creator_email,o=e.creator_name;return t?u.default.createElement(g.default,null):n?u.default.createElement("p",{className:"error text-center mt-2"},n):u.default.createElement("dl",null,u.default.createElement("dt",null,(0,f.gettext)("Name")),u.default.createElement("dd",null,r),u.default.createElement("dt",null,(0,f.gettext)("Creator")),u.default.createElement("dd",null,u.default.createElement(c.Link,{to:f.siteRoot+"org/useradmin/info/"+encodeURIComponent(a)+"/"},o)))}}]),t}(s.Component);t.default=b},2409:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(27),d=n(4),f=n(2),p=n(3),m=n(9),g=r(m),h=n(5),Y=r(h),S=n(1111),Z=r(S),L=n(513),b=r(L),C=n(207),w=r(C);n(593);var D=window.org.pageOptions.orgID,y=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={loading:!0,errorMsg:""},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;d.seafileAPI.orgAdminListGroupRepos(D,this.props.groupID).then(function(t){e.setState(Object.assign({loading:!1},t.data))}).catch(function(t){e.setState({loading:!1,errorMsg:p.Utils.getErrorMsg(t,!0)})})}},{key:"render",value:function(){return u.default.createElement(s.Fragment,null,u.default.createElement(w.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(Z.default,{groupID:this.props.groupID,currentItem:"repos"}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(v,{data:this.state})))))}}]),t}(s.Component),v=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.data,t=e.loading,n=e.errorMsg,r=e.libraries;return t?u.default.createElement(g.default,null):n?u.default.createElement("p",{className:"error text-center mt-2"},n):u.default.createElement(s.Fragment,null,u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"4%"}),u.default.createElement("th",{width:"35%"},(0,f.gettext)("Name")),u.default.createElement("th",{width:"20%"},(0,f.gettext)("Size")),u.default.createElement("th",{width:"26%"},(0,f.gettext)("Shared By")),u.default.createElement("th",{width:"15%"}))),u.default.createElement("tbody",null,r.map(function(e,t){return u.default.createElement(E,{key:t,data:e})}))))}}]),t}(s.Component),E=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseOver=function(){n.setState({isOpIconShown:!0})},n.handleMouseOut=function(){n.setState({isOpIconShown:!1})},n.handleDeleteIconClick=function(e){e.preventDefault(),n.toggleDeleteRepoDialog()},n.toggleDeleteRepoDialog=function(){n.setState({isDeleteRepoDialogOpen:!n.state.isDeleteRepoDialogOpen})},n.deleteRepo=function(){var e=n.props.data;d.seafileAPI.orgAdminDeleteOrgRepo(D,e.repo_id).then(function(t){n.setState({deleted:!0});var r=(0,f.gettext)("Successfully deleted {name}.").replace("{name}",e.name);Y.default.success(r)}).catch(function(e){var t=p.Utils.getErrorMsg(e);Y.default.danger(t)})},n.state={isOpIconShown:!1,deleted:!1,isDeleteRepoDialogOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state,t=e.deleted,n=e.isOpIconShown,r=e.isDeleteRepoDialogOpen,a=this.props.data;return t?null:u.default.createElement(s.Fragment,null,u.default.createElement("tr",{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut},u.default.createElement("td",null,u.default.createElement("img",{src:p.Utils.getLibIconUrl(a,!1),alt:p.Utils.getLibIconTitle(a),title:p.Utils.getLibIconTitle(a),width:"24"})),u.default.createElement("td",null,a.name),u.default.createElement("td",null,p.Utils.bytesToSize(a.size)),u.default.createElement("td",null,u.default.createElement(c.Link,{to:f.siteRoot+"org/useradmin/info/"+encodeURIComponent(a.shared_by)+"/"},a.shared_by_name)),u.default.createElement("td",null,u.default.createElement("a",{href:"#",className:"action-icon sf2-icon-delete"+(n?"":" invisible"),title:(0,f.gettext)("Delete"),onClick:this.handleDeleteIconClick}))),r&&u.default.createElement(b.default,{repo:a,onDeleteRepo:this.deleteRepo,toggle:this.toggleDeleteRepoDialog}))}}]),t}(s.Component);t.default=y},2410:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(27),d=n(4),f=n(2),p=n(3),m=n(9),g=r(m),h=n(1111),Y=r(h),S=n(207),Z=r(S);n(593);var L=window.org.pageOptions.orgID,b=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={loading:!0,errorMsg:""},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;d.seafileAPI.orgAdminListGroupMembers(L,this.props.groupID).then(function(t){e.setState(Object.assign({loading:!1},t.data))}).catch(function(t){e.setState({loading:!1,errorMsg:p.Utils.getErrorMsg(t,!0)})})}},{key:"render",value:function(){return u.default.createElement(s.Fragment,null,u.default.createElement(Z.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(Y.default,{groupID:this.props.groupID,currentItem:"members"}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(C,{data:this.state})))))}}]),t}(s.Component),C=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.data,t=e.loading,n=e.errorMsg,r=e.members;return t?u.default.createElement(g.default,null):n?u.default.createElement("p",{className:"error text-center mt-2"},n):u.default.createElement(s.Fragment,null,u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"10%"}),u.default.createElement("th",{width:"50%"},(0,f.gettext)("Name")),u.default.createElement("th",{width:"40%"},(0,f.gettext)("Role")))),u.default.createElement("tbody",null,r.map(function(e,t){return u.default.createElement(w,{key:t,data:e})}))))}}]),t}(s.Component),w=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getRoleText",value:function(){switch(this.props.data.role){case"Owner":return(0,f.gettext)("Owner");case"Admin":return(0,f.gettext)("Admin");case"Member":return(0,f.gettext)("Member")}}},{key:"render",value:function(){var e=this.props.data;return u.default.createElement(s.Fragment,null,u.default.createElement("tr",null,u.default.createElement("td",{className:"text-center"},u.default.createElement("img",{src:e.avatar_url,alt:"",className:"avatar",width:"32"})),u.default.createElement("td",null,u.default.createElement(c.Link,{to:f.siteRoot+"org/useradmin/info/"+encodeURIComponent(e.email)+"/"},e.name)),u.default.createElement("td",null,this.getRoleText())))}}]),t}(s.Component);t.default=b},2411:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(207),m=r(p),g=n(2412),h=r(g),Y=n(5),S=r(Y),Z=n(590),L=r(Z),b=n(16),C=r(b),w=n(4),D=n(3),y=n(2),v=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initData=function(e){w.seafileAPI.orgAdminListOrgRepos(y.orgID,e).then(function(e){var t=e.data.repo_list.map(function(e){return new h.default(e)});n.setState({orgRepos:t,pageNext:e.data.page_next,page:e.data.page})}).catch(function(e){var t=D.Utils.getErrorMsg(e);S.default.danger(t)})},n.onChangePageNum=function(e,t){e.preventDefault();var r=n.state.page;1==t?r+=1:r-=1,n.initData(r)},n.onFreezedItem=function(){n.setState({isItemFreezed:!0})},n.onUnfreezedItem=function(){n.setState({isItemFreezed:!1})},n.deleteRepoItem=function(e){w.seafileAPI.orgAdminDeleteOrgRepo(y.orgID,e.repoID).then(function(t){n.setState({orgRepos:n.state.orgRepos.filter(function(t){return t.repoID!=e.repoID})});var r=(0,y.gettext)("Successfully deleted {name}");r=r.replace("{name}",e.repoName),S.default.success(r)}).catch(function(e){var t=D.Utils.getErrorMsg(e);S.default.danger(t)})},n.transferRepoItem=function(e,t){n.setState({orgRepos:n.state.orgRepos.map(function(n){return n.repoID==e&&(n.ownerEmail=t.email,n.ownerName=t.value),n})})},n.state={page:1,pageNext:!1,orgRepos:[],isItemFreezed:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.state.page;this.initData(e)}},{key:"render",value:function(){var e=this,t=this.state.orgRepos;return u.default.createElement(s.Fragment,null,u.default.createElement(m.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},(0,y.gettext)("All Libraries"))),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"4%"}),u.default.createElement("th",{width:"27%"},(0,y.gettext)("Name")),u.default.createElement("th",{width:"30%"},"ID"),u.default.createElement("th",{width:"24%"},(0,y.gettext)("Owner")),u.default.createElement("th",{width:"15%",className:"text-center"},(0,y.gettext)("Operations")))),u.default.createElement("tbody",null,t.map(function(t){return u.default.createElement(M,{key:t.repoID,repo:t,isItemFreezed:e.state.isItemFreezed,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem,deleteRepoItem:e.deleteRepoItem,transferRepoItem:e.transferRepoItem})}))),u.default.createElement("div",{className:"paginator"},1!=this.state.page&&u.default.createElement("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,-1)}},(0,y.gettext)("Previous")),1!=this.state.page&&this.state.pageNext&&u.default.createElement("span",null," | "),this.state.pageNext&&u.default.createElement("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,1)}},(0,y.gettext)("Next")))))))}}]),t}(s.Component),E={repo:d.default.object.isRequired,isItemFreezed:d.default.bool,onFreezedItem:d.default.func.isRequired,onUnfreezedItem:d.default.func.isRequired,deleteRepoItem:d.default.func.isRequired,transferRepoItem:d.default.func.isRequired},M=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.props.isItemFreezed||n.setState({showMenu:!0,highlight:!0})},n.onMouseLeave=function(){n.props.isItemFreezed||n.setState({showMenu:!1,highlight:!1})},n.onDropdownToggleClick=function(e){e.preventDefault(),n.toggleOperationMenu(e)},n.toggleOperationMenu=function(e){e.stopPropagation(),n.setState({isItemMenuShow:!n.state.isItemMenuShow},function(){n.state.isItemMenuShow?n.props.onFreezedItem():(n.setState({highlight:!1,showMenu:!1}),n.props.onUnfreezedItem())})},n.toggleDelete=function(){n.props.deleteRepoItem(n.props.repo)},n.toggleTransfer=function(){n.props.transferRepoItem(n.props.repo)},n.renderLibIcon=function(e){var t=void 0,n=void 0;return e.encrypted?(t=y.mediaUrl+"img/lib/48/lib-encrypted.png",n=(0,y.gettext)("Encrypted library")):(t=y.mediaUrl+"img/lib/48/lib.png",n=(0,y.gettext)("Read-Write library")),u.default.createElement("img",{src:t,title:n,alt:n,width:"24"})},n.renderRepoOwnerHref=function(e){return e.isDepartmentRepo?y.siteRoot+"org/admin/#address-book/groups/"+e.groupID+"/":y.siteRoot+"org/useradmin/info/"+e.ownerEmail+"/"},n.toggleTransfer=function(){n.setState({isTransferDialogShow:!n.state.isTransferDialogShow})},n.onTransferRepo=function(e){var t=n.props.repo;w.seafileAPI.orgAdminTransferOrgRepo(y.orgID,t.repoID,e.email).then(function(r){n.props.transferRepoItem(t.repoID,e);var a=(0,y.gettext)("Successfully transferred the library.");S.default.success(a)}).catch(function(e){var t=D.Utils.getErrorMsg(e);S.default.danger(t)}),n.toggleTransfer()},n.state={highlight:!1,showMenu:!1,isItemMenuShow:!1,isTransferDialogShow:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.repo,t=this.state.showMenu&&!e.isDepartmentRepo;return u.default.createElement(s.Fragment,null,u.default.createElement("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.default.createElement("td",null,this.renderLibIcon(e)),u.default.createElement("td",null,e.repoName),u.default.createElement("td",{style:{fontSize:"11px"}},e.repoID),u.default.createElement("td",null,u.default.createElement("a",{href:this.renderRepoOwnerHref(e)},e.ownerName)),u.default.createElement("td",{className:"text-center cursor-pointer"},t&&u.default.createElement(f.Dropdown,{isOpen:this.state.isItemMenuShow,toggle:this.toggleOperationMenu},u.default.createElement(f.DropdownToggle,{tag:"a",className:"attr-action-icon fas fa-ellipsis-v",title:(0,y.gettext)("More Operations"),"data-toggle":"dropdown","aria-expanded":this.state.isItemMenuShow,onClick:this.onDropdownToggleClick}),u.default.createElement(f.DropdownMenu,null,u.default.createElement(f.DropdownItem,{onClick:this.toggleDelete},(0,y.gettext)("Delete")),u.default.createElement(f.DropdownItem,{onClick:this.toggleTransfer},(0,y.gettext)("Transfer")))))),this.state.isTransferDialogShow&&u.default.createElement(C.default,null,u.default.createElement(L.default,{itemName:e.repoName,submit:this.onTransferRepo,toggleDialog:this.toggleTransfer})))}}]),t}(u.default.Component);M.propTypes=E,t.default=v},2412:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function e(t){r(this,e),this.repoID=t.repo_id,this.repoName=t.repo_name,this.ownerName=t.owner_name,this.ownerEmail=t.owner_email,this.encrypted=t.encrypted,this.isDepartmentRepo=t.is_department_repo,this.groupID=t.group_id};t.default=a},2413:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(4),d=n(2),f=n(3),p=n(207),m=r(p),g=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={storage_quota:0,storage_usage:0,member_quota:0,member_usage:0,active_members:0},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;c.seafileAPI.orgAdminGetOrgInfo().then(function(t){e.setState({storage_quota:t.data.storage_quota,storage_usage:t.data.storage_usage,member_quota:t.data.member_quota,member_usage:t.data.member_usage,active_members:t.data.active_members})})}},{key:"render",value:function(){return u.default.createElement(s.Fragment,null,u.default.createElement(m.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},(0,d.gettext)("Info"))),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement("dl",null,u.default.createElement("dt",null,(0,d.gettext)("Space Used")),this.state.storage_quota>0?u.default.createElement("dd",null,f.Utils.bytesToSize(this.state.storage_usage)," / ",f.Utils.bytesToSize(this.state.storage_quota)):u.default.createElement("dd",null,f.Utils.bytesToSize(this.state.storage_usage)),d.orgMemberQuotaEnabled?u.default.createElement("dt",null,(0,d.gettext)("Active Users")," / ",(0,d.gettext)("Total Users")," / ",(0,d.gettext)("Limits")):u.default.createElement("dt",null,(0,d.gettext)("Active Users")," / ",(0,d.gettext)("Total Users")),d.orgMemberQuotaEnabled?u.default.createElement("dd",null,this.state.active_members>0?this.state.active_members:"--"," / ",this.state.member_usage>0?this.state.member_usage:"--"," / ",this.state.member_quota>0?this.state.member_quota:"--"):u.default.createElement("dd",null,this.state.active_members>0?this.state.active_members:"--"," / ",this.state.member_usage>0?this.state.member_usage:"--"))))))}}]),t}(s.Component);t.default=g},2414:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(7),p=r(f),m=n(6),g=n(4),h=n(2),Y=n(3),S=n(5),Z=r(S),L=n(207),b=r(L),C=n(2415),w=r(C),D=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.listOrgLinks=function(e){g.seafileAPI.orgAdminListOrgLinks(n.state.page).then(function(e){var t=e.data;n.setState({linkList:t.link_list,page:t.page,pageNext:t.page_next})})},n.onFreezedItem=function(){n.setState({isItemFreezed:!0})},n.onUnfreezedItem=function(){n.setState({isItemFreezed:!1})},n.onChangePageNum=function(e,t){e.preventDefault();var r=n.state.page;1==t?r+=1:r-=1,n.listOrgLinks(r)},n.deleteOrgLink=function(e){g.seafileAPI.orgAdminDeleteOrgLink(e).then(function(e){!0===e.data.success&&n.listOrgLinks(n.state.page)}).catch(function(e){var t=Y.Utils.getErrorMsg(e);Z.default.danger(t)})},n.openLinkDialog=function(e){var t=void 0;t=e.name.indexOf("/")>-1?h.serviceURL+"/d/"+e.token+"/":h.serviceURL+"/f/"+e.token+"/",n.setState({currentLinkHref:t}),n.toggleLinkDialog()},n.toggleLinkDialog=function(){n.setState({isShowLinkDialog:!n.state.isShowLinkDialog})},n.state={linkList:null,page:1,pageNext:!1,isItemFreezed:!1,isShowLinkDialog:!1,currentLinkHref:""},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.listOrgLinks(this.state.page)}},{key:"render",value:function(){var e=this,t=this.state.linkList;return u.default.createElement(s.Fragment,null,u.default.createElement(b.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},(0,h.gettext)("All Public Links"))),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"50%"},(0,h.gettext)("Name")),u.default.createElement("th",{width:"15%"},(0,h.gettext)("Owner")),u.default.createElement("th",{width:"15%"},(0,h.gettext)("Created At")),u.default.createElement("th",{width:"10%"},(0,h.gettext)("Count")),u.default.createElement("th",{width:"10%"}))),u.default.createElement("tbody",null,t&&t.map(function(t,n){return u.default.createElement(u.default.Fragment,{key:n},u.default.createElement(v,{link:t,isItemFreezed:e.state.isItemFreezed,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem,deleteOrgLink:e.deleteOrgLink,openLinkDialog:e.openLinkDialog}))}))),u.default.createElement("div",{className:"paginator"},1!=this.state.page&&u.default.createElement("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,-1)}},(0,h.gettext)("Previous")),1!=this.state.page&&this.state.pageNext&&u.default.createElement("span",null," | "),this.state.pageNext&&u.default.createElement("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,1)}},(0,h.gettext)("Next")))))),this.state.isShowLinkDialog&&u.default.createElement(w.default,{currentLinkHref:this.state.currentLinkHref,toggle:this.toggleLinkDialog}))}}]),t}(u.default.Component),y={link:d.default.object.isRequired,isItemFreezed:d.default.bool.isRequired,onFreezedItem:d.default.func.isRequired,onUnfreezedItem:d.default.func.isRequired,deleteOrgLink:d.default.func.isRequired,openLinkDialog:d.default.func.isRequired},v=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.props.isItemFreezed||n.setState({showMenu:!0,highlight:!0})},n.onMouseLeave=function(){n.props.isItemFreezed||n.setState({showMenu:!1,highlight:!1})},n.onDropdownToggleClick=function(e){e.preventDefault(),n.toggleOperationMenu(e)},n.toggleOperationMenu=function(e){e.stopPropagation(),n.setState({isItemMenuShow:!n.state.isItemMenuShow},function(){n.state.isItemMenuShow?n.props.onFreezedItem():(n.setState({highlight:!1,showMenu:!1}),n.props.onUnfreezedItem())})},n.state={highlight:!1,showMenu:!1,isItemMenuShow:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.link,n=e.deleteOrgLink,r=h.siteRoot+"org/useradmin/info/"+encodeURIComponent(t.owner_email)+"/";return u.default.createElement("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.default.createElement("td",null,t.name),u.default.createElement("td",null,u.default.createElement("a",{href:r},t.owner_name)),u.default.createElement("td",null,(0,p.default)(t.created_time).fromNow()),u.default.createElement("td",null,t.view_count),u.default.createElement("td",{className:"cursor-pointer text-center"},this.state.showMenu&&u.default.createElement(m.Dropdown,{isOpen:this.state.isItemMenuShow,toggle:this.toggleOperationMenu},u.default.createElement(m.DropdownToggle,{tag:"a",className:"attr-action-icon fas fa-ellipsis-v",title:(0,h.gettext)("More Operations"),"data-toggle":"dropdown","aria-expanded":this.state.isItemMenuShow,onClick:this.onDropdownToggleClick}),u.default.createElement(m.DropdownMenu,null,u.default.createElement(m.DropdownItem,{onClick:n.bind(this,t.token)},(0,h.gettext)("Delete")),u.default.createElement(m.DropdownItem,{onClick:this.props.openLinkDialog.bind(this,t)},(0,h.gettext)("View Link"))))))}}]),t}(u.default.Component);v.propTypes=y,t.default=D},2415:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(5),m=r(p),g=n(98),h=r(g),Y=n(2),S={currentLinkHref:d.default.string.isRequired,toggle:d.default.func.isRequired},Z=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.copyToClipBoard=function(){(0,h.default)(n.props.currentLinkHref);var e=(0,Y.gettext)("Link has been copied to clipboard");m.default.success(e),n.props.toggle()},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.currentLinkHref;return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.props.toggle},u.default.createElement(f.ModalHeader,{toggle:this.props.toggle},(0,Y.gettext)("Link")),u.default.createElement(f.ModalBody,null,u.default.createElement("p",null,u.default.createElement("a",{target:"_blank",href:e},e))),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"secondary",onClick:this.props.toggle},(0,Y.gettext)("Cancel"))," ",u.default.createElement(f.Button,{color:"primary",onClick:this.copyToClipBoard},(0,Y.gettext)("Copy"))))}}]),t}(u.default.Component);Z.propTypes=S,t.default=Z},2416:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(l);n(570);var u=function(e){function t(e){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),i(t,[{key:"render",value:function(){return s.default.createElement("div",{className:"h-100 org-departments"},this.props.children)}}]),t}(s.default.Component);t.default=u},2417:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(7),p=r(f),m=n(27),g=n(3),h=n(4),Y=n(207),S=r(Y),Z=n(16),L=r(Z),b=n(1369),C=r(b),w=n(1370),D=r(w),y=n(1371),v=r(y),E=n(2);n(570),p.default.locale(E.lang);var M=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.listDepartGroups=function(){h.seafileAPI.orgAdminListDepartGroups(E.orgID).then(function(e){n.setState({groups:e.data.data})})},n.showDeleteDepartDialog=function(e){n.setState({showDeleteDepartDialog:!0,groupID:e.id,groupName:e.name})},n.showSetGroupQuotaDialog=function(e){n.setState({showSetGroupQuotaDialog:!0,groupID:e})},n.toggleAddDepartDialog=function(){n.setState({isShowAddDepartDialog:!n.state.isShowAddDepartDialog})},n.toggleCancel=function(){n.setState({showDeleteDepartDialog:!1,showSetGroupQuotaDialog:!1})},n.onDepartChanged=function(){n.listDepartGroups()},n.state={groups:null,groupID:"",groupName:"",showDeleteDepartDialog:!1,showSetGroupQuotaDialog:!1,isShowAddDepartDialog:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.listDepartGroups()}},{key:"render",value:function(){var e=this,t=this.state.groups,n=u.default.createElement(s.Fragment,null,u.default.createElement("button",{className:"btn btn-secondary operation-item",title:(0,E.gettext)("New Department"),onClick:this.toggleAddDepartDialog},(0,E.gettext)("New Department")),this.state.isShowAddDepartDialog&&u.default.createElement(L.default,null,u.default.createElement(C.default,{onDepartChanged:this.onDepartChanged,groupID:this.state.groupID,toggle:this.toggleAddDepartDialog})));return u.default.createElement(s.Fragment,null,u.default.createElement(S.default,{children:n}),u.default.createElement("div",{className:"main-panel-center flex-row h-100"},u.default.createElement("div",{className:"cur-view-container o-auto"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("div",{className:"fleft"},u.default.createElement("h3",{className:"sf-heading"},(0,E.gettext)("Departments")))),u.default.createElement("div",{className:"cur-view-content"},t&&t.length>0?u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"40%"},(0,E.gettext)("Name")),u.default.createElement("th",{width:"25%"},(0,E.gettext)("Created At")),u.default.createElement("th",{width:"20%"},(0,E.gettext)("Quota")),u.default.createElement("th",{width:"15%"}))),u.default.createElement("tbody",null,t.map(function(t,n){return u.default.createElement(u.default.Fragment,{key:t.id},u.default.createElement(X,{group:t,showDeleteDepartDialog:e.showDeleteDepartDialog,showSetGroupQuotaDialog:e.showSetGroupQuotaDialog}))}))):u.default.createElement("p",{className:"no-group"},(0,E.gettext)("No departments"))),u.default.createElement(u.default.Fragment,null,this.state.showDeleteDepartDialog&&u.default.createElement(L.default,null,u.default.createElement(D.default,{toggle:this.toggleCancel,groupID:this.state.groupID,groupName:this.state.groupName,onDepartChanged:this.onDepartChanged})),this.state.showSetGroupQuotaDialog&&u.default.createElement(L.default,null,u.default.createElement(v.default,{toggle:this.toggleCancel,groupID:this.state.groupID,onDepartChanged:this.onDepartChanged}))))))}}]),t}(u.default.Component),X=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.setState({highlight:!0})},n.onMouseLeave=function(){n.setState({highlight:!1})},n.state={highlight:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.group,t=this.state.highlight,n=E.siteRoot+"org/departmentadmin/groups/"+e.id+"/";return u.default.createElement("tr",{className:t?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.default.createElement("td",null,u.default.createElement(m.Link,{to:n},e.name)),u.default.createElement("td",null,(0,p.default)(e.created_at).fromNow()),u.default.createElement("td",{onClick:this.props.showSetGroupQuotaDialog.bind(this,e.id)},g.Utils.bytesToSize(e.quota)," ",u.default.createElement("span",{title:"Edit Quota",className:"fa fa-pencil-alt attr-action-icon "+(t?"":"vh")})),u.default.createElement("td",{className:"cursor-pointer text-center",onClick:this.props.showDeleteDepartDialog.bind(this,e)},u.default.createElement("span",{className:"sf2-icon-delete action-icon  "+(t?"":"vh"),title:"Delete"})))}}]),t}(u.default.Component),J={group:d.default.object.isRequired,showSetGroupQuotaDialog:d.default.func.isRequired,showDeleteDepartDialog:d.default.func.isRequired};X.propTypes=J,t.default=M},2418:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(7),p=r(f),m=n(27),g=n(4),h=n(3),Y=n(5),S=r(Y),Z=n(207),L=r(Z),b=n(16),C=r(b),w=n(834),D=r(w),y=n(1369),v=r(y),E=n(2419),M=r(E),X=n(2420),J=r(X),T=n(2421),P=r(T),_=n(2422),O=r(_),Q=n(1370),H=r(Q),N=n(1371),F=r(N),R=n(2);n(570),p.default.locale(R.lang);var B=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.listOrgGroupRepo=function(e){g.seafileAPI.orgAdminListGroupRepos(R.orgID,e).then(function(e){n.setState({repos:e.data.libraries})}).catch(function(e){var t=h.Utils.getErrorMsg(e);S.default.danger(t)})},n.listOrgMembers=function(e){g.seafileAPI.orgAdminListGroupInfo(R.orgID,e,!0).then(function(e){n.setState({members:e.data.members,groups:e.data.groups,ancestorGroups:e.data.ancestor_groups,groupName:e.data.name})}).catch(function(e){var t=h.Utils.getErrorMsg(e);S.default.danger(t)})},n.listSubDepartGroups=function(e){g.seafileAPI.orgAdminListGroupInfo(R.orgID,e,!0).then(function(e){n.setState({groups:e.data.groups})}).catch(function(e){var t=h.Utils.getErrorMsg(e);S.default.danger(t)})},n.toggleCancel=function(){n.setState({showDeleteMemberDialog:!1,showDeleteRepoDialog:!1,showDeleteDepartDialog:!1,showSetGroupQuotaDialog:!1})},n.onSubDepartChanged=function(){n.listSubDepartGroups(n.props.groupID)},n.onRepoChanged=function(){n.listOrgGroupRepo(n.props.groupID)},n.onMemberChanged=function(){n.listOrgMembers(n.props.groupID)},n.toggleItemFreezed=function(e){n.setState({isItemFreezed:e})},n.showDeleteMemberDialog=function(e){n.setState({showDeleteMemberDialog:!0,deletedMember:e})},n.showDeleteRepoDialog=function(e){n.setState({showDeleteRepoDialog:!0,deletedRepo:e})},n.toggleAddRepoDialog=function(){n.setState({isShowAddRepoDialog:!n.state.isShowAddRepoDialog})},n.toggleAddMemberDialog=function(){n.setState({isShowAddMemberDialog:!n.state.isShowAddMemberDialog})},n.toggleAddDepartDialog=function(){n.setState({isShowAddDepartDialog:!n.state.isShowAddDepartDialog})},n.showDeleteDepartDialog=function(e){n.setState({showDeleteDepartDialog:!0,subGroupID:e.id,subGroupName:e.name})},n.showSetGroupQuotaDialog=function(e){n.setState({showSetGroupQuotaDialog:!0,subGroupID:e})},n.state={groupName:"",isItemFreezed:!1,ancestorGroups:[],members:[],deletedMember:{},isShowAddMemberDialog:!1,showDeleteMemberDialog:!1,repos:[],deletedRepo:{},isShowAddRepoDialog:!1,showDeleteRepoDialog:!1,groups:[],subGroupID:"",subGroupName:"",isShowAddDepartDialog:!1,showDeleteDepartDialog:!1,showSetGroupQuotaDialog:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.props.groupID;this.listOrgGroupRepo(e),this.listOrgMembers(e)}},{key:"componentWillReceiveProps",value:function(e){this.props.groupID!==e.groupID&&(this.listOrgGroupRepo(e.groupID),this.listOrgMembers(e.groupID))}},{key:"render",value:function(){var e=this,t=this.state,n=t.members,r=t.repos,a=t.groups,o=this.props.groupID,i="btn btn-secondary operation-item",l=u.default.createElement(s.Fragment,null,o&&u.default.createElement("button",{className:i,title:(0,R.gettext)("New Sub-department"),onClick:this.toggleAddDepartDialog},(0,R.gettext)("New Sub-department")),o&&u.default.createElement("button",{className:i,title:(0,R.gettext)("Add Member"),onClick:this.toggleAddMemberDialog},(0,R.gettext)("Add Member")),o&&u.default.createElement("button",{className:i,onClick:this.toggleAddRepoDialog,title:(0,R.gettext)("New Library")},(0,R.gettext)("New Library")),this.state.isShowAddMemberDialog&&u.default.createElement(C.default,null,u.default.createElement(M.default,{toggle:this.toggleAddMemberDialog,onMemberChanged:this.onMemberChanged,groupID:o})),this.state.isShowAddRepoDialog&&u.default.createElement(C.default,null,u.default.createElement(P.default,{toggle:this.toggleAddRepoDialog,onRepoChanged:this.onRepoChanged,groupID:o})),this.state.isShowAddDepartDialog&&u.default.createElement(C.default,null,u.default.createElement(v.default,{onDepartChanged:this.onSubDepartChanged,parentGroupID:o,toggle:this.toggleAddDepartDialog})));return u.default.createElement(s.Fragment,null,u.default.createElement(L.default,{children:l}),u.default.createElement("div",{className:"main-panel-center flex-row h-100"},u.default.createElement("div",{className:"cur-view-container o-auto"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("div",{className:"fleft"},u.default.createElement("h3",{className:"sf-heading"},o?u.default.createElement(m.Link,{to:R.siteRoot+"org/departmentadmin/"},(0,R.gettext)("Departments")):u.default.createElement("span",null,(0,R.gettext)("Departments")),this.state.ancestorGroups.map(function(e){var t=R.siteRoot+"org/departmentadmin/groups/"+e.id+"/";return u.default.createElement("span",{key:e.id}," / ",u.default.createElement(m.Link,{to:t},e.name))}),o&&u.default.createElement("span",null," / ",this.state.groupName)))),u.default.createElement("div",{className:"cur-view-subcontainer org-groups"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("div",{className:"fleft"},u.default.createElement("h3",{className:"sf-heading"},(0,R.gettext)("Sub-departments")))),u.default.createElement("div",{className:"cur-view-content"},a&&a.length>0?u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"40%"},(0,R.gettext)("Name")),u.default.createElement("th",{width:"25%"},(0,R.gettext)("Created At")),u.default.createElement("th",{width:"20%"},(0,R.gettext)("Quota")),u.default.createElement("th",{width:"15%"}))),u.default.createElement("tbody",null,a.map(function(t,n){return u.default.createElement(u.default.Fragment,{key:t.id},u.default.createElement(k,{group:t,showDeleteDepartDialog:e.showDeleteDepartDialog,showSetGroupQuotaDialog:e.showSetGroupQuotaDialog}))}))):u.default.createElement("p",{className:"no-group"},(0,R.gettext)("No sub-departments")))),u.default.createElement("div",{className:"cur-view-subcontainer org-members"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("div",{className:"fleft"},u.default.createElement("h3",{className:"sf-heading"},(0,R.gettext)("Members")))),u.default.createElement("div",{className:"cur-view-content"},n&&1===n.length&&"Owner"===n[0].role?u.default.createElement("p",{className:"no-member"},(0,R.gettext)("No members")):u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"5%"}),u.default.createElement("th",{width:"50%"},(0,R.gettext)("Name")),u.default.createElement("th",{width:"15%"},(0,R.gettext)("Role")),u.default.createElement("th",{width:"30%"}))),u.default.createElement("tbody",null,n.map(function(t,n){return u.default.createElement(u.default.Fragment,{key:n},u.default.createElement(G,{member:t,showDeleteMemberDialog:e.showDeleteMemberDialog,isItemFreezed:e.state.isItemFreezed,onMemberChanged:e.onMemberChanged,toggleItemFreezed:e.toggleItemFreezed,groupID:o}))}))))),u.default.createElement("div",{className:"cur-view-subcontainer org-libriries"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("div",{className:"fleft"},u.default.createElement("h3",{className:"sf-heading"},(0,R.gettext)("Libraries")))),r.length>0?u.default.createElement("div",{className:"cur-view-content"},u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"5%"}),u.default.createElement("th",{width:"50%"},(0,R.gettext)("Name")),u.default.createElement("th",{width:"30%"},(0,R.gettext)("Size")),u.default.createElement("th",{width:"15%"}))),u.default.createElement("tbody",null,r.map(function(t,n){return u.default.createElement(u.default.Fragment,{key:n},u.default.createElement(W,{repo:t,showDeleteRepoDialog:e.showDeleteRepoDialog}))})))):u.default.createElement("p",{className:"no-libraty"},(0,R.gettext)("No libraries")))),u.default.createElement(u.default.Fragment,null,this.state.showDeleteMemberDialog&&u.default.createElement(C.default,null,u.default.createElement(J.default,{toggle:this.toggleCancel,onMemberChanged:this.onMemberChanged,member:this.state.deletedMember,groupID:o})),this.state.showDeleteRepoDialog&&u.default.createElement(C.default,null,u.default.createElement(O.default,{toggle:this.toggleCancel,onRepoChanged:this.onRepoChanged,repo:this.state.deletedRepo,groupID:o})),this.state.showDeleteDepartDialog&&u.default.createElement(C.default,null,u.default.createElement(H.default,{toggle:this.toggleCancel,groupID:this.state.subGroupID,groupName:this.state.subGroupName,onDepartChanged:this.onSubDepartChanged})),this.state.showSetGroupQuotaDialog&&u.default.createElement(C.default,null,u.default.createElement(F.default,{toggle:this.toggleCancel,groupID:this.state.subGroupID,onDepartChanged:this.onSubDepartChanged})))))}}]),t}(u.default.Component),G=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.props.isItemFreezed||n.setState({highlight:!0})},n.onMouseLeave=function(){n.props.isItemFreezed||n.setState({highlight:!1})},n.toggleMemberRoleMenu=function(){n.setState({showRoleMenu:!n.state.showRoleMenu})},n.onChangeUserRole=function(e){var t="Admin"===e;g.seafileAPI.orgAdminSetGroupMemberRole(R.orgID,n.props.groupID,n.props.member.email,t).then(function(e){n.props.onMemberChanged()}).catch(function(e){var t=h.Utils.getErrorMsg(e);S.default.danger(t)}),n.setState({highlight:!1})},n.state={highlight:!1,showRoleMenu:!1},n.roles=["Admin","Member"],n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.member,t=this.state.highlight,n=R.serviceURL+"/org/useradmin/info/"+e.email+"/";return"Owner"===e.role?null:u.default.createElement("tr",{className:t?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.default.createElement("td",null,u.default.createElement("img",{src:e.avatar_url,alt:"member-header",width:"24",className:"avatar"})),u.default.createElement("td",null,u.default.createElement("a",{href:n},e.name)),u.default.createElement("td",null,u.default.createElement(D.default,{isTextMode:!0,isEditIconShow:t,currentRole:e.role,roles:this.roles,onRoleChanged:this.onChangeUserRole,toggleItemFreezed:this.props.toggleItemFreezed})),this.props.isItemFreezed?u.default.createElement("td",null):u.default.createElement("td",{className:"cursor-pointer text-center",onClick:this.props.showDeleteMemberDialog.bind(this,e)},u.default.createElement("span",{className:"sf2-icon-x3 action-icon "+(t?"":"vh"),title:"Delete"})))}}]),t}(u.default.Component),x={groupID:d.default.string.isRequired,member:d.default.object.isRequired,isItemFreezed:d.default.bool.isRequired,onMemberChanged:d.default.func.isRequired,showDeleteMemberDialog:d.default.func.isRequired,toggleItemFreezed:d.default.func.isRequired};G.propTypes=x;var W=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.setState({highlight:!0})},n.onMouseLeave=function(){n.setState({highlight:!1})},n.state={highlight:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.repo,t=this.state.highlight,n=h.Utils.getLibIconUrl(e);return u.default.createElement("tr",{className:t?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.default.createElement("td",null,u.default.createElement("img",{src:n,width:"24",alt:(0,R.gettext)("icon")})),u.default.createElement("td",null,e.name),u.default.createElement("td",null,h.Utils.bytesToSize(e.size)," "),u.default.createElement("td",{className:"cursor-pointer text-center",onClick:this.props.showDeleteRepoDialog.bind(this,e)},u.default.createElement("span",{className:"sf2-icon-delete action-icon "+(t?"":"vh"),title:"Delete"})))}}]),t}(u.default.Component),I={repo:d.default.object.isRequired,showDeleteRepoDialog:d.default.func.isRequired};W.propTypes=I;var k=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.setState({highlight:!0})},n.onMouseLeave=function(){n.setState({highlight:!1})},n.state={highlight:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.group,t=this.state.highlight,n=R.siteRoot+"org/departmentadmin/groups/"+e.id+"/";return u.default.createElement("tr",{className:t?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.default.createElement("td",null,u.default.createElement(m.Link,{to:n},e.name)),u.default.createElement("td",null,(0,p.default)(e.created_at).fromNow()),u.default.createElement("td",{onClick:this.props.showSetGroupQuotaDialog.bind(this,e.id)},h.Utils.bytesToSize(e.quota)," ",u.default.createElement("span",{title:"Edit Quota",className:"fa fa-pencil-alt attr-action-icon "+(t?"":"vh")})),u.default.createElement("td",{className:"cursor-pointer text-center",onClick:this.props.showDeleteDepartDialog.bind(this,e)},u.default.createElement("span",{className:"sf2-icon-delete action-icon "+(t?"":"vh"),title:"Delete"})))}}]),t}(u.default.Component),K={group:d.default.object.isRequired,groupID:d.default.string,showSetGroupQuotaDialog:d.default.func.isRequired,showDeleteDepartDialog:d.default.func.isRequired,isSubdepartChanged:d.default.bool};k.propTypes=K;var A={groupID:d.default.string};B.propTypes=A,t.default=B},2419:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(4),g=n(3),h=n(5),Y=r(h),S=n(46),Z=r(S),L={toggle:d.default.func.isRequired,groupID:d.default.string.isRequired,onMemberChanged:d.default.func.isRequired},b=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelectChange=function(e){n.setState({selectedOption:e}),n.Options=[]},n.handleSubmit=function(){if(n.state.selectedOption){var e=n.state.selectedOption.email;n.refs.orgSelect.clearSelect(),n.setState({errMessage:[]}),m.seafileAPI.orgAdminAddGroupMember(p.orgID,n.props.groupID,e).then(function(e){n.setState({selectedOption:null}),e.data.failed.length>0&&n.setState({errMessage:e.data.failed[0].error_msg}),e.data.success.length>0&&(n.props.onMemberChanged(),n.props.toggle())}).catch(function(e){var t=g.Utils.getErrorMsg(e);Y.default.danger(t)})}},n.state={selectedOption:null,errMessage:""},n.Options=[],n}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.props.toggle},u.default.createElement(f.ModalHeader,{toggle:this.props.toggle},(0,p.gettext)("Add Member")),u.default.createElement(f.ModalBody,null,u.default.createElement(Z.default,{placeholder:(0,p.gettext)("Select users..."),onSelectChange:this.handleSelectChange,ref:"orgSelect",isMulti:!1,className:"org-add-member-select"}),this.state.errMessage&&u.default.createElement("p",{className:"error"},this.state.errMessage)),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"primary",onClick:this.handleSubmit},(0,p.gettext)("Submit")),u.default.createElement(f.Button,{color:"secondary",onClick:this.props.toggle},(0,p.gettext)("Cancel"))))}}]),t}(u.default.Component);b.propTypes=L,t.default=b},2420:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(4),g=n(3),h=n(5),Y=r(h),S={member:d.default.object.isRequired,groupID:d.default.string.isRequired,toggle:d.default.func.isRequired,onMemberChanged:d.default.func.isRequired},Z=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.deleteMember=function(){var e=n.props.member.email;m.seafileAPI.orgAdminDeleteGroupMember(p.orgID,n.props.groupID,e).then(function(e){e.data.success&&(n.props.onMemberChanged(),n.props.toggle())}).catch(function(e){var t=g.Utils.getErrorMsg(e);Y.default.danger(t)})},n}return i(t,e),l(t,[{key:"render",value:function(){var e=(0,p.gettext)("Are you sure you want to delete {placeholder} ?");return e=e.replace("{placeholder}",'<span class="op-target">'+g.Utils.HTMLescape(this.props.member.name)+"</span>"),u.default.createElement(f.Modal,{isOpen:!0,toggle:this.props.toggle},u.default.createElement(f.ModalHeader,{toggle:this.props.toggle},(0,p.gettext)("Delete Member")),u.default.createElement(f.ModalBody,null,u.default.createElement("div",{dangerouslySetInnerHTML:{__html:e}})),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"primary",onClick:this.deleteMember},(0,p.gettext)("Delete")),u.default.createElement(f.Button,{color:"secondary",onClick:this.props.toggle},(0,p.gettext)("Cancel"))))}}]),t}(u.default.Component);Z.propTypes=S,t.default=Z},2421:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(4),g=n(3),h={toggle:d.default.func.isRequired,groupID:d.default.string.isRequired,onRepoChanged:d.default.func.isRequired},Y=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSubmit=function(){n.validateName()&&m.seafileAPI.orgAdminAddDepartmentRepo(p.orgID,n.props.groupID,n.state.repoName.trim()).then(function(e){n.props.toggle(),n.props.onRepoChanged()}).catch(function(e){var t=g.Utils.getErrorMsg(e);n.setState({errMessage:t})})},n.validateName=function(){var e="";return!!n.state.repoName.trim().length||(e=(0,p.gettext)("Name is required"),n.setState({errMessage:e}),!1)},n.handleChange=function(e){n.setState({repoName:e.target.value})},n.handleKeyPress=function(e){"Enter"===e.key&&(n.handleSubmit(),e.preventDefault())},n.state={repoName:"",errMessage:""},n.newInput=u.default.createRef(),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.newInput.focus(),this.newInput.setSelectionRange(0,0)}},{key:"render",value:function(){var e=this;return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.props.toggle},u.default.createElement(f.ModalHeader,{toggle:this.props.toggle},(0,p.gettext)("New Library")),u.default.createElement(f.ModalBody,null,u.default.createElement(f.Form,null,u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,{for:"repoName"},(0,p.gettext)("Name")),u.default.createElement(f.Input,{id:"repoName",onKeyPress:this.handleKeyPress,value:this.state.repoName,onChange:this.handleChange,innerRef:function(t){e.newInput=t}}))),this.state.errMessage&&u.default.createElement("p",{className:"error"},this.state.errMessage)),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"primary",onClick:this.handleSubmit},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);Y.propTypes=h,t.default=Y},2422:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(4),g=n(3),h=n(5),Y=r(h),S=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.deleteRepo=function(){m.seafileAPI.orgAdminDeleteDepartmentRepo(p.orgID,n.props.groupID,n.props.repo.repo_id).then(function(e){e.data.success&&(n.props.onRepoChanged(),n.props.toggle())}).catch(function(e){var t=g.Utils.getErrorMsg(e);Y.default.danger(t)})},n}return i(t,e),l(t,[{key:"render",value:function(){var e=(0,p.gettext)("Are you sure you want to delete {placeholder} ?");return e=e.replace("{placeholder}",'<span class="op-target">'+g.Utils.HTMLescape(this.props.repo.name)+"</span>"),u.default.createElement(f.Modal,{isOpen:!0,toggle:this.props.toggle},u.default.createElement(f.ModalHeader,{toggle:this.props.toggle},(0,p.gettext)("Delete Library")),u.default.createElement(f.ModalBody,null,u.default.createElement("div",{dangerouslySetInnerHTML:{__html:e}})),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"primary",onClick:this.deleteRepo},(0,p.gettext)("Delete")),u.default.createElement(f.Button,{color:"secondary",onClick:this.props.toggle},(0,p.gettext)("Cancel"))))}}]),t}(u.default.Component),Z={repo:d.default.object.isRequired,toggle:d.default.func.isRequired,groupID:d.default.string.isRequired,onRepoChanged:d.default.func.isRequired};S.propTypes=Z,t.default=S},2423:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(27),p=n(2),m=n(207),g=r(m),h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tabItemClick=function(e){n.props.tabItemClick(e)},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this;return u.default.createElement(s.Fragment,null,u.default.createElement(g.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement("div",{className:"cur-view-path org-user-nav"},u.default.createElement("ul",{className:"nav"},u.default.createElement("li",{className:"nav-item",onClick:function(){return e.tabItemClick("logadmin")}},u.default.createElement(f.Link,{className:"nav-link "+("logadmin"===this.props.currentTab?"active":""),to:p.siteRoot+"org/logadmin/",title:(0,p.gettext)("File Access")},(0,p.gettext)("File Access"))),u.default.createElement("li",{className:"nav-item",onClick:function(){return e.tabItemClick("file-update")}},u.default.createElement(f.Link,{className:"nav-link "+("file-update"===this.props.currentTab?"active":""),to:p.siteRoot+"org/logadmin/file-update/",title:(0,p.gettext)("File Update")},(0,p.gettext)("File Update"))),u.default.createElement("li",{className:"nav-item",onClick:function(){return e.tabItemClick("perm-audit")}},u.default.createElement(f.Link,{className:"nav-link "+("perm-audit"===this.props.currentTab?"active":""),to:p.siteRoot+"org/logadmin/perm-audit/",title:(0,p.gettext)("Permission")},(0,p.gettext)("Permission"))))),this.props.children)))}}]),t}(s.Component),Y={currentTab:d.default.string.isRequired,tabItemClick:d.default.func.isRequired};h.propTypes=Y,t.default=h},2424:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(7),p=r(f),m=n(6),g=n(4),h=n(2),Y=n(3),S=n(5),Z=r(S),L=n(2425),b=r(L);n(1112),p.default.locale(h.lang);var C=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initData=function(e,t,r){g.seafileAPI.orgAdminListFileAudit(e,t,r).then(function(e){var t=e.data.log_list.map(function(e){return new b.default(e)});n.setState({eventList:t,pageNext:e.data.page_next,page:e.data.page,userSelected:e.data.user_selected,repoSelected:e.data.repo_selected})}).catch(function(e){var t=Y.Utils.getErrorMsg(e);Z.default.danger(t)})},n.onChangePageNum=function(e,t){e.preventDefault();var r=n.state.page;1==t?r+=1:r-=1;var a=n.state.userSelected,o=n.state.repoSelected;n.initData(a,o,r)},n.filterUser=function(e){n.setState({userSelected:e})},n.filterRepo=function(e){n.setState({repoSelected:e})},n.state={page:1,pageNext:!1,eventList:[],userSelected:"",repoSelected:"",isItemFreezed:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.state.page,t=this.state.userSelected,n=this.state.repoSelected;this.initData(t,n,e)}},{key:"render",value:function(){var e=this,t=this.state.eventList;return u.default.createElement("div",{className:"cur-view-content"},(this.state.userSelected||this.state.repoSelected)&&u.default.createElement(u.default.Fragment,null,this.state.userSelected&&u.default.createElement("span",{className:"audit-unselect-item",onClick:this.filterUser.bind(this,null)},u.default.createElement("span",{className:"no-deco"},this.state.userSelected)," \u2716"),this.state.repoSelected&&u.default.createElement("span",{className:"audit-unselect-item",onClick:this.filterRepo.bind(this,null)},u.default.createElement("span",{className:"no-deco"},this.state.repoSelected)," \u2716")),u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"24%"},(0,h.gettext)("User")),u.default.createElement("th",{width:"10%"},(0,h.gettext)("Type")),u.default.createElement("th",{width:"13%"},(0,h.gettext)("IP")),u.default.createElement("th",{width:"17%"},(0,h.gettext)("Date")),u.default.createElement("th",{width:"18%"},(0,h.gettext)("Library")),u.default.createElement("th",{width:"18%"},(0,h.gettext)("File")))),u.default.createElement("tbody",null,t.map(function(t,n){return u.default.createElement(D,{key:n,fileEvent:t,isItemFreezed:e.state.isItemFreezed,filterUser:e.filterUser,filterRepo:e.filterRepo,userSelected:e.state.userSelected,repoSelected:e.state.repoSelected})}))),u.default.createElement("div",{className:"paginator"},1!=this.state.page&&u.default.createElement("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,-1)}},(0,h.gettext)("Previous")),1!=this.state.page&&this.state.pageNext&&u.default.createElement("span",null," | "),this.state.pageNext&&u.default.createElement("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,1)}},(0,h.gettext)("Next"))))}}]),t}(u.default.Component),w={filterUser:d.default.func.isRequired,filterRepo:d.default.func.isRequired,isItemFreezed:d.default.bool.isRequired,fileEvent:d.default.object.isRequired,userSelected:d.default.string,repoSelected:d.default.string},D=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.props.isItemFreezed||n.setState({showMenu:!0,highlight:!0})},n.onMouseLeave=function(){n.props.isItemFreezed||n.setState({showMenu:!1,highlight:!1})},n.toggleUserDropdown=function(){n.setState({userDropdownOpen:!n.state.userDropdownOpen})},n.renderUser=function(e){return e.user_email?u.default.createElement("span",null,u.default.createElement("a",{href:h.siteRoot+"org/useradmin/info/"+e.user_email+"/"},e.user_name)," ",u.default.createElement(m.Dropdown,{size:"sm",isOpen:n.state.userDropdownOpen,toggle:n.toggleUserDropdown,className:n.state.highlight?"":"vh",tag:"span"},u.default.createElement(m.DropdownToggle,{tag:"i",className:"sf-dropdown-toggle sf2-icon-caret-down"}),u.default.createElement(m.DropdownMenu,null,u.default.createElement(m.DropdownItem,{onClick:n.props.filterUser.bind(n,e.user_email)},(0,h.gettext)("Only Show")," ",u.default.createElement("span",{className:"font-weight-bold"},e.user_name))))):(0,h.gettext)("Anonymous User")},n.renderType=function(e){return-1!=e.indexOf("web")&&(e="web"),-1!=e.indexOf("api")&&(e="api"),-1!=e.indexOf("share-link")&&(e="share link"),e},n.toggleRepoDropdown=function(){n.setState({repoDropdownOpen:!n.state.repoDropdownOpen})},n.renderRepo=function(e){var t="Deleted";return e.repo_name&&(t=e.repo_name),u.default.createElement("span",null,u.default.createElement("span",null,t),e.repo_name&&u.default.createElement(m.Dropdown,{size:"sm",isOpen:n.state.repoDropdownOpen,toggle:n.toggleRepoDropdown,className:n.state.highlight?"":"vh"},u.default.createElement(m.DropdownToggle,{tag:"i",className:"sf-dropdown-toggle sf2-icon-caret-down"}),u.default.createElement(m.DropdownMenu,null,u.default.createElement(m.DropdownItem,{size:"sm",onClick:n.props.filterRepo.bind(n,e.repo_name)},(0,h.gettext)("Only Show")," ",u.default.createElement("span",{className:"font-weight-bold"},e.repo_name)))))},n.state={highlight:!1,showMenu:!1,isItemMenuShow:!1,userDropdownOpen:!1,repoDropdownOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.fileEvent;return this.props.userSelected&&e.user_email!==this.props.userSelected?null:this.props.repoSelected&&e.repo_name!==this.props.repoSelected?null:u.default.createElement("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.default.createElement("td",null,this.renderUser(e)),u.default.createElement("td",null,this.renderType(e.type)),u.default.createElement("td",null,e.ip),u.default.createElement("td",null,(0,p.default)(e.time).format("YYYY-MM-DD HH:mm:ss")),u.default.createElement("td",null,this.renderRepo(e)),u.default.createElement("td",null,u.default.createElement("span",{title:e.file_path},e.file_name)))}}]),t}(u.default.Component);D.propTypes=w,t.default=C},2425:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=n(7),i=function(e){return e&&e.__esModule?e:{default:e}}(o);i.default.locale(a.lang);var l=function e(t){r(this,e),this.ip=t.ip,this.type=t.type,this.device=t.device,this.repo_id=t.repo_id,this.repo_name=t.repo_name,this.file_name=t.file_name,this.file_path=t.file_path,this.user_name=t.user_name,this.user_email=t.user_email,this.user_contact_email=t.user_contact_email,this.time=(0,i.default)(t.time).format("YYYY-MM-DD HH:mm:ss")};t.default=l},2426:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(7),p=r(f),m=n(6),g=n(4),h=n(2),Y=n(3),S=n(5),Z=r(S),L=n(2427),b=r(L),C=n(16),w=r(C),D=n(2428),y=r(D);n(1112),p.default.locale(h.lang);var v=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initData=function(e,t,r){g.seafileAPI.orgAdminListFileUpdate(e,t,r).then(function(e){var t=e.data.log_list.map(function(e){return new b.default(e)});n.setState({eventList:t,pageNext:e.data.page_next,page:e.data.page})}).catch(function(e){var t=Y.Utils.getErrorMsg(e);Z.default.danger(t)})},n.onChangePageNum=function(e,t){e.preventDefault();var r=n.state.page;1==t?r+=1:r-=1;var a=n.state.userSelected,o=n.state.repoSelected;n.initData(a,o,r)},n.toggleCancelDetail=function(){n.setState({showDetails:!n.state.showDetails})},n.onDetails=function(e,t){e.preventDefault(),n.setState({showDetails:!n.state.showDetails,repoID:t.repo_id,commitID:t.repo_commit_id})},n.filterUser=function(e){n.setState({userSelected:e})},n.filterRepo=function(e){n.setState({repoSelected:e})},n.state={page:1,pageNext:!1,eventList:[],userSelected:"",repoSelected:"",isItemFreezed:!1,showDetails:!1,repoID:"",commitID:""},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.state.page,t=this.state.userSelected,n=this.state.repoSelected;this.initData(t,n,e)}},{key:"render",value:function(){var e=this,t=this.state.eventList;return u.default.createElement("div",{className:"cur-view-content"},(this.state.userSelected||this.state.repoSelected)&&u.default.createElement(u.default.Fragment,null,this.state.userSelected&&u.default.createElement("span",{className:"audit-unselect-item",onClick:this.filterUser.bind(this,null)},u.default.createElement("span",{className:"no-deco"},this.state.userSelected)," \u2716"),this.state.repoSelected&&u.default.createElement("span",{className:"audit-unselect-item",onClick:this.filterRepo.bind(this,null)},u.default.createElement("span",{className:"no-deco"},this.state.repoSelected)," \u2716")),u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"25%"},(0,h.gettext)("User")),u.default.createElement("th",{width:"17%"},(0,h.gettext)("Date")),u.default.createElement("th",{width:"25%"},(0,h.gettext)("Library")),u.default.createElement("th",{width:"33%"},(0,h.gettext)("Action")))),u.default.createElement("tbody",null,t.map(function(t,n){return u.default.createElement(M,{key:n,fileEvent:t,isItemFreezed:e.state.isItemFreezed,onDetails:e.onDetails,filterUser:e.filterUser,filterRepo:e.filterRepo,userSelected:e.state.userSelected,repoSelected:e.state.repoSelected})}))),u.default.createElement("div",{className:"paginator"},1!=this.state.page&&u.default.createElement("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,-1)}},(0,h.gettext)("Previous")),1!=this.state.page&&this.state.pageNext&&u.default.createElement("span",null," | "),this.state.pageNext&&u.default.createElement("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,1)}},(0,h.gettext)("Next"))),this.state.showDetails&&u.default.createElement(w.default,null,u.default.createElement(y.default,{repoID:this.state.repoID,commitID:this.state.commitID,toggleCancel:this.toggleCancelDetail})))}}]),t}(s.Component),E={filterUser:d.default.func.isRequired,filterRepo:d.default.func.isRequired,onDetails:d.default.func.isRequired,userSelected:d.default.string.isRequired,repoSelected:d.default.string.isRequired,isItemFreezed:d.default.bool.isRequired},M=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.props.isItemFreezed||n.setState({showMenu:!0,highlight:!0})},n.onMouseLeave=function(){n.props.isItemFreezed||n.setState({showMenu:!1,highlight:!1})},n.toggleUserDropdown=function(){n.setState({userDropdownOpen:!n.state.userDropdownOpen})},n.renderUser=function(e){return e.user_email?u.default.createElement("span",null,u.default.createElement("a",{href:h.siteRoot+"org/useradmin/info/"+e.user_email+"/"},e.user_name)," ",u.default.createElement(m.Dropdown,{size:"sm",isOpen:n.state.userDropdownOpen,toggle:n.toggleUserDropdown,className:n.state.highlight?"":"vh",tag:"span"},u.default.createElement(m.DropdownToggle,{tag:"i",className:"sf-dropdown-toggle sf2-icon-caret-down"}),u.default.createElement(m.DropdownMenu,null,u.default.createElement(m.DropdownItem,{onClick:n.props.filterUser.bind(n,e.user_email)},(0,h.gettext)("Only Show")," ",u.default.createElement("span",{className:"font-weight-bold"},e.user_name))))):(0,h.gettext)("Anonymous User")},n.toggleRepoDropdown=function(){n.setState({repoDropdownOpen:!n.state.repoDropdownOpen})},n.renderRepo=function(e){var t="Deleted";return e.repo_name&&(t=e.repo_name),u.default.createElement("span",null,u.default.createElement("span",null,t),e.repo_name&&u.default.createElement(m.Dropdown,{size:"sm",isOpen:n.state.repoDropdownOpen,toggle:n.toggleRepoDropdown,className:n.state.highlight?"":"vh"},u.default.createElement(m.DropdownToggle,{tag:"i",className:"sf-dropdown-toggle sf2-icon-caret-down"}),u.default.createElement(m.DropdownMenu,null,u.default.createElement(m.DropdownItem,{size:"sm",onClick:n.props.filterRepo.bind(n,e.repo_name)},(0,h.gettext)("Only Show")," ",u.default.createElement("span",{className:"font-weight-bold"},e.repo_name)))))},n.renderAction=function(e){return e.repo_encrypted||!e.repo_id?u.default.createElement("td",null,e.description):u.default.createElement("td",null,e.description,u.default.createElement("a",{className:"font-weight-normal text-muted ml-1",href:"#",onClick:function(t){return n.props.onDetails(t,e)}},(0,h.gettext)("Details")))},n.state={highlight:!1,showMenu:!1,isItemMenuShow:!1,userDropdownOpen:!1,repoDropdownOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.fileEvent;return this.props.userSelected&&e.user_email!==this.props.userSelected?null:this.props.repoSelected&&e.repo_name!==this.props.repoSelected?null:u.default.createElement("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.default.createElement("td",null,this.renderUser(e)),u.default.createElement("td",null,(0,p.default)(e.time).format("YYYY-MM-DD HH:mm:ss")),u.default.createElement("td",null,this.renderRepo(e)),this.renderAction(e))}}]),t}(u.default.Component);M.propTypes=E,t.default=v},2427:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=n(7),i=function(e){return e&&e.__esModule?e:{default:e}}(o);i.default.locale(a.lang);var l=function e(t){r(this,e),this.repo_id=t.repo_id,this.description=t.description,this.repo_name=t.repo_name,this.user_name=t.user_name,this.user_email=t.user_email,this.repo_encrypted=t.repo_encrypted,this.repo_commit_id=t.repo_commit_id,this.user_contact_email=t.user_contact_email,this.time=(0,i.default)(t.time).format("YYYY-MM-DD HH:mm:ss")};t.default=l},2428:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(4),m=n(2),g=n(3),h=n(5),Y=r(h),S={repoID:d.default.string.isRequired,commitID:d.default.string.isRequired,toggleCancel:d.default.func.isRequired},Z=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderContentItem=function(e){var t="";t+='<ul class="list-group list-group-flush">';for(var n=0,r=e.length;n<r;n++)t+='<li class="list-group-item">'+e[n]+"</li>";return t+="</ul>",{__html:t}},n.renderContent=function(){return n.state.newfile.length>0?u.default.createElement("div",null,u.default.createElement("h4",null,(0,m.gettext)("New files")),u.default.createElement("p",null,n.state.time),u.default.createElement("div",{dangerouslySetInnerHTML:n.renderContentItem(n.state.newfile)})):n.state.removed.length>0?u.default.createElement("div",null,u.default.createElement("h4",null,(0,m.gettext)("Deleted files")),u.default.createElement("p",null,n.state.time),u.default.createElement("div",{dangerouslySetInnerHTML:n.renderContentItem(n.state.removed)})):n.state.renamed.length>0?u.default.createElement("div",null,u.default.createElement("h4",null,(0,m.gettext)("Renamed or Moved files")),u.default.createElement("p",null,n.state.time),u.default.createElement("div",{dangerouslySetInnerHTML:n.renderContentItem(n.state.renamed)})):n.state.modified.length>0?u.default.createElement("div",null,u.default.createElement("h4",null,(0,m.gettext)("Modified files")),u.default.createElement("p",null,n.state.time),u.default.createElement("div",{dangerouslySetInnerHTML:n.renderContentItem(n.state.modified)})):n.state.newdir.length>0?u.default.createElement("div",null,u.default.createElement("h4",null,(0,m.gettext)("New directories")),u.default.createElement("p",null,n.state.time),u.default.createElement("div",{dangerouslySetInnerHTML:n.renderContentItem(n.state.newdir)})):n.state.deldir.length>0?u.default.createElement("div",null,u.default.createElement("h4",null,(0,m.gettext)("Deleted directories")),u.default.createElement("p",null,n.state.time),u.default.createElement("div",{dangerouslySetInnerHTML:n.renderContentItem(n.state.deldir)})):void 0},n.state={time:"",renamed:[],deldir:[],modified:[],newdir:[],newfile:[],removed:[]},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;p.seafileAPI.orgAdminGetFileUpdateDetail(this.props.repoID,this.props.commitID).then(function(t){e.setState({time:t.data.date_time,renamed:e.state.renamed.concat(t.data.renamed),deldir:e.state.deldir.concat(t.data.deldir),modified:e.state.modified.concat(t.data.modified),newdir:e.state.newdir.concat(t.data.newdir),newfile:e.state.newfile.concat(t.data.new),removed:e.state.removed.concat(t.data.removed)})}).catch(function(e){var t=g.Utils.getErrorMsg(e);Y.default.danger(t)})}},{key:"render",value:function(){return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.props.toggleCancel},u.default.createElement(f.ModalHeader,{toggle:this.props.toggleCancel},(0,m.gettext)("Modification Details")),u.default.createElement(f.ModalBody,null,this.renderContent()))}}]),t}(u.default.Component);Z.propTypes=S,t.default=Z},2429:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(7),p=r(f),m=n(6),g=n(4),h=n(2),Y=n(3),S=n(5),Z=r(S),L=n(2430),b=r(L);n(1112),p.default.locale(h.lang);var C=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initData=function(e,t,r){g.seafileAPI.orgAdminListPermAudit(e,t,r).then(function(e){var t=e.data.log_list.map(function(e){return new b.default(e)});n.setState({eventList:t,pageNext:e.data.page_next,page:e.data.page})}).catch(function(e){var t=Y.Utils.getErrorMsg(e);Z.default.danger(t)})},n.onChangePageNum=function(e,t){e.preventDefault();var r=n.state.page;1==t?r+=1:r-=1,n.initData(r)},n.filterUser=function(e){n.setState({userSelected:e})},n.state={page:1,pageNext:!1,eventList:[],userSelected:"",repoSelected:"",isItemFreezed:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.state.page,t=this.state.userSelected,n=this.state.repoSelected;this.initData(t,n,e)}},{key:"render",value:function(){var e=this,t=this.state.eventList;return u.default.createElement("div",{className:"cur-view-content"},this.state.userSelected&&u.default.createElement("span",{className:"audit-unselect-item",onClick:this.filterUser.bind(this,null)},u.default.createElement("span",{className:"no-deco"},this.state.userSelected)," \u2716"),u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"18%"},(0,h.gettext)("Share From")),u.default.createElement("th",{width:"15%"},(0,h.gettext)("Share To")),u.default.createElement("th",{width:"8%"},(0,h.gettext)("Actions")),u.default.createElement("th",{width:"13%"},(0,h.gettext)("Permission")),u.default.createElement("th",{width:"15%"},(0,h.gettext)("Library")),u.default.createElement("th",{width:"15%"},(0,h.gettext)("Folder")),u.default.createElement("th",{width:"16%"},(0,h.gettext)("Date")))),u.default.createElement("tbody",null,t.map(function(t,n){return u.default.createElement(D,{key:n,permEvent:t,isItemFreezed:e.state.isItemFreezed,filterUser:e.filterUser,userSelected:e.state.userSelected})}))),u.default.createElement("div",{className:"paginator"},1!=this.state.page&&u.default.createElement("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,-1)}},(0,h.gettext)("Previous")),1!=this.state.page&&this.state.pageNext&&u.default.createElement("span",null," | "),this.state.pageNext&&u.default.createElement("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,1)}},(0,h.gettext)("Next"))))}}]),t}(s.Component),w={filterUser:d.default.func.isRequired,isItemFreezed:d.default.bool.isRequired,userSelected:d.default.string.isRequired,permEvent:d.default.object.isRequired},D=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.props.isItemFreezed||n.setState({showMenu:!0,highlight:!0})},n.onMouseLeave=function(){n.props.isItemFreezed||n.setState({showMenu:!1,highlight:!1})},n.renderFromUser=function(e){return e.from_user_email?u.default.createElement("span",null,u.default.createElement("a",{href:h.siteRoot+"org/useradmin/info/"+e.from_user_email+"/"},e.from_user_name)," ",u.default.createElement(m.Dropdown,{size:"sm",isOpen:n.state.userDropdownOpen,toggle:n.toggleUserDropdown,className:n.state.highlight?"":"vh",tag:"span"},u.default.createElement(m.DropdownToggle,{tag:"i",className:"sf-dropdown-toggle sf2-icon-caret-down"}),u.default.createElement(m.DropdownMenu,null,u.default.createElement(m.DropdownItem,{onClick:n.props.filterUser.bind(n,e.from_user_email)},(0,h.gettext)("Only Show")," ",u.default.createElement("span",{className:"font-weight-bold"},e.from_user_name))))):(0,h.gettext)("Anonymous User")},n.toggleUserDropdown=function(){n.setState({userDropdownOpen:!n.state.userDropdownOpen})},n.renderToUser=function(e){return-1!=e.type.indexOf("public")?u.default.createElement("a",{href:h.siteRoot+"org/"},(0,h.gettext)("Organization")):-1!=e.type.indexOf("group")?e.to_group_name?u.default.createElement("a",{href:h.siteRoot+"org/groupadmin/"+e.to_group_id+"/"},e.to_group_name):"Deleted":-1!=e.type.indexOf("user")?u.default.createElement("a",{href:h.siteRoot+"org/useradmin/info/"+e.to_user_email+"/"},e.to_user_name):void 0},n.renderType=function(e){return-1!=e.indexOf("add")&&(e="Add"),-1!=e.indexOf("modify")&&(e="Modify"),-1!=e.indexOf("delete")&&(e="Delete"),e},n.renderRepo=function(e){var t="Deleted";return e.repo_name&&(t=e.repo_name),t},n.renderFolder=function(e){var t="/";return e&&(t=e),t},n.state={highlight:!1,showMenu:!1,isItemMenuShow:!1,userDropdownOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.permEvent;return this.props.userSelected&&e.from_user_email!==this.props.userSelected?null:u.default.createElement("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.default.createElement("td",null,this.renderFromUser(e)),u.default.createElement("td",null,this.renderToUser(e)),u.default.createElement("td",null,this.renderType(e.type)),u.default.createElement("td",null,Y.Utils.sharePerms(e.permission)),u.default.createElement("td",null,this.renderRepo(e)),u.default.createElement("td",null,this.renderFolder(e.folder_name)),u.default.createElement("td",null,(0,p.default)(e.time).format("YYYY-MM-DD HH:mm:ss")))}}]),t}(u.default.Component);D.propTypes=w,t.default=C},2430:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=n(7),i=function(e){return e&&e.__esModule?e:{default:e}}(o);i.default.locale(a.lang);var l=function e(t){r(this,e),this.from_user_name=t.from_user_name,this.from_user_email=t.from_user_email,this.from_user_contact_email=t.from_user_contact_email,this.to_user_email=t.to_user_email,this.to_user_name=t.to_user_name,this.to_user_contact_email=t.to_user_contact_email,this.to_group_name=t.to_group_name,this.to_group_id=t.to_group_id,this.type=t.type,this.repo_id=t.repo_id,this.repo_name=t.repo_name,this.folder_name=t.folder_name,this.folder_path=t.folder_path,this.time=(0,i.default)(t.time).format("YYYY-MM-DD HH:mm:ss"),this.permission=t.permission};t.default=l},25:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),c=n(14),d=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.containerStyle=(0,c.css)({borderRadius:"3px",backgroundColor:"#fff",padding:"10px 16px",display:"flex",boxSizing:"border-box",boxShadow:"rgba(67, 90, 111, 0.3) 0px 0px 1px, rgba(67, 90, 111, 0.47) 0px 8px 10px -4px",justifyContent:"space-between",flexDirection:"row"}),n.containerBorderSuccess=(0,c.css)({borderLeft:"3px solid rgb(71, 184, 129)"}),n.containerBorderWarn=(0,c.css)({borderLeft:"3px solid rgb(217, 130, 43)"}),n.containerBorderDanger=(0,c.css)({borderLeft:"3px solid rgb(236, 76, 71)"}),n.containerBorderNotify=(0,c.css)({borderLeft:"3px solid rgb(16, 112, 202)"}),n.toastTextTitle=(0,c.css)({fontWeight:"600",fontSize:"14px",color:"#435a6f",margin:"0"}),n.toastTextChild=(0,c.css)({fontSize:"14px",color:"#999",margin:"0"}),n.toastClose=(0,c.css)({marginLeft:"15px",height:"24px",width:"24px",lineHeight:"22px",fontWeight:"700",textAlign:"center",fontSize:"20px",color:"#000",cursor:"pointer",opacity:"0.5",":hover":{opacity:1}}),n.toastIcon=(0,c.css)({marginRight:"10px",width:"14px",height:"20px",lineHeight:"20px"}),n}return o(t,e),l(t,[{key:"getContainerStyle",value:function(e){switch(e){case"success":return{borderStyle:this.containerBorderSuccess,iconColor:(0,c.css)({color:"rgb(71, 184, 129)"}),iconClass:"fa fa-check-circle"};case"warning":return{borderStyle:this.containerBorderWarn,iconColor:(0,c.css)({color:"rgb(217, 130, 43)"}),iconClass:"fa fa-exclamation-triangle"};case"none":return{borderStyle:this.containerBorderNotify,iconColor:(0,c.css)({color:"rgb(16, 112, 202)"}),iconClass:"fa fa-exclamation-circle"};case"danger":return{borderStyle:this.containerBorderDanger,iconColor:(0,c.css)({color:"rgb(236, 76, 71)"}),iconClass:"fa fa-exclamation-circle"}}}},{key:"render",value:function(){var e=this.getContainerStyle(this.props.intent);return u.default.createElement("div",(0,c.css)(e.borderStyle,this.containerStyle),u.default.createElement("div",{className:this.toastIcon},u.default.createElement("i",i({className:e.iconClass},e.iconColor))),u.default.createElement("div",{className:this.toastTextContainer},u.default.createElement("p",{className:this.toastTextTitle},this.props.title),this.props.children?u.default.createElement("p",{className:this.toastTextChild},this.props.children):null),u.default.createElement("div",{onClick:this.props.onRemove,className:this.toastClose},u.default.createElement("span",null,"\xd7")))}}]),t}(u.default.PureComponent);t.default=d},26:function(e,t,n){"use strict";function r(){var e=i.loginUrl+"?next="+encodeURIComponent(location.href),t=(0,i.gettext)("Permission denied. Please try {placeholder-left}login again.{placeholder-right}");return t=t.replace("{placeholder-left}",'<a class="action-link p-0" href='+e+">"),t=t.replace("{placeholder-right}","</a>"),o.default.createElement("span",{className:"error",dangerouslySetInnerHTML:{__html:t}})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=n(2);t.default=r},28:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(50),i=(n(60),function(){function e(){r(this,e)}return a(e,[{key:"init",value:function(e){var t=e.server,n=e.username,r=e.password,a=e.token;return this.server=t,this.username=n,this.password=r,this.token=a,this.token&&this.server&&(this.req=o.create({baseURL:this.server,headers:{Authorization:"Token "+this.token}})),this}},{key:"initForSeahubUsage",value:function(e){var t=e.siteRoot,n=e.xcsrfHeaders;if(t&&"/"===t.charAt(t.length-1)){var r=t.substring(0,t.length-1);this.server=r}else this.server=t;return this.req=o.create({headers:{"X-CSRFToken":n}}),this}},{key:"_sendPostRequest",value:function(e,t){return t.getHeaders?this.req.post(e,t,{headers:t.getHeaders()}):this.req.post(e,t)}},{key:"getToken",value:function(){var e=this,t=this.server+"/api2/auth-token/";o.post(t,{username:this.username,password:this.password}).then(function(t){return e.token=t.data,e.token})}},{key:"certifyOnBloxberg",value:function(e,t){var n=this.server+"/api2/certify/",r={repo_id:e,path:t};return this.req.post(n,r)}},{key:"addDoi",value:function(e){var t=this.server+"/api2/doi/",n={repo_id:e};return this.req.post(t,n)}},{key:"canArchive",value:function(e){var t=this.server+"/api2/can-archive/",n={repo_id:e};return this.req.post(t,n)}},{key:"archiveLibrary",value:function(e){var t=this.server+"/api2/archive/",n={repo_id:e};return this.req.post(t,n)}},{key:"listLibraryDetails",value:function(){var e=this.server+"/api2/library-details/";return this.req.get(e)}}]),e}());t.KeeperAPI=i},289:function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function l(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?d(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){m(e,t,n[t])})}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){if(null==e)return{};var n,r,a=h(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function h(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}Object.defineProperty(t,"__esModule",{value:!0}),t.Collapse=t.collapseDuration=t.Fade=void 0;var Y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),S=n(504),Z=function(e){var t=e.component,n=e.duration,r=void 0===n?1:n,a=e.in,o=(e.onExited,g(e,["component","duration","in","onExited"])),i={entering:{opacity:0},entered:{opacity:1,transition:"opacity ".concat(r,"ms")},exiting:{opacity:0},exited:{opacity:0}};return Y.default.createElement(S.Transition,{mountOnEnter:!0,unmountOnExit:!0,in:a,timeout:r},function(e){var n={style:p({},i[e])};return Y.default.createElement(t,f({innerProps:n},o))})};t.Fade=Z;var L=260;t.collapseDuration=L;var b=function(e){function t(){var e,n;a(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=l(this,(e=s(t)).call.apply(e,[this].concat(o))),m(d(d(n)),"duration",L),m(d(d(n)),"rafID",void 0),m(d(d(n)),"state",{width:"auto"}),m(d(d(n)),"transition",{exiting:{width:0,transition:"width ".concat(n.duration,"ms ease-out")},exited:{width:0}}),m(d(d(n)),"getWidth",function(e){e&&isNaN(n.state.width)&&(n.rafID=window.requestAnimationFrame(function(){var t=e.getBoundingClientRect(),r=t.width;n.setState({width:r})}))}),m(d(d(n)),"getStyle",function(e){return{overflow:"hidden",whiteSpace:"nowrap",width:e}}),m(d(d(n)),"getTransition",function(e){return n.transition[e]}),n}return u(t,e),i(t,[{key:"componentWillUnmount",value:function(){this.rafID&&window.cancelAnimationFrame(this.rafID)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.in,a=this.state.width;return Y.default.createElement(S.Transition,{enter:!1,mountOnEnter:!0,unmountOnExit:!0,in:r,timeout:this.duration},function(t){var r=p({},e.getStyle(a),e.getTransition(t));return Y.default.createElement("div",{ref:e.getWidth,style:r},n)})}}]),t}(Y.Component);t.Collapse=b},3:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=void 0;var a=n(2),o=n(21),i=n(17),l=r(i),s=n(0),u=r(s),c=n(5),d=r(c),f=n(26),p=r(f),m=t.Utils={keyCodes:{esc:27,space:32,tab:9,up:38,down:40},bytesToSize:function(e){if("undefined"==typeof e)return" ";if(e<0)return"--";var t=["bytes","KB","MB","GB","TB","PB"];if(0===e)return e+" "+t[0];var n=parseInt(Math.floor(Math.log(e)/Math.log(1e3)),10);return 0===n?e+" "+t[n]:(e/Math.pow(1e3,n)).toFixed(1)+" "+t[n]},isHiDPI:function(){return(window.devicePixelRatio?window.devicePixelRatio:1)>1},isDesktop:function(){return window.innerWidth>=768},isWeChat:function(){var e=window.navigator.userAgent.toLowerCase(),t="micromessenger"==e.match(/MicroMessenger/i);return"micromessenger"==e.match(/MicroMessenger/i)&&"wxwork"==e.match(/wxwork/i)||t},FILEEXT_ICON_MAP:{md:"txt.png",txt:"txt.png",pdf:"pdf.png",doc:"word.png",docx:"word.png",odt:"word.png",fodt:"word.png",ppt:"ppt.png",pptx:"ppt.png",odp:"ppt.png",fodp:"ppt.png",xls:"excel.png",xlsx:"excel.png",ods:"excel.png",fods:"excel.png",mp4:"video.png",ogv:"video.png",webm:"video.png",mov:"video.png",flv:"video.png",wmv:"video.png",rmvb:"video.png",mp3:"music.png",oga:"music.png",ogg:"music.png",flac:"music.png",aac:"music.png",ac3:"music.png",wma:"music.png",jpg:"pic.png",jpeg:"pic.png",png:"pic.png",svg:"pic.png",gif:"pic.png",bmp:"pic.png",ico:"pic.png",default:"file.png"},imageCheck:function(e){return-1!=e.lastIndexOf(".")&&-1!=["gif","jpeg","jpg","png","ico","bmp","tif","tiff"].indexOf(e.substr(e.lastIndexOf(".")+1).toLowerCase())},getShareLinkPermissionList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=["preview_only"];return"library"===e?a.push("preview_download"):"dir"===e?"rw"!=t&&"admin"!=t&&"r"!=t||a.push("preview_download"):"file"===e&&("rw"!=t&&"admin"!=t&&"r"!=t||a.push("preview_download"),this.isEditableOfficeFile(n)&&("rw"==t||"admin"==t)&&r&&a.push("edit_download")),a},getShareLinkPermissionStr:function(e){var t=e.can_edit,n=e.can_download;return t?n?"edit_download":"cloud_edit":n?"preview_download":"preview_only"},isEditableOfficeFile:function(e){return-1!=e.lastIndexOf(".")&&-1!=["docx","pptx","xlsx"].indexOf(e.substr(e.lastIndexOf(".")+1).toLowerCase())},videoCheck:function(e){return-1!=e.lastIndexOf(".")&&-1!=["mp4","ogv","webm","mov"].indexOf(e.substr(e.lastIndexOf(".")+1).toLowerCase())},checkDuplicatedNameInList:function(e,t){return e.some(function(e){return e.name===t})},encodePath:function(e){if(!e)return"";for(var t=e.split("/"),n=[],r=0,a=t.length;r<a;r++)n.push(encodeURIComponent(t[r]));return n.join("/")},HTMLescape:function(e){return document.createElement("div").appendChild(document.createTextNode(e)).parentNode.innerHTML},generateDialogTitle:function(e,t){var n=this.HTMLescape(t),r='<span class="op-target ellipsis ellipsis-op-target" title='+n+">"+n+"</span>";return e.replace("{placeholder}",r)},getFileName:function(e){var t=e.lastIndexOf("/");return e.slice(t+1)},getPaths:function(e){for(var t=e.split("/").slice(1),n=[];t.length;)n.push("/"+t.join("/")),t.pop();return n.reverse()},getFolderName:function(e){return"/"===e?e:(e="/"!==e[e.length-1]?e:e.slice(0,e.length-2),e.slice(e.lastIndexOf("/")+1))},getDirName:function(e){var t=e.slice(0,e.lastIndexOf("/"));return""===t?"/":t},isChildPath:function(e,t){return this.getDirName(e)===t},isAncestorPath:function(e,t){return t.indexOf(e)>-1},renameAncestorPath:function(e,t,n){return e.replace(t,n)},joinPath:function(e,t){return"/"===e[e.length-1]?e+t:e+"/"+t},isSupportUploadFolder:function(){return-1!=navigator.userAgent.indexOf("Firefox")||navigator.userAgent.indexOf("Chrome")>-1||navigator.userAgent.indexOf("Safari")>-1},isIEBrower:function(){var e=navigator.userAgent,t=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1,n=e.indexOf("Trident")>-1&&e.indexOf("rv:11.0")>-1;return t||n},getDefaultLibIconUrl:function(e){var t=m.isHiDPI()?48:24;t=e?256:t;return a.mediaUrl+"img/lib/"+t+"/lib.png"},getLibIconUrl:function(e,t){var n=e.permission||e.share_permission,r=m.isHiDPI()?48:24;r=t?256:r;var o="lib.png";switch(e.encrypted&&(o="lib-encrypted.png"),n){case"r":o="lib-readonly.png";break;case"preview":o="lib-cloud-preview.png";break;case"cloud-edit":o="lib-cloud-preview-edit.png"}return"read-only"==e.status&&(o="lib-readonly.png"),a.mediaUrl+"img/lib/"+r+"/"+o},getDirentIcon:function(e,t){var n=this.isHiDPI()?48:24;if(n=t?192:n,e.isDir()){var r=!1;return!e.permission||"r"!==e.permission&&"preview"!==e.permission||(r=!0),this.getFolderIconUrl(r,n)}return this.getFileIconUrl(e.name,n)},getAdminTemplateDirentIcon:function(e,t){var n=this.isHiDPI()?48:24;return n=t?192:n,e.is_file?this.getFileIconUrl(e.obj_name,n):this.getFolderIconUrl()},getFolderIconUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];return t||(t=m.isHiDPI()?48:24),t=t>24?192:24,a.mediaUrl+"img/folder"+(e?"-read-only-":"-")+t+".png"},getFileIconUrl:function(e,t){t||(t=m.isHiDPI()?48:24),t=t>24?192:24;var n="";return-1==e.lastIndexOf(".")?a.mediaUrl+"img/file/"+t+"/"+this.FILEEXT_ICON_MAP.default:(n=e.substr(e.lastIndexOf(".")+1).toLowerCase(),this.FILEEXT_ICON_MAP[n]?a.mediaUrl+"img/file/"+t+"/"+this.FILEEXT_ICON_MAP[n]:a.mediaUrl+"img/file/"+t+"/"+this.FILEEXT_ICON_MAP.default)},getLibIconTitle:function(e){var t,n=e.permission||e.share_permission;if(e.encrypted)t=(0,a.gettext)("Encrypted library");else if(e.is_admin)t=(0,a.gettext)("Admin access");else switch(n){case"rw":t=(0,a.gettext)("Read-Write library");break;case"r":t=(0,a.gettext)("Read-Only library");break;case"cloud-edit":t=(0,a.gettext)("Online Read-Write library");break;case"preview":t=(0,a.gettext)("Online Read-Only library")}return t},getFolderIconTitle:function(e){var t;switch(e.permission){case"rw":t=(0,a.gettext)("Read-Write folder");break;case"r":t=(0,a.gettext)("Read-Only folder");break;case"cloud-edit":t=(0,a.gettext)("Online Read-Write folder");break;case"preview":t=(0,a.gettext)("Online Read-Only folder")}return t},getFolderOperationList:function(e,t,n,r){var o=[],i=l.default.SHARE,s=l.default.DOWNLOAD,u=l.default.DELETE,c=l.default.RENAME,d=l.default.MOVE,f=l.default.COPY,p=l.default.PERMISSION,g=l.default.OPEN_VIA_CLIENT,h=n.permission;return r&&("rw"!=h&&"r"!=h||o.push(s),m.isHasPermissionToShare(t,h,n)&&o.push(i),"rw"==h&&o.push(u,"Divider")),"rw"==h&&(o.push(c,d,f),a.folderPermEnabled&&(e&&t.has_been_shared_out||t.is_admin)&&o.push("Divider",p),o.push("Divider",g)),"r"!=h||t.encrypted||o.push(f),o},getFileOperationList:function(e,t,n){var r=[],o=l.default.SHARE,i=l.default.DOWNLOAD,s=l.default.DELETE,u=l.default.RENAME,c=l.default.MOVE,d=l.default.COPY,f=l.default.TAGS,p=l.default.UNLOCK,g=l.default.LOCK,h=l.default.COMMENT,Y=l.default.HISTORY,S=l.default.ACCESS_LOG,Z=l.default.OPEN_VIA_CLIENT,L=t.permission;return n&&("rw"!=L&&"r"!=L||r.push(i),m.isHasPermissionToShare(e,L,t)&&r.push(o),"rw"==L&&(!t.is_locked||t.is_locked&&t.locked_by_me)&&r.push(s),r.push("Divider")),"rw"==L&&((!t.is_locked||t.is_locked&&t.locked_by_me)&&r.push(u,c),r.push(d,f),a.isPro&&(t.is_locked?(t.locked_by_me||"OnlineOffice"==t.lock_owner)&&r.push(p):r.push(g)),r.push("Divider"),a.enableFileComment&&r.push(h),r.push(Y),a.isPro&&a.fileAuditEnabled&&r.push(S),r.push("Divider",Z)),"r"==L&&(e.encrypted||r.push(d),a.enableFileComment&&r.push(h),r.push(Y)),r},getDirentOperationList:function(e,t,n,r){return"dir"==n.type?m.getFolderOperationList(e,t,n,r):m.getFileOperationList(t,n,r)},sharePerms:function(e){var t;switch(e){case"rw":t=(0,a.gettext)("Read-Write");break;case"r":t=(0,a.gettext)("Read-Only");break;case"admin":t=(0,a.gettext)("Admin");break;case"cloud-edit":t=(0,a.gettext)("Online Read-Write");break;case"preview":t=(0,a.gettext)("Online Read-Only")}return t},sharePermsExplanation:function(e){var t;switch(e){case"rw":t=(0,a.gettext)("User can read, write, upload, download and sync files.");break;case"r":t=(0,a.gettext)("User can read, download and sync files.");break;case"admin":t=(0,a.gettext)("Besides Write permission, user can also share the library.");break;case"cloud-edit":t=(0,a.gettext)("User can view and edit file online via browser. Files can't be downloaded.");break;case"preview":t=(0,a.gettext)("User can only view files online via browser. Files can't be downloaded.")}return t},getShareLinkPermissionObject:function(e){switch(e){case"preview_download":return{value:e,text:(0,a.gettext)("Preview and download"),permissionDetails:{can_edit:!1,can_download:!0}};case"preview_only":return{value:e,text:(0,a.gettext)("Preview only"),permissionDetails:{can_edit:!1,can_download:!1}};case"edit_download":return{value:e,text:(0,a.gettext)("Edit on cloud and download"),permissionDetails:{can_edit:!0,can_download:!0}};case"cloud_edit":return{value:e,text:(0,a.gettext)("Edit on cloud only"),permissionDetails:{can_edit:!0,can_download:!1}}}return{text:""}},formatSize:function(e){var t=e.bytes,n=e.precision||0;return t>=0&&t<1e3?t+" B":t>=1e3&&t<1e6?(t/1e3).toFixed(n)+" KB":t>=1e6&&t<1e9?(t/1e6).toFixed(n)+" MB":t>=1e9&&t<1e12?(t/1e9).toFixed(n)+" GB":t>=1e12?(t/1e12).toFixed(n)+" TB":t+" B"},formatBitRate:function(e){var t;return"number"!==typeof e?"":(t=e/8,t>=1e9?(t/1e9).toFixed(2)+" GB/s":t>=1e6?(t/1e6).toFixed(2)+" MB/s":t>=1e3?(t/1e3).toFixed(2)+" kB/s":t.toFixed(2)+" B/s")},isMarkdownFile:function(e){var t=e.lastIndexOf(".");if(-1===t)return!1;var n=e.substring(t).toLowerCase();return".md"===n||".markdown"===n},isInternalMarkdownLink:function(e,t){return new RegExp(a.serviceURL+"/lib/"+t+".*.md$").test(e)},isInternalDirLink:function(e,t){return new RegExp(a.serviceURL+"/library/"+t+".*").test(e)},getPathFromInternalMarkdownLink:function(e,t){var n=new RegExp(a.serviceURL+"/lib/"+t+"/file(.*.md)"),r=n.exec(e);return decodeURIComponent(r[1])},getPathFromInternalDirLink:function(e,t){var n=new RegExp(a.serviceURL+"/library/"+t+"(/.*)"),r=n.exec(e),o=decodeURIComponent(r[1]);return o=o.slice(1),o=o.slice(o.indexOf("/"))},isWikiInternalMarkdownLink:function(e,t){return t=encodeURIComponent(t),new RegExp(a.serviceURL+"/published/"+t+".*.md$").test(e)},isWikiInternalDirLink:function(e,t){return t=encodeURIComponent(t),new RegExp(a.serviceURL+"/published/"+t+".*").test(e)},getPathFromWikiInternalMarkdownLink:function(e,t){t=encodeURIComponent(t);var n=new RegExp(a.serviceURL+"/published/"+t+"(.*.md)"),r=n.exec(e),o=r[1];try{o=decodeURIComponent(o)}catch(e){o=o.replace(/%/g,"%25"),o=decodeURIComponent(o)}return o},getPathFromWikiInternalDirLink:function(e,t){t=encodeURIComponent(t);var n=new RegExp(a.serviceURL+"/published/"+t+"(/.*)"),r=n.exec(e),o=r[1];try{o=decodeURIComponent(o)}catch(e){o=o.replace(/%/g,"%25"),o=decodeURIComponent(o)}return o},compareTwoWord:function(e,t){var n,r,a=e.charCodeAt(0),i=t.charCodeAt(0);return 19968<a&&a<40869&&19968<i&&i<40869?(n=o.strChineseFirstPY.charAt(a-19968).toLowerCase(),r=o.strChineseFirstPY.charAt(i-19968).toLowerCase(),n>=r?1:-1):19968<a&&a<40869&&!(19968<i&&i<40869)?1:!(19968<a&&a<40869)&&19968<i&&i<40869?-1:(n=e.toLowerCase(),r=t.toLowerCase(),this.compareStrWithNumbersIn(n,r))},compareStrWithNumbersIn:function(e,t){var n,r,a,o=/\d+|\D+/g,i=/\d/,l=e.match(o),s=t.match(o),u=Math.min(l.length,s.length);if(l&&s&&(n=i.test(l[0]))==i.test(s[0]))for(var c=0;c<u;c++){if(r=l[c],a=s[c],n&&(r=parseInt(r,10),a=parseInt(a,10)),r!=a)return r<a?-1:1;n=!n}return(e>=t)-(e<=t)},sortRepos:function(e,t,n){var r=this,a=void 0;switch(t+"-"+n){case"name-asc":a=function(e,t){return e.repo_name?t.repo_name?r.compareTwoWord(e.repo_name,t.repo_name):-1:1};break;case"name-desc":a=function(e,t){return e.repo_name?t.repo_name?-r.compareTwoWord(e.repo_name,t.repo_name):1:-1};break;case"time-asc":a=function(e,t){return e.last_modified<t.last_modified?-1:1};break;case"time-desc":a=function(e,t){return e.last_modified<t.last_modified?1:-1};break;case"size-asc":a=function(e,t){if(e.size===t.size){return r.compareTwoWord(e.repo_name,t.repo_name)}return e.size_original<t.size_original?-1:1};break;case"size-desc":a=function(e,t){if(e.size===t.size){return-r.compareTwoWord(e.repo_name,t.repo_name)}return e.size_original<t.size_original?1:-1}}return e.sort(a),e},sortDirents:function(e,t,n){var r=this,a=void 0;switch(t+"-"+n){case"name-asc":a=function(e,t){return r.compareTwoWord(e.name,t.name)};break;case"name-desc":a=function(e,t){return-r.compareTwoWord(e.name,t.name)};break;case"time-asc":a=function(e,t){return e.mtime<t.mtime?-1:1};break;case"time-desc":a=function(e,t){return e.mtime<t.mtime?1:-1};break;case"size-asc":a=function(e,t){return"dir"==e.type&&"dir"==t.type?0:e.size_original<t.size_original?-1:1};break;case"size-desc":a=function(e,t){return"dir"==e.type&&"dir"==t.type?0:e.size_original<t.size_original?1:-1}}return e.sort(function(e,t){return"dir"==e.type&&"file"==t.type?-1:"file"==e.type&&"dir"==t.type?1:a(e,t)}),e},sortDirentsInSharedDir:function(e,t,n){var r=this,a=void 0;switch(t+"-"+n){case"name-asc":a=function(e,t){return e.is_dir?r.compareTwoWord(e.folder_name,t.folder_name):r.compareTwoWord(e.file_name,t.file_name)};break;case"name-desc":a=function(e,t){return-(e.is_dir?r.compareTwoWord(e.folder_name,t.folder_name):r.compareTwoWord(e.file_name,t.file_name))};break;case"time-asc":a=function(e,t){return e.last_modified<t.last_modified?-1:1};break;case"time-desc":a=function(e,t){return e.last_modified<t.last_modified?1:-1};break;case"size-asc":a=function(e,t){return e.is_dir?0:e.size<t.size?-1:1};break;case"size-desc":a=function(e,t){return e.is_dir?0:e.size<t.size?1:-1}}return e.sort(function(e,t){return e.is_dir&&!t.is_dir?-1:!e.is_dir&&t.is_dir?1:a(e,t)}),e},sortTraffic:function(e,t,n){var r=void 0;switch(n){case"asc":r=function(e,n){return e[t]<n[t]?-1:1};break;case"desc":r=function(e,n){return e[t]<n[t]?1:-1}}return e.sort(r),e},getErrorMsg:function(e,t){var n="";return e.response?403==e.response.status?(t&&d.default.danger(u.default.createElement(p.default,null),{id:"permission_denied",duration:3600}),n=(0,a.gettext)("Permission denied")):n=e.response.data&&e.response.data.error_msg?e.response.data.error_msg:(0,a.gettext)("Error"):n=(0,a.gettext)("Please check the network."),n},changeMarkdownNodes:function(e,t){return e.map(function(e){t(e),e.nodes&&e.nodes.length>0&&m.changeMarkdownNodes(e.nodes,t)}),e},chooseLanguage:function(e){var t=void 0;switch(e){case"py":t="python";break;case"js":t="javascript";break;case"c":t="text/x-csrc";break;case"cpp":t="text/x-c++src";break;case"java":t="text/x-java";break;case"cs":t="text/x-csharp";break;case"mdf":t="text/x-sql";break;case"html":t="htmlmixed";break;default:t=e}return t},DARK_COLOR_MAP:{red:"#D11507",orange:"#FF8C00",yellow:"#EDEF00",green:"#006400",cyan:"#00E0E1",blue:"#2510A3",indigo:"#350C56",purple:"#551054",pink:"#E3A5B0",azure:"#C4D0D0",lime:"#00E100",teal:"#006A6B",gray:"#545454","#FFA8A8":"#E49090","#FFA94D":"#E39136","#FFD43B":"#E0B815","#A0EC50":"#83CF32","#A9E34B":"#8DC72E","#63E6BE":"#43CAA4","#4FD2C9":"#2DB9B0","#72C3FC":"#57ABE3","#91A7FF":"#7A91E7","#E599F7":"#CC82DE","#B197FC":"#9B82E5","#F783AC":"#DF6D97","#CED4DA":"#A8ADB2"},getDarkColor:function(e){return this.DARK_COLOR_MAP[e]},getCopySuccessfulMessage:function(e){var t=void 0,n=e.length;return 1===n?t=(0,a.gettext)("Successfully copied %(name)s."):2===n?t=(0,a.gettext)("Successfully copied %(name)s and 1 other item."):(t=(0,a.gettext)("Successfully copied %(name)s and %(amount)s other items."),t=t.replace("%(amount)s",n-1)),t=t.replace("%(name)s",e[0])},getMoveSuccessMessage:function(e){var t=void 0,n=e.length;return 1===n?t=(0,a.gettext)("Successfully moved %(name)s."):2===n?t=(0,a.gettext)("Successfully moved %(name)s and 1 other item."):(t=(0,a.gettext)("Successfully moved %(name)s and %(amount)s other items."),t=t.replace("%(amount)s",n-1)),t=t.replace("%(name)s",e[0])},getCopyFailedMessage:function(e){var t=void 0,n=e.length;return n>1?(t=(0,a.gettext)("Failed to copy %(name)s and %(amount)s other item(s)."),t=t.replace("%(amount)s",n-1)):t=(0,a.gettext)("Failed to copy %(name)s."),t=t.replace("%(name)s",e[0])},getMoveFailedMessage:function(e){var t=void 0,n=e.length;return n>1?(t=(0,a.gettext)("Failed to move %(name)s and %(amount)s other item(s)."),t=t.replace("%(amount)s",n-1)):t=(0,a.gettext)("Failed to move %(name)s."),t=t.replace("%(name)s",e[0])},handleSearchedItemClick:function(e){if(!0===e.is_dir){var t=a.siteRoot+"library/"+e.repo_id+"/"+e.repo_name+e.path;window.open("about:blank").location.href=t}else{var n=a.siteRoot+"lib/"+e.repo_id+"/file"+m.encodePath(e.path);window.open("about:blank").location.href=n}},generatePassword:function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz0123456789",n="",r=0;r<e;r++)n+=t.charAt(Math.floor(Math.random()*t.length));return n},pathNormalize:function(e){for(var t=e.split("/"),n=[],r=0;r<t.length;r++)"."!==t[r]&&""!==t[r]&&(".."===t[r]?n.pop():n.push(t[r]));return n.join("/")},getEventData:function(e,t){return e.target.dataset?e.target.dataset[t]:e.target.getAttribute("data-"+t)},isHasPermissionToShare:function(e,t,n){var r=e.is_admin,o=e.is_virtual,i=e.encrypted,l=e.owner_email,s=l===a.username;if(i)return!1;if(n&&"file"===n.type){var u=!1;return!a.canGenerateShareLink||"rw"!=t&&"r"!=t||(u=!0),u}if(a.canGenerateShareLink&&("rw"==t||"r"==t))return!0;if(a.canGenerateUploadLink&&"rw"==t)return!0;return!(o||!s&&!r)&&!0},registerGlobalVariable:function(e,t,n){window[e]||(window[e]={}),window[e][t]=n},formatTime:function(e){var t=parseInt(e),n=0,r=0;t>60&&(n=parseInt(t/60),t=parseInt(t%60)),n>60&&(r=parseInt(n/60),n=parseInt(n%60));var a=("00"+parseInt(t)).slice(-2);return a=n>0?("00"+parseInt(n)).slice(-2)+":"+a:"00:"+a,a=r>0?("00"+parseInt(r)).slice(-2)+":"+a:"00:"+a},hasNextPage:function(e,t,n){return e*t<n}}},37:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(8),p=r(f),m=n(3),g=n(4),h=n(2),Y=n(5),S=r(Y),Z={isAdminPanel:d.default.bool},L=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getContainer=function(){return p.default.findDOMNode(n)},n.handleProps=function(){n.state.showInfo?n.addEvents():n.removeEvents()},n.addEvents=function(){["click","touchstart","keyup"].forEach(function(e){return document.addEventListener(e,n.handleDocumentClick,!0)})},n.removeEvents=function(){["click","touchstart","keyup"].forEach(function(e){return document.removeEventListener(e,n.handleDocumentClick,!0)})},n.handleDocumentClick=function(e){if(!e||3!==e.which&&("keyup"!==e.type||e.which===m.Utils.keyCodes.tab)){var t=n.getContainer();(!t.contains(e.target)||t===e.target||"keyup"===e.type&&e.which!==m.Utils.keyCodes.tab)&&n.setState({showInfo:!n.state.showInfo})}},n.onClickAccount=function(){n.isFirstMounted?(g.seafileAPI.getAccountInfo().then(function(e){n.setState({userName:e.data.name,contactEmail:e.data.email,usageRate:e.data.space_usage,quotaUsage:m.Utils.bytesToSize(e.data.usage),quotaTotal:m.Utils.bytesToSize(e.data.total),isStaff:e.data.is_staff,isInstAdmin:e.data.is_inst_admin,isOrgStaff:1===e.data.is_org_staff,showInfo:!n.state.showInfo})}).catch(function(e){var t=m.Utils.getErrorMsg(e);S.default.danger(t)}),n.isFirstMounted=!1):n.setState({showInfo:!n.state.showInfo})},n.renderMenu=function(){var e=void 0,t=n.state,r=t.isStaff,a=t.isOrgStaff,o=t.isInstAdmin;return n.props.isAdminPanel?r?e={url:h.siteRoot,text:(0,h.gettext)("Exit System Admin")}:a?e={url:h.siteRoot,text:(0,h.gettext)("Exit Organization Admin")}:o&&(e={url:h.siteRoot,text:(0,h.gettext)("Exit Institution Admin")}):r?e={url:h.siteRoot+"sys/info/",text:(0,h.gettext)("System Admin")}:a?e={url:h.siteRoot+"org/useradmin/",text:(0,h.gettext)("Organization Admin")}:o&&(e={url:h.siteRoot+"inst/useradmin/",text:(0,h.gettext)("Institution Admin")}),e&&u.default.createElement("a",{href:e.url,title:e.text,className:"item"},e.text)},n.renderAvatar=function(){return u.default.createElement("img",{src:h.appAvatarURL,width:"36",height:"36",className:"avatar",alt:(0,h.gettext)("Avatar")})},n.state={showInfo:!1,userName:"",contactEmail:"",quotaUsage:"",quotaTotal:"",isStaff:!1,isOrgStaff:!1,usageRate:""},n.isFirstMounted=!0,n}return i(t,e),l(t,[{key:"componentDidUpdate",value:function(e){this.handleProps()}},{key:"render",value:function(){return u.default.createElement("div",{id:"account"},u.default.createElement("a",{id:"my-info",onClick:this.onClickAccount,className:"account-toggle no-deco d-none d-md-block","aria-label":"View profile and more"},u.default.createElement("span",null,this.renderAvatar()),u.default.createElement("span",{className:"fas fa-caret-down vam"})),u.default.createElement("span",{className:"account-toggle sf2-icon-more mobile-icon d-md-none","aria-label":"View profile and more",onClick:this.onClickAccount}),u.default.createElement("div",{id:"user-info-popup",className:"account-popup sf-popover "+(this.state.showInfo?"":"hide")},u.default.createElement("div",{className:"outer-caret up-outer-caret"},u.default.createElement("div",{className:"inner-caret"})),u.default.createElement("div",{className:"sf-popover-con"},u.default.createElement("div",{className:"item o-hidden"},this.renderAvatar(),u.default.createElement("div",{className:"txt"},this.state.userName)),u.default.createElement("div",{id:"space-traffic"},u.default.createElement("div",{className:"item"},u.default.createElement("p",null,(0,h.gettext)("Used:")," ",this.state.quotaUsage," / ",this.state.quotaTotal),u.default.createElement("div",{id:"quota-bar"},u.default.createElement("span",{id:"quota-usage",className:"usage",style:{width:this.state.usageRate}})))),u.default.createElement("a",{href:h.siteRoot+"profile/",className:"item"},(0,h.gettext)("Settings")),this.renderMenu(),u.default.createElement("a",{href:h.siteRoot+"accounts/logout/",className:"item"},(0,h.gettext)("Log out")))))}}]),t}(s.Component);L.defaultProps={isAdminPanel:!1},L.propTypes=Z,t.default=L},4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.keeperAPI=t.seafileAPI=void 0;var r=n(49),a=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(70),i=n(28),l=n(2),s=new o.SeafileAPI,u=new i.KeeperAPI,c=a.default.load("sfcsrftoken");s.initForSeahubUsage({siteRoot:l.siteRoot,xcsrfHeaders:c}),u.initForSeahubUsage({siteRoot:l.siteRoot,xcsrfHeaders:c}),t.seafileAPI=s,t.keeperAPI=u},46:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(0),c=r(u),d=n(1),f=r(d),p=n(304),m=r(p),g=n(4),h=n(2),Y=n(3),S=n(5),Z=r(S),L={placeholder:f.default.string.isRequired,onSelectChange:f.default.func.isRequired,isMulti:f.default.bool.isRequired,className:f.default.string},b=function(e){return c.default.createElement("div",s({},e.innerProps,{style:{margin:"6px 10px",textAlign:"center",color:"hsl(0,0%,50%)"}}),(0,h.gettext)("User not found"))},C=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelectChange=function(e){n.options=[],n.props.onSelectChange(e)},n.loadOptions=function(e,t){var r=e.trim();r.length>0&&g.seafileAPI.searchUsers(r).then(function(e){n.options=[];for(var r=0;r<e.data.users.length;r++){var a=e.data.users[r],o={};o.value=a.name,o.email=a.email,o.label=c.default.createElement(c.default.Fragment,null,c.default.createElement("img",{src:a.avatar_url,className:"select-module select-module-icon avatar",alt:""}),c.default.createElement("span",{className:"select-module select-module-name"},a.name),c.default.createElement("div",{className:"select-module select-module-email"},a.email)),n.options.push(o)}t(n.options)}).catch(function(e){var t=Y.Utils.getErrorMsg(e);Z.default.danger(t)})},n.clearSelect=function(){n.refs.userSelect.select.onChange([],{action:"clear"})},n.options=[],n}return i(t,e),l(t,[{key:"render",value:function(){return c.default.createElement(m.default,{isClearable:!0,classNamePrefix:!0,components:{NoOptionsMessage:b},isMulti:this.props.isMulti,loadOptions:this.loadOptions,onChange:this.handleSelectChange,placeholder:this.props.placeholder,className:"user-select "+this.props.className,value:this.props.value,ref:"userSelect"})}}]),t}(c.default.Component);C.propTypes=L,t.default=C},5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),a=function(e){return e&&e.__esModule?e:{default:e}}(r),o=new a.default;t.default=o},513:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(3),g={repo:d.default.object.isRequired,toggle:d.default.func.isRequired,onDeleteRepo:d.default.func.isRequired},h=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.toggle=function(){r.props.toggle()},r.onDeleteRepo=function(){r.props.onDeleteRepo(r.props.repo)},i=n,o(r,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.repo,t='<span class="op-target">'+m.Utils.HTMLescape(e.repo_name||e.name)+"</span>",n=(0,p.gettext)("Are you sure you want to delete %s ?");return n=n.replace("%s",t),u.default.createElement(f.Modal,{isOpen:!0,toggle:this.toggle},u.default.createElement(f.ModalHeader,{toggle:this.toggle},(0,p.gettext)("Delete Library")),u.default.createElement(f.ModalBody,null,u.default.createElement("p",{dangerouslySetInnerHTML:{__html:n}})),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"secondary",onClick:this.toggle},(0,p.gettext)("Cancel")),u.default.createElement(f.Button,{color:"primary",onClick:this.onDeleteRepo},(0,p.gettext)("Delete"))))}}]),t}(s.Component);h.propTypes=g,t.default=h},514:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(null==e)return{};var n,r,a=l(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function l(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ValueContainer=t.SingleValue=t.Placeholder=t.MultiValue=t.Input=void 0;var s=r(n(809)),u=r(n(918)),c=n(919),d=r(n(821)),f=r(n(822)),p=r(n(823)),m=r(n(824)),g=r(n(825)),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,c.defaultComponents)({components:e}),n=t.Input,r=t.MultiValue,o=t.Placeholder,l=t.SingleValue,s=t.ValueContainer,u=i(t,["Input","MultiValue","Placeholder","SingleValue","ValueContainer"]);return a({Input:(0,d.default)(n),MultiValue:(0,f.default)(r),Placeholder:(0,p.default)(o),SingleValue:(0,m.default)(l),ValueContainer:(0,g.default)(s)},u)},Y=h(),S=Y.Input;t.Input=S;var Z=Y.MultiValue;t.MultiValue=Z;var L=Y.Placeholder;t.Placeholder=L;var b=Y.SingleValue;t.SingleValue=b;var C=Y.ValueContainer;t.ValueContainer=C;var w=(0,s.default)(h,u.default);t.default=w},570:function(e,t){},590:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(97),m=r(p),g=n(514),h=r(g),Y=n(4),S=n(2),Z=n(3),L=n(5),b=r(L),C=n(46),w=r(C),D={itemName:d.default.string.isRequired,toggleDialog:d.default.func.isRequired,submit:d.default.func.isRequired,canTransferToDept:d.default.bool},y=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelectChange=function(e){n.setState({selectedOption:e})},n.submit=function(){var e=n.state.selectedOption;n.props.submit(e)},n.onClick=function(){n.setState({transferToUser:!n.state.transferToUser})},n.state={selectedOption:null,errorMsg:[],transferToUser:!0},n.options=[],n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;S.isPro&&Y.seafileAPI.listDepartments().then(function(t){for(var n=0;n<t.data.length;n++){var r={};r.value=t.data[n].name,r.email=t.data[n].email,r.label=t.data[n].name,e.options.push(r)}}).catch(function(e){var t=Z.Utils.getErrorMsg(e);b.default.danger(t)})}},{key:"render",value:function(){var e=this.props.itemName,t='<span class="op-target" title='+e+">"+e+"</span>",n=(0,S.gettext)("Transfer Library {library_name}"),r=n.replace("{library_name}",t),a=!0;return void 0!=this.props.canTransferToDept&&(a=this.props.canTransferToDept),u.default.createElement(f.Modal,{isOpen:!0},u.default.createElement(f.ModalHeader,{toggle:this.props.toggleDialog},u.default.createElement("div",{dangerouslySetInnerHTML:{__html:r}})),u.default.createElement(f.ModalBody,null,this.state.transferToUser?u.default.createElement(w.default,{ref:"userSelect",isMulti:!1,className:"reviewer-select",placeholder:(0,S.gettext)("Select a user"),onSelectChange:this.handleSelectChange}):u.default.createElement(m.default,{isClearable:!0,isMulti:!1,maxMenuHeight:200,hideSelectedOptions:!0,components:(0,h.default)(),placeholder:(0,S.gettext)("Select a department"),options:this.options,onChange:this.handleSelectChange}),S.isPro&&a&&u.default.createElement("span",{className:"action-link",onClick:this.onClick},this.state.transferToUser?(0,S.gettext)("Transfer to department"):(0,S.gettext)("Transfer to user"))),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"secondary",onClick:this.props.toggleDialog},(0,S.gettext)("Cancel")),u.default.createElement(f.Button,{color:"primary",onClick:this.submit},(0,S.gettext)("Submit"))))}}]),t}(u.default.Component);y.propTypes=D,t.default=y},593:function(e,t){},71:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(2),p=n(97),m=r(p);n(155);var g={isTextMode:d.default.bool.isRequired,isEditIconShow:d.default.bool.isRequired,options:d.default.array.isRequired,currentOption:d.default.string.isRequired,translateOption:d.default.func.isRequired,translateExplanation:d.default.func,onOptionChanged:d.default.func.isRequired,toggleItemFreezed:d.default.func},h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOptions=function(){n.options=[];for(var e=n.props.options,t=0,r=e.length;t<r;t++){var a={};a.value=e[t],e[t].length?a.label=u.default.createElement("div",null,n.props.translateOption(e[t]),n.props.translateExplanation&&u.default.createElement("div",{className:"permission-editor-explanation"},n.props.translateExplanation(e[t]))):a.label=u.default.createElement("div",{style:{minHeight:"1em"}}),n.options.push(a)}n.setState({options:n.options})},n.onEditPermission=function(e){e.nativeEvent.stopImmediatePropagation(),n.setState({isEditing:!0}),n.props.toggleItemFreezed&&n.props.toggleItemFreezed(!0)},n.onOptionChanged=function(e){var t=e.value;t!==n.props.currentOption&&n.props.onOptionChanged(t),n.setState({isEditing:!1}),n.props.toggleItemFreezed&&n.props.toggleItemFreezed(!1)},n.onSelectHandler=function(e){e.nativeEvent.stopImmediatePropagation()},n.onHideSelect=function(){n.setState({isEditing:!1}),n.props.toggleItemFreezed&&n.props.toggleItemFreezed(!1)},n.state={isEditing:!1,options:[]},n.options=[],n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.onHideSelect),this.setOptions()}},{key:"componentWillReceiveProps",value:function(){this.setOptions()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.onHideSelect)}},{key:"render",value:function(){var e=this.props,t=e.currentOption,n=e.isTextMode;return u.default.createElement("div",{className:"permission-editor",onClick:this.onSelectHandler},(!n||this.state.isEditing)&&u.default.createElement(m.default,{options:this.state.options,className:"permission-editor-select",classNamePrefix:"permission-editor",placeholder:this.props.translateOption(t),onChange:this.onOptionChanged,captureMenuScroll:!1}),n&&!this.state.isEditing&&u.default.createElement("div",null,this.props.translateOption(t),this.props.isEditIconShow&&u.default.createElement("span",{title:(0,f.gettext)("Edit"),className:"fa fa-pencil-alt attr-action-icon",onClick:this.onEditPermission})))}}]),t}(u.default.Component);h.propTypes=g,t.default=h},821:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o=a(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function a(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),i=function(e){return function(t){var n=(t.in,t.onExited,t.appear,t.enter,t.exit,r(t,["in","onExited","appear","enter","exit"]));return o.default.createElement(e,n)}},l=i;t.default=l},822:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,a=o(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function o(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),l=n(289),s=function(e){return function(t){var n=t.in,o=t.onExited,s=a(t,["in","onExited"]);return i.default.createElement(l.Collapse,{in:n,onExited:o},i.default.createElement(e,r({cropWithEllipsis:n},s)))}},u=s;t.default=u},823:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(289),i=function(e){return function(t){return a.default.createElement(o.Fade,r({component:e,duration:t.isMulti?o.collapseDuration:1},t))}},l=i;t.default=l},824:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(289),i=function(e){return function(t){return a.default.createElement(o.Fade,r({component:e},t))}},l=i;t.default=l},825:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(504),i=function(e){return function(t){return a.default.createElement(o.TransitionGroup,r({component:e},t))}},l=i;t.default=l},834:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(2),p=n(71),m=r(p),g={isTextMode:d.default.bool.isRequired,isEditIconShow:d.default.bool.isRequired,roles:d.default.array.isRequired,currentRole:d.default.string.isRequired,onRoleChanged:d.default.func.isRequired,toggleItemFreezed:d.default.func},h=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.translateRole=function(e){return"Admin"===e?(0,f.gettext)("Admin"):"Member"===e?(0,f.gettext)("Member"):void 0},i=n,o(r,i)}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(m.default,{isTextMode:this.props.isTextMode,isEditIconShow:this.props.isEditIconShow,options:this.props.roles,currentOption:this.props.currentRole,onOptionChanged:this.props.onRoleChanged,translateOption:this.translateRole,toggleItemFreezed:this.props.toggleItemFreezed})}}]),t}(u.default.Component);h.propTypes=g,t.default=h},9:function(e,t,n){"use strict";function r(){return o.default.createElement("span",{className:"loading-icon loading-tip"})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=r},94:function(e,t){},98:function(e,t,n){"use strict";function r(e){var t=void 0,n=void 0,r=void 0,a=void 0,i=!1;try{t=(0,o.default)(),n=document.createRange(),r=document.getSelection(),a=document.createElement("a"),a.textContent=e,document.body.appendChild(a),n.selectNode(a),r.addRange(n);document.execCommand("copy");i=!0}catch(e){}finally{r&&("function"==typeof r.removeRange?r.removeRange(n):r.removeAllRanges()),a&&document.body.removeChild(a),t()}return i}Object.defineProperty(t,"__esModule",{value:!0});var a=n(233),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=r}},[2389]);